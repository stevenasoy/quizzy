{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _objectWithoutProperties from \"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _asyncToGenerator from \"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _excluded = [\"email\", \"password\"];\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport { createClient } from '@supabase/supabase-js';\nvar supabaseUrl = process.env.VUE_APP_SUPABASE_URL;\nvar supabaseAnonKey = process.env.VUE_APP_SUPABASE_ANON_KEY;\nif (!supabaseUrl || !supabaseAnonKey) {\n  throw new Error('Missing Supabase environment variables');\n}\nconsole.log('Initializing Supabase with URL:', supabaseUrl);\nexport var supabase = createClient(supabaseUrl, supabaseAnonKey);\n\n// Auth helper functions\nexport var auth = {\n  signUp: function signUp(_ref) {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var email, password, metadata, _yield$supabase$auth$, data, error;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            email = _ref.email, password = _ref.password, metadata = _objectWithoutProperties(_ref, _excluded);\n            console.log('Supabase signUp called with:', {\n              email: email,\n              metadata: metadata\n            });\n            _context.next = 4;\n            return supabase.auth.signUp({\n              email: email,\n              password: password,\n              options: {\n                data: metadata,\n                emailRedirectTo: \"\".concat(window.location.origin, \"/auth/callback\")\n              }\n            });\n          case 4:\n            _yield$supabase$auth$ = _context.sent;\n            data = _yield$supabase$auth$.data;\n            error = _yield$supabase$auth$.error;\n            console.log('Supabase signUp response:', {\n              data: data,\n              error: error\n            });\n            return _context.abrupt(\"return\", {\n              data: data,\n              error: error\n            });\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }))();\n  },\n  signIn: function signIn(_ref2) {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var email, password, _yield$supabase$auth$2, data, error;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            email = _ref2.email, password = _ref2.password;\n            _context2.next = 3;\n            return supabase.auth.signInWithPassword({\n              email: email,\n              password: password\n            });\n          case 3:\n            _yield$supabase$auth$2 = _context2.sent;\n            data = _yield$supabase$auth$2.data;\n            error = _yield$supabase$auth$2.error;\n            return _context2.abrupt(\"return\", {\n              data: data,\n              error: error\n            });\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }))();\n  },\n  signOut: function signOut() {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n      var _yield$supabase$auth$3, error;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return supabase.auth.signOut();\n          case 2:\n            _yield$supabase$auth$3 = _context3.sent;\n            error = _yield$supabase$auth$3.error;\n            return _context3.abrupt(\"return\", {\n              error: error\n            });\n          case 5:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3);\n    }))();\n  },\n  getSession: function getSession() {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n      var _yield$supabase$auth$4, session, error;\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return supabase.auth.getSession();\n          case 2:\n            _yield$supabase$auth$4 = _context4.sent;\n            session = _yield$supabase$auth$4.data.session;\n            error = _yield$supabase$auth$4.error;\n            return _context4.abrupt(\"return\", {\n              session: session,\n              error: error\n            });\n          case 6:\n          case \"end\":\n            return _context4.stop();\n        }\n      }, _callee4);\n    }))();\n  },\n  onAuthStateChange: function onAuthStateChange(callback) {\n    return supabase.auth.onAuthStateChange(callback);\n  }\n};\n\n// Quiz history database operations\nexport var quizHistory = {\n  saveQuiz: function saveQuiz(quizData) {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n      var _yield$supabase$from$, data, error;\n      return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n        while (1) switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return supabase.from('quiz_history').insert([quizData]).select();\n          case 2:\n            _yield$supabase$from$ = _context5.sent;\n            data = _yield$supabase$from$.data;\n            error = _yield$supabase$from$.error;\n            return _context5.abrupt(\"return\", {\n              data: data,\n              error: error\n            });\n          case 6:\n          case \"end\":\n            return _context5.stop();\n        }\n      }, _callee5);\n    }))();\n  },\n  getQuizzes: function getQuizzes() {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n      var _yield$supabase$from$2, data, error;\n      return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n        while (1) switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.next = 2;\n            return supabase.from('quiz_history').select('*').order('created_at', {\n              ascending: false\n            });\n          case 2:\n            _yield$supabase$from$2 = _context6.sent;\n            data = _yield$supabase$from$2.data;\n            error = _yield$supabase$from$2.error;\n            return _context6.abrupt(\"return\", {\n              data: data,\n              error: error\n            });\n          case 6:\n          case \"end\":\n            return _context6.stop();\n        }\n      }, _callee6);\n    }))();\n  },\n  migrateTemporaryHistory: function migrateTemporaryHistory(quizzes) {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {\n      var _yield$supabase$from$3, data, error;\n      return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n        while (1) switch (_context7.prev = _context7.next) {\n          case 0:\n            _context7.next = 2;\n            return supabase.from('quiz_history').insert(quizzes).select();\n          case 2:\n            _yield$supabase$from$3 = _context7.sent;\n            data = _yield$supabase$from$3.data;\n            error = _yield$supabase$from$3.error;\n            return _context7.abrupt(\"return\", {\n              data: data,\n              error: error\n            });\n          case 6:\n          case \"end\":\n            return _context7.stop();\n        }\n      }, _callee7);\n    }))();\n  }\n};","map":{"version":3,"names":["createClient","supabaseUrl","process","env","VUE_APP_SUPABASE_URL","supabaseAnonKey","VUE_APP_SUPABASE_ANON_KEY","Error","console","log","supabase","auth","signUp","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","email","password","metadata","_yield$supabase$auth$","data","error","wrap","_callee$","_context","prev","next","_objectWithoutProperties","_excluded","options","emailRedirectTo","concat","window","location","origin","sent","abrupt","stop","signIn","_ref2","_callee2","_yield$supabase$auth$2","_callee2$","_context2","signInWithPassword","signOut","_callee3","_yield$supabase$auth$3","_callee3$","_context3","getSession","_callee4","_yield$supabase$auth$4","session","_callee4$","_context4","onAuthStateChange","callback","quizHistory","saveQuiz","quizData","_callee5","_yield$supabase$from$","_callee5$","_context5","from","insert","select","getQuizzes","_callee6","_yield$supabase$from$2","_callee6$","_context6","order","ascending","migrateTemporaryHistory","quizzes","_callee7","_yield$supabase$from$3","_callee7$","_context7"],"sources":["C:/Users/StevenJakeASOY/Documents/cursor-projects/src/lib/supabase.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabaseUrl = process.env.VUE_APP_SUPABASE_URL;\r\nconst supabaseAnonKey = process.env.VUE_APP_SUPABASE_ANON_KEY;\r\n\r\nif (!supabaseUrl || !supabaseAnonKey) {\r\n  throw new Error('Missing Supabase environment variables');\r\n}\r\n\r\nconsole.log('Initializing Supabase with URL:', supabaseUrl);\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n\r\n// Auth helper functions\r\nexport const auth = {\r\n  async signUp({ email, password, ...metadata }) {\r\n    console.log('Supabase signUp called with:', { email, metadata });\r\n    const { data, error } = await supabase.auth.signUp({\r\n      email,\r\n      password,\r\n      options: {\r\n        data: metadata,\r\n        emailRedirectTo: `${window.location.origin}/auth/callback`\r\n      }\r\n    });\r\n    console.log('Supabase signUp response:', { data, error });\r\n    return { data, error };\r\n  },\r\n\r\n  async signIn({ email, password }) {\r\n    const { data, error } = await supabase.auth.signInWithPassword({\r\n      email,\r\n      password\r\n    });\r\n    return { data, error };\r\n  },\r\n\r\n  async signOut() {\r\n    const { error } = await supabase.auth.signOut();\r\n    return { error };\r\n  },\r\n\r\n  async getSession() {\r\n    const { data: { session }, error } = await supabase.auth.getSession();\r\n    return { session, error };\r\n  },\r\n\r\n  onAuthStateChange(callback) {\r\n    return supabase.auth.onAuthStateChange(callback);\r\n  }\r\n};\r\n\r\n// Quiz history database operations\r\nexport const quizHistory = {\r\n  async saveQuiz(quizData) {\r\n    const { data, error } = await supabase\r\n      .from('quiz_history')\r\n      .insert([quizData])\r\n      .select();\r\n    return { data, error };\r\n  },\r\n\r\n  async getQuizzes() {\r\n    const { data, error } = await supabase\r\n      .from('quiz_history')\r\n      .select('*')\r\n      .order('created_at', { ascending: false });\r\n    return { data, error };\r\n  },\r\n\r\n  async migrateTemporaryHistory(quizzes) {\r\n    const { data, error } = await supabase\r\n      .from('quiz_history')\r\n      .insert(quizzes)\r\n      .select();\r\n    return { data, error };\r\n  }\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}