{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, createStaticVNode as _createStaticVNode } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"calendar-container\"\n};\nvar _hoisted_2 = {\n  \"class\": \"contribution-graph\"\n};\nvar _hoisted_3 = {\n  \"class\": \"month-labels\"\n};\nvar _hoisted_4 = {\n  \"class\": \"graph-body\"\n};\nvar _hoisted_5 = {\n  \"class\": \"weekday-labels\"\n};\nvar _hoisted_6 = {\n  \"class\": \"weeks-container\"\n};\nvar _hoisted_7 = [\"title\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.monthPositions, function (position) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: position.month,\n      \"class\": \"month-label\",\n      style: _normalizeStyle({\n        left: \"\".concat(position.position * 14, \"px\")\n      })\n    }, _toDisplayString(position.month), 5 /* TEXT, STYLE */);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList($setup.weekdays, function (day) {\n    return _createElementVNode(\"span\", {\n      key: day,\n      \"class\": \"weekday\"\n    }, _toDisplayString(day), 1 /* TEXT */);\n  }), 64 /* STABLE_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.weeksData, function (week, weekIndex) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: weekIndex,\n      \"class\": \"week\",\n      style: _normalizeStyle({\n        left: \"\".concat(weekIndex * 14, \"px\")\n      })\n    }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(week, function (day, dayIndex) {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: dayIndex,\n        \"class\": _normalizeClass([\"day-cell\", $setup.getDayClass(day)]),\n        title: $setup.getDayTooltip(day)\n      }, null, 10 /* CLASS, PROPS */, _hoisted_7);\n    }), 128 /* KEYED_FRAGMENT */))], 4 /* STYLE */);\n  }), 128 /* KEYED_FRAGMENT */))])]), _cache[0] || (_cache[0] = _createStaticVNode(\"<div class=\\\"legend\\\" data-v-57e95f4e><span data-v-57e95f4e>Less</span><div class=\\\"legend-item empty\\\" data-v-57e95f4e></div><div class=\\\"legend-item activity-low\\\" data-v-57e95f4e></div><div class=\\\"legend-item activity-medium\\\" data-v-57e95f4e></div><div class=\\\"legend-item activity-high\\\" data-v-57e95f4e></div><span data-v-57e95f4e>More</span></div>\", 1))])]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_Fragment","_renderList","$setup","monthPositions","position","key","month","style","_normalizeStyle","left","concat","_hoisted_4","_hoisted_5","weekdays","day","_hoisted_6","weeksData","week","weekIndex","dayIndex","_normalizeClass","getDayClass","title","getDayTooltip"],"sources":["C:\\Users\\StevenJakeASOY\\Documents\\cursor-projects\\src\\components\\CalendarHeatmap.vue"],"sourcesContent":["<template>\r\n  <div class=\"calendar-container\">\r\n    <div class=\"contribution-graph\">\r\n      <div class=\"month-labels\">\r\n        <div v-for=\"position in monthPositions\" \r\n          :key=\"position.month\" \r\n          class=\"month-label\"\r\n          :style=\"{ left: `${position.position * 14}px` }\">\r\n          {{ position.month }}\r\n        </div>\r\n      </div>\r\n      <div class=\"graph-body\">\r\n        <div class=\"weekday-labels\">\r\n          <span v-for=\"day in weekdays\" :key=\"day\" class=\"weekday\">{{ day }}</span>\r\n        </div>\r\n        <div class=\"weeks-container\">\r\n          <div v-for=\"(week, weekIndex) in weeksData\" \r\n            :key=\"weekIndex\" \r\n            class=\"week\"\r\n            :style=\"{ left: `${weekIndex * 14}px` }\">\r\n            <div v-for=\"(day, dayIndex) in week\" \r\n              :key=\"dayIndex\"\r\n              class=\"day-cell\"\r\n              :class=\"getDayClass(day)\"\r\n              :title=\"getDayTooltip(day)\"\r\n            >\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"legend\">\r\n        <span>Less</span>\r\n        <div class=\"legend-item empty\"></div>\r\n        <div class=\"legend-item activity-low\"></div>\r\n        <div class=\"legend-item activity-medium\"></div>\r\n        <div class=\"legend-item activity-high\"></div>\r\n        <span>More</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed } from 'vue';\r\n\r\nconst props = defineProps({\r\n  activities: {\r\n    type: Array,\r\n    required: true,\r\n    default: () => []\r\n  }\r\n});\r\n\r\nconst weekdays = ['Mon', 'Wed', 'Fri'];\r\nconst monthLabels = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n\r\nconst weeksData = computed(() => {\r\n  const weeks = [];\r\n  const currentYear = new Date().getFullYear();\r\n  const startDate = new Date(currentYear, 0, 1); // January 1st\r\n  const endDate = new Date(currentYear, 11, 31); // December 31st\r\n  \r\n  // Adjust start date to the first Monday\r\n  const tempStartDate = new Date(startDate);\r\n  const dayOfWeek = tempStartDate.getDay();\r\n  const diff = dayOfWeek === 0 ? -6 : 1 - dayOfWeek; // If Sunday, go back 6 days, else go to Monday\r\n  tempStartDate.setDate(tempStartDate.getDate() + diff);\r\n  \r\n  let currentDate = new Date(tempStartDate);\r\n  \r\n  // Calculate total weeks needed\r\n  const totalDays = Math.ceil((endDate - tempStartDate) / (1000 * 60 * 60 * 24));\r\n  const totalWeeks = Math.ceil(totalDays / 7);\r\n  \r\n  for (let i = 0; i < totalWeeks; i++) {\r\n    const week = [];\r\n    for (let j = 0; j < 7; j++) {\r\n      const date = new Date(currentDate);\r\n      const dateStr = date.toISOString().split('T')[0];\r\n      const activity = props.activities.find(a => a.date === dateStr);\r\n      \r\n      week.push({\r\n        date,\r\n        count: activity ? activity.count : 0,\r\n        isCurrentYear: date.getFullYear() === currentYear,\r\n        monthStart: date.getDate() === 1\r\n      });\r\n      \r\n      currentDate.setDate(currentDate.getDate() + 1);\r\n    }\r\n    weeks.push(week);\r\n  }\r\n  \r\n  return weeks;\r\n});\r\n\r\nconst monthPositions = computed(() => {\r\n  const positions = [];\r\n  const currentYear = new Date().getFullYear();\r\n  \r\n  monthLabels.forEach((_, index) => {\r\n    const firstDayOfMonth = new Date(currentYear, index, 1);\r\n    const startOfYear = new Date(currentYear, 0, 1);\r\n    startOfYear.setDate(startOfYear.getDate() + (1 - startOfYear.getDay() + 7) % 7); // Adjust to first Monday\r\n    \r\n    const daysDiff = Math.floor((firstDayOfMonth - startOfYear) / (1000 * 60 * 60 * 24));\r\n    const weekIndex = Math.floor(daysDiff / 7);\r\n    \r\n    positions.push({\r\n      month: monthLabels[index],\r\n      position: weekIndex\r\n    });\r\n  });\r\n  \r\n  return positions;\r\n});\r\n\r\nconst getDayClass = (day) => {\r\n  if (!day.date) return '';\r\n  \r\n  const classes = ['has-activity'];\r\n  \r\n  if (!day.isCurrentYear) {\r\n    classes.push('outside-year');\r\n    return classes;\r\n  }\r\n  \r\n  if (day.monthStart) {\r\n    classes.push('month-start');\r\n  }\r\n  \r\n  if (day.count > 0) {\r\n    if (day.count <= 2) classes.push('activity-low');\r\n    else if (day.count <= 5) classes.push('activity-medium');\r\n    else classes.push('activity-high');\r\n  }\r\n  \r\n  const today = new Date();\r\n  if (day.date.toDateString() === today.toDateString()) {\r\n    classes.push('today');\r\n  }\r\n  \r\n  return classes;\r\n};\r\n\r\nconst getDayTooltip = (day) => {\r\n  if (!day.date) return '';\r\n  const dateStr = day.date.toLocaleDateString(undefined, {\r\n    year: 'numeric',\r\n    month: 'short',\r\n    day: 'numeric'\r\n  });\r\n  if (!day.isCurrentYear) return dateStr;\r\n  return day.count > 0\r\n    ? `${dateStr}: ${day.count} activities`\r\n    : dateStr;\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.calendar-container {\r\n  padding: 1rem;\r\n  max-width: 1000px;\r\n  margin: 0 auto;\r\n  overflow-x: auto;\r\n}\r\n\r\n.contribution-graph {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n  min-width: 780px; /* Accommodates full year of weeks */\r\n}\r\n\r\n.month-labels {\r\n  position: relative;\r\n  height: 20px;\r\n  margin-bottom: 8px;\r\n  margin-left: 30px;\r\n}\r\n\r\n.month-label {\r\n  position: absolute;\r\n  font-size: 0.75rem;\r\n  color: #586069;\r\n  transform: translateX(-50%);\r\n  white-space: nowrap;\r\n}\r\n\r\n.graph-body {\r\n  display: flex;\r\n  margin-left: 30px;\r\n}\r\n\r\n.weekday-labels {\r\n  position: absolute;\r\n  left: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  padding-right: 8px;\r\n  width: 30px;\r\n}\r\n\r\n.weekday {\r\n  font-size: 0.75rem;\r\n  color: #586069;\r\n  height: 10px;\r\n  line-height: 10px;\r\n  text-align: right;\r\n}\r\n\r\n.weeks-container {\r\n  position: relative;\r\n  margin-left: 30px;\r\n  height: 118px; /* 7 days * 14px + 6 * 2px gap */\r\n}\r\n\r\n.week {\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2px;\r\n}\r\n\r\n.day-cell {\r\n  width: 12px;\r\n  height: 12px;\r\n  background: #ebedf0;\r\n  border-radius: 2px;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.day-cell:hover {\r\n  transform: scale(1.2);\r\n  z-index: 1;\r\n}\r\n\r\n.day-cell.month-start {\r\n  border-left: 1px solid rgba(27, 31, 35, 0.06);\r\n}\r\n\r\n.day-cell.has-activity {\r\n  background-color: #ebedf0;\r\n}\r\n\r\n.day-cell.activity-low {\r\n  background-color: #9be9a8;\r\n}\r\n\r\n.day-cell.activity-medium {\r\n  background-color: #40c463;\r\n}\r\n\r\n.day-cell.activity-high {\r\n  background-color: #216e39;\r\n}\r\n\r\n.day-cell.today {\r\n  border: 1px solid #40c463;\r\n}\r\n\r\n.day-cell.outside-year {\r\n  background-color: #f6f8fa;\r\n  opacity: 0.5;\r\n  cursor: default;\r\n}\r\n\r\n.day-cell.outside-year:hover {\r\n  transform: none;\r\n}\r\n\r\n.legend {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  margin-top: 16px;\r\n  justify-content: center;\r\n  font-size: 0.75rem;\r\n  color: #586069;\r\n}\r\n\r\n.legend-item {\r\n  width: 12px;\r\n  height: 12px;\r\n  border-radius: 2px;\r\n}\r\n\r\n.legend-item.empty {\r\n  background-color: #ebedf0;\r\n}\r\n\r\n.legend-item.activity-low {\r\n  background-color: #9be9a8;\r\n}\r\n\r\n.legend-item.activity-medium {\r\n  background-color: #40c463;\r\n}\r\n\r\n.legend-item.activity-high {\r\n  background-color: #216e39;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .calendar-container {\r\n    padding: 0.5rem;\r\n  }\r\n}\r\n</style> "],"mappings":";;EACO,SAAM;AAAoB;;EACxB,SAAM;AAAoB;;EACxB,SAAM;AAAc;;EAQpB,SAAM;AAAY;;EAChB,SAAM;AAAgB;;EAGtB,SAAM;AAAiB;;;uBAdlCA,mBAAA,CAsCM,OAtCNC,UAsCM,GArCJC,mBAAA,CAoCM,OApCNC,UAoCM,GAnCJD,mBAAA,CAOM,OAPNE,UAOM,I,kBANJJ,mBAAA,CAKMK,SAAA,QAAAC,WAAA,CALkBC,MAAA,CAAAC,cAAc,YAA1BC,QAAQ;yBAApBT,mBAAA,CAKM;MAJHU,GAAG,EAAED,QAAQ,CAACE,KAAK;MACpB,SAAM,aAAa;MAClBC,KAAK,EAAAC,eAAA;QAAAC,IAAA,KAAAC,MAAA,CAAaN,QAAQ,CAACA,QAAQ;MAAA;wBACjCA,QAAQ,CAACE,KAAK;oCAGrBT,mBAAA,CAkBM,OAlBNc,UAkBM,GAjBJd,mBAAA,CAEM,OAFNe,UAEM,I,cADJjB,mBAAA,CAAyEK,SAAA,QAAAC,WAAA,CAArDC,MAAA,CAAAW,QAAQ,YAAfC,GAAG;WAAhBjB,mBAAA,CAAyE;MAA1CQ,GAAG,EAAES,GAAG;MAAE,SAAM;wBAAaA,GAAG;oCAEjEjB,mBAAA,CAaM,OAbNkB,UAaM,I,kBAZJpB,mBAAA,CAWMK,SAAA,QAAAC,WAAA,CAX2BC,MAAA,CAAAc,SAAS,YAA7BC,IAAI,EAAEC,SAAS;yBAA5BvB,mBAAA,CAWM;MAVHU,GAAG,EAAEa,SAAS;MACf,SAAM,MAAM;MACXX,KAAK,EAAAC,eAAA;QAAAC,IAAA,KAAAC,MAAA,CAAaQ,SAAS;MAAA;2BAC5BvB,mBAAA,CAMMK,SAAA,QAAAC,WAAA,CANyBgB,IAAI,YAAtBH,GAAG,EAAEK,QAAQ;2BAA1BxB,mBAAA,CAMM;QALHU,GAAG,EAAEc,QAAQ;QACd,SAAKC,eAAA,EAAC,UAAU,EACRlB,MAAA,CAAAmB,WAAW,CAACP,GAAG;QACtBQ,KAAK,EAAEpB,MAAA,CAAAqB,aAAa,CAACT,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}