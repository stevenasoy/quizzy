{"ast":null,"code":"import { ref, computed } from 'vue';\nimport axios from 'axios';\nimport FlashcardQuiz from './components/FlashcardQuiz.vue';\nimport TrueFalseQuestion from './components/TrueFalseQuestion.vue';\nimport FileErrorDisplay from './components/FileErrorDisplay.vue';\nexport default {\n  __name: 'App',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const selectedFiles = ref([]);\n    const questionCount = ref('');\n    const fileInput = ref(null);\n    const generatedQuestions = ref([]);\n    const isLoading = ref(false);\n    const error = ref('');\n    const showQuestions = ref(false);\n    const flashcardQuestions = ref([]);\n    const quiz = ref(null);\n    const userAnswers = ref([]);\n    const showAnswers = ref(false);\n    const unsupportedFiles = ref([]);\n    const extractionErrors = ref([]);\n    const selectedDifficulty = ref('medium');\n    const isFormValid = computed(() => {\n      return selectedFiles.value.length > 0 && questionCount.value > 0;\n    });\n    const hasFileErrors = computed(() => {\n      return extractionErrors.value.length > 0 || unsupportedFiles.value.length > 0;\n    });\n    const triggerFileInput = () => {\n      fileInput.value.click();\n    };\n    const handleFileSelect = event => {\n      const files = Array.from(event.target.files);\n      addFiles(files);\n    };\n    const handleDrop = event => {\n      const files = Array.from(event.dataTransfer.files);\n      addFiles(files);\n    };\n    const addFiles = files => {\n      const validTypes = ['application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'application/vnd.ms-powerpoint', 'application/vnd.openxmlformats-officedocument.presentationml.presentation', 'text/plain', 'application/pdf', 'image/png', 'image/jpeg', 'image/jpg', 'image/tiff', 'image/bmp'];\n      const validFiles = [];\n      const invalidFiles = [];\n      files.forEach(file => {\n        if (validTypes.includes(file.type)) {\n          validFiles.push(file);\n        } else {\n          invalidFiles.push(file);\n        }\n      });\n      selectedFiles.value = [...selectedFiles.value, ...validFiles];\n      unsupportedFiles.value = [...unsupportedFiles.value, ...invalidFiles];\n    };\n    const removeFile = index => {\n      selectedFiles.value.splice(index, 1);\n    };\n    const readFileContent = async file => {\n      return new Promise(resolve => {\n        if (file.type === \"application/pdf\" || file.type === \"application/vnd.openxmlformats-officedocument.presentationml.presentation\" || file.type === \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\" || file.type.startsWith('image/')) {\n          // PDF, PPTX, DOCX, or Image - send to backend for extraction\n          const formData = new FormData();\n          formData.append('file', file);\n\n          // Use the correct backend URL\n          const backendUrl = process.env.VUE_APP_BACKEND_URL || 'http://localhost:5001';\n          fetch(`${backendUrl}/extract-file`, {\n            method: 'POST',\n            body: formData\n          }).then(res => res.json()).then(data => {\n            if (data.text) {\n              resolve(data.text);\n            } else {\n              extractionErrors.value.push({\n                fileName: file.name,\n                message: data.error || 'Failed to extract text from file'\n              });\n              resolve(\"[Could not extract file text]\");\n            }\n          }).catch(() => {\n            extractionErrors.value.push({\n              fileName: file.name,\n              message: 'Server error while extracting text'\n            });\n            resolve(\"[Could not extract file text]\");\n          });\n        } else if (file.type === \"text/plain\") {\n          // Plain text\n          const reader = new FileReader();\n          reader.onload = e => resolve(e.target.result);\n          reader.onerror = () => {\n            extractionErrors.value.push({\n              fileName: file.name,\n              message: 'Error reading text file'\n            });\n            resolve(\"[Could not read file]\");\n          };\n          reader.readAsText(file);\n        } else {\n          resolve(`[${file.name} is not a supported file type.]`);\n        }\n      });\n    };\n    const handleSubmit = async () => {\n      if (!isFormValid.value) return;\n      isLoading.value = true;\n      error.value = '';\n      generatedQuestions.value = [];\n      flashcardQuestions.value = [];\n      try {\n        // Read all file contents\n        const fileContents = await Promise.all(selectedFiles.value.map(file => readFileContent(file)));\n\n        // Combine all file contents\n        const combinedContent = fileContents.join('\\n\\n');\n        console.log('Extracted file content:', combinedContent);\n\n        // Prepare the prompt for Gemini with difficulty level\n        const prompt = `Create a quiz with ${questionCount.value} ${selectedDifficulty.value} difficulty questions based on this text. Format each question exactly as follows:\n\nFor multiple choice questions:\n1. Start with \"Question: [question text]\"\n2. List options as:\n   A) [option text]\n   B) [option text]\n   C) [option text]\n   D) [option text]\n   (Mark correct answer with * after the option)\n3. Add \"Explanation: [explanation text]\"\n\nFor true/false questions:\n1. Start with \"True/False: [question text]\"\n2. List options as:\n   True*\n   False\n   (or vice versa, with * marking correct answer)\n3. Add \"Explanation: [explanation text]\"\n\nDifficulty Guidelines:\n- Easy: Focus on basic facts, definitions, and straightforward concepts\n- Medium: Include some analysis and application of concepts\n- Hard: Focus on complex analysis, synthesis, and evaluation of concepts\n\nText: ${combinedContent}`;\n        console.log('Sending request to Gemini API...');\n        console.log('API Key:', process.env.VUE_APP_GEMINI_API_KEY ? 'Present' : 'Missing');\n\n        // Call Gemini API\n        const response = await axios.post(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${process.env.VUE_APP_GEMINI_API_KEY}`, {\n          contents: [{\n            parts: [{\n              text: prompt\n            }]\n          }],\n          generationConfig: {\n            temperature: 0.7,\n            topK: 40,\n            topP: 0.95,\n            maxOutputTokens: 1024\n          }\n        }, {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        console.log('API Response:', response.data);\n\n        // Process the response for both quiz and flashcards\n        const quizText = response.data.candidates[0].content.parts[0].text;\n        console.log('Quiz text from API:', quizText);\n        const processedQuiz = processQuizResponse(quizText);\n        console.log('Processed quiz:', processedQuiz);\n\n        // Convert quiz questions to flashcard format\n        flashcardQuestions.value = processedQuiz.questions.map(q => ({\n          text: q.text,\n          options: q.type === 'multiple-choice' ? Object.entries(q.options).map(([letter, text]) => ({\n            letter,\n            text\n          })) : [{\n            letter: 'T',\n            text: 'True'\n          }, {\n            letter: 'F',\n            text: 'False'\n          }],\n          answer: q.type === 'multiple-choice' ? q.correctAnswer : q.correctAnswer === 'true' ? 'T' : 'F',\n          explanation: q.explanation\n        }));\n        console.log('Flashcard questions:', flashcardQuestions.value);\n        console.log('Number of flashcard questions:', flashcardQuestions.value.length);\n\n        // Show the flashcard quiz\n        showQuestions.value = true;\n        console.log('showQuestions set to:', showQuestions.value);\n        console.log('Current state:', {\n          showQuestions: showQuestions.value,\n          flashcardQuestionsLength: flashcardQuestions.value.length,\n          hasQuestions: flashcardQuestions.value.length > 0\n        });\n        console.log('Prompt sent to Gemini:', prompt);\n        console.log('API Response:', response.data);\n        console.log('Quiz text from API:', quizText);\n        console.log('Combined file content:', combinedContent);\n      } catch (err) {\n        console.error('Detailed Error:', err.response ? err.response.data : err);\n        error.value = `Error generating questions: ${err.response ? err.response.data.error?.message || 'Unknown error' : err.message}`;\n      } finally {\n        isLoading.value = false;\n      }\n    };\n    const resetToMainScreen = () => {\n      showQuestions.value = false;\n      flashcardQuestions.value = [];\n      generatedQuestions.value = [];\n      selectedFiles.value = [];\n      unsupportedFiles.value = [];\n      extractionErrors.value = [];\n      questionCount.value = '';\n      error.value = '';\n      isLoading.value = false;\n      if (fileInput.value) {\n        fileInput.value.value = '';\n      }\n    };\n    const checkAnswers = () => {\n      showAnswers.value = true;\n    };\n    const allQuestionsAnswered = computed(() => {\n      return userAnswers.value.length === quiz.value.questions.length;\n    });\n    const processQuizResponse = response => {\n      console.log('Processing quiz response:', response);\n      const questions = [];\n      const lines = response.split('\\n');\n      let currentQuestion = null;\n      for (let i = 0; i < lines.length; i++) {\n        const line = lines[i].trim();\n        if (!line) continue;\n        console.log('Processing line:', line);\n        if (line.startsWith('Question:')) {\n          if (currentQuestion) {\n            questions.push(currentQuestion);\n          }\n          currentQuestion = {\n            text: line.replace('Question:', '').trim(),\n            type: 'multiple-choice',\n            options: {},\n            correctAnswer: '',\n            explanation: ''\n          };\n          console.log('Created new multiple-choice question:', currentQuestion);\n        } else if (line.startsWith('True/False:')) {\n          if (currentQuestion) {\n            questions.push(currentQuestion);\n          }\n          currentQuestion = {\n            text: line.replace('True/False:', '').trim(),\n            type: 'true-false',\n            options: {\n              true: 'True',\n              false: 'False'\n            },\n            correctAnswer: '',\n            explanation: ''\n          };\n          console.log('Created new true/false question:', currentQuestion);\n        } else if (currentQuestion) {\n          if (line.match(/^[A-D]\\)/)) {\n            const option = line.substring(2).trim();\n            const letter = line[0];\n            currentQuestion.options[letter] = option;\n            if (option.includes('*')) {\n              currentQuestion.correctAnswer = letter;\n              currentQuestion.options[letter] = option.replace('*', '').trim();\n            }\n            console.log('Added option to question:', {\n              letter,\n              option\n            });\n          } else if (line === 'True*' || line === 'False*') {\n            currentQuestion.correctAnswer = line === 'True*' ? 'true' : 'false';\n            console.log('Set true/false answer:', currentQuestion.correctAnswer);\n          } else if (line.startsWith('Explanation:')) {\n            currentQuestion.explanation = line.replace('Explanation:', '').trim();\n            console.log('Added explanation:', currentQuestion.explanation);\n          }\n        }\n      }\n      if (currentQuestion) {\n        questions.push(currentQuestion);\n      }\n      console.log('Final processed questions:', questions);\n      return {\n        questions\n      };\n    };\n    const __returned__ = {\n      selectedFiles,\n      questionCount,\n      fileInput,\n      generatedQuestions,\n      isLoading,\n      error,\n      showQuestions,\n      flashcardQuestions,\n      quiz,\n      userAnswers,\n      showAnswers,\n      unsupportedFiles,\n      extractionErrors,\n      selectedDifficulty,\n      isFormValid,\n      hasFileErrors,\n      triggerFileInput,\n      handleFileSelect,\n      handleDrop,\n      addFiles,\n      removeFile,\n      readFileContent,\n      handleSubmit,\n      resetToMainScreen,\n      checkAnswers,\n      allQuestionsAnswered,\n      processQuizResponse,\n      ref,\n      computed,\n      get axios() {\n        return axios;\n      },\n      FlashcardQuiz,\n      TrueFalseQuestion,\n      FileErrorDisplay\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","axios","FlashcardQuiz","TrueFalseQuestion","FileErrorDisplay","selectedFiles","questionCount","fileInput","generatedQuestions","isLoading","error","showQuestions","flashcardQuestions","quiz","userAnswers","showAnswers","unsupportedFiles","extractionErrors","selectedDifficulty","isFormValid","value","length","hasFileErrors","triggerFileInput","click","handleFileSelect","event","files","Array","from","target","addFiles","handleDrop","dataTransfer","validTypes","validFiles","invalidFiles","forEach","file","includes","type","push","removeFile","index","splice","readFileContent","Promise","resolve","startsWith","formData","FormData","append","backendUrl","process","env","VUE_APP_BACKEND_URL","fetch","method","body","then","res","json","data","text","fileName","name","message","catch","reader","FileReader","onload","e","result","onerror","readAsText","handleSubmit","fileContents","all","map","combinedContent","join","console","log","prompt","VUE_APP_GEMINI_API_KEY","response","post","contents","parts","generationConfig","temperature","topK","topP","maxOutputTokens","headers","quizText","candidates","content","processedQuiz","processQuizResponse","questions","q","options","Object","entries","letter","answer","correctAnswer","explanation","flashcardQuestionsLength","hasQuestions","err","resetToMainScreen","checkAnswers","allQuestionsAnswered","lines","split","currentQuestion","i","line","trim","replace","true","false","match","option","substring"],"sources":["C:/Users/StevenJakeASOY/Documents/cursor-projects/src/App.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <div class=\"upload-container\">\r\n      <h1>QUIZZy</h1>\r\n      \r\n      <div v-if=\"!showQuestions\" class=\"file-upload-section\">\r\n        <h2>Upload Files</h2>\r\n        <div class=\"upload-area\" \r\n          @dragover.prevent \r\n          @drop.prevent=\"handleDrop\"\r\n          @click=\"triggerFileInput\"\r\n          role=\"button\"\r\n          tabindex=\"0\"\r\n          @keydown.enter=\"triggerFileInput\"\r\n        >\r\n          <input \r\n            type=\"file\" \r\n            @change=\"handleFileSelect\" \r\n            accept=\".pdf,.docx,.pptx,.txt,.png,.jpg,.jpeg,.tiff,.bmp\"\r\n            ref=\"fileInput\"\r\n            class=\"file-input\"\r\n          >\r\n          <div class=\"upload-prompt\">\r\n            <p>Drag and drop files here or click to select</p>\r\n            <p>Supported formats: PDF, DOCX, PPTX, TXT</p>\r\n          </div>\r\n        </div>\r\n        \r\n        <FileErrorDisplay\r\n          :extraction-errors=\"extractionErrors\"\r\n          :unsupported-files=\"unsupportedFiles\"\r\n        />\r\n\r\n        <div v-if=\"selectedFiles.length > 0\" class=\"selected-files\">\r\n          <h3>Selected Files:</h3>\r\n          <ul>\r\n            <li v-for=\"(file, index) in selectedFiles\" :key=\"index\" class=\"file-item\">\r\n              <span class=\"file-name\">{{ file.name }}</span>\r\n              <button @click=\"removeFile(index)\" class=\"remove-btn\" title=\"Remove file\">Ã—</button>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div class=\"questions-section\">\r\n          <h2>Number of Questions</h2>\r\n          <div class=\"question-input\">\r\n            <input\r\n              type=\"number\"\r\n              v-model=\"questionCount\"\r\n              min=\"1\"\r\n              max=\"20\"\r\n              placeholder=\"Enter number of questions\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"difficulty-section\">\r\n          <h2>Question Difficulty</h2>\r\n          <div class=\"difficulty-selector\">\r\n            <select v-model=\"selectedDifficulty\" class=\"difficulty-dropdown\">\r\n              <option value=\"easy\">Easy</option>\r\n              <option value=\"medium\">Medium</option>\r\n              <option value=\"hard\">Hard</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <button \r\n          class=\"submit-btn\" \r\n          :disabled=\"!isFormValid || isLoading\"\r\n          @click=\"handleSubmit\"\r\n        >\r\n          {{ isLoading ? 'Generating Questions...' : 'Submit' }}\r\n        </button>\r\n      </div>\r\n\r\n      <div v-else-if=\"!hasFileErrors && flashcardQuestions.length > 0\">\r\n        <FlashcardQuiz\r\n          :questions=\"flashcardQuestions\"\r\n          @go-back=\"resetToMainScreen\"\r\n        />\r\n      </div>\r\n\r\n      <div v-else-if=\"hasFileErrors\">\r\n        <FileErrorDisplay\r\n          :extraction-errors=\"extractionErrors\"\r\n          :unsupported-files=\"unsupportedFiles\"\r\n        />\r\n      </div>\r\n\r\n      <div v-if=\"error\" class=\"error-message\">\r\n        {{ error }}\r\n      </div>\r\n    </div>\r\n\r\n    <template v-if=\"quiz\">\r\n      <div class=\"quiz-container\">\r\n        <h2>Generated Quiz</h2>\r\n        <template v-for=\"(question, index) in quiz.questions\" :key=\"index\">\r\n          <div class=\"question\">\r\n            <h3>Question {{ index + 1 }}: {{ question.text }}</h3>\r\n            <div class=\"options\">\r\n              <template v-if=\"question.type === 'multiple-choice'\">\r\n                <div v-for=\"(option, letter) in question.options\" :key=\"letter\" class=\"option\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    :id=\"`q${index}-${letter}`\"\r\n                    :name=\"`question${index}`\"\r\n                    :value=\"letter\"\r\n                    v-model=\"userAnswers[index]\"\r\n                  />\r\n                  <label :for=\"`q${index}-${letter}`\">{{ letter }}) {{ option }}</label>\r\n                </div>\r\n              </template>\r\n              <template v-else-if=\"question.type === 'true-false'\">\r\n                <TrueFalseQuestion\r\n                  :index=\"index\"\r\n                  :correct-answer=\"question.correctAnswer\"\r\n                  :explanation=\"question.explanation\"\r\n                  :show-feedback=\"showAnswers && userAnswers[index]\"\r\n                  @update:answer=\"userAnswers[index] = $event\"\r\n                />\r\n              </template>\r\n            </div>\r\n            <div v-if=\"showAnswers && userAnswers[index]\" class=\"feedback\">\r\n              <p :class=\"{ 'correct': userAnswers[index] === question.correctAnswer, 'incorrect': userAnswers[index] !== question.correctAnswer }\">\r\n                {{ userAnswers[index] === question.correctAnswer ? 'Correct!' : 'Incorrect!' }}\r\n              </p>\r\n              <p class=\"explanation\">{{ question.explanation }}</p>\r\n            </div>\r\n          </div>\r\n        </template>\r\n        <button @click=\"checkAnswers\" :disabled=\"!allQuestionsAnswered\">Check Answers</button>\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed } from 'vue';\r\nimport axios from 'axios';\r\nimport FlashcardQuiz from './components/FlashcardQuiz.vue';\r\nimport TrueFalseQuestion from './components/TrueFalseQuestion.vue';\r\nimport FileErrorDisplay from './components/FileErrorDisplay.vue';\r\n\r\nconst selectedFiles = ref([]);\r\nconst questionCount = ref('');\r\nconst fileInput = ref(null);\r\nconst generatedQuestions = ref([]);\r\nconst isLoading = ref(false);\r\nconst error = ref('');\r\nconst showQuestions = ref(false);\r\nconst flashcardQuestions = ref([]);\r\nconst quiz = ref(null);\r\nconst userAnswers = ref([]);\r\nconst showAnswers = ref(false);\r\nconst unsupportedFiles = ref([]);\r\nconst extractionErrors = ref([]);\r\nconst selectedDifficulty = ref('medium');\r\n\r\nconst isFormValid = computed(() => {\r\n  return selectedFiles.value.length > 0 && questionCount.value > 0;\r\n});\r\n\r\nconst hasFileErrors = computed(() => {\r\n  return extractionErrors.value.length > 0 || unsupportedFiles.value.length > 0;\r\n});\r\n\r\nconst triggerFileInput = () => {\r\n  fileInput.value.click();\r\n};\r\n\r\nconst handleFileSelect = (event) => {\r\n  const files = Array.from(event.target.files);\r\n  addFiles(files);\r\n};\r\n\r\nconst handleDrop = (event) => {\r\n  const files = Array.from(event.dataTransfer.files);\r\n  addFiles(files);\r\n};\r\n\r\nconst addFiles = (files) => {\r\n  const validTypes = [\r\n    'application/msword',\r\n    'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n    'application/vnd.ms-powerpoint',\r\n    'application/vnd.openxmlformats-officedocument.presentationml.presentation',\r\n    'text/plain',\r\n    'application/pdf',\r\n    'image/png',\r\n    'image/jpeg',\r\n    'image/jpg',\r\n    'image/tiff',\r\n    'image/bmp'\r\n  ];\r\n  \r\n  const validFiles = [];\r\n  const invalidFiles = [];\r\n  \r\n  files.forEach(file => {\r\n    if (validTypes.includes(file.type)) {\r\n      validFiles.push(file);\r\n    } else {\r\n      invalidFiles.push(file);\r\n    }\r\n  });\r\n  \r\n  selectedFiles.value = [...selectedFiles.value, ...validFiles];\r\n  unsupportedFiles.value = [...unsupportedFiles.value, ...invalidFiles];\r\n};\r\n\r\nconst removeFile = (index) => {\r\n  selectedFiles.value.splice(index, 1);\r\n};\r\n\r\nconst readFileContent = async (file) => {\r\n  return new Promise((resolve) => {\r\n    if (\r\n      file.type === \"application/pdf\" ||\r\n      file.type === \"application/vnd.openxmlformats-officedocument.presentationml.presentation\" ||\r\n      file.type === \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\" ||\r\n      file.type.startsWith('image/')\r\n    ) {\r\n      // PDF, PPTX, DOCX, or Image - send to backend for extraction\r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      \r\n      // Use the correct backend URL\r\n      const backendUrl = process.env.VUE_APP_BACKEND_URL || 'http://localhost:5001';\r\n      fetch(`${backendUrl}/extract-file`, {\r\n        method: 'POST',\r\n        body: formData\r\n      })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          if (data.text) {\r\n            resolve(data.text);\r\n          } else {\r\n            extractionErrors.value.push({\r\n              fileName: file.name,\r\n              message: data.error || 'Failed to extract text from file'\r\n            });\r\n            resolve(\"[Could not extract file text]\");\r\n          }\r\n        })\r\n        .catch(() => {\r\n          extractionErrors.value.push({\r\n            fileName: file.name,\r\n            message: 'Server error while extracting text'\r\n          });\r\n          resolve(\"[Could not extract file text]\");\r\n        });\r\n    } else if (file.type === \"text/plain\") {\r\n      // Plain text\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => resolve(e.target.result);\r\n      reader.onerror = () => {\r\n        extractionErrors.value.push({\r\n          fileName: file.name,\r\n          message: 'Error reading text file'\r\n        });\r\n        resolve(\"[Could not read file]\");\r\n      };\r\n      reader.readAsText(file);\r\n    } else {\r\n      resolve(`[${file.name} is not a supported file type.]`);\r\n    }\r\n  });\r\n};\r\n\r\nconst handleSubmit = async () => {\r\n  if (!isFormValid.value) return;\r\n\r\n  isLoading.value = true;\r\n  error.value = '';\r\n  generatedQuestions.value = [];\r\n  flashcardQuestions.value = [];\r\n\r\n  try {\r\n    // Read all file contents\r\n    const fileContents = await Promise.all(\r\n      selectedFiles.value.map(file => readFileContent(file))\r\n    );\r\n\r\n    // Combine all file contents\r\n    const combinedContent = fileContents.join('\\n\\n');\r\n    console.log('Extracted file content:', combinedContent);\r\n\r\n    // Prepare the prompt for Gemini with difficulty level\r\n    const prompt = `Create a quiz with ${questionCount.value} ${selectedDifficulty.value} difficulty questions based on this text. Format each question exactly as follows:\r\n\r\nFor multiple choice questions:\r\n1. Start with \"Question: [question text]\"\r\n2. List options as:\r\n   A) [option text]\r\n   B) [option text]\r\n   C) [option text]\r\n   D) [option text]\r\n   (Mark correct answer with * after the option)\r\n3. Add \"Explanation: [explanation text]\"\r\n\r\nFor true/false questions:\r\n1. Start with \"True/False: [question text]\"\r\n2. List options as:\r\n   True*\r\n   False\r\n   (or vice versa, with * marking correct answer)\r\n3. Add \"Explanation: [explanation text]\"\r\n\r\nDifficulty Guidelines:\r\n- Easy: Focus on basic facts, definitions, and straightforward concepts\r\n- Medium: Include some analysis and application of concepts\r\n- Hard: Focus on complex analysis, synthesis, and evaluation of concepts\r\n\r\nText: ${combinedContent}`;\r\n\r\n    console.log('Sending request to Gemini API...');\r\n    console.log('API Key:', process.env.VUE_APP_GEMINI_API_KEY ? 'Present' : 'Missing');\r\n\r\n    // Call Gemini API\r\n    const response = await axios.post(\r\n      `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${process.env.VUE_APP_GEMINI_API_KEY}`,\r\n      {\r\n        contents: [{\r\n          parts: [{\r\n            text: prompt\r\n          }]\r\n        }],\r\n        generationConfig: {\r\n          temperature: 0.7,\r\n          topK: 40,\r\n          topP: 0.95,\r\n          maxOutputTokens: 1024,\r\n        }\r\n      },\r\n      {\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      }\r\n    );\r\n\r\n    console.log('API Response:', response.data);\r\n\r\n    // Process the response for both quiz and flashcards\r\n    const quizText = response.data.candidates[0].content.parts[0].text;\r\n    console.log('Quiz text from API:', quizText);\r\n    \r\n    const processedQuiz = processQuizResponse(quizText);\r\n    console.log('Processed quiz:', processedQuiz);\r\n    \r\n    // Convert quiz questions to flashcard format\r\n    flashcardQuestions.value = processedQuiz.questions.map(q => ({\r\n      text: q.text,\r\n      options: q.type === 'multiple-choice' \r\n        ? Object.entries(q.options).map(([letter, text]) => ({ letter, text }))\r\n        : [\r\n            { letter: 'T', text: 'True' },\r\n            { letter: 'F', text: 'False' }\r\n          ],\r\n      answer: q.type === 'multiple-choice' ? q.correctAnswer : (q.correctAnswer === 'true' ? 'T' : 'F'),\r\n      explanation: q.explanation\r\n    }));\r\n\r\n    console.log('Flashcard questions:', flashcardQuestions.value);\r\n    console.log('Number of flashcard questions:', flashcardQuestions.value.length);\r\n\r\n    // Show the flashcard quiz\r\n    showQuestions.value = true;\r\n    console.log('showQuestions set to:', showQuestions.value);\r\n    console.log('Current state:', {\r\n      showQuestions: showQuestions.value,\r\n      flashcardQuestionsLength: flashcardQuestions.value.length,\r\n      hasQuestions: flashcardQuestions.value.length > 0\r\n    });\r\n\r\n    console.log('Prompt sent to Gemini:', prompt);\r\n    console.log('API Response:', response.data);\r\n    console.log('Quiz text from API:', quizText);\r\n    console.log('Combined file content:', combinedContent);\r\n  } catch (err) {\r\n    console.error('Detailed Error:', err.response ? err.response.data : err);\r\n    error.value = `Error generating questions: ${err.response ? err.response.data.error?.message || 'Unknown error' : err.message}`;\r\n  } finally {\r\n    isLoading.value = false;\r\n  }\r\n};\r\n\r\nconst resetToMainScreen = () => {\r\n  showQuestions.value = false;\r\n  flashcardQuestions.value = [];\r\n  generatedQuestions.value = [];\r\n  selectedFiles.value = [];\r\n  unsupportedFiles.value = [];\r\n  extractionErrors.value = [];\r\n  questionCount.value = '';\r\n  error.value = '';\r\n  isLoading.value = false;\r\n  if (fileInput.value) {\r\n    fileInput.value.value = '';\r\n  }\r\n};\r\n\r\nconst checkAnswers = () => {\r\n  showAnswers.value = true;\r\n};\r\n\r\nconst allQuestionsAnswered = computed(() => {\r\n  return userAnswers.value.length === quiz.value.questions.length;\r\n});\r\n\r\nconst processQuizResponse = (response) => {\r\n  console.log('Processing quiz response:', response);\r\n  const questions = [];\r\n  const lines = response.split('\\n');\r\n  let currentQuestion = null;\r\n\r\n  for (let i = 0; i < lines.length; i++) {\r\n    const line = lines[i].trim();\r\n    if (!line) continue;\r\n\r\n    console.log('Processing line:', line);\r\n\r\n    if (line.startsWith('Question:')) {\r\n      if (currentQuestion) {\r\n        questions.push(currentQuestion);\r\n      }\r\n      currentQuestion = {\r\n        text: line.replace('Question:', '').trim(),\r\n        type: 'multiple-choice',\r\n        options: {},\r\n        correctAnswer: '',\r\n        explanation: ''\r\n      };\r\n      console.log('Created new multiple-choice question:', currentQuestion);\r\n    } else if (line.startsWith('True/False:')) {\r\n      if (currentQuestion) {\r\n        questions.push(currentQuestion);\r\n      }\r\n      currentQuestion = {\r\n        text: line.replace('True/False:', '').trim(),\r\n        type: 'true-false',\r\n        options: {\r\n          true: 'True',\r\n          false: 'False'\r\n        },\r\n        correctAnswer: '',\r\n        explanation: ''\r\n      };\r\n      console.log('Created new true/false question:', currentQuestion);\r\n    } else if (currentQuestion) {\r\n      if (line.match(/^[A-D]\\)/)) {\r\n        const option = line.substring(2).trim();\r\n        const letter = line[0];\r\n        currentQuestion.options[letter] = option;\r\n        if (option.includes('*')) {\r\n          currentQuestion.correctAnswer = letter;\r\n          currentQuestion.options[letter] = option.replace('*', '').trim();\r\n        }\r\n        console.log('Added option to question:', { letter, option });\r\n      } else if (line === 'True*' || line === 'False*') {\r\n        currentQuestion.correctAnswer = line === 'True*' ? 'true' : 'false';\r\n        console.log('Set true/false answer:', currentQuestion.correctAnswer);\r\n      } else if (line.startsWith('Explanation:')) {\r\n        currentQuestion.explanation = line.replace('Explanation:', '').trim();\r\n        console.log('Added explanation:', currentQuestion.explanation);\r\n      }\r\n    }\r\n  }\r\n\r\n  if (currentQuestion) {\r\n    questions.push(currentQuestion);\r\n  }\r\n\r\n  console.log('Final processed questions:', questions);\r\n  return { questions };\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.app-container {\r\n  min-height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: #f5f5f5;\r\n  font-family: \"Helvetica\", \"Arial\", sans-serif;\r\n}\r\n\r\n.upload-container {\r\n  background-color: white;\r\n  padding: 2rem;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  width: 90%;\r\n  max-width: 600px;\r\n}\r\n\r\nh1 {\r\n  text-align: center;\r\n  color: #333;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\nh2 {\r\n  color: #444;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.file-upload-section {\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.upload-area {\r\n  border: 2px dashed #ccc;\r\n  border-radius: 8px;\r\n  padding: 2rem;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  margin-bottom: 1rem;\r\n  outline: none;\r\n}\r\n\r\n.upload-area:hover {\r\n  border-color: #666;\r\n  background-color: #f8f8f8;\r\n}\r\n\r\n.upload-area:focus {\r\n  border-color: #4CAF50;\r\n  box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2);\r\n}\r\n\r\n.file-input {\r\n  display: none;\r\n}\r\n\r\n.upload-prompt {\r\n  color: #666;\r\n}\r\n\r\n.upload-prompt p {\r\n  margin: 0.5rem 0;\r\n}\r\n\r\n.selected-files {\r\n  margin-top: 1rem;\r\n}\r\n\r\n.selected-files ul {\r\n  list-style: none;\r\n  padding: 0;\r\n}\r\n\r\n.selected-files li {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0.5rem;\r\n  background-color: #f8f8f8;\r\n  margin-bottom: 0.5rem;\r\n  border-radius: 4px;\r\n}\r\n\r\n.remove-btn {\r\n  background: none;\r\n  border: none;\r\n  color: #ff4444;\r\n  cursor: pointer;\r\n  font-size: 1.2rem;\r\n  padding: 0 0.5rem;\r\n}\r\n\r\n.questions-section {\r\n  margin-top: 2rem;\r\n}\r\n\r\n.question-input input {\r\n  width: 100%;\r\n  padding: 0.5rem;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  font-size: 1rem;\r\n}\r\n\r\n.submit-btn {\r\n  width: 100%;\r\n  padding: 1rem;\r\n  background-color: #4CAF50;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  font-size: 1rem;\r\n  cursor: pointer;\r\n  margin-top: 2rem;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.submit-btn:disabled {\r\n  background-color: #cccccc;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.submit-btn:not(:disabled):hover {\r\n  background-color: #45a049;\r\n}\r\n\r\n.questions-list {\r\n  margin-top: 2rem;\r\n  padding: 1rem;\r\n  background-color: #f8f8f8;\r\n  border-radius: 4px;\r\n}\r\n\r\n.question-item {\r\n  margin-bottom: 1rem;\r\n  padding: 0.5rem;\r\n  background-color: white;\r\n  border-radius: 4px;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.error-message {\r\n  color: #ff4444;\r\n  margin-top: 1rem;\r\n  text-align: center;\r\n}\r\n\r\n.quiz-container {\r\n  margin-top: 2rem;\r\n  padding: 2rem;\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.question {\r\n  margin-bottom: 1rem;\r\n  padding: 0.5rem;\r\n  background-color: #f8f8f8;\r\n  border-radius: 4px;\r\n}\r\n\r\n.options {\r\n  margin-top: 0.5rem;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.option {\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.feedback {\r\n  margin-top: 0.5rem;\r\n  padding: 0.5rem;\r\n  background-color: #f8f8f8;\r\n  border-radius: 4px;\r\n}\r\n\r\n.correct {\r\n  color: #4CAF50;\r\n}\r\n\r\n.incorrect {\r\n  color: #ff4444;\r\n}\r\n\r\n.explanation {\r\n  margin-top: 0.5rem;\r\n  margin-left: 1rem;\r\n}\r\n\r\nbutton {\r\n  width: 100%;\r\n  padding: 1rem;\r\n  background-color: #4CAF50;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  font-size: 1rem;\r\n  cursor: pointer;\r\n  margin-top: 2rem;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\nbutton:disabled {\r\n  background-color: #cccccc;\r\n  cursor: not-allowed;\r\n}\r\n\r\nbutton:not(:disabled):hover {\r\n  background-color: #45a049;\r\n}\r\n\r\n.file-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0.5rem;\r\n  background-color: #f8f8f8;\r\n  margin-bottom: 0.5rem;\r\n  border-radius: 4px;\r\n}\r\n\r\n.file-name {\r\n  flex: 1;\r\n  margin-right: 0.5rem;\r\n  word-break: break-word;\r\n}\r\n\r\n.remove-btn {\r\n  flex-shrink: 0;\r\n  width: 24px;\r\n  height: 24px;\r\n  background: none;\r\n  border: none;\r\n  color: #ff4444;\r\n  cursor: pointer;\r\n  font-size: 1.2rem;\r\n  padding: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 50%;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.remove-btn:hover {\r\n  background-color: #ffeeee;\r\n}\r\n\r\n.unsupported-files {\r\n  margin-top: 1rem;\r\n  padding: 1rem;\r\n  background-color: #fff3f3;\r\n  border-radius: 4px;\r\n  border: 1px solid #ffdddd;\r\n}\r\n\r\n.unsupported-files h3 {\r\n  color: #d32f2f;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.unsupported-label {\r\n  color: #d32f2f;\r\n  font-size: 0.9em;\r\n  margin-left: 0.5rem;\r\n}\r\n\r\n.unsupported-files .file-item {\r\n  background-color: #fff;\r\n  border: 1px solid #ffdddd;\r\n}\r\n\r\n.difficulty-section {\r\n  margin-top: 2rem;\r\n}\r\n\r\n.difficulty-selector {\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.difficulty-dropdown {\r\n  width: 100%;\r\n  padding: 0.5rem;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  font-size: 1rem;\r\n  background-color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n.difficulty-dropdown:focus {\r\n  outline: none;\r\n  border-color: #4CAF50;\r\n  box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2);\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}