{"ast":null,"code":"import _objectSpread from \"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _regeneratorRuntime from \"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _objectWithoutProperties from \"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _asyncToGenerator from \"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _excluded = [\"email\", \"password\"];\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.date.to-iso-string.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport { createClient } from '@supabase/supabase-js';\nvar supabaseUrl = process.env.VUE_APP_SUPABASE_URL;\nvar supabaseAnonKey = process.env.VUE_APP_SUPABASE_ANON_KEY;\nif (!supabaseUrl || !supabaseAnonKey) {\n  throw new Error('Missing Supabase environment variables');\n}\nconsole.log('Initializing Supabase with URL:', supabaseUrl);\nexport var supabase = createClient(supabaseUrl, supabaseAnonKey, {\n  auth: {\n    autoRefreshToken: true,\n    persistSession: true,\n    detectSessionInUrl: true\n  }\n});\n\n// Auth helper functions\nexport var auth = {\n  signUp: function signUp(_ref) {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var email, password, metadata, _yield$supabase$auth$, authData, authError, _yield$supabase$from$, profileError;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            email = _ref.email, password = _ref.password, metadata = _objectWithoutProperties(_ref, _excluded);\n            console.log('Supabase signUp called with:', {\n              email: email,\n              metadata: metadata\n            });\n            _context.prev = 2;\n            _context.next = 5;\n            return supabase.auth.signUp({\n              email: email,\n              password: password,\n              options: {\n                data: metadata,\n                emailRedirectTo: \"\".concat(window.location.origin, \"/auth/callback\")\n              }\n            });\n          case 5:\n            _yield$supabase$auth$ = _context.sent;\n            authData = _yield$supabase$auth$.data;\n            authError = _yield$supabase$auth$.error;\n            if (!authError) {\n              _context.next = 11;\n              break;\n            }\n            console.error('Signup auth error:', authError);\n            throw authError;\n          case 11:\n            if (!(authData !== null && authData !== void 0 && authData.user)) {\n              _context.next = 17;\n              break;\n            }\n            _context.next = 14;\n            return supabase.from('users').insert([{\n              id: authData.user.id,\n              email: email,\n              name: metadata.name,\n              created_at: new Date().toISOString(),\n              updated_at: new Date().toISOString(),\n              last_login: new Date().toISOString()\n            }]);\n          case 14:\n            _yield$supabase$from$ = _context.sent;\n            profileError = _yield$supabase$from$.error;\n            if (profileError) {\n              console.error('Error creating user profile:', profileError);\n              // Don't throw here as the auth user was created successfully\n            }\n          case 17:\n            console.log('Signup successful:', authData);\n            return _context.abrupt(\"return\", {\n              data: authData,\n              error: null\n            });\n          case 21:\n            _context.prev = 21;\n            _context.t0 = _context[\"catch\"](2);\n            console.error('Signup error:', _context.t0);\n            throw _context.t0;\n          case 25:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[2, 21]]);\n    }))();\n  },\n  signIn: function signIn(_ref2) {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var email, password, _yield$supabase$auth$2, data, error, _yield$supabase$from$2, updateError;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            email = _ref2.email, password = _ref2.password;\n            _context2.prev = 1;\n            _context2.next = 4;\n            return supabase.auth.signInWithPassword({\n              email: email,\n              password: password\n            });\n          case 4:\n            _yield$supabase$auth$2 = _context2.sent;\n            data = _yield$supabase$auth$2.data;\n            error = _yield$supabase$auth$2.error;\n            if (!error) {\n              _context2.next = 12;\n              break;\n            }\n            console.error('Sign in error:', error);\n            if (!error.message.includes('Email not confirmed')) {\n              _context2.next = 11;\n              break;\n            }\n            throw new Error('Please check your email and confirm your account before signing in.');\n          case 11:\n            throw error;\n          case 12:\n            if (!(data !== null && data !== void 0 && data.user)) {\n              _context2.next = 18;\n              break;\n            }\n            _context2.next = 15;\n            return supabase.from('users').update({\n              last_login: new Date().toISOString(),\n              updated_at: new Date().toISOString()\n            }).eq('id', data.user.id);\n          case 15:\n            _yield$supabase$from$2 = _context2.sent;\n            updateError = _yield$supabase$from$2.error;\n            if (updateError) {\n              console.error('Error updating last login:', updateError);\n            }\n          case 18:\n            console.log('Sign in successful:', data);\n            return _context2.abrupt(\"return\", {\n              data: data,\n              error: null\n            });\n          case 22:\n            _context2.prev = 22;\n            _context2.t0 = _context2[\"catch\"](1);\n            console.error('Sign in error:', _context2.t0);\n            throw _context2.t0;\n          case 26:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2, null, [[1, 22]]);\n    }))();\n  },\n  signOut: function signOut() {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n      var _yield$supabase$auth$3, error;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return supabase.auth.signOut();\n          case 3:\n            _yield$supabase$auth$3 = _context3.sent;\n            error = _yield$supabase$auth$3.error;\n            if (!error) {\n              _context3.next = 7;\n              break;\n            }\n            throw error;\n          case 7:\n            return _context3.abrupt(\"return\", {\n              error: null\n            });\n          case 10:\n            _context3.prev = 10;\n            _context3.t0 = _context3[\"catch\"](0);\n            console.error('Sign out error:', _context3.t0);\n            throw _context3.t0;\n          case 14:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3, null, [[0, 10]]);\n    }))();\n  },\n  getSession: function getSession() {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n      var _yield$supabase$auth$4, session, error;\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            _context4.next = 3;\n            return supabase.auth.getSession();\n          case 3:\n            _yield$supabase$auth$4 = _context4.sent;\n            session = _yield$supabase$auth$4.data.session;\n            error = _yield$supabase$auth$4.error;\n            if (!error) {\n              _context4.next = 8;\n              break;\n            }\n            throw error;\n          case 8:\n            return _context4.abrupt(\"return\", {\n              session: session,\n              error: null\n            });\n          case 11:\n            _context4.prev = 11;\n            _context4.t0 = _context4[\"catch\"](0);\n            console.error('Get session error:', _context4.t0);\n            throw _context4.t0;\n          case 15:\n          case \"end\":\n            return _context4.stop();\n        }\n      }, _callee4, null, [[0, 11]]);\n    }))();\n  },\n  onAuthStateChange: function onAuthStateChange(callback) {\n    return supabase.auth.onAuthStateChange(callback);\n  },\n  // User profile management\n  getUserProfile: function getUserProfile(userId) {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n      var _yield$supabase$from$3, data, error;\n      return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n        while (1) switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.prev = 0;\n            _context5.next = 3;\n            return supabase.from('users').select('*').eq('id', userId).single();\n          case 3:\n            _yield$supabase$from$3 = _context5.sent;\n            data = _yield$supabase$from$3.data;\n            error = _yield$supabase$from$3.error;\n            if (!error) {\n              _context5.next = 8;\n              break;\n            }\n            throw error;\n          case 8:\n            return _context5.abrupt(\"return\", {\n              data: data,\n              error: null\n            });\n          case 11:\n            _context5.prev = 11;\n            _context5.t0 = _context5[\"catch\"](0);\n            console.error('Get user profile error:', _context5.t0);\n            throw _context5.t0;\n          case 15:\n          case \"end\":\n            return _context5.stop();\n        }\n      }, _callee5, null, [[0, 11]]);\n    }))();\n  },\n  updateUserProfile: function updateUserProfile(userId, updates) {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n      var _yield$supabase$from$4, data, error;\n      return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n        while (1) switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.prev = 0;\n            _context6.next = 3;\n            return supabase.from('users').update(_objectSpread(_objectSpread({}, updates), {}, {\n              updated_at: new Date().toISOString()\n            })).eq('id', userId).select().single();\n          case 3:\n            _yield$supabase$from$4 = _context6.sent;\n            data = _yield$supabase$from$4.data;\n            error = _yield$supabase$from$4.error;\n            if (!error) {\n              _context6.next = 8;\n              break;\n            }\n            throw error;\n          case 8:\n            return _context6.abrupt(\"return\", {\n              data: data,\n              error: null\n            });\n          case 11:\n            _context6.prev = 11;\n            _context6.t0 = _context6[\"catch\"](0);\n            console.error('Update user profile error:', _context6.t0);\n            throw _context6.t0;\n          case 15:\n          case \"end\":\n            return _context6.stop();\n        }\n      }, _callee6, null, [[0, 11]]);\n    }))();\n  }\n};\n\n// Quiz history database operations\nexport var quizHistory = {\n  saveQuiz: function saveQuiz(quizData) {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {\n      var _yield$supabase$from$5, data, error;\n      return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n        while (1) switch (_context7.prev = _context7.next) {\n          case 0:\n            _context7.prev = 0;\n            _context7.next = 3;\n            return supabase.from('quiz_history').insert([quizData]).select();\n          case 3:\n            _yield$supabase$from$5 = _context7.sent;\n            data = _yield$supabase$from$5.data;\n            error = _yield$supabase$from$5.error;\n            if (!error) {\n              _context7.next = 8;\n              break;\n            }\n            throw error;\n          case 8:\n            return _context7.abrupt(\"return\", {\n              data: data,\n              error: null\n            });\n          case 11:\n            _context7.prev = 11;\n            _context7.t0 = _context7[\"catch\"](0);\n            console.error('Save quiz error:', _context7.t0);\n            throw _context7.t0;\n          case 15:\n          case \"end\":\n            return _context7.stop();\n        }\n      }, _callee7, null, [[0, 11]]);\n    }))();\n  },\n  getQuizzes: function getQuizzes() {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {\n      var _yield$supabase$from$6, data, error;\n      return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n        while (1) switch (_context8.prev = _context8.next) {\n          case 0:\n            _context8.prev = 0;\n            _context8.next = 3;\n            return supabase.from('quiz_history').select('*').order('created_at', {\n              ascending: false\n            });\n          case 3:\n            _yield$supabase$from$6 = _context8.sent;\n            data = _yield$supabase$from$6.data;\n            error = _yield$supabase$from$6.error;\n            if (!error) {\n              _context8.next = 8;\n              break;\n            }\n            throw error;\n          case 8:\n            return _context8.abrupt(\"return\", {\n              data: data,\n              error: null\n            });\n          case 11:\n            _context8.prev = 11;\n            _context8.t0 = _context8[\"catch\"](0);\n            console.error('Get quizzes error:', _context8.t0);\n            throw _context8.t0;\n          case 15:\n          case \"end\":\n            return _context8.stop();\n        }\n      }, _callee8, null, [[0, 11]]);\n    }))();\n  },\n  migrateTemporaryHistory: function migrateTemporaryHistory(quizzes) {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {\n      var _yield$supabase$from$7, data, error;\n      return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n        while (1) switch (_context9.prev = _context9.next) {\n          case 0:\n            _context9.prev = 0;\n            _context9.next = 3;\n            return supabase.from('quiz_history').insert(quizzes).select();\n          case 3:\n            _yield$supabase$from$7 = _context9.sent;\n            data = _yield$supabase$from$7.data;\n            error = _yield$supabase$from$7.error;\n            if (!error) {\n              _context9.next = 8;\n              break;\n            }\n            throw error;\n          case 8:\n            return _context9.abrupt(\"return\", {\n              data: data,\n              error: null\n            });\n          case 11:\n            _context9.prev = 11;\n            _context9.t0 = _context9[\"catch\"](0);\n            console.error('Migrate history error:', _context9.t0);\n            throw _context9.t0;\n          case 15:\n          case \"end\":\n            return _context9.stop();\n        }\n      }, _callee9, null, [[0, 11]]);\n    }))();\n  }\n};","map":{"version":3,"names":["createClient","supabaseUrl","process","env","VUE_APP_SUPABASE_URL","supabaseAnonKey","VUE_APP_SUPABASE_ANON_KEY","Error","console","log","supabase","auth","autoRefreshToken","persistSession","detectSessionInUrl","signUp","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","email","password","metadata","_yield$supabase$auth$","authData","authError","_yield$supabase$from$","profileError","wrap","_callee$","_context","prev","next","_objectWithoutProperties","_excluded","options","data","emailRedirectTo","concat","window","location","origin","sent","error","user","from","insert","id","name","created_at","Date","toISOString","updated_at","last_login","abrupt","t0","stop","signIn","_ref2","_callee2","_yield$supabase$auth$2","_yield$supabase$from$2","updateError","_callee2$","_context2","signInWithPassword","message","includes","update","eq","signOut","_callee3","_yield$supabase$auth$3","_callee3$","_context3","getSession","_callee4","_yield$supabase$auth$4","session","_callee4$","_context4","onAuthStateChange","callback","getUserProfile","userId","_callee5","_yield$supabase$from$3","_callee5$","_context5","select","single","updateUserProfile","updates","_callee6","_yield$supabase$from$4","_callee6$","_context6","_objectSpread","quizHistory","saveQuiz","quizData","_callee7","_yield$supabase$from$5","_callee7$","_context7","getQuizzes","_callee8","_yield$supabase$from$6","_callee8$","_context8","order","ascending","migrateTemporaryHistory","quizzes","_callee9","_yield$supabase$from$7","_callee9$","_context9"],"sources":["C:/Users/StevenJakeASOY/Documents/cursor-projects/src/lib/supabase.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabaseUrl = process.env.VUE_APP_SUPABASE_URL;\r\nconst supabaseAnonKey = process.env.VUE_APP_SUPABASE_ANON_KEY;\r\n\r\nif (!supabaseUrl || !supabaseAnonKey) {\r\n  throw new Error('Missing Supabase environment variables');\r\n}\r\n\r\nconsole.log('Initializing Supabase with URL:', supabaseUrl);\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey, {\r\n  auth: {\r\n    autoRefreshToken: true,\r\n    persistSession: true,\r\n    detectSessionInUrl: true\r\n  }\r\n});\r\n\r\n// Auth helper functions\r\nexport const auth = {\r\n  async signUp({ email, password, ...metadata }) {\r\n    console.log('Supabase signUp called with:', { email, metadata });\r\n    try {\r\n      // First, create the auth user\r\n      const { data: authData, error: authError } = await supabase.auth.signUp({\r\n        email,\r\n        password,\r\n        options: {\r\n          data: metadata,\r\n          emailRedirectTo: `${window.location.origin}/auth/callback`\r\n        }\r\n      });\r\n      \r\n      if (authError) {\r\n        console.error('Signup auth error:', authError);\r\n        throw authError;\r\n      }\r\n\r\n      // Then, create the user profile in the users table\r\n      if (authData?.user) {\r\n        const { error: profileError } = await supabase\r\n          .from('users')\r\n          .insert([\r\n            {\r\n              id: authData.user.id,\r\n              email: email,\r\n              name: metadata.name,\r\n              created_at: new Date().toISOString(),\r\n              updated_at: new Date().toISOString(),\r\n              last_login: new Date().toISOString()\r\n            }\r\n          ]);\r\n\r\n        if (profileError) {\r\n          console.error('Error creating user profile:', profileError);\r\n          // Don't throw here as the auth user was created successfully\r\n        }\r\n      }\r\n\r\n      console.log('Signup successful:', authData);\r\n      return { data: authData, error: null };\r\n    } catch (error) {\r\n      console.error('Signup error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async signIn({ email, password }) {\r\n    try {\r\n      const { data, error } = await supabase.auth.signInWithPassword({\r\n        email,\r\n        password\r\n      });\r\n\r\n      if (error) {\r\n        console.error('Sign in error:', error);\r\n        if (error.message.includes('Email not confirmed')) {\r\n          throw new Error('Please check your email and confirm your account before signing in.');\r\n        }\r\n        throw error;\r\n      }\r\n\r\n      // Update last login timestamp\r\n      if (data?.user) {\r\n        const { error: updateError } = await supabase\r\n          .from('users')\r\n          .update({ \r\n            last_login: new Date().toISOString(),\r\n            updated_at: new Date().toISOString()\r\n          })\r\n          .eq('id', data.user.id);\r\n\r\n        if (updateError) {\r\n          console.error('Error updating last login:', updateError);\r\n        }\r\n      }\r\n\r\n      console.log('Sign in successful:', data);\r\n      return { data, error: null };\r\n    } catch (error) {\r\n      console.error('Sign in error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async signOut() {\r\n    try {\r\n      const { error } = await supabase.auth.signOut();\r\n      if (error) throw error;\r\n      return { error: null };\r\n    } catch (error) {\r\n      console.error('Sign out error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async getSession() {\r\n    try {\r\n      const { data: { session }, error } = await supabase.auth.getSession();\r\n      if (error) throw error;\r\n      return { session, error: null };\r\n    } catch (error) {\r\n      console.error('Get session error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  onAuthStateChange(callback) {\r\n    return supabase.auth.onAuthStateChange(callback);\r\n  },\r\n\r\n  // User profile management\r\n  async getUserProfile(userId) {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('users')\r\n        .select('*')\r\n        .eq('id', userId)\r\n        .single();\r\n\r\n      if (error) throw error;\r\n      return { data, error: null };\r\n    } catch (error) {\r\n      console.error('Get user profile error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async updateUserProfile(userId, updates) {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('users')\r\n        .update({\r\n          ...updates,\r\n          updated_at: new Date().toISOString()\r\n        })\r\n        .eq('id', userId)\r\n        .select()\r\n        .single();\r\n\r\n      if (error) throw error;\r\n      return { data, error: null };\r\n    } catch (error) {\r\n      console.error('Update user profile error:', error);\r\n      throw error;\r\n    }\r\n  }\r\n};\r\n\r\n// Quiz history database operations\r\nexport const quizHistory = {\r\n  async saveQuiz(quizData) {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('quiz_history')\r\n        .insert([quizData])\r\n        .select();\r\n      \r\n      if (error) throw error;\r\n      return { data, error: null };\r\n    } catch (error) {\r\n      console.error('Save quiz error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async getQuizzes() {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('quiz_history')\r\n        .select('*')\r\n        .order('created_at', { ascending: false });\r\n      \r\n      if (error) throw error;\r\n      return { data, error: null };\r\n    } catch (error) {\r\n      console.error('Get quizzes error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async migrateTemporaryHistory(quizzes) {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('quiz_history')\r\n        .insert(quizzes)\r\n        .select();\r\n      \r\n      if (error) throw error;\r\n      return { data, error: null };\r\n    } catch (error) {\r\n      console.error('Migrate history error:', error);\r\n      throw error;\r\n    }\r\n  }\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}