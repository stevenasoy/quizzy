{"ast":null,"code":"var _superPropGet=require(\"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/superPropGet.js\")[\"default\"];var _objectSpread=require(\"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/objectSpread2.js\")[\"default\"];var _readOnlyError=require(\"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/readOnlyError.js\")[\"default\"];var _classPrivateGetter=require(\"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/classPrivateGetter.js\")[\"default\"];var _defineProperty=require(\"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/defineProperty.js\")[\"default\"];var _classPrivateMethodInitSpec=require(\"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/classPrivateMethodInitSpec.js\")[\"default\"];var _assertClassBrand=require(\"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/assertClassBrand.js\")[\"default\"];var _regeneratorRuntime=require(\"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\")[\"default\"];var _asyncToGenerator=require(\"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/asyncToGenerator.js\")[\"default\"];var _classPrivateFieldInitSpec=require(\"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/classPrivateFieldInitSpec.js\")[\"default\"];var _classPrivateFieldGet=require(\"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/classPrivateFieldGet2.js\")[\"default\"];var _classPrivateFieldSet=require(\"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/classPrivateFieldSet2.js\")[\"default\"];var _toConsumableArray=require(\"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/toConsumableArray.js\")[\"default\"];var _slicedToArray=require(\"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/slicedToArray.js\")[\"default\"];var _createForOfIteratorHelper=require(\"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\")[\"default\"];var _createClass=require(\"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/createClass.js\")[\"default\"];var _classCallCheck=require(\"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/classCallCheck.js\")[\"default\"];var _callSuper=require(\"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/callSuper.js\")[\"default\"];var _inherits=require(\"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/inherits.js\")[\"default\"];var _typeof=require(\"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/typeof.js\")[\"default\"];require(\"core-js/modules/es.symbol.js\");require(\"core-js/modules/es.symbol.description.js\");require(\"core-js/modules/es.error.cause.js\");require(\"core-js/modules/es.error.to-string.js\");require(\"core-js/modules/es.array.at.js\");require(\"core-js/modules/es.array.concat.js\");require(\"core-js/modules/es.array.every.js\");require(\"core-js/modules/es.array.fill.js\");require(\"core-js/modules/es.array.filter.js\");require(\"core-js/modules/es.array.find-index.js\");require(\"core-js/modules/es.array.flat-map.js\");require(\"core-js/modules/es.array.from.js\");require(\"core-js/modules/es.array.includes.js\");require(\"core-js/modules/es.array.index-of.js\");require(\"core-js/modules/es.array.is-array.js\");require(\"core-js/modules/es.array.join.js\");require(\"core-js/modules/es.array.last-index-of.js\");require(\"core-js/modules/es.array.map.js\");require(\"core-js/modules/es.array.push.js\");require(\"core-js/modules/es.array.slice.js\");require(\"core-js/modules/es.array.some.js\");require(\"core-js/modules/es.array.splice.js\");require(\"core-js/modules/es.array.unscopables.flat-map.js\");require(\"core-js/modules/es.array-buffer.constructor.js\");require(\"core-js/modules/es.array-buffer.slice.js\");require(\"core-js/modules/es.data-view.js\");require(\"core-js/modules/es.array-buffer.detached.js\");require(\"core-js/modules/es.array-buffer.transfer.js\");require(\"core-js/modules/es.array-buffer.transfer-to-fixed-length.js\");require(\"core-js/modules/es.date.now.js\");require(\"core-js/modules/es.date.to-json.js\");require(\"core-js/modules/es.date.to-string.js\");require(\"core-js/modules/es.escape.js\");require(\"core-js/modules/es.function.bind.js\");require(\"core-js/modules/es.function.name.js\");require(\"core-js/modules/es.global-this.js\");require(\"core-js/modules/es.iterator.constructor.js\");require(\"core-js/modules/es.iterator.every.js\");require(\"core-js/modules/es.iterator.filter.js\");require(\"core-js/modules/es.iterator.flat-map.js\");require(\"core-js/modules/es.iterator.map.js\");require(\"core-js/modules/es.iterator.some.js\");require(\"core-js/modules/es.json.stringify.js\");require(\"core-js/modules/es.map.js\");require(\"core-js/modules/es.math.fround.js\");require(\"core-js/modules/es.math.hypot.js\");require(\"core-js/modules/es.math.sign.js\");require(\"core-js/modules/es.number.is-integer.js\");require(\"core-js/modules/es.number.to-fixed.js\");require(\"core-js/modules/es.object.create.js\");require(\"core-js/modules/es.object.define-property.js\");require(\"core-js/modules/es.object.entries.js\");require(\"core-js/modules/es.object.freeze.js\");require(\"core-js/modules/es.object.get-prototype-of.js\");require(\"core-js/modules/es.object.keys.js\");require(\"core-js/modules/es.object.to-string.js\");require(\"core-js/modules/es.object.values.js\");require(\"core-js/modules/es.parse-float.js\");require(\"core-js/modules/es.parse-int.js\");require(\"core-js/modules/es.promise.all-settled.js\");require(\"core-js/modules/es.regexp.constructor.js\");require(\"core-js/modules/es.regexp.dot-all.js\");require(\"core-js/modules/es.regexp.exec.js\");require(\"core-js/modules/es.regexp.sticky.js\");require(\"core-js/modules/es.regexp.test.js\");require(\"core-js/modules/es.regexp.to-string.js\");require(\"core-js/modules/es.set.js\");require(\"core-js/modules/es.set.difference.v2.js\");require(\"core-js/modules/es.set.intersection.v2.js\");require(\"core-js/modules/es.set.is-disjoint-from.v2.js\");require(\"core-js/modules/es.set.is-subset-of.v2.js\");require(\"core-js/modules/es.set.is-superset-of.v2.js\");require(\"core-js/modules/es.set.symmetric-difference.v2.js\");require(\"core-js/modules/es.set.union.v2.js\");require(\"core-js/modules/es.string.at-alternative.js\");require(\"core-js/modules/es.string.ends-with.js\");require(\"core-js/modules/es.string.includes.js\");require(\"core-js/modules/es.string.iterator.js\");require(\"core-js/modules/es.string.match.js\");require(\"core-js/modules/es.string.pad-end.js\");require(\"core-js/modules/es.string.pad-start.js\");require(\"core-js/modules/es.string.replace.js\");require(\"core-js/modules/es.string.replace-all.js\");require(\"core-js/modules/es.string.split.js\");require(\"core-js/modules/es.string.starts-with.js\");require(\"core-js/modules/es.string.trim.js\");require(\"core-js/modules/es.string.trim-end.js\");require(\"core-js/modules/es.string.bold.js\");require(\"core-js/modules/es.string.italics.js\");require(\"core-js/modules/es.typed-array.int32-array.js\");require(\"core-js/modules/es.typed-array.uint8-array.js\");require(\"core-js/modules/es.typed-array.uint32-array.js\");require(\"core-js/modules/es.typed-array.at.js\");require(\"core-js/modules/es.typed-array.copy-within.js\");require(\"core-js/modules/es.typed-array.every.js\");require(\"core-js/modules/es.typed-array.fill.js\");require(\"core-js/modules/es.typed-array.filter.js\");require(\"core-js/modules/es.typed-array.find.js\");require(\"core-js/modules/es.typed-array.find-index.js\");require(\"core-js/modules/es.typed-array.find-last.js\");require(\"core-js/modules/es.typed-array.find-last-index.js\");require(\"core-js/modules/es.typed-array.for-each.js\");require(\"core-js/modules/es.typed-array.includes.js\");require(\"core-js/modules/es.typed-array.index-of.js\");require(\"core-js/modules/es.typed-array.iterator.js\");require(\"core-js/modules/es.typed-array.join.js\");require(\"core-js/modules/es.typed-array.last-index-of.js\");require(\"core-js/modules/es.typed-array.map.js\");require(\"core-js/modules/es.typed-array.reduce.js\");require(\"core-js/modules/es.typed-array.reduce-right.js\");require(\"core-js/modules/es.typed-array.reverse.js\");require(\"core-js/modules/es.typed-array.set.js\");require(\"core-js/modules/es.typed-array.slice.js\");require(\"core-js/modules/es.typed-array.some.js\");require(\"core-js/modules/es.typed-array.sort.js\");require(\"core-js/modules/es.typed-array.subarray.js\");require(\"core-js/modules/es.typed-array.to-locale-string.js\");require(\"core-js/modules/es.typed-array.to-reversed.js\");require(\"core-js/modules/es.typed-array.to-sorted.js\");require(\"core-js/modules/es.typed-array.to-string.js\");require(\"core-js/modules/es.typed-array.with.js\");require(\"core-js/modules/es.unescape.js\");require(\"core-js/modules/es.weak-map.js\");require(\"core-js/modules/es.weak-set.js\");require(\"core-js/modules/web.atob.js\");require(\"core-js/modules/web.btoa.js\");require(\"core-js/modules/web.dom-collections.iterator.js\");require(\"core-js/modules/web.dom-exception.constructor.js\");require(\"core-js/modules/web.dom-exception.stack.js\");require(\"core-js/modules/web.dom-exception.to-string-tag.js\");require(\"core-js/modules/web.structured-clone.js\");require(\"core-js/modules/web.timers.js\");require(\"core-js/modules/web.url.js\");require(\"core-js/modules/web.url.to-json.js\");require(\"core-js/modules/web.url-search-params.js\");require(\"core-js/modules/web.url-search-params.delete.js\");require(\"core-js/modules/web.url-search-params.has.js\");require(\"core-js/modules/web.url-search-params.size.js\");/**\n * @licstart The following is the entire license notice for the\n * JavaScript code in this page\n *\n * Copyright 2023 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * JavaScript code in this page\n */(function webpackUniversalModuleDefinition(root,factory){if((typeof exports===\"undefined\"?\"undefined\":_typeof(exports))==='object'&&(typeof module===\"undefined\"?\"undefined\":_typeof(module))==='object')module.exports=root.pdfjsLib=factory();else if(typeof define==='function'&&define.amd)define(\"pdfjs-dist/build/pdf\",[],function(){return root.pdfjsLib=factory();});else if((typeof exports===\"undefined\"?\"undefined\":_typeof(exports))==='object')exports[\"pdfjs-dist/build/pdf\"]=root.pdfjsLib=factory();else root[\"pdfjs-dist/build/pdf\"]=root.pdfjsLib=factory();})(globalThis,function(){return/******/function(){// webpackBootstrap\n/******/\"use strict\";/******/var __webpack_modules__=[/* 0 */,(/* 1 *//***/function(__unused_webpack_module,exports){Object.defineProperty(exports,\"__esModule\",{value:true});exports.VerbosityLevel=exports.Util=exports.UnknownErrorException=exports.UnexpectedResponseException=exports.TextRenderingMode=exports.RenderingIntentFlag=exports.PromiseCapability=exports.PermissionFlag=exports.PasswordResponses=exports.PasswordException=exports.PageActionEventType=exports.OPS=exports.MissingPDFException=exports.MAX_IMAGE_SIZE_TO_CACHE=exports.LINE_FACTOR=exports.LINE_DESCENT_FACTOR=exports.InvalidPDFException=exports.ImageKind=exports.IDENTITY_MATRIX=exports.FormatError=exports.FeatureTest=exports.FONT_IDENTITY_MATRIX=exports.DocumentActionEventType=exports.CMapCompressionType=exports.BaseException=exports.BASELINE_FACTOR=exports.AnnotationType=exports.AnnotationReplyType=exports.AnnotationPrefix=exports.AnnotationMode=exports.AnnotationFlag=exports.AnnotationFieldFlag=exports.AnnotationEditorType=exports.AnnotationEditorPrefix=exports.AnnotationEditorParamsType=exports.AnnotationBorderStyleType=exports.AnnotationActionEventType=exports.AbortException=void 0;exports.assert=assert;exports.bytesToString=bytesToString;exports.createValidAbsoluteUrl=createValidAbsoluteUrl;exports.getModificationDate=getModificationDate;exports.getUuid=getUuid;exports.getVerbosityLevel=getVerbosityLevel;exports.info=info;exports.isArrayBuffer=isArrayBuffer;exports.isArrayEqual=isArrayEqual;exports.isNodeJS=void 0;exports.normalizeUnicode=normalizeUnicode;exports.objectFromMap=objectFromMap;exports.objectSize=objectSize;exports.setVerbosityLevel=setVerbosityLevel;exports.shadow=shadow;exports.string32=string32;exports.stringToBytes=stringToBytes;exports.stringToPDFString=stringToPDFString;exports.stringToUTF8String=stringToUTF8String;exports.unreachable=unreachable;exports.utf8StringToString=utf8StringToString;exports.warn=warn;var isNodeJS=(typeof process===\"undefined\"?\"undefined\":_typeof(process))===\"object\"&&process+\"\"===\"[object process]\"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!==\"browser\");exports.isNodeJS=isNodeJS;var IDENTITY_MATRIX=[1,0,0,1,0,0];exports.IDENTITY_MATRIX=IDENTITY_MATRIX;var FONT_IDENTITY_MATRIX=[0.001,0,0,0.001,0,0];exports.FONT_IDENTITY_MATRIX=FONT_IDENTITY_MATRIX;var MAX_IMAGE_SIZE_TO_CACHE=10e6;exports.MAX_IMAGE_SIZE_TO_CACHE=MAX_IMAGE_SIZE_TO_CACHE;var LINE_FACTOR=1.35;exports.LINE_FACTOR=LINE_FACTOR;var LINE_DESCENT_FACTOR=0.35;exports.LINE_DESCENT_FACTOR=LINE_DESCENT_FACTOR;var BASELINE_FACTOR=LINE_DESCENT_FACTOR/LINE_FACTOR;exports.BASELINE_FACTOR=BASELINE_FACTOR;var RenderingIntentFlag={ANY:0x01,DISPLAY:0x02,PRINT:0x04,SAVE:0x08,ANNOTATIONS_FORMS:0x10,ANNOTATIONS_STORAGE:0x20,ANNOTATIONS_DISABLE:0x40,OPLIST:0x100};exports.RenderingIntentFlag=RenderingIntentFlag;var AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};exports.AnnotationMode=AnnotationMode;var AnnotationEditorPrefix=\"pdfjs_internal_editor_\";exports.AnnotationEditorPrefix=AnnotationEditorPrefix;var AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};exports.AnnotationEditorType=AnnotationEditorType;var AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};exports.AnnotationEditorParamsType=AnnotationEditorParamsType;var PermissionFlag={PRINT:0x04,MODIFY_CONTENTS:0x08,COPY:0x10,MODIFY_ANNOTATIONS:0x20,FILL_INTERACTIVE_FORMS:0x100,COPY_FOR_ACCESSIBILITY:0x200,ASSEMBLE:0x400,PRINT_HIGH_QUALITY:0x800};exports.PermissionFlag=PermissionFlag;var TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};exports.TextRenderingMode=TextRenderingMode;var ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};exports.ImageKind=ImageKind;var AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};exports.AnnotationType=AnnotationType;var AnnotationReplyType={GROUP:\"Group\",REPLY:\"R\"};exports.AnnotationReplyType=AnnotationReplyType;var AnnotationFlag={INVISIBLE:0x01,HIDDEN:0x02,PRINT:0x04,NOZOOM:0x08,NOROTATE:0x10,NOVIEW:0x20,READONLY:0x40,LOCKED:0x80,TOGGLENOVIEW:0x100,LOCKEDCONTENTS:0x200};exports.AnnotationFlag=AnnotationFlag;var AnnotationFieldFlag={READONLY:0x0000001,REQUIRED:0x0000002,NOEXPORT:0x0000004,MULTILINE:0x0001000,PASSWORD:0x0002000,NOTOGGLETOOFF:0x0004000,RADIO:0x0008000,PUSHBUTTON:0x0010000,COMBO:0x0020000,EDIT:0x0040000,SORT:0x0080000,FILESELECT:0x0100000,MULTISELECT:0x0200000,DONOTSPELLCHECK:0x0400000,DONOTSCROLL:0x0800000,COMB:0x1000000,RICHTEXT:0x2000000,RADIOSINUNISON:0x2000000,COMMITONSELCHANGE:0x4000000};exports.AnnotationFieldFlag=AnnotationFieldFlag;var AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};exports.AnnotationBorderStyleType=AnnotationBorderStyleType;var AnnotationActionEventType={E:\"Mouse Enter\",X:\"Mouse Exit\",D:\"Mouse Down\",U:\"Mouse Up\",Fo:\"Focus\",Bl:\"Blur\",PO:\"PageOpen\",PC:\"PageClose\",PV:\"PageVisible\",PI:\"PageInvisible\",K:\"Keystroke\",F:\"Format\",V:\"Validate\",C:\"Calculate\"};exports.AnnotationActionEventType=AnnotationActionEventType;var DocumentActionEventType={WC:\"WillClose\",WS:\"WillSave\",DS:\"DidSave\",WP:\"WillPrint\",DP:\"DidPrint\"};exports.DocumentActionEventType=DocumentActionEventType;var PageActionEventType={O:\"PageOpen\",C:\"PageClose\"};exports.PageActionEventType=PageActionEventType;var VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5};exports.VerbosityLevel=VerbosityLevel;var CMapCompressionType={NONE:0,BINARY:1};exports.CMapCompressionType=CMapCompressionType;var OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};exports.OPS=OPS;var PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};exports.PasswordResponses=PasswordResponses;var verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(level){if(Number.isInteger(level)){verbosity=level;}}function getVerbosityLevel(){return verbosity;}function info(msg){if(verbosity>=VerbosityLevel.INFOS){console.log(\"Info: \".concat(msg));}}function warn(msg){if(verbosity>=VerbosityLevel.WARNINGS){console.log(\"Warning: \".concat(msg));}}function unreachable(msg){throw new Error(msg);}function assert(cond,msg){if(!cond){unreachable(msg);}}function _isValidProtocol(url){switch(url===null||url===void 0?void 0:url.protocol){case\"http:\":case\"https:\":case\"ftp:\":case\"mailto:\":case\"tel:\":return true;default:return false;}}function createValidAbsoluteUrl(url){var baseUrl=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(!url){return null;}try{if(options&&typeof url===\"string\"){if(options.addDefaultProtocol&&url.startsWith(\"www.\")){var dots=url.match(/\\./g);if((dots===null||dots===void 0?void 0:dots.length)>=2){url=\"http://\".concat(url);}}if(options.tryConvertEncoding){try{url=stringToUTF8String(url);}catch(_unused){}}}var absoluteUrl=baseUrl?new URL(url,baseUrl):new URL(url);if(_isValidProtocol(absoluteUrl)){return absoluteUrl;}}catch(_unused2){}return null;}function shadow(obj,prop,value){var nonSerializable=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;Object.defineProperty(obj,prop,{value:value,enumerable:!nonSerializable,configurable:true,writable:false});return value;}var BaseException=function BaseExceptionClosure(){function BaseException(message,name){if(this.constructor===BaseException){unreachable(\"Cannot initialize BaseException.\");}this.message=message;this.name=name;}BaseException.prototype=new Error();BaseException.constructor=BaseException;return BaseException;}();exports.BaseException=BaseException;var PasswordException=/*#__PURE__*/function(_BaseException){function PasswordException(msg,code){var _this;_classCallCheck(this,PasswordException);_this=_callSuper(this,PasswordException,[msg,\"PasswordException\"]);_this.code=code;return _this;}_inherits(PasswordException,_BaseException);return _createClass(PasswordException);}(BaseException);exports.PasswordException=PasswordException;var UnknownErrorException=/*#__PURE__*/function(_BaseException2){function UnknownErrorException(msg,details){var _this2;_classCallCheck(this,UnknownErrorException);_this2=_callSuper(this,UnknownErrorException,[msg,\"UnknownErrorException\"]);_this2.details=details;return _this2;}_inherits(UnknownErrorException,_BaseException2);return _createClass(UnknownErrorException);}(BaseException);exports.UnknownErrorException=UnknownErrorException;var InvalidPDFException=/*#__PURE__*/function(_BaseException3){function InvalidPDFException(msg){_classCallCheck(this,InvalidPDFException);return _callSuper(this,InvalidPDFException,[msg,\"InvalidPDFException\"]);}_inherits(InvalidPDFException,_BaseException3);return _createClass(InvalidPDFException);}(BaseException);exports.InvalidPDFException=InvalidPDFException;var MissingPDFException=/*#__PURE__*/function(_BaseException4){function MissingPDFException(msg){_classCallCheck(this,MissingPDFException);return _callSuper(this,MissingPDFException,[msg,\"MissingPDFException\"]);}_inherits(MissingPDFException,_BaseException4);return _createClass(MissingPDFException);}(BaseException);exports.MissingPDFException=MissingPDFException;var UnexpectedResponseException=/*#__PURE__*/function(_BaseException5){function UnexpectedResponseException(msg,status){var _this3;_classCallCheck(this,UnexpectedResponseException);_this3=_callSuper(this,UnexpectedResponseException,[msg,\"UnexpectedResponseException\"]);_this3.status=status;return _this3;}_inherits(UnexpectedResponseException,_BaseException5);return _createClass(UnexpectedResponseException);}(BaseException);exports.UnexpectedResponseException=UnexpectedResponseException;var FormatError=/*#__PURE__*/function(_BaseException6){function FormatError(msg){_classCallCheck(this,FormatError);return _callSuper(this,FormatError,[msg,\"FormatError\"]);}_inherits(FormatError,_BaseException6);return _createClass(FormatError);}(BaseException);exports.FormatError=FormatError;var AbortException=/*#__PURE__*/function(_BaseException7){function AbortException(msg){_classCallCheck(this,AbortException);return _callSuper(this,AbortException,[msg,\"AbortException\"]);}_inherits(AbortException,_BaseException7);return _createClass(AbortException);}(BaseException);exports.AbortException=AbortException;function bytesToString(bytes){if(_typeof(bytes)!==\"object\"||(bytes===null||bytes===void 0?void 0:bytes.length)===undefined){unreachable(\"Invalid argument for bytesToString\");}var length=bytes.length;var MAX_ARGUMENT_COUNT=8192;if(length<MAX_ARGUMENT_COUNT){return String.fromCharCode.apply(null,bytes);}var strBuf=[];for(var i=0;i<length;i+=MAX_ARGUMENT_COUNT){var chunkEnd=Math.min(i+MAX_ARGUMENT_COUNT,length);var chunk=bytes.subarray(i,chunkEnd);strBuf.push(String.fromCharCode.apply(null,chunk));}return strBuf.join(\"\");}function stringToBytes(str){if(typeof str!==\"string\"){unreachable(\"Invalid argument for stringToBytes\");}var length=str.length;var bytes=new Uint8Array(length);for(var i=0;i<length;++i){bytes[i]=str.charCodeAt(i)&0xff;}return bytes;}function string32(value){return String.fromCharCode(value>>24&0xff,value>>16&0xff,value>>8&0xff,value&0xff);}function objectSize(obj){return Object.keys(obj).length;}function objectFromMap(map){var obj=Object.create(null);var _iterator=_createForOfIteratorHelper(map),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=_slicedToArray(_step.value,2),key=_step$value[0],value=_step$value[1];obj[key]=value;}}catch(err){_iterator.e(err);}finally{_iterator.f();}return obj;}function isLittleEndian(){var buffer8=new Uint8Array(4);buffer8[0]=1;var view32=new Uint32Array(buffer8.buffer,0,1);return view32[0]===1;}function isEvalSupported(){try{new Function(\"\");return true;}catch(_unused3){return false;}}var FeatureTest=/*#__PURE__*/function(){function FeatureTest(){_classCallCheck(this,FeatureTest);}return _createClass(FeatureTest,null,[{key:\"isLittleEndian\",get:function get(){return shadow(this,\"isLittleEndian\",isLittleEndian());}},{key:\"isEvalSupported\",get:function get(){return shadow(this,\"isEvalSupported\",isEvalSupported());}},{key:\"isOffscreenCanvasSupported\",get:function get(){return shadow(this,\"isOffscreenCanvasSupported\",typeof OffscreenCanvas!==\"undefined\");}},{key:\"platform\",get:function get(){if(typeof navigator===\"undefined\"){return shadow(this,\"platform\",{isWin:false,isMac:false});}return shadow(this,\"platform\",{isWin:navigator.platform.includes(\"Win\"),isMac:navigator.platform.includes(\"Mac\")});}},{key:\"isCSSRoundSupported\",get:function get(){var _globalThis$CSS,_globalThis$CSS$suppo;return shadow(this,\"isCSSRoundSupported\",(_globalThis$CSS=globalThis.CSS)===null||_globalThis$CSS===void 0||(_globalThis$CSS$suppo=_globalThis$CSS.supports)===null||_globalThis$CSS$suppo===void 0?void 0:_globalThis$CSS$suppo.call(_globalThis$CSS,\"width: round(1.5px, 1px)\"));}}]);}();exports.FeatureTest=FeatureTest;var hexNumbers=_toConsumableArray(Array(256).keys()).map(function(n){return n.toString(16).padStart(2,\"0\");});var Util=/*#__PURE__*/function(){function Util(){_classCallCheck(this,Util);}return _createClass(Util,null,[{key:\"makeHexColor\",value:function makeHexColor(r,g,b){return\"#\".concat(hexNumbers[r]).concat(hexNumbers[g]).concat(hexNumbers[b]);}},{key:\"scaleMinMax\",value:function scaleMinMax(transform,minMax){var temp;if(transform[0]){if(transform[0]<0){temp=minMax[0];minMax[0]=minMax[1];minMax[1]=temp;}minMax[0]*=transform[0];minMax[1]*=transform[0];if(transform[3]<0){temp=minMax[2];minMax[2]=minMax[3];minMax[3]=temp;}minMax[2]*=transform[3];minMax[3]*=transform[3];}else{temp=minMax[0];minMax[0]=minMax[2];minMax[2]=temp;temp=minMax[1];minMax[1]=minMax[3];minMax[3]=temp;if(transform[1]<0){temp=minMax[2];minMax[2]=minMax[3];minMax[3]=temp;}minMax[2]*=transform[1];minMax[3]*=transform[1];if(transform[2]<0){temp=minMax[0];minMax[0]=minMax[1];minMax[1]=temp;}minMax[0]*=transform[2];minMax[1]*=transform[2];}minMax[0]+=transform[4];minMax[1]+=transform[4];minMax[2]+=transform[5];minMax[3]+=transform[5];}},{key:\"transform\",value:function transform(m1,m2){return[m1[0]*m2[0]+m1[2]*m2[1],m1[1]*m2[0]+m1[3]*m2[1],m1[0]*m2[2]+m1[2]*m2[3],m1[1]*m2[2]+m1[3]*m2[3],m1[0]*m2[4]+m1[2]*m2[5]+m1[4],m1[1]*m2[4]+m1[3]*m2[5]+m1[5]];}},{key:\"applyTransform\",value:function applyTransform(p,m){var xt=p[0]*m[0]+p[1]*m[2]+m[4];var yt=p[0]*m[1]+p[1]*m[3]+m[5];return[xt,yt];}},{key:\"applyInverseTransform\",value:function applyInverseTransform(p,m){var d=m[0]*m[3]-m[1]*m[2];var xt=(p[0]*m[3]-p[1]*m[2]+m[2]*m[5]-m[4]*m[3])/d;var yt=(-p[0]*m[1]+p[1]*m[0]+m[4]*m[1]-m[5]*m[0])/d;return[xt,yt];}},{key:\"getAxialAlignedBoundingBox\",value:function getAxialAlignedBoundingBox(r,m){var p1=this.applyTransform(r,m);var p2=this.applyTransform(r.slice(2,4),m);var p3=this.applyTransform([r[0],r[3]],m);var p4=this.applyTransform([r[2],r[1]],m);return[Math.min(p1[0],p2[0],p3[0],p4[0]),Math.min(p1[1],p2[1],p3[1],p4[1]),Math.max(p1[0],p2[0],p3[0],p4[0]),Math.max(p1[1],p2[1],p3[1],p4[1])];}},{key:\"inverseTransform\",value:function inverseTransform(m){var d=m[0]*m[3]-m[1]*m[2];return[m[3]/d,-m[1]/d,-m[2]/d,m[0]/d,(m[2]*m[5]-m[4]*m[3])/d,(m[4]*m[1]-m[5]*m[0])/d];}},{key:\"singularValueDecompose2dScale\",value:function singularValueDecompose2dScale(m){var transpose=[m[0],m[2],m[1],m[3]];var a=m[0]*transpose[0]+m[1]*transpose[2];var b=m[0]*transpose[1]+m[1]*transpose[3];var c=m[2]*transpose[0]+m[3]*transpose[2];var d=m[2]*transpose[1]+m[3]*transpose[3];var first=(a+d)/2;var second=Math.sqrt(Math.pow(a+d,2)-4*(a*d-c*b))/2;var sx=first+second||1;var sy=first-second||1;return[Math.sqrt(sx),Math.sqrt(sy)];}},{key:\"normalizeRect\",value:function normalizeRect(rect){var r=rect.slice(0);if(rect[0]>rect[2]){r[0]=rect[2];r[2]=rect[0];}if(rect[1]>rect[3]){r[1]=rect[3];r[3]=rect[1];}return r;}},{key:\"intersect\",value:function intersect(rect1,rect2){var xLow=Math.max(Math.min(rect1[0],rect1[2]),Math.min(rect2[0],rect2[2]));var xHigh=Math.min(Math.max(rect1[0],rect1[2]),Math.max(rect2[0],rect2[2]));if(xLow>xHigh){return null;}var yLow=Math.max(Math.min(rect1[1],rect1[3]),Math.min(rect2[1],rect2[3]));var yHigh=Math.min(Math.max(rect1[1],rect1[3]),Math.max(rect2[1],rect2[3]));if(yLow>yHigh){return null;}return[xLow,yLow,xHigh,yHigh];}},{key:\"bezierBoundingBox\",value:function bezierBoundingBox(x0,y0,x1,y1,x2,y2,x3,y3){var tvalues=[],bounds=[[],[]];var a,b,c,t,t1,t2,b2ac,sqrtb2ac;for(var i=0;i<2;++i){if(i===0){b=6*x0-12*x1+6*x2;a=-3*x0+9*x1-9*x2+3*x3;c=3*x1-3*x0;}else{b=6*y0-12*y1+6*y2;a=-3*y0+9*y1-9*y2+3*y3;c=3*y1-3*y0;}if(Math.abs(a)<1e-12){if(Math.abs(b)<1e-12){continue;}t=-c/b;if(0<t&&t<1){tvalues.push(t);}continue;}b2ac=b*b-4*c*a;sqrtb2ac=Math.sqrt(b2ac);if(b2ac<0){continue;}t1=(-b+sqrtb2ac)/(2*a);if(0<t1&&t1<1){tvalues.push(t1);}t2=(-b-sqrtb2ac)/(2*a);if(0<t2&&t2<1){tvalues.push(t2);}}var j=tvalues.length,mt;var jlen=j;while(j--){t=tvalues[j];mt=1-t;bounds[0][j]=mt*mt*mt*x0+3*mt*mt*t*x1+3*mt*t*t*x2+t*t*t*x3;bounds[1][j]=mt*mt*mt*y0+3*mt*mt*t*y1+3*mt*t*t*y2+t*t*t*y3;}bounds[0][jlen]=x0;bounds[1][jlen]=y0;bounds[0][jlen+1]=x3;bounds[1][jlen+1]=y3;bounds[0].length=bounds[1].length=jlen+2;return[Math.min.apply(Math,_toConsumableArray(bounds[0])),Math.min.apply(Math,_toConsumableArray(bounds[1])),Math.max.apply(Math,_toConsumableArray(bounds[0])),Math.max.apply(Math,_toConsumableArray(bounds[1]))];}}]);}();exports.Util=Util;var PDFStringTranslateTable=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0x2d8,0x2c7,0x2c6,0x2d9,0x2dd,0x2db,0x2da,0x2dc,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0x2022,0x2020,0x2021,0x2026,0x2014,0x2013,0x192,0x2044,0x2039,0x203a,0x2212,0x2030,0x201e,0x201c,0x201d,0x2018,0x2019,0x201a,0x2122,0xfb01,0xfb02,0x141,0x152,0x160,0x178,0x17d,0x131,0x142,0x153,0x161,0x17e,0,0x20ac];function stringToPDFString(str){if(str[0]>=\"\\xEF\"){var encoding;if(str[0]===\"\\xFE\"&&str[1]===\"\\xFF\"){encoding=\"utf-16be\";}else if(str[0]===\"\\xFF\"&&str[1]===\"\\xFE\"){encoding=\"utf-16le\";}else if(str[0]===\"\\xEF\"&&str[1]===\"\\xBB\"&&str[2]===\"\\xBF\"){encoding=\"utf-8\";}if(encoding){try{var decoder=new TextDecoder(encoding,{fatal:true});var buffer=stringToBytes(str);return decoder.decode(buffer);}catch(ex){warn(\"stringToPDFString: \\\"\".concat(ex,\"\\\".\"));}}}var strBuf=[];for(var i=0,ii=str.length;i<ii;i++){var code=PDFStringTranslateTable[str.charCodeAt(i)];strBuf.push(code?String.fromCharCode(code):str.charAt(i));}return strBuf.join(\"\");}function stringToUTF8String(str){return decodeURIComponent(escape(str));}function utf8StringToString(str){return unescape(encodeURIComponent(str));}function isArrayBuffer(v){return _typeof(v)===\"object\"&&(v===null||v===void 0?void 0:v.byteLength)!==undefined;}function isArrayEqual(arr1,arr2){if(arr1.length!==arr2.length){return false;}for(var i=0,ii=arr1.length;i<ii;i++){if(arr1[i]!==arr2[i]){return false;}}return true;}function getModificationDate(){var date=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Date();var buffer=[date.getUTCFullYear().toString(),(date.getUTCMonth()+1).toString().padStart(2,\"0\"),date.getUTCDate().toString().padStart(2,\"0\"),date.getUTCHours().toString().padStart(2,\"0\"),date.getUTCMinutes().toString().padStart(2,\"0\"),date.getUTCSeconds().toString().padStart(2,\"0\")];return buffer.join(\"\");}var _settled=/*#__PURE__*/new WeakMap();var PromiseCapability=/*#__PURE__*/function(){function PromiseCapability(){var _this4=this;_classCallCheck(this,PromiseCapability);_classPrivateFieldInitSpec(this,_settled,false);this.promise=new Promise(function(resolve,reject){_this4.resolve=function(data){_classPrivateFieldSet(_settled,_this4,true);resolve(data);};_this4.reject=function(reason){_classPrivateFieldSet(_settled,_this4,true);reject(reason);};});}return _createClass(PromiseCapability,[{key:\"settled\",get:function get(){return _classPrivateFieldGet(_settled,this);}}]);}();exports.PromiseCapability=PromiseCapability;var NormalizeRegex=null;var NormalizationMap=null;function normalizeUnicode(str){if(!NormalizeRegex){NormalizeRegex=/([\\xA0\\xB5\\u037E\\u0EB3\\u2000-\\u200A\\u202F\\u2126\\uFB00-\\uFB04\\uFB06\\uFB20-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBA1\\uFBA4-\\uFBA9\\uFBAE-\\uFBB1\\uFBD3-\\uFBDC\\uFBDE-\\uFBE7\\uFBEA-\\uFBF8\\uFBFC\\uFBFD\\uFC00-\\uFC5D\\uFC64-\\uFCF1\\uFCF5-\\uFD3D\\uFD88\\uFDF4\\uFDFA\\uFDFB\\uFE71\\uFE77\\uFE79\\uFE7B\\uFE7D]+)|(\\uFB05+)/g;NormalizationMap=new Map([[\"ﬅ\",\"ſt\"]]);}return str.replaceAll(NormalizeRegex,function(_,p1,p2){return p1?p1.normalize(\"NFKC\"):NormalizationMap.get(p2);});}function getUuid(){var _crypto,_crypto2;if(typeof crypto!==\"undefined\"&&typeof((_crypto=crypto)===null||_crypto===void 0?void 0:_crypto.randomUUID)===\"function\"){return crypto.randomUUID();}var buf=new Uint8Array(32);if(typeof crypto!==\"undefined\"&&typeof((_crypto2=crypto)===null||_crypto2===void 0?void 0:_crypto2.getRandomValues)===\"function\"){crypto.getRandomValues(buf);}else{for(var i=0;i<32;i++){buf[i]=Math.floor(Math.random()*255);}}return bytesToString(buf);}var AnnotationPrefix=\"pdfjs_internal_id_\";exports.AnnotationPrefix=AnnotationPrefix;/***/}),(/* 2 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,\"__esModule\",{value:true});exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0;Object.defineProperty(exports,\"SVGGraphics\",{enumerable:true,get:function get(){return _displaySvg.SVGGraphics;}});exports.build=void 0;exports.getDocument=getDocument;exports.version=void 0;var _util=__w_pdfjs_require__(1);var _annotation_storage=__w_pdfjs_require__(3);var _display_utils=__w_pdfjs_require__(6);var _font_loader=__w_pdfjs_require__(9);var _displayNode_utils=__w_pdfjs_require__(10);var _canvas=__w_pdfjs_require__(11);var _worker_options=__w_pdfjs_require__(14);var _message_handler=__w_pdfjs_require__(15);var _metadata=__w_pdfjs_require__(16);var _optional_content_config=__w_pdfjs_require__(17);var _transport_stream=__w_pdfjs_require__(18);var _displayFetch_stream=__w_pdfjs_require__(19);var _displayNetwork=__w_pdfjs_require__(22);var _displayNode_stream=__w_pdfjs_require__(23);var _displaySvg=__w_pdfjs_require__(24);var _xfa_text=__w_pdfjs_require__(25);var DEFAULT_RANGE_CHUNK_SIZE=65536;var RENDERING_CANCELLED_TIMEOUT=100;var DELAYED_CLEANUP_TIMEOUT=5000;var DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;var DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(src){var _src$password,_src$length;if(typeof src===\"string\"||src instanceof URL){src={url:src};}else if((0,_util.isArrayBuffer)(src)){src={data:src};}if(_typeof(src)!==\"object\"){throw new Error(\"Invalid parameter in getDocument, need parameter object.\");}if(!src.url&&!src.data&&!src.range){throw new Error(\"Invalid parameter object: need either .data, .range or .url\");}var task=new PDFDocumentLoadingTask();var docId=task.docId;var url=src.url?getUrlProp(src.url):null;var data=src.data?getDataProp(src.data):null;var httpHeaders=src.httpHeaders||null;var withCredentials=src.withCredentials===true;var password=(_src$password=src.password)!==null&&_src$password!==void 0?_src$password:null;var rangeTransport=src.range instanceof PDFDataRangeTransport?src.range:null;var rangeChunkSize=Number.isInteger(src.rangeChunkSize)&&src.rangeChunkSize>0?src.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;var worker=src.worker instanceof PDFWorker?src.worker:null;var verbosity=src.verbosity;var docBaseUrl=typeof src.docBaseUrl===\"string\"&&!(0,_display_utils.isDataScheme)(src.docBaseUrl)?src.docBaseUrl:null;var cMapUrl=typeof src.cMapUrl===\"string\"?src.cMapUrl:null;var cMapPacked=src.cMapPacked!==false;var CMapReaderFactory=src.CMapReaderFactory||DefaultCMapReaderFactory;var standardFontDataUrl=typeof src.standardFontDataUrl===\"string\"?src.standardFontDataUrl:null;var StandardFontDataFactory=src.StandardFontDataFactory||DefaultStandardFontDataFactory;var ignoreErrors=src.stopAtErrors!==true;var maxImageSize=Number.isInteger(src.maxImageSize)&&src.maxImageSize>-1?src.maxImageSize:-1;var isEvalSupported=src.isEvalSupported!==false;var isOffscreenCanvasSupported=typeof src.isOffscreenCanvasSupported===\"boolean\"?src.isOffscreenCanvasSupported:!_util.isNodeJS;var canvasMaxAreaInBytes=Number.isInteger(src.canvasMaxAreaInBytes)?src.canvasMaxAreaInBytes:-1;var disableFontFace=typeof src.disableFontFace===\"boolean\"?src.disableFontFace:_util.isNodeJS;var fontExtraProperties=src.fontExtraProperties===true;var enableXfa=src.enableXfa===true;var ownerDocument=src.ownerDocument||globalThis.document;var disableRange=src.disableRange===true;var disableStream=src.disableStream===true;var disableAutoFetch=src.disableAutoFetch===true;var pdfBug=src.pdfBug===true;var length=rangeTransport?rangeTransport.length:(_src$length=src.length)!==null&&_src$length!==void 0?_src$length:NaN;var useSystemFonts=typeof src.useSystemFonts===\"boolean\"?src.useSystemFonts:!_util.isNodeJS&&!disableFontFace;var useWorkerFetch=typeof src.useWorkerFetch===\"boolean\"?src.useWorkerFetch:CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory&&cMapUrl&&standardFontDataUrl&&(0,_display_utils.isValidFetchUrl)(cMapUrl,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(standardFontDataUrl,document.baseURI);var canvasFactory=src.canvasFactory||new DefaultCanvasFactory({ownerDocument:ownerDocument});var filterFactory=src.filterFactory||new DefaultFilterFactory({docId:docId,ownerDocument:ownerDocument});var styleElement=null;(0,_util.setVerbosityLevel)(verbosity);var transportFactory={canvasFactory:canvasFactory,filterFactory:filterFactory};if(!useWorkerFetch){transportFactory.cMapReaderFactory=new CMapReaderFactory({baseUrl:cMapUrl,isCompressed:cMapPacked});transportFactory.standardFontDataFactory=new StandardFontDataFactory({baseUrl:standardFontDataUrl});}if(!worker){var workerParams={verbosity:verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};worker=workerParams.port?PDFWorker.fromPort(workerParams):new PDFWorker(workerParams);task._worker=worker;}var fetchDocParams={docId:docId,apiVersion:'3.11.174',data:data,password:password,disableAutoFetch:disableAutoFetch,rangeChunkSize:rangeChunkSize,length:length,docBaseUrl:docBaseUrl,enableXfa:enableXfa,evaluatorOptions:{maxImageSize:maxImageSize,disableFontFace:disableFontFace,ignoreErrors:ignoreErrors,isEvalSupported:isEvalSupported,isOffscreenCanvasSupported:isOffscreenCanvasSupported,canvasMaxAreaInBytes:canvasMaxAreaInBytes,fontExtraProperties:fontExtraProperties,useSystemFonts:useSystemFonts,cMapUrl:useWorkerFetch?cMapUrl:null,standardFontDataUrl:useWorkerFetch?standardFontDataUrl:null}};var transportParams={ignoreErrors:ignoreErrors,isEvalSupported:isEvalSupported,disableFontFace:disableFontFace,fontExtraProperties:fontExtraProperties,enableXfa:enableXfa,ownerDocument:ownerDocument,disableAutoFetch:disableAutoFetch,pdfBug:pdfBug,styleElement:styleElement};worker.promise.then(function(){if(task.destroyed){throw new Error(\"Loading aborted\");}var workerIdPromise=_fetchDocument(worker,fetchDocParams);var networkStreamPromise=new Promise(function(resolve){var networkStream;if(rangeTransport){networkStream=new _transport_stream.PDFDataTransportStream({length:length,initialData:rangeTransport.initialData,progressiveDone:rangeTransport.progressiveDone,contentDispositionFilename:rangeTransport.contentDispositionFilename,disableRange:disableRange,disableStream:disableStream},rangeTransport);}else if(!data){var createPDFNetworkStream=function createPDFNetworkStream(params){if(_util.isNodeJS){return new _displayNode_stream.PDFNodeStream(params);}return(0,_display_utils.isValidFetchUrl)(params.url)?new _displayFetch_stream.PDFFetchStream(params):new _displayNetwork.PDFNetworkStream(params);};networkStream=createPDFNetworkStream({url:url,length:length,httpHeaders:httpHeaders,withCredentials:withCredentials,rangeChunkSize:rangeChunkSize,disableRange:disableRange,disableStream:disableStream});}resolve(networkStream);});return Promise.all([workerIdPromise,networkStreamPromise]).then(function(_ref){var _ref2=_slicedToArray(_ref,2),workerId=_ref2[0],networkStream=_ref2[1];if(task.destroyed){throw new Error(\"Loading aborted\");}var messageHandler=new _message_handler.MessageHandler(docId,workerId,worker.port);var transport=new WorkerTransport(messageHandler,task,networkStream,transportParams,transportFactory);task._transport=transport;messageHandler.send(\"Ready\",null);});})[\"catch\"](task._capability.reject);return task;}function _fetchDocument(_x,_x2){return _fetchDocument2.apply(this,arguments);}function _fetchDocument2(){_fetchDocument2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(worker,source){var workerId;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:if(!worker.destroyed){_context6.next=2;break;}throw new Error(\"Worker was destroyed\");case 2:_context6.next=4;return worker.messageHandler.sendWithPromise(\"GetDocRequest\",source,source.data?[source.data.buffer]:null);case 4:workerId=_context6.sent;if(!worker.destroyed){_context6.next=7;break;}throw new Error(\"Worker was destroyed\");case 7:return _context6.abrupt(\"return\",workerId);case 8:case\"end\":return _context6.stop();}},_callee6);}));return _fetchDocument2.apply(this,arguments);}function getUrlProp(val){if(val instanceof URL){return val.href;}try{return new URL(val,window.location).href;}catch(_unused4){if(_util.isNodeJS&&typeof val===\"string\"){return val;}}throw new Error(\"Invalid PDF url data: \"+\"either string or URL-object is expected in the url property.\");}function getDataProp(val){if(_util.isNodeJS&&typeof Buffer!==\"undefined\"&&val instanceof Buffer){throw new Error(\"Please provide binary data as `Uint8Array`, rather than `Buffer`.\");}if(val instanceof Uint8Array&&val.byteLength===val.buffer.byteLength){return val;}if(typeof val===\"string\"){return(0,_util.stringToBytes)(val);}if(_typeof(val)===\"object\"&&!isNaN(val===null||val===void 0?void 0:val.length)||(0,_util.isArrayBuffer)(val)){return new Uint8Array(val);}throw new Error(\"Invalid PDF binary data: either TypedArray, \"+\"string, or array-like object is expected in the data property.\");}var PDFDocumentLoadingTask=/*#__PURE__*/function(){function PDFDocumentLoadingTask(){var _PDFDocumentLoadingTa,_PDFDocumentLoadingTa2;_classCallCheck(this,PDFDocumentLoadingTask);this._capability=new _util.PromiseCapability();this._transport=null;this._worker=null;this.docId=\"d\".concat((_docId._=(_PDFDocumentLoadingTa=_docId._,_PDFDocumentLoadingTa2=_PDFDocumentLoadingTa++,_PDFDocumentLoadingTa),_PDFDocumentLoadingTa2));this.destroyed=false;this.onPassword=null;this.onProgress=null;}return _createClass(PDFDocumentLoadingTask,[{key:\"promise\",get:function get(){return this._capability.promise;}},{key:\"destroy\",value:function(){var _destroy=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _this$_worker,_this$_transport,_this$_worker2;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:this.destroyed=true;_context.prev=1;if((_this$_worker=this._worker)!==null&&_this$_worker!==void 0&&_this$_worker.port){this._worker._pendingDestroy=true;}_context.next=5;return(_this$_transport=this._transport)===null||_this$_transport===void 0?void 0:_this$_transport.destroy();case 5:_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);if((_this$_worker2=this._worker)!==null&&_this$_worker2!==void 0&&_this$_worker2.port){delete this._worker._pendingDestroy;}throw _context.t0;case 11:this._transport=null;if(this._worker){this._worker.destroy();this._worker=null;}case 13:case\"end\":return _context.stop();}},_callee,this,[[1,7]]);}));function destroy(){return _destroy.apply(this,arguments);}return destroy;}()}]);}();var _docId={_:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var PDFDataRangeTransport=/*#__PURE__*/function(){function PDFDataRangeTransport(length,initialData){var progressiveDone=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var contentDispositionFilename=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;_classCallCheck(this,PDFDataRangeTransport);this.length=length;this.initialData=initialData;this.progressiveDone=progressiveDone;this.contentDispositionFilename=contentDispositionFilename;this._rangeListeners=[];this._progressListeners=[];this._progressiveReadListeners=[];this._progressiveDoneListeners=[];this._readyCapability=new _util.PromiseCapability();}return _createClass(PDFDataRangeTransport,[{key:\"addRangeListener\",value:function addRangeListener(listener){this._rangeListeners.push(listener);}},{key:\"addProgressListener\",value:function addProgressListener(listener){this._progressListeners.push(listener);}},{key:\"addProgressiveReadListener\",value:function addProgressiveReadListener(listener){this._progressiveReadListeners.push(listener);}},{key:\"addProgressiveDoneListener\",value:function addProgressiveDoneListener(listener){this._progressiveDoneListeners.push(listener);}},{key:\"onDataRange\",value:function onDataRange(begin,chunk){var _iterator2=_createForOfIteratorHelper(this._rangeListeners),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var listener=_step2.value;listener(begin,chunk);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}},{key:\"onDataProgress\",value:function onDataProgress(loaded,total){var _this5=this;this._readyCapability.promise.then(function(){var _iterator3=_createForOfIteratorHelper(_this5._progressListeners),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var listener=_step3.value;listener(loaded,total);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}});}},{key:\"onDataProgressiveRead\",value:function onDataProgressiveRead(chunk){var _this6=this;this._readyCapability.promise.then(function(){var _iterator4=_createForOfIteratorHelper(_this6._progressiveReadListeners),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var listener=_step4.value;listener(chunk);}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}});}},{key:\"onDataProgressiveDone\",value:function onDataProgressiveDone(){var _this7=this;this._readyCapability.promise.then(function(){var _iterator5=_createForOfIteratorHelper(_this7._progressiveDoneListeners),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var listener=_step5.value;listener();}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}});}},{key:\"transportReady\",value:function transportReady(){this._readyCapability.resolve();}},{key:\"requestDataRange\",value:function requestDataRange(begin,end){(0,_util.unreachable)(\"Abstract method PDFDataRangeTransport.requestDataRange\");}},{key:\"abort\",value:function abort(){}}]);}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=/*#__PURE__*/function(){function PDFDocumentProxy(pdfInfo,transport){var _this8=this;_classCallCheck(this,PDFDocumentProxy);this._pdfInfo=pdfInfo;this._transport=transport;Object.defineProperty(this,\"getJavaScript\",{value:function value(){(0,_display_utils.deprecated)(\"`PDFDocumentProxy.getJavaScript`, \"+\"please use `PDFDocumentProxy.getJSActions` instead.\");return _this8.getJSActions().then(function(js){if(!js){return js;}var jsArr=[];for(var name in js){jsArr.push.apply(jsArr,_toConsumableArray(js[name]));}return jsArr;});}});}return _createClass(PDFDocumentProxy,[{key:\"annotationStorage\",get:function get(){return this._transport.annotationStorage;}},{key:\"filterFactory\",get:function get(){return this._transport.filterFactory;}},{key:\"numPages\",get:function get(){return this._pdfInfo.numPages;}},{key:\"fingerprints\",get:function get(){return this._pdfInfo.fingerprints;}},{key:\"isPureXfa\",get:function get(){return(0,_util.shadow)(this,\"isPureXfa\",!!this._transport._htmlForXfa);}},{key:\"allXfaHtml\",get:function get(){return this._transport._htmlForXfa;}},{key:\"getPage\",value:function getPage(pageNumber){return this._transport.getPage(pageNumber);}},{key:\"getPageIndex\",value:function getPageIndex(ref){return this._transport.getPageIndex(ref);}},{key:\"getDestinations\",value:function getDestinations(){return this._transport.getDestinations();}},{key:\"getDestination\",value:function getDestination(id){return this._transport.getDestination(id);}},{key:\"getPageLabels\",value:function getPageLabels(){return this._transport.getPageLabels();}},{key:\"getPageLayout\",value:function getPageLayout(){return this._transport.getPageLayout();}},{key:\"getPageMode\",value:function getPageMode(){return this._transport.getPageMode();}},{key:\"getViewerPreferences\",value:function getViewerPreferences(){return this._transport.getViewerPreferences();}},{key:\"getOpenAction\",value:function getOpenAction(){return this._transport.getOpenAction();}},{key:\"getAttachments\",value:function getAttachments(){return this._transport.getAttachments();}},{key:\"getJSActions\",value:function getJSActions(){return this._transport.getDocJSActions();}},{key:\"getOutline\",value:function getOutline(){return this._transport.getOutline();}},{key:\"getOptionalContentConfig\",value:function getOptionalContentConfig(){return this._transport.getOptionalContentConfig();}},{key:\"getPermissions\",value:function getPermissions(){return this._transport.getPermissions();}},{key:\"getMetadata\",value:function getMetadata(){return this._transport.getMetadata();}},{key:\"getMarkInfo\",value:function getMarkInfo(){return this._transport.getMarkInfo();}},{key:\"getData\",value:function getData(){return this._transport.getData();}},{key:\"saveDocument\",value:function saveDocument(){return this._transport.saveDocument();}},{key:\"getDownloadInfo\",value:function getDownloadInfo(){return this._transport.downloadInfoCapability.promise;}},{key:\"cleanup\",value:function cleanup(){var keepLoadedFonts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return this._transport.startCleanup(keepLoadedFonts||this.isPureXfa);}},{key:\"destroy\",value:function destroy(){return this.loadingTask.destroy();}},{key:\"loadingParams\",get:function get(){return this._transport.loadingParams;}},{key:\"loadingTask\",get:function get(){return this._transport.loadingTask;}},{key:\"getFieldObjects\",value:function getFieldObjects(){return this._transport.getFieldObjects();}},{key:\"hasJSActions\",value:function hasJSActions(){return this._transport.hasJSActions();}},{key:\"getCalculationOrderIds\",value:function getCalculationOrderIds(){return this._transport.getCalculationOrderIds();}}]);}();exports.PDFDocumentProxy=PDFDocumentProxy;var _delayedCleanupTimeout=/*#__PURE__*/new WeakMap();var _pendingCleanup=/*#__PURE__*/new WeakMap();var _PDFPageProxy_brand=/*#__PURE__*/new WeakSet();var PDFPageProxy=/*#__PURE__*/function(){function PDFPageProxy(pageIndex,pageInfo,transport){var pdfBug=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;_classCallCheck(this,PDFPageProxy);_classPrivateMethodInitSpec(this,_PDFPageProxy_brand);_classPrivateFieldInitSpec(this,_delayedCleanupTimeout,null);_classPrivateFieldInitSpec(this,_pendingCleanup,false);this._pageIndex=pageIndex;this._pageInfo=pageInfo;this._transport=transport;this._stats=pdfBug?new _display_utils.StatTimer():null;this._pdfBug=pdfBug;this.commonObjs=transport.commonObjs;this.objs=new PDFObjects();this._maybeCleanupAfterRender=false;this._intentStates=new Map();this.destroyed=false;}return _createClass(PDFPageProxy,[{key:\"pageNumber\",get:function get(){return this._pageIndex+1;}},{key:\"rotate\",get:function get(){return this._pageInfo.rotate;}},{key:\"ref\",get:function get(){return this._pageInfo.ref;}},{key:\"userUnit\",get:function get(){return this._pageInfo.userUnit;}},{key:\"view\",get:function get(){return this._pageInfo.view;}},{key:\"getViewport\",value:function getViewport(){var _ref3=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},scale=_ref3.scale,_ref3$rotation=_ref3.rotation,rotation=_ref3$rotation===void 0?this.rotate:_ref3$rotation,_ref3$offsetX=_ref3.offsetX,offsetX=_ref3$offsetX===void 0?0:_ref3$offsetX,_ref3$offsetY=_ref3.offsetY,offsetY=_ref3$offsetY===void 0?0:_ref3$offsetY,_ref3$dontFlip=_ref3.dontFlip,dontFlip=_ref3$dontFlip===void 0?false:_ref3$dontFlip;return new _display_utils.PageViewport({viewBox:this.view,scale:scale,rotation:rotation,offsetX:offsetX,offsetY:offsetY,dontFlip:dontFlip});}},{key:\"getAnnotations\",value:function getAnnotations(){var _ref4=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref4$intent=_ref4.intent,intent=_ref4$intent===void 0?\"display\":_ref4$intent;var intentArgs=this._transport.getRenderingIntent(intent);return this._transport.getAnnotations(this._pageIndex,intentArgs.renderingIntent);}},{key:\"getJSActions\",value:function getJSActions(){return this._transport.getPageJSActions(this._pageIndex);}},{key:\"filterFactory\",get:function get(){return this._transport.filterFactory;}},{key:\"isPureXfa\",get:function get(){return(0,_util.shadow)(this,\"isPureXfa\",!!this._transport._htmlForXfa);}},{key:\"getXfa\",value:function(){var _getXfa=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var _this$_transport$_htm;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt(\"return\",((_this$_transport$_htm=this._transport._htmlForXfa)===null||_this$_transport$_htm===void 0?void 0:_this$_transport$_htm.children[this._pageIndex])||null);case 1:case\"end\":return _context2.stop();}},_callee2,this);}));function getXfa(){return _getXfa.apply(this,arguments);}return getXfa;}()},{key:\"render\",value:function render(_ref5){var _this$_stats,_this9=this,_intentState;var canvasContext=_ref5.canvasContext,viewport=_ref5.viewport,_ref5$intent=_ref5.intent,intent=_ref5$intent===void 0?\"display\":_ref5$intent,_ref5$annotationMode=_ref5.annotationMode,annotationMode=_ref5$annotationMode===void 0?_util.AnnotationMode.ENABLE:_ref5$annotationMode,_ref5$transform=_ref5.transform,transform=_ref5$transform===void 0?null:_ref5$transform,_ref5$background=_ref5.background,background=_ref5$background===void 0?null:_ref5$background,_ref5$optionalContent=_ref5.optionalContentConfigPromise,optionalContentConfigPromise=_ref5$optionalContent===void 0?null:_ref5$optionalContent,_ref5$annotationCanva=_ref5.annotationCanvasMap,annotationCanvasMap=_ref5$annotationCanva===void 0?null:_ref5$annotationCanva,_ref5$pageColors=_ref5.pageColors,pageColors=_ref5$pageColors===void 0?null:_ref5$pageColors,_ref5$printAnnotation=_ref5.printAnnotationStorage,printAnnotationStorage=_ref5$printAnnotation===void 0?null:_ref5$printAnnotation;(_this$_stats=this._stats)===null||_this$_stats===void 0||_this$_stats.time(\"Overall\");var intentArgs=this._transport.getRenderingIntent(intent,annotationMode,printAnnotationStorage);_classPrivateFieldSet(_pendingCleanup,this,false);_assertClassBrand(_PDFPageProxy_brand,this,_abortDelayedCleanup).call(this);if(!optionalContentConfigPromise){optionalContentConfigPromise=this._transport.getOptionalContentConfig();}var intentState=this._intentStates.get(intentArgs.cacheKey);if(!intentState){intentState=Object.create(null);this._intentStates.set(intentArgs.cacheKey,intentState);}if(intentState.streamReaderCancelTimeout){clearTimeout(intentState.streamReaderCancelTimeout);intentState.streamReaderCancelTimeout=null;}var intentPrint=!!(intentArgs.renderingIntent&_util.RenderingIntentFlag.PRINT);if(!intentState.displayReadyCapability){var _this$_stats2;intentState.displayReadyCapability=new _util.PromiseCapability();intentState.operatorList={fnArray:[],argsArray:[],lastChunk:false,separateAnnots:null};(_this$_stats2=this._stats)===null||_this$_stats2===void 0||_this$_stats2.time(\"Page Request\");this._pumpOperatorList(intentArgs);}var complete=function complete(error){var _this9$_stats,_this9$_stats2;intentState.renderTasks[\"delete\"](internalRenderTask);if(_this9._maybeCleanupAfterRender||intentPrint){_classPrivateFieldSet(_pendingCleanup,_this9,true);}_assertClassBrand(_PDFPageProxy_brand,_this9,_tryCleanup).call(_this9,!intentPrint);if(error){internalRenderTask.capability.reject(error);_this9._abortOperatorList({intentState:intentState,reason:error instanceof Error?error:new Error(error)});}else{internalRenderTask.capability.resolve();}(_this9$_stats=_this9._stats)===null||_this9$_stats===void 0||_this9$_stats.timeEnd(\"Rendering\");(_this9$_stats2=_this9._stats)===null||_this9$_stats2===void 0||_this9$_stats2.timeEnd(\"Overall\");};var internalRenderTask=new InternalRenderTask({callback:complete,params:{canvasContext:canvasContext,viewport:viewport,transform:transform,background:background},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:annotationCanvasMap,operatorList:intentState.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!intentPrint,pdfBug:this._pdfBug,pageColors:pageColors});((_intentState=intentState).renderTasks||(_intentState.renderTasks=new Set())).add(internalRenderTask);var renderTask=internalRenderTask.task;Promise.all([intentState.displayReadyCapability.promise,optionalContentConfigPromise]).then(function(_ref6){var _this9$_stats3;var _ref7=_slicedToArray(_ref6,2),transparency=_ref7[0],optionalContentConfig=_ref7[1];if(_this9.destroyed){complete();return;}(_this9$_stats3=_this9._stats)===null||_this9$_stats3===void 0||_this9$_stats3.time(\"Rendering\");internalRenderTask.initializeGraphics({transparency:transparency,optionalContentConfig:optionalContentConfig});internalRenderTask.operatorListChanged();})[\"catch\"](complete);return renderTask;}},{key:\"getOperatorList\",value:function getOperatorList(){var _ref8=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref8$intent=_ref8.intent,intent=_ref8$intent===void 0?\"display\":_ref8$intent,_ref8$annotationMode=_ref8.annotationMode,annotationMode=_ref8$annotationMode===void 0?_util.AnnotationMode.ENABLE:_ref8$annotationMode,_ref8$printAnnotation=_ref8.printAnnotationStorage,printAnnotationStorage=_ref8$printAnnotation===void 0?null:_ref8$printAnnotation;function operatorListChanged(){if(intentState.operatorList.lastChunk){intentState.opListReadCapability.resolve(intentState.operatorList);intentState.renderTasks[\"delete\"](opListTask);}}var intentArgs=this._transport.getRenderingIntent(intent,annotationMode,printAnnotationStorage,true);var intentState=this._intentStates.get(intentArgs.cacheKey);if(!intentState){intentState=Object.create(null);this._intentStates.set(intentArgs.cacheKey,intentState);}var opListTask;if(!intentState.opListReadCapability){var _intentState2,_this$_stats3;opListTask=Object.create(null);opListTask.operatorListChanged=operatorListChanged;intentState.opListReadCapability=new _util.PromiseCapability();((_intentState2=intentState).renderTasks||(_intentState2.renderTasks=new Set())).add(opListTask);intentState.operatorList={fnArray:[],argsArray:[],lastChunk:false,separateAnnots:null};(_this$_stats3=this._stats)===null||_this$_stats3===void 0||_this$_stats3.time(\"Page Request\");this._pumpOperatorList(intentArgs);}return intentState.opListReadCapability.promise;}},{key:\"streamTextContent\",value:function streamTextContent(){var _ref9=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref9$includeMarkedCo=_ref9.includeMarkedContent,includeMarkedContent=_ref9$includeMarkedCo===void 0?false:_ref9$includeMarkedCo,_ref9$disableNormaliz=_ref9.disableNormalization,disableNormalization=_ref9$disableNormaliz===void 0?false:_ref9$disableNormaliz;var TEXT_CONTENT_CHUNK_SIZE=100;return this._transport.messageHandler.sendWithStream(\"GetTextContent\",{pageIndex:this._pageIndex,includeMarkedContent:includeMarkedContent===true,disableNormalization:disableNormalization===true},{highWaterMark:TEXT_CONTENT_CHUNK_SIZE,size:function size(textContent){return textContent.items.length;}});}},{key:\"getTextContent\",value:function getTextContent(){var params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(this._transport._htmlForXfa){return this.getXfa().then(function(xfa){return _xfa_text.XfaText.textContent(xfa);});}var readableStream=this.streamTextContent(params);return new Promise(function(resolve,reject){function pump(){reader.read().then(function(_ref0){var _textContent$items;var value=_ref0.value,done=_ref0.done;if(done){resolve(textContent);return;}Object.assign(textContent.styles,value.styles);(_textContent$items=textContent.items).push.apply(_textContent$items,_toConsumableArray(value.items));pump();},reject);}var reader=readableStream.getReader();var textContent={items:[],styles:Object.create(null)};pump();});}},{key:\"getStructTree\",value:function getStructTree(){return this._transport.getStructTree(this._pageIndex);}},{key:\"_destroy\",value:function _destroy(){this.destroyed=true;var waitOn=[];var _iterator6=_createForOfIteratorHelper(this._intentStates.values()),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var intentState=_step6.value;this._abortOperatorList({intentState:intentState,reason:new Error(\"Page was destroyed.\"),force:true});if(intentState.opListReadCapability){continue;}var _iterator7=_createForOfIteratorHelper(intentState.renderTasks),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var internalRenderTask=_step7.value;waitOn.push(internalRenderTask.completed);internalRenderTask.cancel();}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}this.objs.clear();_classPrivateFieldSet(_pendingCleanup,this,false);_assertClassBrand(_PDFPageProxy_brand,this,_abortDelayedCleanup).call(this);return Promise.all(waitOn);}},{key:\"cleanup\",value:function cleanup(){var resetStats=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;_classPrivateFieldSet(_pendingCleanup,this,true);var success=_assertClassBrand(_PDFPageProxy_brand,this,_tryCleanup).call(this,false);if(resetStats&&success){this._stats&&(this._stats=new _display_utils.StatTimer());}return success;}},{key:\"_startRenderPage\",value:function _startRenderPage(transparency,cacheKey){var _this$_stats4,_intentState$displayR;var intentState=this._intentStates.get(cacheKey);if(!intentState){return;}(_this$_stats4=this._stats)===null||_this$_stats4===void 0||_this$_stats4.timeEnd(\"Page Request\");(_intentState$displayR=intentState.displayReadyCapability)===null||_intentState$displayR===void 0||_intentState$displayR.resolve(transparency);}},{key:\"_renderPageChunk\",value:function _renderPageChunk(operatorListChunk,intentState){for(var i=0,ii=operatorListChunk.length;i<ii;i++){intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);}intentState.operatorList.lastChunk=operatorListChunk.lastChunk;intentState.operatorList.separateAnnots=operatorListChunk.separateAnnots;var _iterator8=_createForOfIteratorHelper(intentState.renderTasks),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var internalRenderTask=_step8.value;internalRenderTask.operatorListChanged();}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}if(operatorListChunk.lastChunk){_assertClassBrand(_PDFPageProxy_brand,this,_tryCleanup).call(this,true);}}},{key:\"_pumpOperatorList\",value:function _pumpOperatorList(_ref1){var _this0=this;var renderingIntent=_ref1.renderingIntent,cacheKey=_ref1.cacheKey,annotationStorageSerializable=_ref1.annotationStorageSerializable;var map=annotationStorageSerializable.map,transfers=annotationStorageSerializable.transfers;var readableStream=this._transport.messageHandler.sendWithStream(\"GetOperatorList\",{pageIndex:this._pageIndex,intent:renderingIntent,cacheKey:cacheKey,annotationStorage:map},transfers);var reader=readableStream.getReader();var intentState=this._intentStates.get(cacheKey);intentState.streamReader=reader;var _pump=function pump(){reader.read().then(function(_ref10){var value=_ref10.value,done=_ref10.done;if(done){intentState.streamReader=null;return;}if(_this0._transport.destroyed){return;}_this0._renderPageChunk(value,intentState);_pump();},function(reason){intentState.streamReader=null;if(_this0._transport.destroyed){return;}if(intentState.operatorList){intentState.operatorList.lastChunk=true;var _iterator9=_createForOfIteratorHelper(intentState.renderTasks),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var internalRenderTask=_step9.value;internalRenderTask.operatorListChanged();}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}_assertClassBrand(_PDFPageProxy_brand,_this0,_tryCleanup).call(_this0,true);}if(intentState.displayReadyCapability){intentState.displayReadyCapability.reject(reason);}else if(intentState.opListReadCapability){intentState.opListReadCapability.reject(reason);}else{throw reason;}});};_pump();}},{key:\"_abortOperatorList\",value:function _abortOperatorList(_ref11){var _this1=this;var intentState=_ref11.intentState,reason=_ref11.reason,_ref11$force=_ref11.force,force=_ref11$force===void 0?false:_ref11$force;if(!intentState.streamReader){return;}if(intentState.streamReaderCancelTimeout){clearTimeout(intentState.streamReaderCancelTimeout);intentState.streamReaderCancelTimeout=null;}if(!force){if(intentState.renderTasks.size>0){return;}if(reason instanceof _display_utils.RenderingCancelledException){var delay=RENDERING_CANCELLED_TIMEOUT;if(reason.extraDelay>0&&reason.extraDelay<1000){delay+=reason.extraDelay;}intentState.streamReaderCancelTimeout=setTimeout(function(){intentState.streamReaderCancelTimeout=null;_this1._abortOperatorList({intentState:intentState,reason:reason,force:true});},delay);return;}}intentState.streamReader.cancel(new _util.AbortException(reason.message))[\"catch\"](function(){});intentState.streamReader=null;if(this._transport.destroyed){return;}var _iterator0=_createForOfIteratorHelper(this._intentStates),_step0;try{for(_iterator0.s();!(_step0=_iterator0.n()).done;){var _step0$value=_slicedToArray(_step0.value,2),curCacheKey=_step0$value[0],curIntentState=_step0$value[1];if(curIntentState===intentState){this._intentStates[\"delete\"](curCacheKey);break;}}}catch(err){_iterator0.e(err);}finally{_iterator0.f();}this.cleanup();}},{key:\"stats\",get:function get(){return this._stats;}}]);}();function _tryCleanup(){var _this20=this;var delayed=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;_assertClassBrand(_PDFPageProxy_brand,this,_abortDelayedCleanup).call(this);if(!_classPrivateFieldGet(_pendingCleanup,this)||this.destroyed){return false;}if(delayed){_classPrivateFieldSet(_delayedCleanupTimeout,this,setTimeout(function(){_classPrivateFieldSet(_delayedCleanupTimeout,_this20,null);_assertClassBrand(_PDFPageProxy_brand,_this20,_tryCleanup).call(_this20,false);},DELAYED_CLEANUP_TIMEOUT));return false;}var _iterator12=_createForOfIteratorHelper(this._intentStates.values()),_step12;try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){var _step12$value=_step12.value,renderTasks=_step12$value.renderTasks,operatorList=_step12$value.operatorList;if(renderTasks.size>0||!operatorList.lastChunk){return false;}}}catch(err){_iterator12.e(err);}finally{_iterator12.f();}this._intentStates.clear();this.objs.clear();_classPrivateFieldSet(_pendingCleanup,this,false);return true;}function _abortDelayedCleanup(){if(_classPrivateFieldGet(_delayedCleanupTimeout,this)){clearTimeout(_classPrivateFieldGet(_delayedCleanupTimeout,this));_classPrivateFieldSet(_delayedCleanupTimeout,this,null);}}exports.PDFPageProxy=PDFPageProxy;var _listeners=/*#__PURE__*/new WeakMap();var _deferred=/*#__PURE__*/new WeakMap();var LoopbackPort=/*#__PURE__*/function(){function LoopbackPort(){_classCallCheck(this,LoopbackPort);_classPrivateFieldInitSpec(this,_listeners,new Set());_classPrivateFieldInitSpec(this,_deferred,Promise.resolve());}return _createClass(LoopbackPort,[{key:\"postMessage\",value:function postMessage(obj,transfer){var _this10=this;var event={data:structuredClone(obj,transfer?{transfer:transfer}:null)};_classPrivateFieldGet(_deferred,this).then(function(){var _iterator1=_createForOfIteratorHelper(_classPrivateFieldGet(_listeners,_this10)),_step1;try{for(_iterator1.s();!(_step1=_iterator1.n()).done;){var listener=_step1.value;listener.call(_this10,event);}}catch(err){_iterator1.e(err);}finally{_iterator1.f();}});}},{key:\"addEventListener\",value:function addEventListener(name,listener){_classPrivateFieldGet(_listeners,this).add(listener);}},{key:\"removeEventListener\",value:function removeEventListener(name,listener){_classPrivateFieldGet(_listeners,this)[\"delete\"](listener);}},{key:\"terminate\",value:function terminate(){_classPrivateFieldGet(_listeners,this).clear();}}]);}();exports.LoopbackPort=LoopbackPort;var PDFWorkerUtil={isWorkerDisabled:false,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof require===\"function\"){PDFWorkerUtil.isWorkerDisabled=true;PDFWorkerUtil.fallbackWorkerSrc=\"./pdf.worker.js\";}else if((typeof document===\"undefined\"?\"undefined\":_typeof(document))===\"object\"){var _document;var pdfjsFilePath=(_document=document)===null||_document===void 0||(_document=_document.currentScript)===null||_document===void 0?void 0:_document.src;if(pdfjsFilePath){PDFWorkerUtil.fallbackWorkerSrc=pdfjsFilePath.replace(/(\\.(?:min\\.)?js)(\\?.*)?$/i,\".worker$1$2\");}}PDFWorkerUtil.isSameOrigin=function(baseUrl,otherUrl){var base;try{base=new URL(baseUrl);if(!base.origin||base.origin===\"null\"){return false;}}catch(_unused5){return false;}var other=new URL(otherUrl,base);return base.origin===other.origin;};PDFWorkerUtil.createCDNWrapper=function(url){var wrapper=\"importScripts(\\\"\".concat(url,\"\\\");\");return URL.createObjectURL(new Blob([wrapper]));};}var PDFWorker=/*#__PURE__*/function(){function PDFWorker(){var _ref12=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref12$name=_ref12.name,name=_ref12$name===void 0?null:_ref12$name,_ref12$port=_ref12.port,port=_ref12$port===void 0?null:_ref12$port,_ref12$verbosity=_ref12.verbosity,verbosity=_ref12$verbosity===void 0?(0,_util.getVerbosityLevel)():_ref12$verbosity;_classCallCheck(this,PDFWorker);this.name=name;this.destroyed=false;this.verbosity=verbosity;this._readyCapability=new _util.PromiseCapability();this._port=null;this._webWorker=null;this._messageHandler=null;if(port){var _workerPorts$_;if((_workerPorts$_=_workerPorts._)!==null&&_workerPorts$_!==void 0&&_workerPorts$_.has(port)){throw new Error(\"Cannot use more than one PDFWorker per port.\");}(_workerPorts._||(_workerPorts._=new WeakMap())).set(port,this);this._initializeFromPort(port);return;}this._initialize();}return _createClass(PDFWorker,[{key:\"promise\",get:function get(){return this._readyCapability.promise;}},{key:\"port\",get:function get(){return this._port;}},{key:\"messageHandler\",get:function get(){return this._messageHandler;}},{key:\"_initializeFromPort\",value:function _initializeFromPort(port){this._port=port;this._messageHandler=new _message_handler.MessageHandler(\"main\",\"worker\",port);this._messageHandler.on(\"ready\",function(){});this._readyCapability.resolve();this._messageHandler.send(\"configure\",{verbosity:this.verbosity});}},{key:\"_initialize\",value:function _initialize(){var _this11=this;if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){var workerSrc=PDFWorker.workerSrc;try{if(!PDFWorkerUtil.isSameOrigin(window.location.href,workerSrc)){workerSrc=PDFWorkerUtil.createCDNWrapper(new URL(workerSrc,window.location).href);}var worker=new Worker(workerSrc);var messageHandler=new _message_handler.MessageHandler(\"main\",\"worker\",worker);var terminateEarly=function terminateEarly(){worker.removeEventListener(\"error\",onWorkerError);messageHandler.destroy();worker.terminate();if(_this11.destroyed){_this11._readyCapability.reject(new Error(\"Worker was destroyed\"));}else{_this11._setupFakeWorker();}};var onWorkerError=function onWorkerError(){if(!_this11._webWorker){terminateEarly();}};worker.addEventListener(\"error\",onWorkerError);messageHandler.on(\"test\",function(data){worker.removeEventListener(\"error\",onWorkerError);if(_this11.destroyed){terminateEarly();return;}if(data){_this11._messageHandler=messageHandler;_this11._port=worker;_this11._webWorker=worker;_this11._readyCapability.resolve();messageHandler.send(\"configure\",{verbosity:_this11.verbosity});}else{_this11._setupFakeWorker();messageHandler.destroy();worker.terminate();}});messageHandler.on(\"ready\",function(data){worker.removeEventListener(\"error\",onWorkerError);if(_this11.destroyed){terminateEarly();return;}try{sendTest();}catch(_unused6){_this11._setupFakeWorker();}});var sendTest=function sendTest(){var testObj=new Uint8Array();messageHandler.send(\"test\",testObj,[testObj.buffer]);};sendTest();return;}catch(_unused7){(0,_util.info)(\"The worker has been disabled.\");}}this._setupFakeWorker();}},{key:\"_setupFakeWorker\",value:function _setupFakeWorker(){var _this12=this;if(!PDFWorkerUtil.isWorkerDisabled){(0,_util.warn)(\"Setting up fake worker.\");PDFWorkerUtil.isWorkerDisabled=true;}PDFWorker._setupFakeWorkerGlobal.then(function(WorkerMessageHandler){if(_this12.destroyed){_this12._readyCapability.reject(new Error(\"Worker was destroyed\"));return;}var port=new LoopbackPort();_this12._port=port;var id=\"fake\".concat(PDFWorkerUtil.fakeWorkerId++);var workerHandler=new _message_handler.MessageHandler(id+\"_worker\",id,port);WorkerMessageHandler.setup(workerHandler,port);var messageHandler=new _message_handler.MessageHandler(id,id+\"_worker\",port);_this12._messageHandler=messageHandler;_this12._readyCapability.resolve();messageHandler.send(\"configure\",{verbosity:_this12.verbosity});})[\"catch\"](function(reason){_this12._readyCapability.reject(new Error(\"Setting up fake worker failed: \\\"\".concat(reason.message,\"\\\".\")));});}},{key:\"destroy\",value:function destroy(){var _workerPorts$_2;this.destroyed=true;if(this._webWorker){this._webWorker.terminate();this._webWorker=null;}(_workerPorts$_2=_workerPorts._)===null||_workerPorts$_2===void 0||_workerPorts$_2[\"delete\"](this._port);this._port=null;if(this._messageHandler){this._messageHandler.destroy();this._messageHandler=null;}}}],[{key:\"fromPort\",value:function fromPort(params){var _assertClassBrand$_;if(!(params!==null&&params!==void 0&&params.port)){throw new Error(\"PDFWorker.fromPort - invalid method signature.\");}var cachedPort=(_assertClassBrand$_=_assertClassBrand(PDFWorker,this,_workerPorts)._)===null||_assertClassBrand$_===void 0?void 0:_assertClassBrand$_.get(params.port);if(cachedPort){if(cachedPort._pendingDestroy){throw new Error(\"PDFWorker.fromPort - the worker is being destroyed.\\n\"+\"Please remember to await `PDFDocumentLoadingTask.destroy()`-calls.\");}return cachedPort;}return new PDFWorker(params);}},{key:\"workerSrc\",get:function get(){if(_worker_options.GlobalWorkerOptions.workerSrc){return _worker_options.GlobalWorkerOptions.workerSrc;}if(PDFWorkerUtil.fallbackWorkerSrc!==null){if(!_util.isNodeJS){(0,_display_utils.deprecated)('No \"GlobalWorkerOptions.workerSrc\" specified.');}return PDFWorkerUtil.fallbackWorkerSrc;}throw new Error('No \"GlobalWorkerOptions.workerSrc\" specified.');}},{key:\"_mainThreadWorkerMessageHandler\",get:function get(){try{var _globalThis$pdfjsWork;return((_globalThis$pdfjsWork=globalThis.pdfjsWorker)===null||_globalThis$pdfjsWork===void 0?void 0:_globalThis$pdfjsWork.WorkerMessageHandler)||null;}catch(_unused8){return null;}}},{key:\"_setupFakeWorkerGlobal\",get:function get(){var _this13=this;var loader=/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var mainWorkerMessageHandler,worker;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:mainWorkerMessageHandler=_this13._mainThreadWorkerMessageHandler;if(!mainWorkerMessageHandler){_context3.next=3;break;}return _context3.abrupt(\"return\",mainWorkerMessageHandler);case 3:if(!(_util.isNodeJS&&typeof require===\"function\")){_context3.next=6;break;}worker=eval(\"require\")(_this13.workerSrc);return _context3.abrupt(\"return\",worker.WorkerMessageHandler);case 6:_context3.next=8;return(0,_display_utils.loadScript)(_this13.workerSrc);case 8:return _context3.abrupt(\"return\",window.pdfjsWorker.WorkerMessageHandler);case 9:case\"end\":return _context3.stop();}},_callee3);}));return function loader(){return _ref13.apply(this,arguments);};}();return(0,_util.shadow)(this,\"_setupFakeWorkerGlobal\",loader());}}]);}();var _workerPorts={_:void 0};exports.PDFWorker=PDFWorker;var _methodPromises=/*#__PURE__*/new WeakMap();var _pageCache=/*#__PURE__*/new WeakMap();var _pagePromises=/*#__PURE__*/new WeakMap();var _passwordCapability=/*#__PURE__*/new WeakMap();var _WorkerTransport_brand=/*#__PURE__*/new WeakSet();var WorkerTransport=/*#__PURE__*/function(){function WorkerTransport(messageHandler,loadingTask,networkStream,params,factory){_classCallCheck(this,WorkerTransport);_classPrivateMethodInitSpec(this,_WorkerTransport_brand);_classPrivateFieldInitSpec(this,_methodPromises,new Map());_classPrivateFieldInitSpec(this,_pageCache,new Map());_classPrivateFieldInitSpec(this,_pagePromises,new Map());_classPrivateFieldInitSpec(this,_passwordCapability,null);this.messageHandler=messageHandler;this.loadingTask=loadingTask;this.commonObjs=new PDFObjects();this.fontLoader=new _font_loader.FontLoader({ownerDocument:params.ownerDocument,styleElement:params.styleElement});this._params=params;this.canvasFactory=factory.canvasFactory;this.filterFactory=factory.filterFactory;this.cMapReaderFactory=factory.cMapReaderFactory;this.standardFontDataFactory=factory.standardFontDataFactory;this.destroyed=false;this.destroyCapability=null;this._networkStream=networkStream;this._fullReader=null;this._lastProgress=null;this.downloadInfoCapability=new _util.PromiseCapability();this.setupMessageHandler();}return _createClass(WorkerTransport,[{key:\"annotationStorage\",get:function get(){return(0,_util.shadow)(this,\"annotationStorage\",new _annotation_storage.AnnotationStorage());}},{key:\"getRenderingIntent\",value:function getRenderingIntent(intent){var annotationMode=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_util.AnnotationMode.ENABLE;var printAnnotationStorage=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var isOpList=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var renderingIntent=_util.RenderingIntentFlag.DISPLAY;var annotationStorageSerializable=_annotation_storage.SerializableEmpty;switch(intent){case\"any\":renderingIntent=_util.RenderingIntentFlag.ANY;break;case\"display\":break;case\"print\":renderingIntent=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(\"getRenderingIntent - invalid intent: \".concat(intent));}switch(annotationMode){case _util.AnnotationMode.DISABLE:renderingIntent+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:renderingIntent+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:renderingIntent+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE;var annotationStorage=renderingIntent&_util.RenderingIntentFlag.PRINT&&printAnnotationStorage instanceof _annotation_storage.PrintAnnotationStorage?printAnnotationStorage:this.annotationStorage;annotationStorageSerializable=annotationStorage.serializable;break;default:(0,_util.warn)(\"getRenderingIntent - invalid annotationMode: \".concat(annotationMode));}if(isOpList){renderingIntent+=_util.RenderingIntentFlag.OPLIST;}return{renderingIntent:renderingIntent,cacheKey:\"\".concat(renderingIntent,\"_\").concat(annotationStorageSerializable.hash),annotationStorageSerializable:annotationStorageSerializable};}},{key:\"destroy\",value:function destroy(){var _classPrivateFieldGet2,_this14=this;if(this.destroyCapability){return this.destroyCapability.promise;}this.destroyed=true;this.destroyCapability=new _util.PromiseCapability();(_classPrivateFieldGet2=_classPrivateFieldGet(_passwordCapability,this))===null||_classPrivateFieldGet2===void 0||_classPrivateFieldGet2.reject(new Error(\"Worker was destroyed during onPassword callback\"));var waitOn=[];var _iterator10=_createForOfIteratorHelper(_classPrivateFieldGet(_pageCache,this).values()),_step10;try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var page=_step10.value;waitOn.push(page._destroy());}}catch(err){_iterator10.e(err);}finally{_iterator10.f();}_classPrivateFieldGet(_pageCache,this).clear();_classPrivateFieldGet(_pagePromises,this).clear();if(this.hasOwnProperty(\"annotationStorage\")){this.annotationStorage.resetModified();}var terminated=this.messageHandler.sendWithPromise(\"Terminate\",null);waitOn.push(terminated);Promise.all(waitOn).then(function(){var _this14$_networkStrea;_this14.commonObjs.clear();_this14.fontLoader.clear();_classPrivateFieldGet(_methodPromises,_this14).clear();_this14.filterFactory.destroy();(_this14$_networkStrea=_this14._networkStream)===null||_this14$_networkStrea===void 0||_this14$_networkStrea.cancelAllRequests(new _util.AbortException(\"Worker was terminated.\"));if(_this14.messageHandler){_this14.messageHandler.destroy();_this14.messageHandler=null;}_this14.destroyCapability.resolve();},this.destroyCapability.reject);return this.destroyCapability.promise;}},{key:\"setupMessageHandler\",value:function setupMessageHandler(){var _this15=this;var messageHandler=this.messageHandler,loadingTask=this.loadingTask;messageHandler.on(\"GetReader\",function(data,sink){(0,_util.assert)(_this15._networkStream,\"GetReader - no `IPDFStream` instance available.\");_this15._fullReader=_this15._networkStream.getFullReader();_this15._fullReader.onProgress=function(evt){_this15._lastProgress={loaded:evt.loaded,total:evt.total};};sink.onPull=function(){_this15._fullReader.read().then(function(_ref14){var value=_ref14.value,done=_ref14.done;if(done){sink.close();return;}(0,_util.assert)(value instanceof ArrayBuffer,\"GetReader - expected an ArrayBuffer.\");sink.enqueue(new Uint8Array(value),1,[value]);})[\"catch\"](function(reason){sink.error(reason);});};sink.onCancel=function(reason){_this15._fullReader.cancel(reason);sink.ready[\"catch\"](function(readyReason){if(_this15.destroyed){return;}throw readyReason;});};});messageHandler.on(\"ReaderHeadersReady\",function(data){var headersCapability=new _util.PromiseCapability();var fullReader=_this15._fullReader;fullReader.headersReady.then(function(){if(!fullReader.isStreamingSupported||!fullReader.isRangeSupported){if(_this15._lastProgress){var _loadingTask$onProgre;(_loadingTask$onProgre=loadingTask.onProgress)===null||_loadingTask$onProgre===void 0||_loadingTask$onProgre.call(loadingTask,_this15._lastProgress);}fullReader.onProgress=function(evt){var _loadingTask$onProgre2;(_loadingTask$onProgre2=loadingTask.onProgress)===null||_loadingTask$onProgre2===void 0||_loadingTask$onProgre2.call(loadingTask,{loaded:evt.loaded,total:evt.total});};}headersCapability.resolve({isStreamingSupported:fullReader.isStreamingSupported,isRangeSupported:fullReader.isRangeSupported,contentLength:fullReader.contentLength});},headersCapability.reject);return headersCapability.promise;});messageHandler.on(\"GetRangeReader\",function(data,sink){(0,_util.assert)(_this15._networkStream,\"GetRangeReader - no `IPDFStream` instance available.\");var rangeReader=_this15._networkStream.getRangeReader(data.begin,data.end);if(!rangeReader){sink.close();return;}sink.onPull=function(){rangeReader.read().then(function(_ref15){var value=_ref15.value,done=_ref15.done;if(done){sink.close();return;}(0,_util.assert)(value instanceof ArrayBuffer,\"GetRangeReader - expected an ArrayBuffer.\");sink.enqueue(new Uint8Array(value),1,[value]);})[\"catch\"](function(reason){sink.error(reason);});};sink.onCancel=function(reason){rangeReader.cancel(reason);sink.ready[\"catch\"](function(readyReason){if(_this15.destroyed){return;}throw readyReason;});};});messageHandler.on(\"GetDoc\",function(_ref16){var pdfInfo=_ref16.pdfInfo;_this15._numPages=pdfInfo.numPages;_this15._htmlForXfa=pdfInfo.htmlForXfa;delete pdfInfo.htmlForXfa;loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo,_this15));});messageHandler.on(\"DocException\",function(ex){var reason;switch(ex.name){case\"PasswordException\":reason=new _util.PasswordException(ex.message,ex.code);break;case\"InvalidPDFException\":reason=new _util.InvalidPDFException(ex.message);break;case\"MissingPDFException\":reason=new _util.MissingPDFException(ex.message);break;case\"UnexpectedResponseException\":reason=new _util.UnexpectedResponseException(ex.message,ex.status);break;case\"UnknownErrorException\":reason=new _util.UnknownErrorException(ex.message,ex.details);break;default:(0,_util.unreachable)(\"DocException - expected a valid Error.\");}loadingTask._capability.reject(reason);});messageHandler.on(\"PasswordRequest\",function(exception){_classPrivateFieldSet(_passwordCapability,_this15,new _util.PromiseCapability());if(loadingTask.onPassword){var updatePassword=function updatePassword(password){if(password instanceof Error){_classPrivateFieldGet(_passwordCapability,_this15).reject(password);}else{_classPrivateFieldGet(_passwordCapability,_this15).resolve({password:password});}};try{loadingTask.onPassword(updatePassword,exception.code);}catch(ex){_classPrivateFieldGet(_passwordCapability,_this15).reject(ex);}}else{_classPrivateFieldGet(_passwordCapability,_this15).reject(new _util.PasswordException(exception.message,exception.code));}return _classPrivateFieldGet(_passwordCapability,_this15).promise;});messageHandler.on(\"DataLoaded\",function(data){var _loadingTask$onProgre3;(_loadingTask$onProgre3=loadingTask.onProgress)===null||_loadingTask$onProgre3===void 0||_loadingTask$onProgre3.call(loadingTask,{loaded:data.length,total:data.length});_this15.downloadInfoCapability.resolve(data);});messageHandler.on(\"StartRenderPage\",function(data){if(_this15.destroyed){return;}var page=_classPrivateFieldGet(_pageCache,_this15).get(data.pageIndex);page._startRenderPage(data.transparency,data.cacheKey);});messageHandler.on(\"commonobj\",function(_ref17){var _globalThis$FontInspe;var _ref18=_slicedToArray(_ref17,3),id=_ref18[0],type=_ref18[1],exportedData=_ref18[2];if(_this15.destroyed){return;}if(_this15.commonObjs.has(id)){return;}switch(type){case\"Font\":var params=_this15._params;if(\"error\"in exportedData){var exportedError=exportedData.error;(0,_util.warn)(\"Error during font loading: \".concat(exportedError));_this15.commonObjs.resolve(id,exportedError);break;}var inspectFont=params.pdfBug&&(_globalThis$FontInspe=globalThis.FontInspector)!==null&&_globalThis$FontInspe!==void 0&&_globalThis$FontInspe.enabled?function(font,url){return globalThis.FontInspector.fontAdded(font,url);}:null;var font=new _font_loader.FontFaceObject(exportedData,{isEvalSupported:params.isEvalSupported,disableFontFace:params.disableFontFace,ignoreErrors:params.ignoreErrors,inspectFont:inspectFont});_this15.fontLoader.bind(font)[\"catch\"](function(reason){return messageHandler.sendWithPromise(\"FontFallback\",{id:id});})[\"finally\"](function(){if(!params.fontExtraProperties&&font.data){font.data=null;}_this15.commonObjs.resolve(id,font);});break;case\"FontPath\":case\"Image\":case\"Pattern\":_this15.commonObjs.resolve(id,exportedData);break;default:throw new Error(\"Got unknown common object type \".concat(type));}});messageHandler.on(\"obj\",function(_ref19){var _ref20=_slicedToArray(_ref19,4),id=_ref20[0],pageIndex=_ref20[1],type=_ref20[2],imageData=_ref20[3];if(_this15.destroyed){return;}var pageProxy=_classPrivateFieldGet(_pageCache,_this15).get(pageIndex);if(pageProxy.objs.has(id)){return;}switch(type){case\"Image\":pageProxy.objs.resolve(id,imageData);if(imageData){var length;if(imageData.bitmap){var width=imageData.width,height=imageData.height;length=width*height*4;}else{var _imageData$data;length=((_imageData$data=imageData.data)===null||_imageData$data===void 0?void 0:_imageData$data.length)||0;}if(length>_util.MAX_IMAGE_SIZE_TO_CACHE){pageProxy._maybeCleanupAfterRender=true;}}break;case\"Pattern\":pageProxy.objs.resolve(id,imageData);break;default:throw new Error(\"Got unknown object type \".concat(type));}});messageHandler.on(\"DocProgress\",function(data){var _loadingTask$onProgre4;if(_this15.destroyed){return;}(_loadingTask$onProgre4=loadingTask.onProgress)===null||_loadingTask$onProgre4===void 0||_loadingTask$onProgre4.call(loadingTask,{loaded:data.loaded,total:data.total});});messageHandler.on(\"FetchBuiltInCMap\",function(data){if(_this15.destroyed){return Promise.reject(new Error(\"Worker was destroyed.\"));}if(!_this15.cMapReaderFactory){return Promise.reject(new Error(\"CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.\"));}return _this15.cMapReaderFactory.fetch(data);});messageHandler.on(\"FetchStandardFontData\",function(data){if(_this15.destroyed){return Promise.reject(new Error(\"Worker was destroyed.\"));}if(!_this15.standardFontDataFactory){return Promise.reject(new Error(\"StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.\"));}return _this15.standardFontDataFactory.fetch(data);});}},{key:\"getData\",value:function getData(){return this.messageHandler.sendWithPromise(\"GetData\",null);}},{key:\"saveDocument\",value:function saveDocument(){var _this$_fullReader$fil,_this$_fullReader,_this16=this;if(this.annotationStorage.size<=0){(0,_util.warn)(\"saveDocument called while `annotationStorage` is empty, \"+\"please use the getData-method instead.\");}var _this$annotationStora=this.annotationStorage.serializable,map=_this$annotationStora.map,transfers=_this$annotationStora.transfers;return this.messageHandler.sendWithPromise(\"SaveDocument\",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:map,filename:(_this$_fullReader$fil=(_this$_fullReader=this._fullReader)===null||_this$_fullReader===void 0?void 0:_this$_fullReader.filename)!==null&&_this$_fullReader$fil!==void 0?_this$_fullReader$fil:null},transfers)[\"finally\"](function(){_this16.annotationStorage.resetModified();});}},{key:\"getPage\",value:function getPage(pageNumber){var _this17=this;if(!Number.isInteger(pageNumber)||pageNumber<=0||pageNumber>this._numPages){return Promise.reject(new Error(\"Invalid page request.\"));}var pageIndex=pageNumber-1,cachedPromise=_classPrivateFieldGet(_pagePromises,this).get(pageIndex);if(cachedPromise){return cachedPromise;}var promise=this.messageHandler.sendWithPromise(\"GetPage\",{pageIndex:pageIndex}).then(function(pageInfo){if(_this17.destroyed){throw new Error(\"Transport destroyed\");}var page=new PDFPageProxy(pageIndex,pageInfo,_this17,_this17._params.pdfBug);_classPrivateFieldGet(_pageCache,_this17).set(pageIndex,page);return page;});_classPrivateFieldGet(_pagePromises,this).set(pageIndex,promise);return promise;}},{key:\"getPageIndex\",value:function getPageIndex(ref){if(_typeof(ref)!==\"object\"||ref===null||!Number.isInteger(ref.num)||ref.num<0||!Number.isInteger(ref.gen)||ref.gen<0){return Promise.reject(new Error(\"Invalid pageIndex request.\"));}return this.messageHandler.sendWithPromise(\"GetPageIndex\",{num:ref.num,gen:ref.gen});}},{key:\"getAnnotations\",value:function getAnnotations(pageIndex,intent){return this.messageHandler.sendWithPromise(\"GetAnnotations\",{pageIndex:pageIndex,intent:intent});}},{key:\"getFieldObjects\",value:function getFieldObjects(){return _assertClassBrand(_WorkerTransport_brand,this,_cacheSimpleMethod).call(this,\"GetFieldObjects\");}},{key:\"hasJSActions\",value:function hasJSActions(){return _assertClassBrand(_WorkerTransport_brand,this,_cacheSimpleMethod).call(this,\"HasJSActions\");}},{key:\"getCalculationOrderIds\",value:function getCalculationOrderIds(){return this.messageHandler.sendWithPromise(\"GetCalculationOrderIds\",null);}},{key:\"getDestinations\",value:function getDestinations(){return this.messageHandler.sendWithPromise(\"GetDestinations\",null);}},{key:\"getDestination\",value:function getDestination(id){if(typeof id!==\"string\"){return Promise.reject(new Error(\"Invalid destination request.\"));}return this.messageHandler.sendWithPromise(\"GetDestination\",{id:id});}},{key:\"getPageLabels\",value:function getPageLabels(){return this.messageHandler.sendWithPromise(\"GetPageLabels\",null);}},{key:\"getPageLayout\",value:function getPageLayout(){return this.messageHandler.sendWithPromise(\"GetPageLayout\",null);}},{key:\"getPageMode\",value:function getPageMode(){return this.messageHandler.sendWithPromise(\"GetPageMode\",null);}},{key:\"getViewerPreferences\",value:function getViewerPreferences(){return this.messageHandler.sendWithPromise(\"GetViewerPreferences\",null);}},{key:\"getOpenAction\",value:function getOpenAction(){return this.messageHandler.sendWithPromise(\"GetOpenAction\",null);}},{key:\"getAttachments\",value:function getAttachments(){return this.messageHandler.sendWithPromise(\"GetAttachments\",null);}},{key:\"getDocJSActions\",value:function getDocJSActions(){return _assertClassBrand(_WorkerTransport_brand,this,_cacheSimpleMethod).call(this,\"GetDocJSActions\");}},{key:\"getPageJSActions\",value:function getPageJSActions(pageIndex){return this.messageHandler.sendWithPromise(\"GetPageJSActions\",{pageIndex:pageIndex});}},{key:\"getStructTree\",value:function getStructTree(pageIndex){return this.messageHandler.sendWithPromise(\"GetStructTree\",{pageIndex:pageIndex});}},{key:\"getOutline\",value:function getOutline(){return this.messageHandler.sendWithPromise(\"GetOutline\",null);}},{key:\"getOptionalContentConfig\",value:function getOptionalContentConfig(){return this.messageHandler.sendWithPromise(\"GetOptionalContentConfig\",null).then(function(results){return new _optional_content_config.OptionalContentConfig(results);});}},{key:\"getPermissions\",value:function getPermissions(){return this.messageHandler.sendWithPromise(\"GetPermissions\",null);}},{key:\"getMetadata\",value:function getMetadata(){var _this18=this;var name=\"GetMetadata\",cachedPromise=_classPrivateFieldGet(_methodPromises,this).get(name);if(cachedPromise){return cachedPromise;}var promise=this.messageHandler.sendWithPromise(name,null).then(function(results){var _this18$_fullReader$f,_this18$_fullReader,_this18$_fullReader$c,_this18$_fullReader2;return{info:results[0],metadata:results[1]?new _metadata.Metadata(results[1]):null,contentDispositionFilename:(_this18$_fullReader$f=(_this18$_fullReader=_this18._fullReader)===null||_this18$_fullReader===void 0?void 0:_this18$_fullReader.filename)!==null&&_this18$_fullReader$f!==void 0?_this18$_fullReader$f:null,contentLength:(_this18$_fullReader$c=(_this18$_fullReader2=_this18._fullReader)===null||_this18$_fullReader2===void 0?void 0:_this18$_fullReader2.contentLength)!==null&&_this18$_fullReader$c!==void 0?_this18$_fullReader$c:null};});_classPrivateFieldGet(_methodPromises,this).set(name,promise);return promise;}},{key:\"getMarkInfo\",value:function getMarkInfo(){return this.messageHandler.sendWithPromise(\"GetMarkInfo\",null);}},{key:\"startCleanup\",value:function(){var _startCleanup=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var keepLoadedFonts,_iterator11,_step11,page,cleanupSuccessful,_args4=arguments;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:keepLoadedFonts=_args4.length>0&&_args4[0]!==undefined?_args4[0]:false;if(!this.destroyed){_context4.next=3;break;}return _context4.abrupt(\"return\");case 3:_context4.next=5;return this.messageHandler.sendWithPromise(\"Cleanup\",null);case 5:_iterator11=_createForOfIteratorHelper(_classPrivateFieldGet(_pageCache,this).values());_context4.prev=6;_iterator11.s();case 8:if((_step11=_iterator11.n()).done){_context4.next=15;break;}page=_step11.value;cleanupSuccessful=page.cleanup();if(cleanupSuccessful){_context4.next=13;break;}throw new Error(\"startCleanup: Page \".concat(page.pageNumber,\" is currently rendering.\"));case 13:_context4.next=8;break;case 15:_context4.next=20;break;case 17:_context4.prev=17;_context4.t0=_context4[\"catch\"](6);_iterator11.e(_context4.t0);case 20:_context4.prev=20;_iterator11.f();return _context4.finish(20);case 23:this.commonObjs.clear();if(!keepLoadedFonts){this.fontLoader.clear();}_classPrivateFieldGet(_methodPromises,this).clear();this.filterFactory.destroy(true);case 27:case\"end\":return _context4.stop();}},_callee4,this,[[6,17,20,23]]);}));function startCleanup(){return _startCleanup.apply(this,arguments);}return startCleanup;}()},{key:\"loadingParams\",get:function get(){var _this$_params=this._params,disableAutoFetch=_this$_params.disableAutoFetch,enableXfa=_this$_params.enableXfa;return(0,_util.shadow)(this,\"loadingParams\",{disableAutoFetch:disableAutoFetch,enableXfa:enableXfa});}}]);}();function _cacheSimpleMethod(name){var data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var cachedPromise=_classPrivateFieldGet(_methodPromises,this).get(name);if(cachedPromise){return cachedPromise;}var promise=this.messageHandler.sendWithPromise(name,data);_classPrivateFieldGet(_methodPromises,this).set(name,promise);return promise;}var _objs=/*#__PURE__*/new WeakMap();var _PDFObjects_brand=/*#__PURE__*/new WeakSet();var PDFObjects=/*#__PURE__*/function(){function PDFObjects(){_classCallCheck(this,PDFObjects);_classPrivateMethodInitSpec(this,_PDFObjects_brand);_classPrivateFieldInitSpec(this,_objs,Object.create(null));}return _createClass(PDFObjects,[{key:\"get\",value:function get(objId){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(callback){var _obj=_assertClassBrand(_PDFObjects_brand,this,_ensureObj).call(this,objId);_obj.capability.promise.then(function(){return callback(_obj.data);});return null;}var obj=_classPrivateFieldGet(_objs,this)[objId];if(!(obj!==null&&obj!==void 0&&obj.capability.settled)){throw new Error(\"Requesting object that isn't resolved yet \".concat(objId,\".\"));}return obj.data;}},{key:\"has\",value:function has(objId){var obj=_classPrivateFieldGet(_objs,this)[objId];return(obj===null||obj===void 0?void 0:obj.capability.settled)||false;}},{key:\"resolve\",value:function resolve(objId){var data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var obj=_assertClassBrand(_PDFObjects_brand,this,_ensureObj).call(this,objId);obj.data=data;obj.capability.resolve();}},{key:\"clear\",value:function clear(){for(var objId in _classPrivateFieldGet(_objs,this)){var _data$bitmap;var data=_classPrivateFieldGet(_objs,this)[objId].data;data===null||data===void 0||(_data$bitmap=data.bitmap)===null||_data$bitmap===void 0||_data$bitmap.close();}_classPrivateFieldSet(_objs,this,Object.create(null));}}]);}();function _ensureObj(objId){var _classPrivateFieldGet4;return(_classPrivateFieldGet4=_classPrivateFieldGet(_objs,this))[objId]||(_classPrivateFieldGet4[objId]={capability:new _util.PromiseCapability(),data:null});}var _internalRenderTask=/*#__PURE__*/new WeakMap();var RenderTask=/*#__PURE__*/function(){function RenderTask(internalRenderTask){_classCallCheck(this,RenderTask);_classPrivateFieldInitSpec(this,_internalRenderTask,null);_classPrivateFieldSet(_internalRenderTask,this,internalRenderTask);this.onContinue=null;}return _createClass(RenderTask,[{key:\"promise\",get:function get(){return _classPrivateFieldGet(_internalRenderTask,this).capability.promise;}},{key:\"cancel\",value:function cancel(){var extraDelay=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;_classPrivateFieldGet(_internalRenderTask,this).cancel(null,extraDelay);}},{key:\"separateAnnots\",get:function get(){var separateAnnots=_classPrivateFieldGet(_internalRenderTask,this).operatorList.separateAnnots;if(!separateAnnots){return false;}var _classPrivateFieldGet3=_classPrivateFieldGet(_internalRenderTask,this),annotationCanvasMap=_classPrivateFieldGet3.annotationCanvasMap;return separateAnnots.form||separateAnnots.canvas&&(annotationCanvasMap===null||annotationCanvasMap===void 0?void 0:annotationCanvasMap.size)>0;}}]);}();exports.RenderTask=RenderTask;var InternalRenderTask=/*#__PURE__*/function(){function InternalRenderTask(_ref21){var callback=_ref21.callback,params=_ref21.params,objs=_ref21.objs,commonObjs=_ref21.commonObjs,annotationCanvasMap=_ref21.annotationCanvasMap,operatorList=_ref21.operatorList,pageIndex=_ref21.pageIndex,canvasFactory=_ref21.canvasFactory,filterFactory=_ref21.filterFactory,_ref21$useRequestAnim=_ref21.useRequestAnimationFrame,useRequestAnimationFrame=_ref21$useRequestAnim===void 0?false:_ref21$useRequestAnim,_ref21$pdfBug=_ref21.pdfBug,pdfBug=_ref21$pdfBug===void 0?false:_ref21$pdfBug,_ref21$pageColors=_ref21.pageColors,pageColors=_ref21$pageColors===void 0?null:_ref21$pageColors;_classCallCheck(this,InternalRenderTask);this.callback=callback;this.params=params;this.objs=objs;this.commonObjs=commonObjs;this.annotationCanvasMap=annotationCanvasMap;this.operatorListIdx=null;this.operatorList=operatorList;this._pageIndex=pageIndex;this.canvasFactory=canvasFactory;this.filterFactory=filterFactory;this._pdfBug=pdfBug;this.pageColors=pageColors;this.running=false;this.graphicsReadyCallback=null;this.graphicsReady=false;this._useRequestAnimationFrame=useRequestAnimationFrame===true&&typeof window!==\"undefined\";this.cancelled=false;this.capability=new _util.PromiseCapability();this.task=new RenderTask(this);this._cancelBound=this.cancel.bind(this);this._continueBound=this._continue.bind(this);this._scheduleNextBound=this._scheduleNext.bind(this);this._nextBound=this._next.bind(this);this._canvas=params.canvasContext.canvas;}return _createClass(InternalRenderTask,[{key:\"completed\",get:function get(){return this.capability.promise[\"catch\"](function(){});}},{key:\"initializeGraphics\",value:function initializeGraphics(_ref22){var _globalThis$StepperMa,_this$graphicsReadyCa;var _ref22$transparency=_ref22.transparency,transparency=_ref22$transparency===void 0?false:_ref22$transparency,optionalContentConfig=_ref22.optionalContentConfig;if(this.cancelled){return;}if(this._canvas){if(_canvasInUse._.has(this._canvas)){throw new Error(\"Cannot use the same canvas during multiple render() operations. \"+\"Use different canvas or ensure previous operations were \"+\"cancelled or completed.\");}_canvasInUse._.add(this._canvas);}if(this._pdfBug&&(_globalThis$StepperMa=globalThis.StepperManager)!==null&&_globalThis$StepperMa!==void 0&&_globalThis$StepperMa.enabled){this.stepper=globalThis.StepperManager.create(this._pageIndex);this.stepper.init(this.operatorList);this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint();}var _this$params=this.params,canvasContext=_this$params.canvasContext,viewport=_this$params.viewport,transform=_this$params.transform,background=_this$params.background;this.gfx=new _canvas.CanvasGraphics(canvasContext,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:optionalContentConfig},this.annotationCanvasMap,this.pageColors);this.gfx.beginDrawing({transform:transform,viewport:viewport,transparency:transparency,background:background});this.operatorListIdx=0;this.graphicsReady=true;(_this$graphicsReadyCa=this.graphicsReadyCallback)===null||_this$graphicsReadyCa===void 0||_this$graphicsReadyCa.call(this);}},{key:\"cancel\",value:function cancel(){var _this$gfx;var error=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var extraDelay=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;this.running=false;this.cancelled=true;(_this$gfx=this.gfx)===null||_this$gfx===void 0||_this$gfx.endDrawing();_canvasInUse._[\"delete\"](this._canvas);this.callback(error||new _display_utils.RenderingCancelledException(\"Rendering cancelled, page \".concat(this._pageIndex+1),extraDelay));}},{key:\"operatorListChanged\",value:function operatorListChanged(){var _this$stepper;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return;}(_this$stepper=this.stepper)===null||_this$stepper===void 0||_this$stepper.updateOperatorList(this.operatorList);if(this.running){return;}this._continue();}},{key:\"_continue\",value:function _continue(){this.running=true;if(this.cancelled){return;}if(this.task.onContinue){this.task.onContinue(this._scheduleNextBound);}else{this._scheduleNext();}}},{key:\"_scheduleNext\",value:function _scheduleNext(){var _this19=this;if(this._useRequestAnimationFrame){window.requestAnimationFrame(function(){_this19._nextBound()[\"catch\"](_this19._cancelBound);});}else{Promise.resolve().then(this._nextBound)[\"catch\"](this._cancelBound);}}},{key:\"_next\",value:function(){var _next2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:if(!this.cancelled){_context5.next=2;break;}return _context5.abrupt(\"return\");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper);if(this.operatorListIdx===this.operatorList.argsArray.length){this.running=false;if(this.operatorList.lastChunk){this.gfx.endDrawing();_canvasInUse._[\"delete\"](this._canvas);this.callback();}}case 4:case\"end\":return _context5.stop();}},_callee5,this);}));function _next(){return _next2.apply(this,arguments);}return _next;}()}]);}();var _canvasInUse={_:new WeakSet()};var version='3.11.174';exports.version=version;var build='ce8716743';exports.build=build;/***/}),(/* 3 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,\"__esModule\",{value:true});exports.SerializableEmpty=exports.PrintAnnotationStorage=exports.AnnotationStorage=void 0;var _util=__w_pdfjs_require__(1);var _editor=__w_pdfjs_require__(4);var _murmurhash=__w_pdfjs_require__(8);var SerializableEmpty=Object.freeze({map:null,hash:\"\",transfers:undefined});exports.SerializableEmpty=SerializableEmpty;var _modified=/*#__PURE__*/new WeakMap();var _storage=/*#__PURE__*/new WeakMap();var _AnnotationStorage_brand=/*#__PURE__*/new WeakSet();var AnnotationStorage=/*#__PURE__*/function(){function AnnotationStorage(){_classCallCheck(this,AnnotationStorage);_classPrivateMethodInitSpec(this,_AnnotationStorage_brand);_classPrivateFieldInitSpec(this,_modified,false);_classPrivateFieldInitSpec(this,_storage,new Map());this.onSetModified=null;this.onResetModified=null;this.onAnnotationEditor=null;}return _createClass(AnnotationStorage,[{key:\"getValue\",value:function getValue(key,defaultValue){var value=_classPrivateFieldGet(_storage,this).get(key);if(value===undefined){return defaultValue;}return Object.assign(defaultValue,value);}},{key:\"getRawValue\",value:function getRawValue(key){return _classPrivateFieldGet(_storage,this).get(key);}},{key:\"remove\",value:function remove(key){_classPrivateFieldGet(_storage,this)[\"delete\"](key);if(_classPrivateFieldGet(_storage,this).size===0){this.resetModified();}if(typeof this.onAnnotationEditor===\"function\"){var _iterator13=_createForOfIteratorHelper(_classPrivateFieldGet(_storage,this).values()),_step13;try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){var value=_step13.value;if(value instanceof _editor.AnnotationEditor){return;}}}catch(err){_iterator13.e(err);}finally{_iterator13.f();}this.onAnnotationEditor(null);}}},{key:\"setValue\",value:function setValue(key,value){var obj=_classPrivateFieldGet(_storage,this).get(key);var modified=false;if(obj!==undefined){for(var _i=0,_Object$entries=Object.entries(value);_i<_Object$entries.length;_i++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i],2),entry=_Object$entries$_i[0],val=_Object$entries$_i[1];if(obj[entry]!==val){modified=true;obj[entry]=val;}}}else{modified=true;_classPrivateFieldGet(_storage,this).set(key,value);}if(modified){_assertClassBrand(_AnnotationStorage_brand,this,_setModified).call(this);}if(value instanceof _editor.AnnotationEditor&&typeof this.onAnnotationEditor===\"function\"){this.onAnnotationEditor(value.constructor._type);}}},{key:\"has\",value:function has(key){return _classPrivateFieldGet(_storage,this).has(key);}},{key:\"getAll\",value:function getAll(){return _classPrivateFieldGet(_storage,this).size>0?(0,_util.objectFromMap)(_classPrivateFieldGet(_storage,this)):null;}},{key:\"setAll\",value:function setAll(obj){for(var _i2=0,_Object$entries2=Object.entries(obj);_i2<_Object$entries2.length;_i2++){var _Object$entries2$_i=_slicedToArray(_Object$entries2[_i2],2),key=_Object$entries2$_i[0],val=_Object$entries2$_i[1];this.setValue(key,val);}}},{key:\"size\",get:function get(){return _classPrivateFieldGet(_storage,this).size;}},{key:\"resetModified\",value:function resetModified(){if(_classPrivateFieldGet(_modified,this)){_classPrivateFieldSet(_modified,this,false);if(typeof this.onResetModified===\"function\"){this.onResetModified();}}}},{key:\"print\",get:function get(){return new PrintAnnotationStorage(this);}},{key:\"serializable\",get:function get(){if(_classPrivateFieldGet(_storage,this).size===0){return SerializableEmpty;}var map=new Map(),hash=new _murmurhash.MurmurHash3_64(),transfers=[];var context=Object.create(null);var hasBitmap=false;var _iterator14=_createForOfIteratorHelper(_classPrivateFieldGet(_storage,this)),_step14;try{for(_iterator14.s();!(_step14=_iterator14.n()).done;){var _step14$value=_slicedToArray(_step14.value,2),key=_step14$value[0],val=_step14$value[1];var serialized=val instanceof _editor.AnnotationEditor?val.serialize(false,context):val;if(serialized){map.set(key,serialized);hash.update(\"\".concat(key,\":\").concat(JSON.stringify(serialized)));hasBitmap||(hasBitmap=!!serialized.bitmap);}}}catch(err){_iterator14.e(err);}finally{_iterator14.f();}if(hasBitmap){var _iterator15=_createForOfIteratorHelper(map.values()),_step15;try{for(_iterator15.s();!(_step15=_iterator15.n()).done;){var value=_step15.value;if(value.bitmap){transfers.push(value.bitmap);}}}catch(err){_iterator15.e(err);}finally{_iterator15.f();}}return map.size>0?{map:map,hash:hash.hexdigest(),transfers:transfers}:SerializableEmpty;}}]);}();function _setModified(){if(!_classPrivateFieldGet(_modified,this)){_classPrivateFieldSet(_modified,this,true);if(typeof this.onSetModified===\"function\"){this.onSetModified();}}}exports.AnnotationStorage=AnnotationStorage;var _serializable=/*#__PURE__*/new WeakMap();var PrintAnnotationStorage=/*#__PURE__*/function(_AnnotationStorage2){function PrintAnnotationStorage(parent){var _this21;_classCallCheck(this,PrintAnnotationStorage);_this21=_callSuper(this,PrintAnnotationStorage);_classPrivateFieldInitSpec(_this21,_serializable,void 0);var _parent$serializable=parent.serializable,map=_parent$serializable.map,hash=_parent$serializable.hash,transfers=_parent$serializable.transfers;var clone=structuredClone(map,transfers?{transfer:transfers}:null);_classPrivateFieldSet(_serializable,_this21,{map:clone,hash:hash,transfers:transfers});return _this21;}_inherits(PrintAnnotationStorage,_AnnotationStorage2);return _createClass(PrintAnnotationStorage,[{key:\"print\",get:function get(){(0,_util.unreachable)(\"Should not call PrintAnnotationStorage.print\");}},{key:\"serializable\",get:function get(){return _classPrivateFieldGet(_serializable,this);}}]);}(AnnotationStorage);exports.PrintAnnotationStorage=PrintAnnotationStorage;/***/}),(/* 4 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){var _AnnotationEditor;Object.defineProperty(exports,\"__esModule\",{value:true});exports.AnnotationEditor=void 0;var _tools=__w_pdfjs_require__(5);var _util=__w_pdfjs_require__(1);var _display_utils=__w_pdfjs_require__(6);var _altText=/*#__PURE__*/new WeakMap();var _altTextDecorative=/*#__PURE__*/new WeakMap();var _altTextButton=/*#__PURE__*/new WeakMap();var _altTextTooltip=/*#__PURE__*/new WeakMap();var _altTextTooltipTimeout=/*#__PURE__*/new WeakMap();var _keepAspectRatio=/*#__PURE__*/new WeakMap();var _resizersDiv=/*#__PURE__*/new WeakMap();var _boundFocusin=/*#__PURE__*/new WeakMap();var _boundFocusout=/*#__PURE__*/new WeakMap();var _hasBeenClicked=/*#__PURE__*/new WeakMap();var _isEditing=/*#__PURE__*/new WeakMap();var _isInEditMode=/*#__PURE__*/new WeakMap();var _isDraggable=/*#__PURE__*/new WeakMap();var _zIndex=/*#__PURE__*/new WeakMap();var _AnnotationEditor_brand=/*#__PURE__*/new WeakSet();var AnnotationEditor=/*#__PURE__*/function(){function AnnotationEditor(parameters){_classCallCheck(this,AnnotationEditor);_classPrivateMethodInitSpec(this,_AnnotationEditor_brand);_classPrivateFieldInitSpec(this,_altText,\"\");_classPrivateFieldInitSpec(this,_altTextDecorative,false);_classPrivateFieldInitSpec(this,_altTextButton,null);_classPrivateFieldInitSpec(this,_altTextTooltip,null);_classPrivateFieldInitSpec(this,_altTextTooltipTimeout,null);_classPrivateFieldInitSpec(this,_keepAspectRatio,false);_classPrivateFieldInitSpec(this,_resizersDiv,null);_classPrivateFieldInitSpec(this,_boundFocusin,this.focusin.bind(this));_classPrivateFieldInitSpec(this,_boundFocusout,this.focusout.bind(this));_classPrivateFieldInitSpec(this,_hasBeenClicked,false);_classPrivateFieldInitSpec(this,_isEditing,false);_classPrivateFieldInitSpec(this,_isInEditMode,false);_defineProperty(this,\"_initialOptions\",Object.create(null));_defineProperty(this,\"_uiManager\",null);_defineProperty(this,\"_focusEventsAllowed\",true);_defineProperty(this,\"_l10nPromise\",null);_classPrivateFieldInitSpec(this,_isDraggable,false);_classPrivateFieldInitSpec(this,_zIndex,AnnotationEditor._zIndex++);if(this.constructor===AnnotationEditor){(0,_util.unreachable)(\"Cannot initialize AnnotationEditor.\");}this.parent=parameters.parent;this.id=parameters.id;this.width=this.height=null;this.pageIndex=parameters.parent.pageIndex;this.name=parameters.name;this.div=null;this._uiManager=parameters.uiManager;this.annotationElementId=null;this._willKeepAspectRatio=false;this._initialOptions.isCentered=parameters.isCentered;this._structTreeParentId=null;var _this$parent$viewport=this.parent.viewport,_rotation=_this$parent$viewport.rotation,_this$parent$viewport2=_this$parent$viewport.rawDims,_pageWidth=_this$parent$viewport2.pageWidth,_pageHeight=_this$parent$viewport2.pageHeight,pageX=_this$parent$viewport2.pageX,pageY=_this$parent$viewport2.pageY;this.rotation=_rotation;this.pageRotation=(360+_rotation-this._uiManager.viewParameters.rotation)%360;this.pageDimensions=[_pageWidth,_pageHeight];this.pageTranslation=[pageX,pageY];var _this$parentDimension=_slicedToArray(this.parentDimensions,2),_width=_this$parentDimension[0],_height=_this$parentDimension[1];this.x=parameters.x/_width;this.y=parameters.y/_height;this.isAttachedToDOM=false;this.deleted=false;}return _createClass(AnnotationEditor,[{key:\"editorType\",get:function get(){return Object.getPrototypeOf(this).constructor._type;}},{key:\"propertiesToUpdate\",get:function get(){return[];}},{key:\"_isDraggable\",get:function get(){return _classPrivateFieldGet(_isDraggable,this);},set:function set(value){var _this$div;_classPrivateFieldSet(_isDraggable,this,value);(_this$div=this.div)===null||_this$div===void 0||_this$div.classList.toggle(\"draggable\",value);}},{key:\"center\",value:function center(){var _this$pageDimensions=_slicedToArray(this.pageDimensions,2),pageWidth=_this$pageDimensions[0],pageHeight=_this$pageDimensions[1];switch(this.parentRotation){case 90:this.x-=this.height*pageHeight/(pageWidth*2);this.y+=this.width*pageWidth/(pageHeight*2);break;case 180:this.x+=this.width/2;this.y+=this.height/2;break;case 270:this.x+=this.height*pageHeight/(pageWidth*2);this.y-=this.width*pageWidth/(pageHeight*2);break;default:this.x-=this.width/2;this.y-=this.height/2;break;}this.fixAndSetPosition();}},{key:\"addCommands\",value:function addCommands(params){this._uiManager.addCommands(params);}},{key:\"currentLayer\",get:function get(){return this._uiManager.currentLayer;}},{key:\"setInBackground\",value:function setInBackground(){this.div.style.zIndex=0;}},{key:\"setInForeground\",value:function setInForeground(){this.div.style.zIndex=_classPrivateFieldGet(_zIndex,this);}},{key:\"setParent\",value:function setParent(parent){if(parent!==null){this.pageIndex=parent.pageIndex;this.pageDimensions=parent.pageDimensions;}this.parent=parent;}},{key:\"focusin\",value:function focusin(event){if(!this._focusEventsAllowed){return;}if(!_classPrivateFieldGet(_hasBeenClicked,this)){this.parent.setSelected(this);}else{_classPrivateFieldSet(_hasBeenClicked,this,false);}}},{key:\"focusout\",value:function focusout(event){var _this$parent;if(!this._focusEventsAllowed){return;}if(!this.isAttachedToDOM){return;}var target=event.relatedTarget;if(target!==null&&target!==void 0&&target.closest(\"#\".concat(this.id))){return;}event.preventDefault();if(!((_this$parent=this.parent)!==null&&_this$parent!==void 0&&_this$parent.isMultipleSelection)){this.commitOrRemove();}}},{key:\"commitOrRemove\",value:function commitOrRemove(){if(this.isEmpty()){this.remove();}else{this.commit();}}},{key:\"commit\",value:function commit(){this.addToAnnotationStorage();}},{key:\"addToAnnotationStorage\",value:function addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this);}},{key:\"setAt\",value:function setAt(x,y,tx,ty){var _this$parentDimension2=_slicedToArray(this.parentDimensions,2),width=_this$parentDimension2[0],height=_this$parentDimension2[1];var _this$screenToPageTra=this.screenToPageTranslation(tx,ty);var _this$screenToPageTra2=_slicedToArray(_this$screenToPageTra,2);tx=_this$screenToPageTra2[0];ty=_this$screenToPageTra2[1];this.x=(x+tx)/width;this.y=(y+ty)/height;this.fixAndSetPosition();}},{key:\"translate\",value:function translate(x,y){_assertClassBrand(_AnnotationEditor_brand,this,_translate).call(this,this.parentDimensions,x,y);}},{key:\"translateInPage\",value:function translateInPage(x,y){_assertClassBrand(_AnnotationEditor_brand,this,_translate).call(this,this.pageDimensions,x,y);this.div.scrollIntoView({block:\"nearest\"});}},{key:\"drag\",value:function drag(tx,ty){var _this$parentDimension3=_slicedToArray(this.parentDimensions,2),parentWidth=_this$parentDimension3[0],parentHeight=_this$parentDimension3[1];this.x+=tx/parentWidth;this.y+=ty/parentHeight;if(this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){var _this$div$getBounding=this.div.getBoundingClientRect(),_x3=_this$div$getBounding.x,_y=_this$div$getBounding.y;if(this.parent.findNewParent(this,_x3,_y)){this.x-=Math.floor(this.x);this.y-=Math.floor(this.y);}}var x=this.x,y=this.y;var _assertClassBrand$cal=_assertClassBrand(_AnnotationEditor_brand,this,_getBaseTranslation).call(this),_assertClassBrand$cal2=_slicedToArray(_assertClassBrand$cal,2),bx=_assertClassBrand$cal2[0],by=_assertClassBrand$cal2[1];x+=bx;y+=by;this.div.style.left=\"\".concat((100*x).toFixed(2),\"%\");this.div.style.top=\"\".concat((100*y).toFixed(2),\"%\");this.div.scrollIntoView({block:\"nearest\"});}},{key:\"fixAndSetPosition\",value:function fixAndSetPosition(){var _this$pageDimensions2=_slicedToArray(this.pageDimensions,2),pageWidth=_this$pageDimensions2[0],pageHeight=_this$pageDimensions2[1];var x=this.x,y=this.y,width=this.width,height=this.height;width*=pageWidth;height*=pageHeight;x*=pageWidth;y*=pageHeight;switch(this.rotation){case 0:x=Math.max(0,Math.min(pageWidth-width,x));y=Math.max(0,Math.min(pageHeight-height,y));break;case 90:x=Math.max(0,Math.min(pageWidth-height,x));y=Math.min(pageHeight,Math.max(width,y));break;case 180:x=Math.min(pageWidth,Math.max(width,x));y=Math.min(pageHeight,Math.max(height,y));break;case 270:x=Math.min(pageWidth,Math.max(height,x));y=Math.max(0,Math.min(pageHeight-width,y));break;}this.x=x/=pageWidth;this.y=y/=pageHeight;var _assertClassBrand$cal3=_assertClassBrand(_AnnotationEditor_brand,this,_getBaseTranslation).call(this),_assertClassBrand$cal4=_slicedToArray(_assertClassBrand$cal3,2),bx=_assertClassBrand$cal4[0],by=_assertClassBrand$cal4[1];x+=bx;y+=by;var style=this.div.style;style.left=\"\".concat((100*x).toFixed(2),\"%\");style.top=\"\".concat((100*y).toFixed(2),\"%\");this.moveInDOM();}},{key:\"screenToPageTranslation\",value:function screenToPageTranslation(x,y){return _rotatePoint.call(AnnotationEditor,x,y,this.parentRotation);}},{key:\"pageTranslationToScreen\",value:function pageTranslationToScreen(x,y){return _rotatePoint.call(AnnotationEditor,x,y,360-this.parentRotation);}},{key:\"parentScale\",get:function get(){return this._uiManager.viewParameters.realScale;}},{key:\"parentRotation\",get:function get(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360;}},{key:\"parentDimensions\",get:function get(){var parentScale=this.parentScale,_this$pageDimensions3=_slicedToArray(this.pageDimensions,2),pageWidth=_this$pageDimensions3[0],pageHeight=_this$pageDimensions3[1];var scaledWidth=pageWidth*parentScale;var scaledHeight=pageHeight*parentScale;return _util.FeatureTest.isCSSRoundSupported?[Math.round(scaledWidth),Math.round(scaledHeight)]:[scaledWidth,scaledHeight];}},{key:\"setDims\",value:function setDims(width,height){var _classPrivateFieldGet5;var _this$parentDimension4=_slicedToArray(this.parentDimensions,2),parentWidth=_this$parentDimension4[0],parentHeight=_this$parentDimension4[1];this.div.style.width=\"\".concat((100*width/parentWidth).toFixed(2),\"%\");if(!_classPrivateFieldGet(_keepAspectRatio,this)){this.div.style.height=\"\".concat((100*height/parentHeight).toFixed(2),\"%\");}(_classPrivateFieldGet5=_classPrivateFieldGet(_altTextButton,this))===null||_classPrivateFieldGet5===void 0||_classPrivateFieldGet5.classList.toggle(\"small\",width<AnnotationEditor.SMALL_EDITOR_SIZE||height<AnnotationEditor.SMALL_EDITOR_SIZE);}},{key:\"fixDims\",value:function fixDims(){var style=this.div.style;var height=style.height,width=style.width;var widthPercent=width.endsWith(\"%\");var heightPercent=!_classPrivateFieldGet(_keepAspectRatio,this)&&height.endsWith(\"%\");if(widthPercent&&heightPercent){return;}var _this$parentDimension5=_slicedToArray(this.parentDimensions,2),parentWidth=_this$parentDimension5[0],parentHeight=_this$parentDimension5[1];if(!widthPercent){style.width=\"\".concat((100*parseFloat(width)/parentWidth).toFixed(2),\"%\");}if(!_classPrivateFieldGet(_keepAspectRatio,this)&&!heightPercent){style.height=\"\".concat((100*parseFloat(height)/parentHeight).toFixed(2),\"%\");}}},{key:\"getInitialTranslation\",value:function getInitialTranslation(){return[0,0];}},{key:\"addAltTextButton\",value:function(){var _addAltTextButton=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(){var _this22=this;var altText,msg,PERCENT;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:if(!_classPrivateFieldGet(_altTextButton,this)){_context7.next=2;break;}return _context7.abrupt(\"return\");case 2:altText=_classPrivateFieldSet(_altTextButton,this,document.createElement(\"button\"));altText.className=\"altText\";_context7.next=6;return AnnotationEditor._l10nPromise.get(\"editor_alt_text_button_label\");case 6:msg=_context7.sent;altText.textContent=msg;altText.setAttribute(\"aria-label\",msg);altText.tabIndex=\"0\";altText.addEventListener(\"contextmenu\",_display_utils.noContextMenu);altText.addEventListener(\"pointerdown\",function(event){return event.stopPropagation();});altText.addEventListener(\"click\",function(event){event.preventDefault();_this22._uiManager.editAltText(_this22);},{capture:true});altText.addEventListener(\"keydown\",function(event){if(event.target===altText&&event.key===\"Enter\"){event.preventDefault();_this22._uiManager.editAltText(_this22);}});_assertClassBrand(_AnnotationEditor_brand,this,_setAltTextButtonState).call(this);this.div.append(altText);if(!AnnotationEditor.SMALL_EDITOR_SIZE){PERCENT=40;AnnotationEditor.SMALL_EDITOR_SIZE=Math.min(128,Math.round(altText.getBoundingClientRect().width*(1+PERCENT/100)));}case 17:case\"end\":return _context7.stop();}},_callee7,this);}));function addAltTextButton(){return _addAltTextButton.apply(this,arguments);}return addAltTextButton;}()},{key:\"getClientDimensions\",value:function getClientDimensions(){return this.div.getBoundingClientRect();}},{key:\"altTextData\",get:function get(){return{altText:_classPrivateFieldGet(_altText,this),decorative:_classPrivateFieldGet(_altTextDecorative,this)};},set:function set(_ref23){var altText=_ref23.altText,decorative=_ref23.decorative;if(_classPrivateFieldGet(_altText,this)===altText&&_classPrivateFieldGet(_altTextDecorative,this)===decorative){return;}_classPrivateFieldSet(_altText,this,altText);_classPrivateFieldSet(_altTextDecorative,this,decorative);_assertClassBrand(_AnnotationEditor_brand,this,_setAltTextButtonState).call(this);}},{key:\"render\",value:function render(){this.div=document.createElement(\"div\");this.div.setAttribute(\"data-editor-rotation\",(360-this.rotation)%360);this.div.className=this.name;this.div.setAttribute(\"id\",this.id);this.div.setAttribute(\"tabIndex\",0);this.setInForeground();this.div.addEventListener(\"focusin\",_classPrivateFieldGet(_boundFocusin,this));this.div.addEventListener(\"focusout\",_classPrivateFieldGet(_boundFocusout,this));var _this$parentDimension6=_slicedToArray(this.parentDimensions,2),parentWidth=_this$parentDimension6[0],parentHeight=_this$parentDimension6[1];if(this.parentRotation%180!==0){this.div.style.maxWidth=\"\".concat((100*parentHeight/parentWidth).toFixed(2),\"%\");this.div.style.maxHeight=\"\".concat((100*parentWidth/parentHeight).toFixed(2),\"%\");}var _this$getInitialTrans=this.getInitialTranslation(),_this$getInitialTrans2=_slicedToArray(_this$getInitialTrans,2),tx=_this$getInitialTrans2[0],ty=_this$getInitialTrans2[1];this.translate(tx,ty);(0,_tools.bindEvents)(this,this.div,[\"pointerdown\"]);return this.div;}},{key:\"pointerdown\",value:function pointerdown(event){var isMac=_util.FeatureTest.platform.isMac;if(event.button!==0||event.ctrlKey&&isMac){event.preventDefault();return;}_classPrivateFieldSet(_hasBeenClicked,this,true);_assertClassBrand(_AnnotationEditor_brand,this,_setUpDragSession).call(this,event);}},{key:\"moveInDOM\",value:function moveInDOM(){var _this$parent2;(_this$parent2=this.parent)===null||_this$parent2===void 0||_this$parent2.moveEditorInDOM(this);}},{key:\"_setParentAndPosition\",value:function _setParentAndPosition(parent,x,y){parent.changeParent(this);this.x=x;this.y=y;this.fixAndSetPosition();}},{key:\"getRect\",value:function getRect(tx,ty){var scale=this.parentScale;var _this$pageDimensions4=_slicedToArray(this.pageDimensions,2),pageWidth=_this$pageDimensions4[0],pageHeight=_this$pageDimensions4[1];var _this$pageTranslation=_slicedToArray(this.pageTranslation,2),pageX=_this$pageTranslation[0],pageY=_this$pageTranslation[1];var shiftX=tx/scale;var shiftY=ty/scale;var x=this.x*pageWidth;var y=this.y*pageHeight;var width=this.width*pageWidth;var height=this.height*pageHeight;switch(this.rotation){case 0:return[x+shiftX+pageX,pageHeight-y-shiftY-height+pageY,x+shiftX+width+pageX,pageHeight-y-shiftY+pageY];case 90:return[x+shiftY+pageX,pageHeight-y+shiftX+pageY,x+shiftY+height+pageX,pageHeight-y+shiftX+width+pageY];case 180:return[x-shiftX-width+pageX,pageHeight-y+shiftY+pageY,x-shiftX+pageX,pageHeight-y+shiftY+height+pageY];case 270:return[x-shiftY-height+pageX,pageHeight-y-shiftX-width+pageY,x-shiftY+pageX,pageHeight-y-shiftX+pageY];default:throw new Error(\"Invalid rotation\");}}},{key:\"getRectInCurrentCoords\",value:function getRectInCurrentCoords(rect,pageHeight){var _rect=_slicedToArray(rect,4),x1=_rect[0],y1=_rect[1],x2=_rect[2],y2=_rect[3];var width=x2-x1;var height=y2-y1;switch(this.rotation){case 0:return[x1,pageHeight-y2,width,height];case 90:return[x1,pageHeight-y1,height,width];case 180:return[x2,pageHeight-y1,width,height];case 270:return[x2,pageHeight-y2,height,width];default:throw new Error(\"Invalid rotation\");}}},{key:\"onceAdded\",value:function onceAdded(){}},{key:\"isEmpty\",value:function isEmpty(){return false;}},{key:\"enableEditMode\",value:function enableEditMode(){_classPrivateFieldSet(_isInEditMode,this,true);}},{key:\"disableEditMode\",value:function disableEditMode(){_classPrivateFieldSet(_isInEditMode,this,false);}},{key:\"isInEditMode\",value:function isInEditMode(){return _classPrivateFieldGet(_isInEditMode,this);}},{key:\"shouldGetKeyboardEvents\",value:function shouldGetKeyboardEvents(){return false;}},{key:\"needsToBeRebuilt\",value:function needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM;}},{key:\"rebuild\",value:function rebuild(){var _this$div2,_this$div3;(_this$div2=this.div)===null||_this$div2===void 0||_this$div2.addEventListener(\"focusin\",_classPrivateFieldGet(_boundFocusin,this));(_this$div3=this.div)===null||_this$div3===void 0||_this$div3.addEventListener(\"focusout\",_classPrivateFieldGet(_boundFocusout,this));}},{key:\"serialize\",value:function serialize(){var isForCopying=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var context=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;(0,_util.unreachable)(\"An editor must be serializable\");}},{key:\"remove\",value:function remove(){var _classPrivateFieldGet6;this.div.removeEventListener(\"focusin\",_classPrivateFieldGet(_boundFocusin,this));this.div.removeEventListener(\"focusout\",_classPrivateFieldGet(_boundFocusout,this));if(!this.isEmpty()){this.commit();}if(this.parent){this.parent.remove(this);}else{this._uiManager.removeEditor(this);}(_classPrivateFieldGet6=_classPrivateFieldGet(_altTextButton,this))===null||_classPrivateFieldGet6===void 0||_classPrivateFieldGet6.remove();_classPrivateFieldSet(_altTextButton,this,null);_classPrivateFieldSet(_altTextTooltip,this,null);}},{key:\"isResizable\",get:function get(){return false;}},{key:\"makeResizable\",value:function makeResizable(){if(this.isResizable){_assertClassBrand(_AnnotationEditor_brand,this,_createResizers).call(this);_classPrivateFieldGet(_resizersDiv,this).classList.remove(\"hidden\");}}},{key:\"select\",value:function select(){var _this$div4;this.makeResizable();(_this$div4=this.div)===null||_this$div4===void 0||_this$div4.classList.add(\"selectedEditor\");}},{key:\"unselect\",value:function unselect(){var _classPrivateFieldGet7,_this$div5,_this$div6;(_classPrivateFieldGet7=_classPrivateFieldGet(_resizersDiv,this))===null||_classPrivateFieldGet7===void 0||_classPrivateFieldGet7.classList.add(\"hidden\");(_this$div5=this.div)===null||_this$div5===void 0||_this$div5.classList.remove(\"selectedEditor\");if((_this$div6=this.div)!==null&&_this$div6!==void 0&&_this$div6.contains(document.activeElement)){this._uiManager.currentLayer.div.focus();}}},{key:\"updateParams\",value:function updateParams(type,value){}},{key:\"disableEditing\",value:function disableEditing(){if(_classPrivateFieldGet(_altTextButton,this)){_classPrivateFieldGet(_altTextButton,this).hidden=true;}}},{key:\"enableEditing\",value:function enableEditing(){if(_classPrivateFieldGet(_altTextButton,this)){_classPrivateFieldGet(_altTextButton,this).hidden=false;}}},{key:\"enterInEditMode\",value:function enterInEditMode(){}},{key:\"contentDiv\",get:function get(){return this.div;}},{key:\"isEditing\",get:function get(){return _classPrivateFieldGet(_isEditing,this);},set:function set(value){_classPrivateFieldSet(_isEditing,this,value);if(!this.parent){return;}if(value){this.parent.setSelected(this);this.parent.setActiveEditor(this);}else{this.parent.setActiveEditor(null);}}},{key:\"setAspectRatio\",value:function setAspectRatio(width,height){_classPrivateFieldSet(_keepAspectRatio,this,true);var aspectRatio=width/height;var style=this.div.style;style.aspectRatio=aspectRatio;style.height=\"auto\";}}],[{key:\"_defaultLineColor\",get:function get(){return(0,_util.shadow)(this,\"_defaultLineColor\",this._colorManager.getHexCode(\"CanvasText\"));}},{key:\"deleteAnnotationElement\",value:function deleteAnnotationElement(editor){var fakeEditor=new FakeEditor({id:editor.parent.getNextId(),parent:editor.parent,uiManager:editor._uiManager});fakeEditor.annotationElementId=editor.annotationElementId;fakeEditor.deleted=true;fakeEditor._uiManager.addToAnnotationStorage(fakeEditor);}},{key:\"initialize\",value:function initialize(l10n){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;AnnotationEditor._l10nPromise||(AnnotationEditor._l10nPromise=new Map([\"editor_alt_text_button_label\",\"editor_alt_text_edit_button_label\",\"editor_alt_text_decorative_tooltip\"].map(function(str){return[str,l10n.get(str)];})));if(options!==null&&options!==void 0&&options.strings){var _iterator16=_createForOfIteratorHelper(options.strings),_step16;try{for(_iterator16.s();!(_step16=_iterator16.n()).done;){var str=_step16.value;AnnotationEditor._l10nPromise.set(str,l10n.get(str));}}catch(err){_iterator16.e(err);}finally{_iterator16.f();}}if(AnnotationEditor._borderLineWidth!==-1){return;}var style=getComputedStyle(document.documentElement);AnnotationEditor._borderLineWidth=parseFloat(style.getPropertyValue(\"--outline-width\"))||0;}},{key:\"updateDefaultParams\",value:function updateDefaultParams(_type,_value){}},{key:\"defaultPropertiesToUpdate\",get:function get(){return[];}},{key:\"isHandlingMimeForPasting\",value:function isHandlingMimeForPasting(mime){return false;}},{key:\"paste\",value:function paste(item,parent){(0,_util.unreachable)(\"Not implemented\");}},{key:\"deserialize\",value:function deserialize(data,parent,uiManager){var editor=new this.prototype.constructor({parent:parent,id:parent.getNextId(),uiManager:uiManager});editor.rotation=data.rotation;var _editor$pageDimension=_slicedToArray(editor.pageDimensions,2),pageWidth=_editor$pageDimension[0],pageHeight=_editor$pageDimension[1];var _editor$getRectInCurr=editor.getRectInCurrentCoords(data.rect,pageHeight),_editor$getRectInCurr2=_slicedToArray(_editor$getRectInCurr,4),x=_editor$getRectInCurr2[0],y=_editor$getRectInCurr2[1],width=_editor$getRectInCurr2[2],height=_editor$getRectInCurr2[3];editor.x=x/pageWidth;editor.y=y/pageHeight;editor.width=width/pageWidth;editor.height=height/pageHeight;return editor;}},{key:\"MIN_SIZE\",get:function get(){return 16;}}]);}();_AnnotationEditor=AnnotationEditor;function _translate(_ref24,x,y){var _ref25=_slicedToArray(_ref24,2),width=_ref25[0],height=_ref25[1];var _this$screenToPageTra3=this.screenToPageTranslation(x,y);var _this$screenToPageTra4=_slicedToArray(_this$screenToPageTra3,2);x=_this$screenToPageTra4[0];y=_this$screenToPageTra4[1];this.x+=x/width;this.y+=y/height;this.fixAndSetPosition();}function _getBaseTranslation(){var _this$parentDimension7=_slicedToArray(this.parentDimensions,2),parentWidth=_this$parentDimension7[0],parentHeight=_this$parentDimension7[1];var _borderLineWidth=_AnnotationEditor._borderLineWidth;var x=_borderLineWidth/parentWidth;var y=_borderLineWidth/parentHeight;switch(this.rotation){case 90:return[-x,y];case 180:return[x,y];case 270:return[x,-y];default:return[-x,-y];}}function _rotatePoint(x,y,angle){switch(angle){case 90:return[y,-x];case 180:return[-x,-y];case 270:return[-y,x];default:return[x,y];}}function _getRotationMatrix(rotation){switch(rotation){case 90:{var _this$pageDimensions5=_slicedToArray(this.pageDimensions,2),pageWidth=_this$pageDimensions5[0],pageHeight=_this$pageDimensions5[1];return[0,-pageWidth/pageHeight,pageHeight/pageWidth,0];}case 180:return[-1,0,0,-1];case 270:{var _this$pageDimensions6=_slicedToArray(this.pageDimensions,2),_pageWidth2=_this$pageDimensions6[0],_pageHeight2=_this$pageDimensions6[1];return[0,_pageWidth2/_pageHeight2,-_pageHeight2/_pageWidth2,0];}default:return[1,0,0,1];}}function _createResizers(){if(_classPrivateFieldGet(_resizersDiv,this)){return;}_classPrivateFieldSet(_resizersDiv,this,document.createElement(\"div\"));_classPrivateFieldGet(_resizersDiv,this).classList.add(\"resizers\");var classes=[\"topLeft\",\"topRight\",\"bottomRight\",\"bottomLeft\"];if(!this._willKeepAspectRatio){classes.push(\"topMiddle\",\"middleRight\",\"bottomMiddle\",\"middleLeft\");}for(var _i3=0,_classes=classes;_i3<_classes.length;_i3++){var name=_classes[_i3];var div=document.createElement(\"div\");_classPrivateFieldGet(_resizersDiv,this).append(div);div.classList.add(\"resizer\",name);div.addEventListener(\"pointerdown\",_assertClassBrand(_AnnotationEditor_brand,this,_resizerPointerdown).bind(this,name));div.addEventListener(\"contextmenu\",_display_utils.noContextMenu);}this.div.prepend(_classPrivateFieldGet(_resizersDiv,this));}function _resizerPointerdown(name,event){var _this24=this;event.preventDefault();var isMac=_util.FeatureTest.platform.isMac;if(event.button!==0||event.ctrlKey&&isMac){return;}var boundResizerPointermove=_assertClassBrand(_AnnotationEditor_brand,this,_resizerPointermove).bind(this,name);var savedDraggable=this._isDraggable;this._isDraggable=false;var pointerMoveOptions={passive:true,capture:true};window.addEventListener(\"pointermove\",boundResizerPointermove,pointerMoveOptions);var savedX=this.x;var savedY=this.y;var savedWidth=this.width;var savedHeight=this.height;var savedParentCursor=this.parent.div.style.cursor;var savedCursor=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(event.target).cursor;var _pointerUpCallback=function pointerUpCallback(){_this24._isDraggable=savedDraggable;window.removeEventListener(\"pointerup\",_pointerUpCallback);window.removeEventListener(\"blur\",_pointerUpCallback);window.removeEventListener(\"pointermove\",boundResizerPointermove,pointerMoveOptions);_this24.parent.div.style.cursor=savedParentCursor;_this24.div.style.cursor=savedCursor;var newX=_this24.x;var newY=_this24.y;var newWidth=_this24.width;var newHeight=_this24.height;if(newX===savedX&&newY===savedY&&newWidth===savedWidth&&newHeight===savedHeight){return;}_this24.addCommands({cmd:function cmd(){_this24.width=newWidth;_this24.height=newHeight;_this24.x=newX;_this24.y=newY;var _this24$parentDimensi=_slicedToArray(_this24.parentDimensions,2),parentWidth=_this24$parentDimensi[0],parentHeight=_this24$parentDimensi[1];_this24.setDims(parentWidth*newWidth,parentHeight*newHeight);_this24.fixAndSetPosition();},undo:function undo(){_this24.width=savedWidth;_this24.height=savedHeight;_this24.x=savedX;_this24.y=savedY;var _this24$parentDimensi2=_slicedToArray(_this24.parentDimensions,2),parentWidth=_this24$parentDimensi2[0],parentHeight=_this24$parentDimensi2[1];_this24.setDims(parentWidth*savedWidth,parentHeight*savedHeight);_this24.fixAndSetPosition();},mustExec:true});};window.addEventListener(\"pointerup\",_pointerUpCallback);window.addEventListener(\"blur\",_pointerUpCallback);}function _resizerPointermove(name,event){var _this$parentDimension8=_slicedToArray(this.parentDimensions,2),parentWidth=_this$parentDimension8[0],parentHeight=_this$parentDimension8[1];var savedX=this.x;var savedY=this.y;var savedWidth=this.width;var savedHeight=this.height;var minWidth=_AnnotationEditor.MIN_SIZE/parentWidth;var minHeight=_AnnotationEditor.MIN_SIZE/parentHeight;var round=function round(x){return Math.round(x*10000)/10000;};var rotationMatrix=_assertClassBrand(_AnnotationEditor_brand,this,_getRotationMatrix).call(this,this.rotation);var transf=function transf(x,y){return[rotationMatrix[0]*x+rotationMatrix[2]*y,rotationMatrix[1]*x+rotationMatrix[3]*y];};var invRotationMatrix=_assertClassBrand(_AnnotationEditor_brand,this,_getRotationMatrix).call(this,360-this.rotation);var invTransf=function invTransf(x,y){return[invRotationMatrix[0]*x+invRotationMatrix[2]*y,invRotationMatrix[1]*x+invRotationMatrix[3]*y];};var getPoint;var getOpposite;var isDiagonal=false;var isHorizontal=false;switch(name){case\"topLeft\":isDiagonal=true;getPoint=function getPoint(w,h){return[0,0];};getOpposite=function getOpposite(w,h){return[w,h];};break;case\"topMiddle\":getPoint=function getPoint(w,h){return[w/2,0];};getOpposite=function getOpposite(w,h){return[w/2,h];};break;case\"topRight\":isDiagonal=true;getPoint=function getPoint(w,h){return[w,0];};getOpposite=function getOpposite(w,h){return[0,h];};break;case\"middleRight\":isHorizontal=true;getPoint=function getPoint(w,h){return[w,h/2];};getOpposite=function getOpposite(w,h){return[0,h/2];};break;case\"bottomRight\":isDiagonal=true;getPoint=function getPoint(w,h){return[w,h];};getOpposite=function getOpposite(w,h){return[0,0];};break;case\"bottomMiddle\":getPoint=function getPoint(w,h){return[w/2,h];};getOpposite=function getOpposite(w,h){return[w/2,0];};break;case\"bottomLeft\":isDiagonal=true;getPoint=function getPoint(w,h){return[0,h];};getOpposite=function getOpposite(w,h){return[w,0];};break;case\"middleLeft\":isHorizontal=true;getPoint=function getPoint(w,h){return[0,h/2];};getOpposite=function getOpposite(w,h){return[w,h/2];};break;}var point=getPoint(savedWidth,savedHeight);var oppositePoint=getOpposite(savedWidth,savedHeight);var transfOppositePoint=transf.apply(void 0,_toConsumableArray(oppositePoint));var oppositeX=round(savedX+transfOppositePoint[0]);var oppositeY=round(savedY+transfOppositePoint[1]);var ratioX=1;var ratioY=1;var _this$screenToPageTra5=this.screenToPageTranslation(event.movementX,event.movementY),_this$screenToPageTra6=_slicedToArray(_this$screenToPageTra5,2),deltaX=_this$screenToPageTra6[0],deltaY=_this$screenToPageTra6[1];var _invTransf=invTransf(deltaX/parentWidth,deltaY/parentHeight);var _invTransf2=_slicedToArray(_invTransf,2);deltaX=_invTransf2[0];deltaY=_invTransf2[1];if(isDiagonal){var oldDiag=Math.hypot(savedWidth,savedHeight);ratioX=ratioY=Math.max(Math.min(Math.hypot(oppositePoint[0]-point[0]-deltaX,oppositePoint[1]-point[1]-deltaY)/oldDiag,1/savedWidth,1/savedHeight),minWidth/savedWidth,minHeight/savedHeight);}else if(isHorizontal){ratioX=Math.max(minWidth,Math.min(1,Math.abs(oppositePoint[0]-point[0]-deltaX)))/savedWidth;}else{ratioY=Math.max(minHeight,Math.min(1,Math.abs(oppositePoint[1]-point[1]-deltaY)))/savedHeight;}var newWidth=round(savedWidth*ratioX);var newHeight=round(savedHeight*ratioY);transfOppositePoint=transf.apply(void 0,_toConsumableArray(getOpposite(newWidth,newHeight)));var newX=oppositeX-transfOppositePoint[0];var newY=oppositeY-transfOppositePoint[1];this.width=newWidth;this.height=newHeight;this.x=newX;this.y=newY;this.setDims(parentWidth*newWidth,parentHeight*newHeight);this.fixAndSetPosition();}function _setAltTextButtonState(){return _setAltTextButtonState2.apply(this,arguments);}function _setAltTextButtonState2(){_setAltTextButtonState2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(){var _this26=this;var button,_classPrivateFieldGet8,tooltip,id,DELAY_TO_SHOW_TOOLTIP;return _regeneratorRuntime().wrap(function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:button=_classPrivateFieldGet(_altTextButton,this);if(button){_context8.next=3;break;}return _context8.abrupt(\"return\");case 3:if(!(!_classPrivateFieldGet(_altText,this)&&!_classPrivateFieldGet(_altTextDecorative,this))){_context8.next=7;break;}button.classList.remove(\"done\");(_classPrivateFieldGet8=_classPrivateFieldGet(_altTextTooltip,this))===null||_classPrivateFieldGet8===void 0||_classPrivateFieldGet8.remove();return _context8.abrupt(\"return\");case 7:_AnnotationEditor._l10nPromise.get(\"editor_alt_text_edit_button_label\").then(function(msg){button.setAttribute(\"aria-label\",msg);});tooltip=_classPrivateFieldGet(_altTextTooltip,this);if(!tooltip){_classPrivateFieldSet(_altTextTooltip,this,tooltip=document.createElement(\"span\"));tooltip.className=\"tooltip\";tooltip.setAttribute(\"role\",\"tooltip\");id=tooltip.id=\"alt-text-tooltip-\".concat(this.id);button.setAttribute(\"aria-describedby\",id);DELAY_TO_SHOW_TOOLTIP=100;button.addEventListener(\"mouseenter\",function(){_classPrivateFieldSet(_altTextTooltipTimeout,_this26,setTimeout(function(){_classPrivateFieldSet(_altTextTooltipTimeout,_this26,null);_classPrivateFieldGet(_altTextTooltip,_this26).classList.add(\"show\");_this26._uiManager._eventBus.dispatch(\"reporttelemetry\",{source:_this26,details:{type:\"editing\",subtype:_this26.editorType,data:{action:\"alt_text_tooltip\"}}});},DELAY_TO_SHOW_TOOLTIP));});button.addEventListener(\"mouseleave\",function(){var _classPrivateFieldGet9;clearTimeout(_classPrivateFieldGet(_altTextTooltipTimeout,_this26));_classPrivateFieldSet(_altTextTooltipTimeout,_this26,null);(_classPrivateFieldGet9=_classPrivateFieldGet(_altTextTooltip,_this26))===null||_classPrivateFieldGet9===void 0||_classPrivateFieldGet9.classList.remove(\"show\");});}button.classList.add(\"done\");if(!_classPrivateFieldGet(_altTextDecorative,this)){_context8.next=17;break;}_context8.next=14;return _AnnotationEditor._l10nPromise.get(\"editor_alt_text_decorative_tooltip\");case 14:_context8.t0=_context8.sent;_context8.next=18;break;case 17:_context8.t0=_classPrivateFieldGet(_altText,this);case 18:tooltip.innerText=_context8.t0;if(!tooltip.parentNode){button.append(tooltip);}case 20:case\"end\":return _context8.stop();}},_callee8,this);}));return _setAltTextButtonState2.apply(this,arguments);}function _setUpDragSession(event){var _this25=this;if(!this._isDraggable){return;}var isSelected=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();var pointerMoveOptions,pointerMoveCallback;if(isSelected){pointerMoveOptions={passive:true,capture:true};pointerMoveCallback=function pointerMoveCallback(e){var _this25$screenToPageT=_this25.screenToPageTranslation(e.movementX,e.movementY),_this25$screenToPageT2=_slicedToArray(_this25$screenToPageT,2),tx=_this25$screenToPageT2[0],ty=_this25$screenToPageT2[1];_this25._uiManager.dragSelectedEditors(tx,ty);};window.addEventListener(\"pointermove\",pointerMoveCallback,pointerMoveOptions);}var _pointerUpCallback2=function pointerUpCallback(){window.removeEventListener(\"pointerup\",_pointerUpCallback2);window.removeEventListener(\"blur\",_pointerUpCallback2);if(isSelected){window.removeEventListener(\"pointermove\",pointerMoveCallback,pointerMoveOptions);}_classPrivateFieldSet(_hasBeenClicked,_this25,false);if(!_this25._uiManager.endDragSession()){var isMac=_util.FeatureTest.platform.isMac;if(event.ctrlKey&&!isMac||event.shiftKey||event.metaKey&&isMac){_this25.parent.toggleSelected(_this25);}else{_this25.parent.setSelected(_this25);}}};window.addEventListener(\"pointerup\",_pointerUpCallback2);window.addEventListener(\"blur\",_pointerUpCallback2);}_defineProperty(AnnotationEditor,\"_borderLineWidth\",-1);_defineProperty(AnnotationEditor,\"_colorManager\",new _tools.ColorManager());_defineProperty(AnnotationEditor,\"_zIndex\",1);_defineProperty(AnnotationEditor,\"SMALL_EDITOR_SIZE\",0);exports.AnnotationEditor=AnnotationEditor;var FakeEditor=/*#__PURE__*/function(_AnnotationEditor2){function FakeEditor(params){var _this23;_classCallCheck(this,FakeEditor);_this23=_callSuper(this,FakeEditor,[params]);_this23.annotationElementId=params.annotationElementId;_this23.deleted=true;return _this23;}_inherits(FakeEditor,_AnnotationEditor2);return _createClass(FakeEditor,[{key:\"serialize\",value:function serialize(){return{id:this.annotationElementId,deleted:true,pageIndex:this.pageIndex};}}]);}(AnnotationEditor);/***/}),(/* 5 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){var _ImageManager;Object.defineProperty(exports,\"__esModule\",{value:true});exports.KeyboardManager=exports.CommandManager=exports.ColorManager=exports.AnnotationEditorUIManager=void 0;exports.bindEvents=bindEvents;exports.opacityToHex=opacityToHex;var _util=__w_pdfjs_require__(1);var _display_utils=__w_pdfjs_require__(6);function bindEvents(obj,element,names){var _iterator17=_createForOfIteratorHelper(names),_step17;try{for(_iterator17.s();!(_step17=_iterator17.n()).done;){var name=_step17.value;element.addEventListener(name,obj[name].bind(obj));}}catch(err){_iterator17.e(err);}finally{_iterator17.f();}}function opacityToHex(opacity){return Math.round(Math.min(255,Math.max(1,255*opacity))).toString(16).padStart(2,\"0\");}var _id=/*#__PURE__*/new WeakMap();var IdManager=/*#__PURE__*/function(){function IdManager(){_classCallCheck(this,IdManager);_classPrivateFieldInitSpec(this,_id,0);}return _createClass(IdManager,[{key:\"getId\",value:function getId(){var _this$id,_this$id2;return\"\".concat(_util.AnnotationEditorPrefix).concat((_classPrivateFieldSet(_id,this,(_this$id=_classPrivateFieldGet(_id,this),_this$id2=_this$id++,_this$id)),_this$id2));}}]);}();var _baseId=/*#__PURE__*/new WeakMap();var _id2=/*#__PURE__*/new WeakMap();var _cache=/*#__PURE__*/new WeakMap();var _ImageManager_brand=/*#__PURE__*/new WeakSet();var ImageManager=/*#__PURE__*/function(){function ImageManager(){_classCallCheck(this,ImageManager);_classPrivateMethodInitSpec(this,_ImageManager_brand);_classPrivateFieldInitSpec(this,_baseId,(0,_util.getUuid)());_classPrivateFieldInitSpec(this,_id2,0);_classPrivateFieldInitSpec(this,_cache,null);}return _createClass(ImageManager,[{key:\"getFromFile\",value:function(){var _getFromFile=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee9(file){var lastModified,name,size,type;return _regeneratorRuntime().wrap(function _callee9$(_context9){while(1)switch(_context9.prev=_context9.next){case 0:lastModified=file.lastModified,name=file.name,size=file.size,type=file.type;return _context9.abrupt(\"return\",_assertClassBrand(_ImageManager_brand,this,_get).call(this,\"\".concat(lastModified,\"_\").concat(name,\"_\").concat(size,\"_\").concat(type),file));case 2:case\"end\":return _context9.stop();}},_callee9,this);}));function getFromFile(_x4){return _getFromFile.apply(this,arguments);}return getFromFile;}()},{key:\"getFromUrl\",value:function(){var _getFromUrl=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee0(url){return _regeneratorRuntime().wrap(function _callee0$(_context0){while(1)switch(_context0.prev=_context0.next){case 0:return _context0.abrupt(\"return\",_assertClassBrand(_ImageManager_brand,this,_get).call(this,url,url));case 1:case\"end\":return _context0.stop();}},_callee0,this);}));function getFromUrl(_x5){return _getFromUrl.apply(this,arguments);}return getFromUrl;}()},{key:\"getFromId\",value:function(){var _getFromId=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee1(id){var data;return _regeneratorRuntime().wrap(function _callee1$(_context1){while(1)switch(_context1.prev=_context1.next){case 0:_classPrivateFieldGet(_cache,this)||_classPrivateFieldSet(_cache,this,new Map());data=_classPrivateFieldGet(_cache,this).get(id);if(data){_context1.next=4;break;}return _context1.abrupt(\"return\",null);case 4:if(!data.bitmap){_context1.next=7;break;}data.refCounter+=1;return _context1.abrupt(\"return\",data);case 7:if(!data.file){_context1.next=9;break;}return _context1.abrupt(\"return\",this.getFromFile(data.file));case 9:return _context1.abrupt(\"return\",this.getFromUrl(data.url));case 10:case\"end\":return _context1.stop();}},_callee1,this);}));function getFromId(_x6){return _getFromId.apply(this,arguments);}return getFromId;}()},{key:\"getSvgUrl\",value:function getSvgUrl(id){var data=_classPrivateFieldGet(_cache,this).get(id);if(!(data!==null&&data!==void 0&&data.isSvg)){return null;}return data.svgUrl;}},{key:\"deleteId\",value:function deleteId(id){_classPrivateFieldGet(_cache,this)||_classPrivateFieldSet(_cache,this,new Map());var data=_classPrivateFieldGet(_cache,this).get(id);if(!data){return;}data.refCounter-=1;if(data.refCounter!==0){return;}data.bitmap=null;}},{key:\"isValidId\",value:function isValidId(id){return id.startsWith(\"image_\".concat(_classPrivateFieldGet(_baseId,this),\"_\"));}}],[{key:\"_isSVGFittingCanvas\",get:function get(){var svg=\"data:image/svg+xml;charset=UTF-8,<svg viewBox=\\\"0 0 1 1\\\" width=\\\"1\\\" height=\\\"1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><rect width=\\\"1\\\" height=\\\"1\\\" style=\\\"fill:red;\\\"/></svg>\";var canvas=new OffscreenCanvas(1,3);var ctx=canvas.getContext(\"2d\");var image=new Image();image.src=svg;var promise=image.decode().then(function(){ctx.drawImage(image,0,0,1,1,0,0,1,3);return new Uint32Array(ctx.getImageData(0,0,1,1).data.buffer)[0]===0;});return(0,_util.shadow)(this,\"_isSVGFittingCanvas\",promise);}}]);}();_ImageManager=ImageManager;function _get(_x7,_x8){return _get2.apply(this,arguments);}function _get2(){_get2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee11(key,rawData){var _data;var data,_this$id3,_this$id4,image,response,mustRemoveAspectRatioPromise,fileReader,imageElement,imagePromise;return _regeneratorRuntime().wrap(function _callee11$(_context11){while(1)switch(_context11.prev=_context11.next){case 0:_classPrivateFieldGet(_cache,this)||_classPrivateFieldSet(_cache,this,new Map());data=_classPrivateFieldGet(_cache,this).get(key);if(!(data===null)){_context11.next=4;break;}return _context11.abrupt(\"return\",null);case 4:if(!((_data=data)!==null&&_data!==void 0&&_data.bitmap)){_context11.next=7;break;}data.refCounter+=1;return _context11.abrupt(\"return\",data);case 7:_context11.prev=7;data||(data={bitmap:null,id:\"image_\".concat(_classPrivateFieldGet(_baseId,this),\"_\").concat((_classPrivateFieldSet(_id2,this,(_this$id3=_classPrivateFieldGet(_id2,this),_this$id4=_this$id3++,_this$id3)),_this$id4)),refCounter:0,isSvg:false});if(!(typeof rawData===\"string\")){_context11.next=21;break;}data.url=rawData;_context11.next=13;return fetch(rawData);case 13:response=_context11.sent;if(response.ok){_context11.next=16;break;}throw new Error(response.statusText);case 16:_context11.next=18;return response.blob();case 18:image=_context11.sent;_context11.next=22;break;case 21:image=data.file=rawData;case 22:if(!(image.type===\"image/svg+xml\")){_context11.next=32;break;}mustRemoveAspectRatioPromise=_ImageManager._isSVGFittingCanvas;fileReader=new FileReader();imageElement=new Image();imagePromise=new Promise(function(resolve,reject){imageElement.onload=function(){data.bitmap=imageElement;data.isSvg=true;resolve();};fileReader.onload=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee10(){var url;return _regeneratorRuntime().wrap(function _callee10$(_context10){while(1)switch(_context10.prev=_context10.next){case 0:url=data.svgUrl=fileReader.result;_context10.next=3;return mustRemoveAspectRatioPromise;case 3:if(!_context10.sent){_context10.next=7;break;}_context10.t0=\"\".concat(url,\"#svgView(preserveAspectRatio(none))\");_context10.next=8;break;case 7:_context10.t0=url;case 8:imageElement.src=_context10.t0;case 9:case\"end\":return _context10.stop();}},_callee10);}));imageElement.onerror=fileReader.onerror=reject;});fileReader.readAsDataURL(image);_context11.next=30;return imagePromise;case 30:_context11.next=35;break;case 32:_context11.next=34;return createImageBitmap(image);case 34:data.bitmap=_context11.sent;case 35:data.refCounter=1;_context11.next=42;break;case 38:_context11.prev=38;_context11.t0=_context11[\"catch\"](7);console.error(_context11.t0);data=null;case 42:_classPrivateFieldGet(_cache,this).set(key,data);if(data){_classPrivateFieldGet(_cache,this).set(data.id,data);}return _context11.abrupt(\"return\",data);case 45:case\"end\":return _context11.stop();}},_callee11,this,[[7,38]]);}));return _get2.apply(this,arguments);}var _commands=/*#__PURE__*/new WeakMap();var _locked=/*#__PURE__*/new WeakMap();var _maxSize=/*#__PURE__*/new WeakMap();var _position=/*#__PURE__*/new WeakMap();var CommandManager=/*#__PURE__*/function(){function CommandManager(){var maxSize=arguments.length>0&&arguments[0]!==undefined?arguments[0]:128;_classCallCheck(this,CommandManager);_classPrivateFieldInitSpec(this,_commands,[]);_classPrivateFieldInitSpec(this,_locked,false);_classPrivateFieldInitSpec(this,_maxSize,void 0);_classPrivateFieldInitSpec(this,_position,-1);_classPrivateFieldSet(_maxSize,this,maxSize);}return _createClass(CommandManager,[{key:\"add\",value:function add(_ref26){var cmd=_ref26.cmd,undo=_ref26.undo,mustExec=_ref26.mustExec,_ref26$type=_ref26.type,type=_ref26$type===void 0?NaN:_ref26$type,_ref26$overwriteIfSam=_ref26.overwriteIfSameType,overwriteIfSameType=_ref26$overwriteIfSam===void 0?false:_ref26$overwriteIfSam,_ref26$keepUndo=_ref26.keepUndo,keepUndo=_ref26$keepUndo===void 0?false:_ref26$keepUndo;if(mustExec){cmd();}if(_classPrivateFieldGet(_locked,this)){return;}var save={cmd:cmd,undo:undo,type:type};if(_classPrivateFieldGet(_position,this)===-1){if(_classPrivateFieldGet(_commands,this).length>0){_classPrivateFieldGet(_commands,this).length=0;}_classPrivateFieldSet(_position,this,0);_classPrivateFieldGet(_commands,this).push(save);return;}if(overwriteIfSameType&&_classPrivateFieldGet(_commands,this)[_classPrivateFieldGet(_position,this)].type===type){if(keepUndo){save.undo=_classPrivateFieldGet(_commands,this)[_classPrivateFieldGet(_position,this)].undo;}_classPrivateFieldGet(_commands,this)[_classPrivateFieldGet(_position,this)]=save;return;}var next=_classPrivateFieldGet(_position,this)+1;if(next===_classPrivateFieldGet(_maxSize,this)){_classPrivateFieldGet(_commands,this).splice(0,1);}else{_classPrivateFieldSet(_position,this,next);if(next<_classPrivateFieldGet(_commands,this).length){_classPrivateFieldGet(_commands,this).splice(next);}}_classPrivateFieldGet(_commands,this).push(save);}},{key:\"undo\",value:function undo(){if(_classPrivateFieldGet(_position,this)===-1){return;}_classPrivateFieldSet(_locked,this,true);_classPrivateFieldGet(_commands,this)[_classPrivateFieldGet(_position,this)].undo();_classPrivateFieldSet(_locked,this,false);_classPrivateFieldSet(_position,this,_classPrivateFieldGet(_position,this)-1);}},{key:\"redo\",value:function redo(){if(_classPrivateFieldGet(_position,this)<_classPrivateFieldGet(_commands,this).length-1){_classPrivateFieldSet(_position,this,_classPrivateFieldGet(_position,this)+1);_classPrivateFieldSet(_locked,this,true);_classPrivateFieldGet(_commands,this)[_classPrivateFieldGet(_position,this)].cmd();_classPrivateFieldSet(_locked,this,false);}}},{key:\"hasSomethingToUndo\",value:function hasSomethingToUndo(){return _classPrivateFieldGet(_position,this)!==-1;}},{key:\"hasSomethingToRedo\",value:function hasSomethingToRedo(){return _classPrivateFieldGet(_position,this)<_classPrivateFieldGet(_commands,this).length-1;}},{key:\"destroy\",value:function destroy(){_classPrivateFieldSet(_commands,this,null);}}]);}();exports.CommandManager=CommandManager;var _KeyboardManager_brand=/*#__PURE__*/new WeakSet();var KeyboardManager=/*#__PURE__*/function(){function KeyboardManager(callbacks){_classCallCheck(this,KeyboardManager);_classPrivateMethodInitSpec(this,_KeyboardManager_brand);this.buffer=[];this.callbacks=new Map();this.allKeys=new Set();var isMac=_util.FeatureTest.platform.isMac;var _iterator18=_createForOfIteratorHelper(callbacks),_step18;try{for(_iterator18.s();!(_step18=_iterator18.n()).done;){var _step18$value=_slicedToArray(_step18.value,3),keys=_step18$value[0],callback=_step18$value[1],_step18$value$=_step18$value[2],options=_step18$value$===void 0?{}:_step18$value$;var _iterator19=_createForOfIteratorHelper(keys),_step19;try{for(_iterator19.s();!(_step19=_iterator19.n()).done;){var key=_step19.value;var isMacKey=key.startsWith(\"mac+\");if(isMac&&isMacKey){this.callbacks.set(key.slice(4),{callback:callback,options:options});this.allKeys.add(key.split(\"+\").at(-1));}else if(!isMac&&!isMacKey){this.callbacks.set(key,{callback:callback,options:options});this.allKeys.add(key.split(\"+\").at(-1));}}}catch(err){_iterator19.e(err);}finally{_iterator19.f();}}}catch(err){_iterator18.e(err);}finally{_iterator18.f();}}return _createClass(KeyboardManager,[{key:\"exec\",value:function exec(self,event){if(!this.allKeys.has(event.key)){return;}var info=this.callbacks.get(_assertClassBrand(_KeyboardManager_brand,this,_serialize).call(this,event));if(!info){return;}var callback=info.callback,_info$options=info.options,_info$options$bubbles=_info$options.bubbles,bubbles=_info$options$bubbles===void 0?false:_info$options$bubbles,_info$options$args=_info$options.args,args=_info$options$args===void 0?[]:_info$options$args,_info$options$checker=_info$options.checker,checker=_info$options$checker===void 0?null:_info$options$checker;if(checker&&!checker(self,event)){return;}callback.bind.apply(callback,[self].concat(_toConsumableArray(args)))();if(!bubbles){event.stopPropagation();event.preventDefault();}}}]);}();function _serialize(event){if(event.altKey){this.buffer.push(\"alt\");}if(event.ctrlKey){this.buffer.push(\"ctrl\");}if(event.metaKey){this.buffer.push(\"meta\");}if(event.shiftKey){this.buffer.push(\"shift\");}this.buffer.push(event.key);var str=this.buffer.join(\"+\");this.buffer.length=0;return str;}exports.KeyboardManager=KeyboardManager;var ColorManager=/*#__PURE__*/function(){function ColorManager(){_classCallCheck(this,ColorManager);}return _createClass(ColorManager,[{key:\"_colors\",get:function get(){var colors=new Map([[\"CanvasText\",null],[\"Canvas\",null]]);(0,_display_utils.getColorValues)(colors);return(0,_util.shadow)(this,\"_colors\",colors);}},{key:\"convert\",value:function convert(color){var rgb=(0,_display_utils.getRGB)(color);if(!window.matchMedia(\"(forced-colors: active)\").matches){return rgb;}var _iterator20=_createForOfIteratorHelper(this._colors),_step20;try{for(_iterator20.s();!(_step20=_iterator20.n()).done;){var _step20$value=_slicedToArray(_step20.value,2),name=_step20$value[0],RGB=_step20$value[1];if(RGB.every(function(x,i){return x===rgb[i];})){return ColorManager._colorsMapping.get(name);}}}catch(err){_iterator20.e(err);}finally{_iterator20.f();}return rgb;}},{key:\"getHexCode\",value:function getHexCode(name){var _util$Util;var rgb=this._colors.get(name);if(!rgb){return name;}return(_util$Util=_util.Util).makeHexColor.apply(_util$Util,_toConsumableArray(rgb));}}]);}();_defineProperty(ColorManager,\"_colorsMapping\",new Map([[\"CanvasText\",[0,0,0]],[\"Canvas\",[255,255,255]]]));exports.ColorManager=ColorManager;var _activeEditor=/*#__PURE__*/new WeakMap();var _allEditors=/*#__PURE__*/new WeakMap();var _allLayers=/*#__PURE__*/new WeakMap();var _altTextManager=/*#__PURE__*/new WeakMap();var _annotationStorage=/*#__PURE__*/new WeakMap();var _commandManager=/*#__PURE__*/new WeakMap();var _currentPageIndex=/*#__PURE__*/new WeakMap();var _deletedAnnotationsElementIds=/*#__PURE__*/new WeakMap();var _draggingEditors=/*#__PURE__*/new WeakMap();var _editorTypes=/*#__PURE__*/new WeakMap();var _editorsToRescale=/*#__PURE__*/new WeakMap();var _filterFactory=/*#__PURE__*/new WeakMap();var _idManager=/*#__PURE__*/new WeakMap();var _isEnabled=/*#__PURE__*/new WeakMap();var _isWaiting=/*#__PURE__*/new WeakMap();var _lastActiveElement=/*#__PURE__*/new WeakMap();var _mode=/*#__PURE__*/new WeakMap();var _selectedEditors=/*#__PURE__*/new WeakMap();var _pageColors=/*#__PURE__*/new WeakMap();var _boundBlur=/*#__PURE__*/new WeakMap();var _boundFocus=/*#__PURE__*/new WeakMap();var _boundCopy=/*#__PURE__*/new WeakMap();var _boundCut=/*#__PURE__*/new WeakMap();var _boundPaste=/*#__PURE__*/new WeakMap();var _boundKeydown=/*#__PURE__*/new WeakMap();var _boundOnEditingAction=/*#__PURE__*/new WeakMap();var _boundOnPageChanging=/*#__PURE__*/new WeakMap();var _boundOnScaleChanging=/*#__PURE__*/new WeakMap();var _boundOnRotationChanging=/*#__PURE__*/new WeakMap();var _previousStates=/*#__PURE__*/new WeakMap();var _translation=/*#__PURE__*/new WeakMap();var _translationTimeoutId=/*#__PURE__*/new WeakMap();var _container=/*#__PURE__*/new WeakMap();var _viewer=/*#__PURE__*/new WeakMap();var _AnnotationEditorUIManager_brand=/*#__PURE__*/new WeakSet();var AnnotationEditorUIManager=/*#__PURE__*/function(){function AnnotationEditorUIManager(container,viewer,altTextManager,eventBus,pdfDocument,pageColors){_classCallCheck(this,AnnotationEditorUIManager);_classPrivateMethodInitSpec(this,_AnnotationEditorUIManager_brand);_classPrivateFieldInitSpec(this,_activeEditor,null);_classPrivateFieldInitSpec(this,_allEditors,new Map());_classPrivateFieldInitSpec(this,_allLayers,new Map());_classPrivateFieldInitSpec(this,_altTextManager,null);_classPrivateFieldInitSpec(this,_annotationStorage,null);_classPrivateFieldInitSpec(this,_commandManager,new CommandManager());_classPrivateFieldInitSpec(this,_currentPageIndex,0);_classPrivateFieldInitSpec(this,_deletedAnnotationsElementIds,new Set());_classPrivateFieldInitSpec(this,_draggingEditors,null);_classPrivateFieldInitSpec(this,_editorTypes,null);_classPrivateFieldInitSpec(this,_editorsToRescale,new Set());_classPrivateFieldInitSpec(this,_filterFactory,null);_classPrivateFieldInitSpec(this,_idManager,new IdManager());_classPrivateFieldInitSpec(this,_isEnabled,false);_classPrivateFieldInitSpec(this,_isWaiting,false);_classPrivateFieldInitSpec(this,_lastActiveElement,null);_classPrivateFieldInitSpec(this,_mode,_util.AnnotationEditorType.NONE);_classPrivateFieldInitSpec(this,_selectedEditors,new Set());_classPrivateFieldInitSpec(this,_pageColors,null);_classPrivateFieldInitSpec(this,_boundBlur,this.blur.bind(this));_classPrivateFieldInitSpec(this,_boundFocus,this.focus.bind(this));_classPrivateFieldInitSpec(this,_boundCopy,this.copy.bind(this));_classPrivateFieldInitSpec(this,_boundCut,this.cut.bind(this));_classPrivateFieldInitSpec(this,_boundPaste,this.paste.bind(this));_classPrivateFieldInitSpec(this,_boundKeydown,this.keydown.bind(this));_classPrivateFieldInitSpec(this,_boundOnEditingAction,this.onEditingAction.bind(this));_classPrivateFieldInitSpec(this,_boundOnPageChanging,this.onPageChanging.bind(this));_classPrivateFieldInitSpec(this,_boundOnScaleChanging,this.onScaleChanging.bind(this));_classPrivateFieldInitSpec(this,_boundOnRotationChanging,this.onRotationChanging.bind(this));_classPrivateFieldInitSpec(this,_previousStates,{isEditing:false,isEmpty:true,hasSomethingToUndo:false,hasSomethingToRedo:false,hasSelectedEditor:false});_classPrivateFieldInitSpec(this,_translation,[0,0]);_classPrivateFieldInitSpec(this,_translationTimeoutId,null);_classPrivateFieldInitSpec(this,_container,null);_classPrivateFieldInitSpec(this,_viewer,null);_classPrivateFieldSet(_container,this,container);_classPrivateFieldSet(_viewer,this,viewer);_classPrivateFieldSet(_altTextManager,this,altTextManager);this._eventBus=eventBus;this._eventBus._on(\"editingaction\",_classPrivateFieldGet(_boundOnEditingAction,this));this._eventBus._on(\"pagechanging\",_classPrivateFieldGet(_boundOnPageChanging,this));this._eventBus._on(\"scalechanging\",_classPrivateFieldGet(_boundOnScaleChanging,this));this._eventBus._on(\"rotationchanging\",_classPrivateFieldGet(_boundOnRotationChanging,this));_classPrivateFieldSet(_annotationStorage,this,pdfDocument.annotationStorage);_classPrivateFieldSet(_filterFactory,this,pdfDocument.filterFactory);_classPrivateFieldSet(_pageColors,this,pageColors);this.viewParameters={realScale:_display_utils.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0};}return _createClass(AnnotationEditorUIManager,[{key:\"destroy\",value:function destroy(){_assertClassBrand(_AnnotationEditorUIManager_brand,this,_removeKeyboardManager).call(this);_assertClassBrand(_AnnotationEditorUIManager_brand,this,_removeFocusManager).call(this);this._eventBus._off(\"editingaction\",_classPrivateFieldGet(_boundOnEditingAction,this));this._eventBus._off(\"pagechanging\",_classPrivateFieldGet(_boundOnPageChanging,this));this._eventBus._off(\"scalechanging\",_classPrivateFieldGet(_boundOnScaleChanging,this));this._eventBus._off(\"rotationchanging\",_classPrivateFieldGet(_boundOnRotationChanging,this));var _iterator21=_createForOfIteratorHelper(_classPrivateFieldGet(_allLayers,this).values()),_step21;try{for(_iterator21.s();!(_step21=_iterator21.n()).done;){var layer=_step21.value;layer.destroy();}}catch(err){_iterator21.e(err);}finally{_iterator21.f();}_classPrivateFieldGet(_allLayers,this).clear();_classPrivateFieldGet(_allEditors,this).clear();_classPrivateFieldGet(_editorsToRescale,this).clear();_classPrivateFieldSet(_activeEditor,this,null);_classPrivateFieldGet(_selectedEditors,this).clear();_classPrivateFieldGet(_commandManager,this).destroy();_classPrivateFieldGet(_altTextManager,this).destroy();}},{key:\"hcmFilter\",get:function get(){return(0,_util.shadow)(this,\"hcmFilter\",_classPrivateFieldGet(_pageColors,this)?_classPrivateFieldGet(_filterFactory,this).addHCMFilter(_classPrivateFieldGet(_pageColors,this).foreground,_classPrivateFieldGet(_pageColors,this).background):\"none\");}},{key:\"direction\",get:function get(){return(0,_util.shadow)(this,\"direction\",getComputedStyle(_classPrivateFieldGet(_container,this)).direction);}},{key:\"editAltText\",value:function editAltText(editor){var _classPrivateFieldGet0;(_classPrivateFieldGet0=_classPrivateFieldGet(_altTextManager,this))===null||_classPrivateFieldGet0===void 0||_classPrivateFieldGet0.editAltText(this,editor);}},{key:\"onPageChanging\",value:function onPageChanging(_ref27){var pageNumber=_ref27.pageNumber;_classPrivateFieldSet(_currentPageIndex,this,pageNumber-1);}},{key:\"focusMainContainer\",value:function focusMainContainer(){_classPrivateFieldGet(_container,this).focus();}},{key:\"findParent\",value:function findParent(x,y){var _iterator22=_createForOfIteratorHelper(_classPrivateFieldGet(_allLayers,this).values()),_step22;try{for(_iterator22.s();!(_step22=_iterator22.n()).done;){var layer=_step22.value;var _layer$div$getBoundin=layer.div.getBoundingClientRect(),layerX=_layer$div$getBoundin.x,layerY=_layer$div$getBoundin.y,width=_layer$div$getBoundin.width,height=_layer$div$getBoundin.height;if(x>=layerX&&x<=layerX+width&&y>=layerY&&y<=layerY+height){return layer;}}}catch(err){_iterator22.e(err);}finally{_iterator22.f();}return null;}},{key:\"disableUserSelect\",value:function disableUserSelect(){var value=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;_classPrivateFieldGet(_viewer,this).classList.toggle(\"noUserSelect\",value);}},{key:\"addShouldRescale\",value:function addShouldRescale(editor){_classPrivateFieldGet(_editorsToRescale,this).add(editor);}},{key:\"removeShouldRescale\",value:function removeShouldRescale(editor){_classPrivateFieldGet(_editorsToRescale,this)[\"delete\"](editor);}},{key:\"onScaleChanging\",value:function onScaleChanging(_ref28){var scale=_ref28.scale;this.commitOrRemove();this.viewParameters.realScale=scale*_display_utils.PixelsPerInch.PDF_TO_CSS_UNITS;var _iterator23=_createForOfIteratorHelper(_classPrivateFieldGet(_editorsToRescale,this)),_step23;try{for(_iterator23.s();!(_step23=_iterator23.n()).done;){var editor=_step23.value;editor.onScaleChanging();}}catch(err){_iterator23.e(err);}finally{_iterator23.f();}}},{key:\"onRotationChanging\",value:function onRotationChanging(_ref29){var pagesRotation=_ref29.pagesRotation;this.commitOrRemove();this.viewParameters.rotation=pagesRotation;}},{key:\"addToAnnotationStorage\",value:function addToAnnotationStorage(editor){if(!editor.isEmpty()&&_classPrivateFieldGet(_annotationStorage,this)&&!_classPrivateFieldGet(_annotationStorage,this).has(editor.id)){_classPrivateFieldGet(_annotationStorage,this).setValue(editor.id,editor);}}},{key:\"blur\",value:function blur(){if(!this.hasSelection){return;}var _document2=document,activeElement=_document2.activeElement;var _iterator24=_createForOfIteratorHelper(_classPrivateFieldGet(_selectedEditors,this)),_step24;try{for(_iterator24.s();!(_step24=_iterator24.n()).done;){var editor=_step24.value;if(editor.div.contains(activeElement)){_classPrivateFieldSet(_lastActiveElement,this,[editor,activeElement]);editor._focusEventsAllowed=false;break;}}}catch(err){_iterator24.e(err);}finally{_iterator24.f();}}},{key:\"focus\",value:function focus(){if(!_classPrivateFieldGet(_lastActiveElement,this)){return;}var _classPrivateFieldGet1=_classPrivateFieldGet(_lastActiveElement,this),_classPrivateFieldGet10=_slicedToArray(_classPrivateFieldGet1,2),lastEditor=_classPrivateFieldGet10[0],lastActiveElement=_classPrivateFieldGet10[1];_classPrivateFieldSet(_lastActiveElement,this,null);lastActiveElement.addEventListener(\"focusin\",function(){lastEditor._focusEventsAllowed=true;},{once:true});lastActiveElement.focus();}},{key:\"addEditListeners\",value:function addEditListeners(){_assertClassBrand(_AnnotationEditorUIManager_brand,this,_addKeyboardManager).call(this);_assertClassBrand(_AnnotationEditorUIManager_brand,this,_addCopyPasteListeners).call(this);}},{key:\"removeEditListeners\",value:function removeEditListeners(){_assertClassBrand(_AnnotationEditorUIManager_brand,this,_removeKeyboardManager).call(this);_assertClassBrand(_AnnotationEditorUIManager_brand,this,_removeCopyPasteListeners).call(this);}},{key:\"copy\",value:function copy(event){var _classPrivateFieldGet11;event.preventDefault();(_classPrivateFieldGet11=_classPrivateFieldGet(_activeEditor,this))===null||_classPrivateFieldGet11===void 0||_classPrivateFieldGet11.commitOrRemove();if(!this.hasSelection){return;}var editors=[];var _iterator25=_createForOfIteratorHelper(_classPrivateFieldGet(_selectedEditors,this)),_step25;try{for(_iterator25.s();!(_step25=_iterator25.n()).done;){var editor=_step25.value;var serialized=editor.serialize(true);if(serialized){editors.push(serialized);}}}catch(err){_iterator25.e(err);}finally{_iterator25.f();}if(editors.length===0){return;}event.clipboardData.setData(\"application/pdfjs\",JSON.stringify(editors));}},{key:\"cut\",value:function cut(event){this.copy(event);this[\"delete\"]();}},{key:\"paste\",value:function paste(event){var _this27=this;event.preventDefault();var clipboardData=event.clipboardData;var _iterator26=_createForOfIteratorHelper(clipboardData.items),_step26;try{for(_iterator26.s();!(_step26=_iterator26.n()).done;){var item=_step26.value;var _iterator28=_createForOfIteratorHelper(_classPrivateFieldGet(_editorTypes,this)),_step28;try{for(_iterator28.s();!(_step28=_iterator28.n()).done;){var editorType=_step28.value;if(editorType.isHandlingMimeForPasting(item.type)){editorType.paste(item,this.currentLayer);return;}}}catch(err){_iterator28.e(err);}finally{_iterator28.f();}}}catch(err){_iterator26.e(err);}finally{_iterator26.f();}var data=clipboardData.getData(\"application/pdfjs\");if(!data){return;}try{data=JSON.parse(data);}catch(ex){(0,_util.warn)(\"paste: \\\"\".concat(ex.message,\"\\\".\"));return;}if(!Array.isArray(data)){return;}this.unselectAll();var layer=this.currentLayer;try{var newEditors=[];var _iterator27=_createForOfIteratorHelper(data),_step27;try{for(_iterator27.s();!(_step27=_iterator27.n()).done;){var editor=_step27.value;var deserializedEditor=layer.deserialize(editor);if(!deserializedEditor){return;}newEditors.push(deserializedEditor);}}catch(err){_iterator27.e(err);}finally{_iterator27.f();}var cmd=function cmd(){for(var _i4=0,_newEditors=newEditors;_i4<_newEditors.length;_i4++){var editor=_newEditors[_i4];_assertClassBrand(_AnnotationEditorUIManager_brand,_this27,_addEditorToLayer).call(_this27,editor);}_assertClassBrand(_AnnotationEditorUIManager_brand,_this27,_selectEditors).call(_this27,newEditors);};var undo=function undo(){for(var _i5=0,_newEditors2=newEditors;_i5<_newEditors2.length;_i5++){var editor=_newEditors2[_i5];editor.remove();}};this.addCommands({cmd:cmd,undo:undo,mustExec:true});}catch(ex){(0,_util.warn)(\"paste: \\\"\".concat(ex.message,\"\\\".\"));}}},{key:\"keydown\",value:function keydown(event){var _this$getActive;if(!((_this$getActive=this.getActive())!==null&&_this$getActive!==void 0&&_this$getActive.shouldGetKeyboardEvents())){AnnotationEditorUIManager._keyboardManager.exec(this,event);}}},{key:\"onEditingAction\",value:function onEditingAction(details){if([\"undo\",\"redo\",\"delete\",\"selectAll\"].includes(details.name)){this[details.name]();}}},{key:\"setEditingState\",value:function setEditingState(isEditing){if(isEditing){_assertClassBrand(_AnnotationEditorUIManager_brand,this,_addFocusManager).call(this);_assertClassBrand(_AnnotationEditorUIManager_brand,this,_addKeyboardManager).call(this);_assertClassBrand(_AnnotationEditorUIManager_brand,this,_addCopyPasteListeners).call(this);_assertClassBrand(_AnnotationEditorUIManager_brand,this,_dispatchUpdateStates).call(this,{isEditing:_classPrivateFieldGet(_mode,this)!==_util.AnnotationEditorType.NONE,isEmpty:_assertClassBrand(_AnnotationEditorUIManager_brand,this,_isEmpty).call(this),hasSomethingToUndo:_classPrivateFieldGet(_commandManager,this).hasSomethingToUndo(),hasSomethingToRedo:_classPrivateFieldGet(_commandManager,this).hasSomethingToRedo(),hasSelectedEditor:false});}else{_assertClassBrand(_AnnotationEditorUIManager_brand,this,_removeFocusManager).call(this);_assertClassBrand(_AnnotationEditorUIManager_brand,this,_removeKeyboardManager).call(this);_assertClassBrand(_AnnotationEditorUIManager_brand,this,_removeCopyPasteListeners).call(this);_assertClassBrand(_AnnotationEditorUIManager_brand,this,_dispatchUpdateStates).call(this,{isEditing:false});this.disableUserSelect(false);}}},{key:\"registerEditorTypes\",value:function registerEditorTypes(types){if(_classPrivateFieldGet(_editorTypes,this)){return;}_classPrivateFieldSet(_editorTypes,this,types);var _iterator29=_createForOfIteratorHelper(_classPrivateFieldGet(_editorTypes,this)),_step29;try{for(_iterator29.s();!(_step29=_iterator29.n()).done;){var editorType=_step29.value;_assertClassBrand(_AnnotationEditorUIManager_brand,this,_dispatchUpdateUI).call(this,editorType.defaultPropertiesToUpdate);}}catch(err){_iterator29.e(err);}finally{_iterator29.f();}}},{key:\"getId\",value:function getId(){return _classPrivateFieldGet(_idManager,this).getId();}},{key:\"currentLayer\",get:function get(){return _classPrivateFieldGet(_allLayers,this).get(_classPrivateFieldGet(_currentPageIndex,this));}},{key:\"getLayer\",value:function getLayer(pageIndex){return _classPrivateFieldGet(_allLayers,this).get(pageIndex);}},{key:\"currentPageIndex\",get:function get(){return _classPrivateFieldGet(_currentPageIndex,this);}},{key:\"addLayer\",value:function addLayer(layer){_classPrivateFieldGet(_allLayers,this).set(layer.pageIndex,layer);if(_classPrivateFieldGet(_isEnabled,this)){layer.enable();}else{layer.disable();}}},{key:\"removeLayer\",value:function removeLayer(layer){_classPrivateFieldGet(_allLayers,this)[\"delete\"](layer.pageIndex);}},{key:\"updateMode\",value:function updateMode(mode){var editId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(_classPrivateFieldGet(_mode,this)===mode){return;}_classPrivateFieldSet(_mode,this,mode);if(mode===_util.AnnotationEditorType.NONE){this.setEditingState(false);_assertClassBrand(_AnnotationEditorUIManager_brand,this,_disableAll).call(this);return;}this.setEditingState(true);_assertClassBrand(_AnnotationEditorUIManager_brand,this,_enableAll).call(this);this.unselectAll();var _iterator30=_createForOfIteratorHelper(_classPrivateFieldGet(_allLayers,this).values()),_step30;try{for(_iterator30.s();!(_step30=_iterator30.n()).done;){var layer=_step30.value;layer.updateMode(mode);}}catch(err){_iterator30.e(err);}finally{_iterator30.f();}if(!editId){return;}var _iterator31=_createForOfIteratorHelper(_classPrivateFieldGet(_allEditors,this).values()),_step31;try{for(_iterator31.s();!(_step31=_iterator31.n()).done;){var editor=_step31.value;if(editor.annotationElementId===editId){this.setSelected(editor);editor.enterInEditMode();break;}}}catch(err){_iterator31.e(err);}finally{_iterator31.f();}}},{key:\"updateToolbar\",value:function updateToolbar(mode){if(mode===_classPrivateFieldGet(_mode,this)){return;}this._eventBus.dispatch(\"switchannotationeditormode\",{source:this,mode:mode});}},{key:\"updateParams\",value:function updateParams(type,value){if(!_classPrivateFieldGet(_editorTypes,this)){return;}if(type===_util.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(type);return;}var _iterator32=_createForOfIteratorHelper(_classPrivateFieldGet(_selectedEditors,this)),_step32;try{for(_iterator32.s();!(_step32=_iterator32.n()).done;){var editor=_step32.value;editor.updateParams(type,value);}}catch(err){_iterator32.e(err);}finally{_iterator32.f();}var _iterator33=_createForOfIteratorHelper(_classPrivateFieldGet(_editorTypes,this)),_step33;try{for(_iterator33.s();!(_step33=_iterator33.n()).done;){var editorType=_step33.value;editorType.updateDefaultParams(type,value);}}catch(err){_iterator33.e(err);}finally{_iterator33.f();}}},{key:\"enableWaiting\",value:function enableWaiting(){var mustWait=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(_classPrivateFieldGet(_isWaiting,this)===mustWait){return;}_classPrivateFieldSet(_isWaiting,this,mustWait);var _iterator34=_createForOfIteratorHelper(_classPrivateFieldGet(_allLayers,this).values()),_step34;try{for(_iterator34.s();!(_step34=_iterator34.n()).done;){var layer=_step34.value;if(mustWait){layer.disableClick();}else{layer.enableClick();}layer.div.classList.toggle(\"waiting\",mustWait);}}catch(err){_iterator34.e(err);}finally{_iterator34.f();}}},{key:\"getEditors\",value:function getEditors(pageIndex){var editors=[];var _iterator35=_createForOfIteratorHelper(_classPrivateFieldGet(_allEditors,this).values()),_step35;try{for(_iterator35.s();!(_step35=_iterator35.n()).done;){var editor=_step35.value;if(editor.pageIndex===pageIndex){editors.push(editor);}}}catch(err){_iterator35.e(err);}finally{_iterator35.f();}return editors;}},{key:\"getEditor\",value:function getEditor(id){return _classPrivateFieldGet(_allEditors,this).get(id);}},{key:\"addEditor\",value:function addEditor(editor){_classPrivateFieldGet(_allEditors,this).set(editor.id,editor);}},{key:\"removeEditor\",value:function removeEditor(editor){_classPrivateFieldGet(_allEditors,this)[\"delete\"](editor.id);this.unselect(editor);if(!editor.annotationElementId||!_classPrivateFieldGet(_deletedAnnotationsElementIds,this).has(editor.annotationElementId)){var _classPrivateFieldGet12;(_classPrivateFieldGet12=_classPrivateFieldGet(_annotationStorage,this))===null||_classPrivateFieldGet12===void 0||_classPrivateFieldGet12.remove(editor.id);}}},{key:\"addDeletedAnnotationElement\",value:function addDeletedAnnotationElement(editor){_classPrivateFieldGet(_deletedAnnotationsElementIds,this).add(editor.annotationElementId);editor.deleted=true;}},{key:\"isDeletedAnnotationElement\",value:function isDeletedAnnotationElement(annotationElementId){return _classPrivateFieldGet(_deletedAnnotationsElementIds,this).has(annotationElementId);}},{key:\"removeDeletedAnnotationElement\",value:function removeDeletedAnnotationElement(editor){_classPrivateFieldGet(_deletedAnnotationsElementIds,this)[\"delete\"](editor.annotationElementId);editor.deleted=false;}},{key:\"setActiveEditor\",value:function setActiveEditor(editor){if(_classPrivateFieldGet(_activeEditor,this)===editor){return;}_classPrivateFieldSet(_activeEditor,this,editor);if(editor){_assertClassBrand(_AnnotationEditorUIManager_brand,this,_dispatchUpdateUI).call(this,editor.propertiesToUpdate);}}},{key:\"toggleSelected\",value:function toggleSelected(editor){if(_classPrivateFieldGet(_selectedEditors,this).has(editor)){_classPrivateFieldGet(_selectedEditors,this)[\"delete\"](editor);editor.unselect();_assertClassBrand(_AnnotationEditorUIManager_brand,this,_dispatchUpdateStates).call(this,{hasSelectedEditor:this.hasSelection});return;}_classPrivateFieldGet(_selectedEditors,this).add(editor);editor.select();_assertClassBrand(_AnnotationEditorUIManager_brand,this,_dispatchUpdateUI).call(this,editor.propertiesToUpdate);_assertClassBrand(_AnnotationEditorUIManager_brand,this,_dispatchUpdateStates).call(this,{hasSelectedEditor:true});}},{key:\"setSelected\",value:function setSelected(editor){var _iterator36=_createForOfIteratorHelper(_classPrivateFieldGet(_selectedEditors,this)),_step36;try{for(_iterator36.s();!(_step36=_iterator36.n()).done;){var ed=_step36.value;if(ed!==editor){ed.unselect();}}}catch(err){_iterator36.e(err);}finally{_iterator36.f();}_classPrivateFieldGet(_selectedEditors,this).clear();_classPrivateFieldGet(_selectedEditors,this).add(editor);editor.select();_assertClassBrand(_AnnotationEditorUIManager_brand,this,_dispatchUpdateUI).call(this,editor.propertiesToUpdate);_assertClassBrand(_AnnotationEditorUIManager_brand,this,_dispatchUpdateStates).call(this,{hasSelectedEditor:true});}},{key:\"isSelected\",value:function isSelected(editor){return _classPrivateFieldGet(_selectedEditors,this).has(editor);}},{key:\"unselect\",value:function unselect(editor){editor.unselect();_classPrivateFieldGet(_selectedEditors,this)[\"delete\"](editor);_assertClassBrand(_AnnotationEditorUIManager_brand,this,_dispatchUpdateStates).call(this,{hasSelectedEditor:this.hasSelection});}},{key:\"hasSelection\",get:function get(){return _classPrivateFieldGet(_selectedEditors,this).size!==0;}},{key:\"undo\",value:function undo(){_classPrivateFieldGet(_commandManager,this).undo();_assertClassBrand(_AnnotationEditorUIManager_brand,this,_dispatchUpdateStates).call(this,{hasSomethingToUndo:_classPrivateFieldGet(_commandManager,this).hasSomethingToUndo(),hasSomethingToRedo:true,isEmpty:_assertClassBrand(_AnnotationEditorUIManager_brand,this,_isEmpty).call(this)});}},{key:\"redo\",value:function redo(){_classPrivateFieldGet(_commandManager,this).redo();_assertClassBrand(_AnnotationEditorUIManager_brand,this,_dispatchUpdateStates).call(this,{hasSomethingToUndo:true,hasSomethingToRedo:_classPrivateFieldGet(_commandManager,this).hasSomethingToRedo(),isEmpty:_assertClassBrand(_AnnotationEditorUIManager_brand,this,_isEmpty).call(this)});}},{key:\"addCommands\",value:function addCommands(params){_classPrivateFieldGet(_commandManager,this).add(params);_assertClassBrand(_AnnotationEditorUIManager_brand,this,_dispatchUpdateStates).call(this,{hasSomethingToUndo:true,hasSomethingToRedo:false,isEmpty:_assertClassBrand(_AnnotationEditorUIManager_brand,this,_isEmpty).call(this)});}},{key:\"delete\",value:function _delete(){var _this28=this;this.commitOrRemove();if(!this.hasSelection){return;}var editors=_toConsumableArray(_classPrivateFieldGet(_selectedEditors,this));var cmd=function cmd(){var _iterator37=_createForOfIteratorHelper(editors),_step37;try{for(_iterator37.s();!(_step37=_iterator37.n()).done;){var editor=_step37.value;editor.remove();}}catch(err){_iterator37.e(err);}finally{_iterator37.f();}};var undo=function undo(){var _iterator38=_createForOfIteratorHelper(editors),_step38;try{for(_iterator38.s();!(_step38=_iterator38.n()).done;){var editor=_step38.value;_assertClassBrand(_AnnotationEditorUIManager_brand,_this28,_addEditorToLayer).call(_this28,editor);}}catch(err){_iterator38.e(err);}finally{_iterator38.f();}};this.addCommands({cmd:cmd,undo:undo,mustExec:true});}},{key:\"commitOrRemove\",value:function commitOrRemove(){var _classPrivateFieldGet13;(_classPrivateFieldGet13=_classPrivateFieldGet(_activeEditor,this))===null||_classPrivateFieldGet13===void 0||_classPrivateFieldGet13.commitOrRemove();}},{key:\"hasSomethingToControl\",value:function hasSomethingToControl(){return _classPrivateFieldGet(_activeEditor,this)||this.hasSelection;}},{key:\"selectAll\",value:function selectAll(){var _iterator39=_createForOfIteratorHelper(_classPrivateFieldGet(_selectedEditors,this)),_step39;try{for(_iterator39.s();!(_step39=_iterator39.n()).done;){var editor=_step39.value;editor.commit();}}catch(err){_iterator39.e(err);}finally{_iterator39.f();}_assertClassBrand(_AnnotationEditorUIManager_brand,this,_selectEditors).call(this,_classPrivateFieldGet(_allEditors,this).values());}},{key:\"unselectAll\",value:function unselectAll(){if(_classPrivateFieldGet(_activeEditor,this)){_classPrivateFieldGet(_activeEditor,this).commitOrRemove();return;}if(!this.hasSelection){return;}var _iterator40=_createForOfIteratorHelper(_classPrivateFieldGet(_selectedEditors,this)),_step40;try{for(_iterator40.s();!(_step40=_iterator40.n()).done;){var editor=_step40.value;editor.unselect();}}catch(err){_iterator40.e(err);}finally{_iterator40.f();}_classPrivateFieldGet(_selectedEditors,this).clear();_assertClassBrand(_AnnotationEditorUIManager_brand,this,_dispatchUpdateStates).call(this,{hasSelectedEditor:false});}},{key:\"translateSelectedEditors\",value:function translateSelectedEditors(x,y){var _this29=this;var noCommit=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!noCommit){this.commitOrRemove();}if(!this.hasSelection){return;}_classPrivateFieldGet(_translation,this)[0]+=x;_classPrivateFieldGet(_translation,this)[1]+=y;var _classPrivateFieldGet14=_classPrivateFieldGet(_translation,this),_classPrivateFieldGet15=_slicedToArray(_classPrivateFieldGet14,2),totalX=_classPrivateFieldGet15[0],totalY=_classPrivateFieldGet15[1];var editors=_toConsumableArray(_classPrivateFieldGet(_selectedEditors,this));var TIME_TO_WAIT=1000;if(_classPrivateFieldGet(_translationTimeoutId,this)){clearTimeout(_classPrivateFieldGet(_translationTimeoutId,this));}_classPrivateFieldSet(_translationTimeoutId,this,setTimeout(function(){_classPrivateFieldSet(_translationTimeoutId,_this29,null);_classPrivateFieldGet(_translation,_this29)[0]=_classPrivateFieldGet(_translation,_this29)[1]=0;_this29.addCommands({cmd:function cmd(){var _iterator41=_createForOfIteratorHelper(editors),_step41;try{for(_iterator41.s();!(_step41=_iterator41.n()).done;){var editor=_step41.value;if(_classPrivateFieldGet(_allEditors,_this29).has(editor.id)){editor.translateInPage(totalX,totalY);}}}catch(err){_iterator41.e(err);}finally{_iterator41.f();}},undo:function undo(){var _iterator42=_createForOfIteratorHelper(editors),_step42;try{for(_iterator42.s();!(_step42=_iterator42.n()).done;){var editor=_step42.value;if(_classPrivateFieldGet(_allEditors,_this29).has(editor.id)){editor.translateInPage(-totalX,-totalY);}}}catch(err){_iterator42.e(err);}finally{_iterator42.f();}},mustExec:false});},TIME_TO_WAIT));var _iterator43=_createForOfIteratorHelper(editors),_step43;try{for(_iterator43.s();!(_step43=_iterator43.n()).done;){var editor=_step43.value;editor.translateInPage(x,y);}}catch(err){_iterator43.e(err);}finally{_iterator43.f();}}},{key:\"setUpDragSession\",value:function setUpDragSession(){if(!this.hasSelection){return;}this.disableUserSelect(true);_classPrivateFieldSet(_draggingEditors,this,new Map());var _iterator44=_createForOfIteratorHelper(_classPrivateFieldGet(_selectedEditors,this)),_step44;try{for(_iterator44.s();!(_step44=_iterator44.n()).done;){var editor=_step44.value;_classPrivateFieldGet(_draggingEditors,this).set(editor,{savedX:editor.x,savedY:editor.y,savedPageIndex:editor.pageIndex,newX:0,newY:0,newPageIndex:-1});}}catch(err){_iterator44.e(err);}finally{_iterator44.f();}}},{key:\"endDragSession\",value:function endDragSession(){var _this30=this;if(!_classPrivateFieldGet(_draggingEditors,this)){return false;}this.disableUserSelect(false);var map=_classPrivateFieldGet(_draggingEditors,this);_classPrivateFieldSet(_draggingEditors,this,null);var mustBeAddedInUndoStack=false;var _iterator45=_createForOfIteratorHelper(map),_step45;try{for(_iterator45.s();!(_step45=_iterator45.n()).done;){var _step45$value=_slicedToArray(_step45.value,2),_step45$value$=_step45$value[0],x=_step45$value$.x,y=_step45$value$.y,pageIndex=_step45$value$.pageIndex,value=_step45$value[1];value.newX=x;value.newY=y;value.newPageIndex=pageIndex;mustBeAddedInUndoStack||(mustBeAddedInUndoStack=x!==value.savedX||y!==value.savedY||pageIndex!==value.savedPageIndex);}}catch(err){_iterator45.e(err);}finally{_iterator45.f();}if(!mustBeAddedInUndoStack){return false;}var move=function move(editor,x,y,pageIndex){if(_classPrivateFieldGet(_allEditors,_this30).has(editor.id)){var parent=_classPrivateFieldGet(_allLayers,_this30).get(pageIndex);if(parent){editor._setParentAndPosition(parent,x,y);}else{editor.pageIndex=pageIndex;editor.x=x;editor.y=y;}}};this.addCommands({cmd:function cmd(){var _iterator46=_createForOfIteratorHelper(map),_step46;try{for(_iterator46.s();!(_step46=_iterator46.n()).done;){var _step46$value=_slicedToArray(_step46.value,2),editor=_step46$value[0],_step46$value$=_step46$value[1],newX=_step46$value$.newX,newY=_step46$value$.newY,newPageIndex=_step46$value$.newPageIndex;move(editor,newX,newY,newPageIndex);}}catch(err){_iterator46.e(err);}finally{_iterator46.f();}},undo:function undo(){var _iterator47=_createForOfIteratorHelper(map),_step47;try{for(_iterator47.s();!(_step47=_iterator47.n()).done;){var _step47$value=_slicedToArray(_step47.value,2),editor=_step47$value[0],_step47$value$=_step47$value[1],savedX=_step47$value$.savedX,savedY=_step47$value$.savedY,savedPageIndex=_step47$value$.savedPageIndex;move(editor,savedX,savedY,savedPageIndex);}}catch(err){_iterator47.e(err);}finally{_iterator47.f();}},mustExec:true});return true;}},{key:\"dragSelectedEditors\",value:function dragSelectedEditors(tx,ty){if(!_classPrivateFieldGet(_draggingEditors,this)){return;}var _iterator48=_createForOfIteratorHelper(_classPrivateFieldGet(_draggingEditors,this).keys()),_step48;try{for(_iterator48.s();!(_step48=_iterator48.n()).done;){var editor=_step48.value;editor.drag(tx,ty);}}catch(err){_iterator48.e(err);}finally{_iterator48.f();}}},{key:\"rebuild\",value:function rebuild(editor){if(editor.parent===null){var parent=this.getLayer(editor.pageIndex);if(parent){parent.changeParent(editor);parent.addOrRebuild(editor);}else{this.addEditor(editor);this.addToAnnotationStorage(editor);editor.rebuild();}}else{editor.parent.addOrRebuild(editor);}}},{key:\"isActive\",value:function isActive(editor){return _classPrivateFieldGet(_activeEditor,this)===editor;}},{key:\"getActive\",value:function getActive(){return _classPrivateFieldGet(_activeEditor,this);}},{key:\"getMode\",value:function getMode(){return _classPrivateFieldGet(_mode,this);}},{key:\"imageManager\",get:function get(){return(0,_util.shadow)(this,\"imageManager\",new ImageManager());}}],[{key:\"_keyboardManager\",get:function get(){var proto=AnnotationEditorUIManager.prototype;var arrowChecker=function arrowChecker(self){var _document3=document,activeElement=_document3.activeElement;return activeElement&&_classPrivateFieldGet(_container,self).contains(activeElement)&&self.hasSomethingToControl();};var small=this.TRANSLATE_SMALL;var big=this.TRANSLATE_BIG;return(0,_util.shadow)(this,\"_keyboardManager\",new KeyboardManager([[[\"ctrl+a\",\"mac+meta+a\"],proto.selectAll],[[\"ctrl+z\",\"mac+meta+z\"],proto.undo],[[\"ctrl+y\",\"ctrl+shift+z\",\"mac+meta+shift+z\",\"ctrl+shift+Z\",\"mac+meta+shift+Z\"],proto.redo],[[\"Backspace\",\"alt+Backspace\",\"ctrl+Backspace\",\"shift+Backspace\",\"mac+Backspace\",\"mac+alt+Backspace\",\"mac+ctrl+Backspace\",\"Delete\",\"ctrl+Delete\",\"shift+Delete\",\"mac+Delete\"],proto[\"delete\"]],[[\"Escape\",\"mac+Escape\"],proto.unselectAll],[[\"ArrowLeft\",\"mac+ArrowLeft\"],proto.translateSelectedEditors,{args:[-small,0],checker:arrowChecker}],[[\"ctrl+ArrowLeft\",\"mac+shift+ArrowLeft\"],proto.translateSelectedEditors,{args:[-big,0],checker:arrowChecker}],[[\"ArrowRight\",\"mac+ArrowRight\"],proto.translateSelectedEditors,{args:[small,0],checker:arrowChecker}],[[\"ctrl+ArrowRight\",\"mac+shift+ArrowRight\"],proto.translateSelectedEditors,{args:[big,0],checker:arrowChecker}],[[\"ArrowUp\",\"mac+ArrowUp\"],proto.translateSelectedEditors,{args:[0,-small],checker:arrowChecker}],[[\"ctrl+ArrowUp\",\"mac+shift+ArrowUp\"],proto.translateSelectedEditors,{args:[0,-big],checker:arrowChecker}],[[\"ArrowDown\",\"mac+ArrowDown\"],proto.translateSelectedEditors,{args:[0,small],checker:arrowChecker}],[[\"ctrl+ArrowDown\",\"mac+shift+ArrowDown\"],proto.translateSelectedEditors,{args:[0,big],checker:arrowChecker}]]));}}]);}();function _addFocusManager(){window.addEventListener(\"focus\",_classPrivateFieldGet(_boundFocus,this));window.addEventListener(\"blur\",_classPrivateFieldGet(_boundBlur,this));}function _removeFocusManager(){window.removeEventListener(\"focus\",_classPrivateFieldGet(_boundFocus,this));window.removeEventListener(\"blur\",_classPrivateFieldGet(_boundBlur,this));}function _addKeyboardManager(){window.addEventListener(\"keydown\",_classPrivateFieldGet(_boundKeydown,this),{capture:true});}function _removeKeyboardManager(){window.removeEventListener(\"keydown\",_classPrivateFieldGet(_boundKeydown,this),{capture:true});}function _addCopyPasteListeners(){document.addEventListener(\"copy\",_classPrivateFieldGet(_boundCopy,this));document.addEventListener(\"cut\",_classPrivateFieldGet(_boundCut,this));document.addEventListener(\"paste\",_classPrivateFieldGet(_boundPaste,this));}function _removeCopyPasteListeners(){document.removeEventListener(\"copy\",_classPrivateFieldGet(_boundCopy,this));document.removeEventListener(\"cut\",_classPrivateFieldGet(_boundCut,this));document.removeEventListener(\"paste\",_classPrivateFieldGet(_boundPaste,this));}function _dispatchUpdateStates(details){var _this31=this;var hasChanged=Object.entries(details).some(function(_ref30){var _ref31=_slicedToArray(_ref30,2),key=_ref31[0],value=_ref31[1];return _classPrivateFieldGet(_previousStates,_this31)[key]!==value;});if(hasChanged){this._eventBus.dispatch(\"annotationeditorstateschanged\",{source:this,details:Object.assign(_classPrivateFieldGet(_previousStates,this),details)});}}function _dispatchUpdateUI(details){this._eventBus.dispatch(\"annotationeditorparamschanged\",{source:this,details:details});}function _enableAll(){if(!_classPrivateFieldGet(_isEnabled,this)){_classPrivateFieldSet(_isEnabled,this,true);var _iterator49=_createForOfIteratorHelper(_classPrivateFieldGet(_allLayers,this).values()),_step49;try{for(_iterator49.s();!(_step49=_iterator49.n()).done;){var layer=_step49.value;layer.enable();}}catch(err){_iterator49.e(err);}finally{_iterator49.f();}}}function _disableAll(){this.unselectAll();if(_classPrivateFieldGet(_isEnabled,this)){_classPrivateFieldSet(_isEnabled,this,false);var _iterator50=_createForOfIteratorHelper(_classPrivateFieldGet(_allLayers,this).values()),_step50;try{for(_iterator50.s();!(_step50=_iterator50.n()).done;){var layer=_step50.value;layer.disable();}}catch(err){_iterator50.e(err);}finally{_iterator50.f();}}}function _addEditorToLayer(editor){var layer=_classPrivateFieldGet(_allLayers,this).get(editor.pageIndex);if(layer){layer.addOrRebuild(editor);}else{this.addEditor(editor);}}function _isEmpty(){if(_classPrivateFieldGet(_allEditors,this).size===0){return true;}if(_classPrivateFieldGet(_allEditors,this).size===1){var _iterator51=_createForOfIteratorHelper(_classPrivateFieldGet(_allEditors,this).values()),_step51;try{for(_iterator51.s();!(_step51=_iterator51.n()).done;){var editor=_step51.value;return editor.isEmpty();}}catch(err){_iterator51.e(err);}finally{_iterator51.f();}}return false;}function _selectEditors(editors){_classPrivateFieldGet(_selectedEditors,this).clear();var _iterator52=_createForOfIteratorHelper(editors),_step52;try{for(_iterator52.s();!(_step52=_iterator52.n()).done;){var editor=_step52.value;if(editor.isEmpty()){continue;}_classPrivateFieldGet(_selectedEditors,this).add(editor);editor.select();}}catch(err){_iterator52.e(err);}finally{_iterator52.f();}_assertClassBrand(_AnnotationEditorUIManager_brand,this,_dispatchUpdateStates).call(this,{hasSelectedEditor:true});}_defineProperty(AnnotationEditorUIManager,\"TRANSLATE_SMALL\",1);_defineProperty(AnnotationEditorUIManager,\"TRANSLATE_BIG\",10);exports.AnnotationEditorUIManager=AnnotationEditorUIManager;/***/}),(/* 6 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){var _PixelsPerInch;Object.defineProperty(exports,\"__esModule\",{value:true});exports.StatTimer=exports.RenderingCancelledException=exports.PixelsPerInch=exports.PageViewport=exports.PDFDateString=exports.DOMStandardFontDataFactory=exports.DOMSVGFactory=exports.DOMFilterFactory=exports.DOMCanvasFactory=exports.DOMCMapReaderFactory=void 0;exports.deprecated=deprecated;exports.getColorValues=getColorValues;exports.getCurrentTransform=getCurrentTransform;exports.getCurrentTransformInverse=getCurrentTransformInverse;exports.getFilenameFromUrl=getFilenameFromUrl;exports.getPdfFilenameFromUrl=getPdfFilenameFromUrl;exports.getRGB=getRGB;exports.getXfaPageViewport=getXfaPageViewport;exports.isDataScheme=isDataScheme;exports.isPdfFile=isPdfFile;exports.isValidFetchUrl=isValidFetchUrl;exports.loadScript=loadScript;exports.noContextMenu=noContextMenu;exports.setLayerDimensions=setLayerDimensions;var _base_factory=__w_pdfjs_require__(7);var _util=__w_pdfjs_require__(1);var SVG_NS=\"http://www.w3.org/2000/svg\";var PixelsPerInch=/*#__PURE__*/_createClass(function PixelsPerInch(){_classCallCheck(this,PixelsPerInch);});_PixelsPerInch=PixelsPerInch;_defineProperty(PixelsPerInch,\"CSS\",96.0);_defineProperty(PixelsPerInch,\"PDF\",72.0);_defineProperty(PixelsPerInch,\"PDF_TO_CSS_UNITS\",_PixelsPerInch.CSS/_PixelsPerInch.PDF);exports.PixelsPerInch=PixelsPerInch;var _cache2=/*#__PURE__*/new WeakMap();var _defs=/*#__PURE__*/new WeakMap();var _docId2=/*#__PURE__*/new WeakMap();var _document4=/*#__PURE__*/new WeakMap();var _hcmFilter=/*#__PURE__*/new WeakMap();var _hcmKey=/*#__PURE__*/new WeakMap();var _hcmUrl=/*#__PURE__*/new WeakMap();var _hcmHighlightFilter=/*#__PURE__*/new WeakMap();var _hcmHighlightKey=/*#__PURE__*/new WeakMap();var _hcmHighlightUrl=/*#__PURE__*/new WeakMap();var _id3=/*#__PURE__*/new WeakMap();var _DOMFilterFactory_brand=/*#__PURE__*/new WeakSet();var DOMFilterFactory=/*#__PURE__*/function(_base_factory$BaseFil){function DOMFilterFactory(){var _this34;var _ref33=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},docId=_ref33.docId,_ref33$ownerDocument=_ref33.ownerDocument,ownerDocument=_ref33$ownerDocument===void 0?globalThis.document:_ref33$ownerDocument;_classCallCheck(this,DOMFilterFactory);_this34=_callSuper(this,DOMFilterFactory);_classPrivateMethodInitSpec(_this34,_DOMFilterFactory_brand);_classPrivateFieldInitSpec(_this34,_cache2,void 0);_classPrivateFieldInitSpec(_this34,_defs,void 0);_classPrivateFieldInitSpec(_this34,_docId2,void 0);_classPrivateFieldInitSpec(_this34,_document4,void 0);_classPrivateFieldInitSpec(_this34,_hcmFilter,void 0);_classPrivateFieldInitSpec(_this34,_hcmKey,void 0);_classPrivateFieldInitSpec(_this34,_hcmUrl,void 0);_classPrivateFieldInitSpec(_this34,_hcmHighlightFilter,void 0);_classPrivateFieldInitSpec(_this34,_hcmHighlightKey,void 0);_classPrivateFieldInitSpec(_this34,_hcmHighlightUrl,void 0);_classPrivateFieldInitSpec(_this34,_id3,0);_classPrivateFieldSet(_docId2,_this34,docId);_classPrivateFieldSet(_document4,_this34,ownerDocument);return _this34;}_inherits(DOMFilterFactory,_base_factory$BaseFil);return _createClass(DOMFilterFactory,[{key:\"addFilter\",value:function addFilter(maps){var _this$id5,_this$id6;if(!maps){return\"none\";}var value=_classPrivateGetter(_DOMFilterFactory_brand,this,_get_cache).get(maps);if(value){return value;}var tableR,tableG,tableB,key;if(maps.length===1){var mapR=maps[0];var buffer=new Array(256);for(var i=0;i<256;i++){buffer[i]=mapR[i]/255;}key=tableR=tableG=tableB=buffer.join(\",\");}else{var _maps=_slicedToArray(maps,3),_mapR=_maps[0],mapG=_maps[1],mapB=_maps[2];var bufferR=new Array(256);var bufferG=new Array(256);var bufferB=new Array(256);for(var _i6=0;_i6<256;_i6++){bufferR[_i6]=_mapR[_i6]/255;bufferG[_i6]=mapG[_i6]/255;bufferB[_i6]=mapB[_i6]/255;}tableR=bufferR.join(\",\");tableG=bufferG.join(\",\");tableB=bufferB.join(\",\");key=\"\".concat(tableR).concat(tableG).concat(tableB);}value=_classPrivateGetter(_DOMFilterFactory_brand,this,_get_cache).get(key);if(value){_classPrivateGetter(_DOMFilterFactory_brand,this,_get_cache).set(maps,value);return value;}var id=\"g_\".concat(_classPrivateFieldGet(_docId2,this),\"_transfer_map_\").concat((_classPrivateFieldSet(_id3,this,(_this$id5=_classPrivateFieldGet(_id3,this),_this$id6=_this$id5++,_this$id5)),_this$id6));var url=\"url(#\".concat(id,\")\");_classPrivateGetter(_DOMFilterFactory_brand,this,_get_cache).set(maps,url);_classPrivateGetter(_DOMFilterFactory_brand,this,_get_cache).set(key,url);var filter=_assertClassBrand(_DOMFilterFactory_brand,this,_createFilter).call(this,id);_assertClassBrand(_DOMFilterFactory_brand,this,_addTransferMapConversion).call(this,tableR,tableG,tableB,filter);return url;}},{key:\"addHCMFilter\",value:function addHCMFilter(fgColor,bgColor){var _classPrivateFieldGet16,_util$Util2,_util$Util3;var key=\"\".concat(fgColor,\"-\").concat(bgColor);if(_classPrivateFieldGet(_hcmKey,this)===key){return _classPrivateFieldGet(_hcmUrl,this);}_classPrivateFieldSet(_hcmKey,this,key);_classPrivateFieldSet(_hcmUrl,this,\"none\");(_classPrivateFieldGet16=_classPrivateFieldGet(_hcmFilter,this))===null||_classPrivateFieldGet16===void 0||_classPrivateFieldGet16.remove();if(!fgColor||!bgColor){return _classPrivateFieldGet(_hcmUrl,this);}var fgRGB=_assertClassBrand(_DOMFilterFactory_brand,this,_getRGB).call(this,fgColor);fgColor=(_util$Util2=_util.Util).makeHexColor.apply(_util$Util2,_toConsumableArray(fgRGB));var bgRGB=_assertClassBrand(_DOMFilterFactory_brand,this,_getRGB).call(this,bgColor);bgColor=(_util$Util3=_util.Util).makeHexColor.apply(_util$Util3,_toConsumableArray(bgRGB));_classPrivateGetter(_DOMFilterFactory_brand,this,_get_defs).style.color=\"\";if(fgColor===\"#000000\"&&bgColor===\"#ffffff\"||fgColor===bgColor){return _classPrivateFieldGet(_hcmUrl,this);}var map=new Array(256);for(var i=0;i<=255;i++){var x=i/255;map[i]=x<=0.03928?x/12.92:Math.pow((x+0.055)/1.055,2.4);}var table=map.join(\",\");var id=\"g_\".concat(_classPrivateFieldGet(_docId2,this),\"_hcm_filter\");var filter=_classPrivateFieldSet(_hcmHighlightFilter,this,_assertClassBrand(_DOMFilterFactory_brand,this,_createFilter).call(this,id));_assertClassBrand(_DOMFilterFactory_brand,this,_addTransferMapConversion).call(this,table,table,table,filter);_assertClassBrand(_DOMFilterFactory_brand,this,_addGrayConversion).call(this,filter);var getSteps=function getSteps(c,n){var start=fgRGB[c]/255;var end=bgRGB[c]/255;var arr=new Array(n+1);for(var _i7=0;_i7<=n;_i7++){arr[_i7]=start+_i7/n*(end-start);}return arr.join(\",\");};_assertClassBrand(_DOMFilterFactory_brand,this,_addTransferMapConversion).call(this,getSteps(0,5),getSteps(1,5),getSteps(2,5),filter);_classPrivateFieldSet(_hcmUrl,this,\"url(#\".concat(id,\")\"));return _classPrivateFieldGet(_hcmUrl,this);}},{key:\"addHighlightHCMFilter\",value:function addHighlightHCMFilter(fgColor,bgColor,newFgColor,newBgColor){var _classPrivateFieldGet17;var key=\"\".concat(fgColor,\"-\").concat(bgColor,\"-\").concat(newFgColor,\"-\").concat(newBgColor);if(_classPrivateFieldGet(_hcmHighlightKey,this)===key){return _classPrivateFieldGet(_hcmHighlightUrl,this);}_classPrivateFieldSet(_hcmHighlightKey,this,key);_classPrivateFieldSet(_hcmHighlightUrl,this,\"none\");(_classPrivateFieldGet17=_classPrivateFieldGet(_hcmHighlightFilter,this))===null||_classPrivateFieldGet17===void 0||_classPrivateFieldGet17.remove();if(!fgColor||!bgColor){return _classPrivateFieldGet(_hcmHighlightUrl,this);}var _map=[fgColor,bgColor].map(_assertClassBrand(_DOMFilterFactory_brand,this,_getRGB).bind(this)),_map2=_slicedToArray(_map,2),fgRGB=_map2[0],bgRGB=_map2[1];var fgGray=Math.round(0.2126*fgRGB[0]+0.7152*fgRGB[1]+0.0722*fgRGB[2]);var bgGray=Math.round(0.2126*bgRGB[0]+0.7152*bgRGB[1]+0.0722*bgRGB[2]);var _map3=[newFgColor,newBgColor].map(_assertClassBrand(_DOMFilterFactory_brand,this,_getRGB).bind(this)),_map4=_slicedToArray(_map3,2),newFgRGB=_map4[0],newBgRGB=_map4[1];if(bgGray<fgGray){var _ref34=[bgGray,fgGray,newBgRGB,newFgRGB];fgGray=_ref34[0];bgGray=_ref34[1];newFgRGB=_ref34[2];newBgRGB=_ref34[3];}_classPrivateGetter(_DOMFilterFactory_brand,this,_get_defs).style.color=\"\";var getSteps=function getSteps(fg,bg,n){var arr=new Array(256);var step=(bgGray-fgGray)/n;var newStart=fg/255;var newStep=(bg-fg)/(255*n);var prev=0;for(var i=0;i<=n;i++){var k=Math.round(fgGray+i*step);var value=newStart+i*newStep;for(var j=prev;j<=k;j++){arr[j]=value;}prev=k+1;}for(var _i8=prev;_i8<256;_i8++){arr[_i8]=arr[prev-1];}return arr.join(\",\");};var id=\"g_\".concat(_classPrivateFieldGet(_docId2,this),\"_hcm_highlight_filter\");var filter=_classPrivateFieldSet(_hcmHighlightFilter,this,_assertClassBrand(_DOMFilterFactory_brand,this,_createFilter).call(this,id));_assertClassBrand(_DOMFilterFactory_brand,this,_addGrayConversion).call(this,filter);_assertClassBrand(_DOMFilterFactory_brand,this,_addTransferMapConversion).call(this,getSteps(newFgRGB[0],newBgRGB[0],5),getSteps(newFgRGB[1],newBgRGB[1],5),getSteps(newFgRGB[2],newBgRGB[2],5),filter);_classPrivateFieldSet(_hcmHighlightUrl,this,\"url(#\".concat(id,\")\"));return _classPrivateFieldGet(_hcmHighlightUrl,this);}},{key:\"destroy\",value:function destroy(){var keepHCM=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(keepHCM&&(_classPrivateFieldGet(_hcmUrl,this)||_classPrivateFieldGet(_hcmHighlightUrl,this))){return;}if(_classPrivateFieldGet(_defs,this)){_classPrivateFieldGet(_defs,this).parentNode.parentNode.remove();_classPrivateFieldSet(_defs,this,null);}if(_classPrivateFieldGet(_cache2,this)){_classPrivateFieldGet(_cache2,this).clear();_classPrivateFieldSet(_cache2,this,null);}_classPrivateFieldSet(_id3,this,0);}}]);}(_base_factory.BaseFilterFactory);function _get_cache(_this32){return _classPrivateFieldGet(_cache2,_this32)||_classPrivateFieldSet(_cache2,_this32,new Map());}function _get_defs(_this33){if(!_classPrivateFieldGet(_defs,_this33)){var div=_classPrivateFieldGet(_document4,_this33).createElement(\"div\");var style=div.style;style.visibility=\"hidden\";style.contain=\"strict\";style.width=style.height=0;style.position=\"absolute\";style.top=style.left=0;style.zIndex=-1;var svg=_classPrivateFieldGet(_document4,_this33).createElementNS(SVG_NS,\"svg\");svg.setAttribute(\"width\",0);svg.setAttribute(\"height\",0);_classPrivateFieldSet(_defs,_this33,_classPrivateFieldGet(_document4,_this33).createElementNS(SVG_NS,\"defs\"));div.append(svg);svg.append(_classPrivateFieldGet(_defs,_this33));_classPrivateFieldGet(_document4,_this33).body.append(div);}return _classPrivateFieldGet(_defs,_this33);}function _addGrayConversion(filter){var feColorMatrix=_classPrivateFieldGet(_document4,this).createElementNS(SVG_NS,\"feColorMatrix\");feColorMatrix.setAttribute(\"type\",\"matrix\");feColorMatrix.setAttribute(\"values\",\"0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0\");filter.append(feColorMatrix);}function _createFilter(id){var filter=_classPrivateFieldGet(_document4,this).createElementNS(SVG_NS,\"filter\");filter.setAttribute(\"color-interpolation-filters\",\"sRGB\");filter.setAttribute(\"id\",id);_classPrivateGetter(_DOMFilterFactory_brand,this,_get_defs).append(filter);return filter;}function _appendFeFunc(feComponentTransfer,func,table){var feFunc=_classPrivateFieldGet(_document4,this).createElementNS(SVG_NS,func);feFunc.setAttribute(\"type\",\"discrete\");feFunc.setAttribute(\"tableValues\",table);feComponentTransfer.append(feFunc);}function _addTransferMapConversion(rTable,gTable,bTable,filter){var feComponentTransfer=_classPrivateFieldGet(_document4,this).createElementNS(SVG_NS,\"feComponentTransfer\");filter.append(feComponentTransfer);_assertClassBrand(_DOMFilterFactory_brand,this,_appendFeFunc).call(this,feComponentTransfer,\"feFuncR\",rTable);_assertClassBrand(_DOMFilterFactory_brand,this,_appendFeFunc).call(this,feComponentTransfer,\"feFuncG\",gTable);_assertClassBrand(_DOMFilterFactory_brand,this,_appendFeFunc).call(this,feComponentTransfer,\"feFuncB\",bTable);}function _getRGB(color){_classPrivateGetter(_DOMFilterFactory_brand,this,_get_defs).style.color=color;return getRGB(getComputedStyle(_classPrivateGetter(_DOMFilterFactory_brand,this,_get_defs)).getPropertyValue(\"color\"));}exports.DOMFilterFactory=DOMFilterFactory;var DOMCanvasFactory=/*#__PURE__*/function(_base_factory$BaseCan){function DOMCanvasFactory(){var _this35;var _ref35=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref35$ownerDocument=_ref35.ownerDocument,ownerDocument=_ref35$ownerDocument===void 0?globalThis.document:_ref35$ownerDocument;_classCallCheck(this,DOMCanvasFactory);_this35=_callSuper(this,DOMCanvasFactory);_this35._document=ownerDocument;return _this35;}_inherits(DOMCanvasFactory,_base_factory$BaseCan);return _createClass(DOMCanvasFactory,[{key:\"_createCanvas\",value:function _createCanvas(width,height){var canvas=this._document.createElement(\"canvas\");canvas.width=width;canvas.height=height;return canvas;}}]);}(_base_factory.BaseCanvasFactory);exports.DOMCanvasFactory=DOMCanvasFactory;function fetchData(_x9){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee12(url){var asTypedArray,response,_args12=arguments;return _regeneratorRuntime().wrap(function _callee12$(_context12){while(1)switch(_context12.prev=_context12.next){case 0:asTypedArray=_args12.length>1&&_args12[1]!==undefined?_args12[1]:false;if(!isValidFetchUrl(url,document.baseURI)){_context12.next=21;break;}_context12.next=4;return fetch(url);case 4:response=_context12.sent;if(response.ok){_context12.next=7;break;}throw new Error(response.statusText);case 7:if(!asTypedArray){_context12.next=15;break;}_context12.t1=Uint8Array;_context12.next=11;return response.arrayBuffer();case 11:_context12.t2=_context12.sent;_context12.t0=new _context12.t1(_context12.t2);_context12.next=20;break;case 15:_context12.t3=(0,_util.stringToBytes);_context12.next=18;return response.text();case 18:_context12.t4=_context12.sent;_context12.t0=(0,_context12.t3)(_context12.t4);case 20:return _context12.abrupt(\"return\",_context12.t0);case 21:return _context12.abrupt(\"return\",new Promise(function(resolve,reject){var request=new XMLHttpRequest();request.open(\"GET\",url,true);if(asTypedArray){request.responseType=\"arraybuffer\";}request.onreadystatechange=function(){if(request.readyState!==XMLHttpRequest.DONE){return;}if(request.status===200||request.status===0){var data;if(asTypedArray&&request.response){data=new Uint8Array(request.response);}else if(!asTypedArray&&request.responseText){data=(0,_util.stringToBytes)(request.responseText);}if(data){resolve(data);return;}}reject(new Error(request.statusText));};request.send(null);}));case 22:case\"end\":return _context12.stop();}},_callee12);}));return _fetchData.apply(this,arguments);}var DOMCMapReaderFactory=/*#__PURE__*/function(_base_factory$BaseCMa){function DOMCMapReaderFactory(){_classCallCheck(this,DOMCMapReaderFactory);return _callSuper(this,DOMCMapReaderFactory,arguments);}_inherits(DOMCMapReaderFactory,_base_factory$BaseCMa);return _createClass(DOMCMapReaderFactory,[{key:\"_fetchData\",value:function _fetchData(url,compressionType){return fetchData(url,this.isCompressed).then(function(data){return{cMapData:data,compressionType:compressionType};});}}]);}(_base_factory.BaseCMapReaderFactory);exports.DOMCMapReaderFactory=DOMCMapReaderFactory;var DOMStandardFontDataFactory=/*#__PURE__*/function(_base_factory$BaseSta){function DOMStandardFontDataFactory(){_classCallCheck(this,DOMStandardFontDataFactory);return _callSuper(this,DOMStandardFontDataFactory,arguments);}_inherits(DOMStandardFontDataFactory,_base_factory$BaseSta);return _createClass(DOMStandardFontDataFactory,[{key:\"_fetchData\",value:function _fetchData(url){return fetchData(url,true);}}]);}(_base_factory.BaseStandardFontDataFactory);exports.DOMStandardFontDataFactory=DOMStandardFontDataFactory;var DOMSVGFactory=/*#__PURE__*/function(_base_factory$BaseSVG){function DOMSVGFactory(){_classCallCheck(this,DOMSVGFactory);return _callSuper(this,DOMSVGFactory,arguments);}_inherits(DOMSVGFactory,_base_factory$BaseSVG);return _createClass(DOMSVGFactory,[{key:\"_createSVG\",value:function _createSVG(type){return document.createElementNS(SVG_NS,type);}}]);}(_base_factory.BaseSVGFactory);exports.DOMSVGFactory=DOMSVGFactory;var PageViewport=/*#__PURE__*/function(){function PageViewport(_ref36){var viewBox=_ref36.viewBox,scale=_ref36.scale,rotation=_ref36.rotation,_ref36$offsetX=_ref36.offsetX,offsetX=_ref36$offsetX===void 0?0:_ref36$offsetX,_ref36$offsetY=_ref36.offsetY,offsetY=_ref36$offsetY===void 0?0:_ref36$offsetY,_ref36$dontFlip=_ref36.dontFlip,dontFlip=_ref36$dontFlip===void 0?false:_ref36$dontFlip;_classCallCheck(this,PageViewport);this.viewBox=viewBox;this.scale=scale;this.rotation=rotation;this.offsetX=offsetX;this.offsetY=offsetY;var centerX=(viewBox[2]+viewBox[0])/2;var centerY=(viewBox[3]+viewBox[1])/2;var rotateA,rotateB,rotateC,rotateD;rotation%=360;if(rotation<0){rotation+=360;}switch(rotation){case 180:rotateA=-1;rotateB=0;rotateC=0;rotateD=1;break;case 90:rotateA=0;rotateB=1;rotateC=1;rotateD=0;break;case 270:rotateA=0;rotateB=-1;rotateC=-1;rotateD=0;break;case 0:rotateA=1;rotateB=0;rotateC=0;rotateD=-1;break;default:throw new Error(\"PageViewport: Invalid rotation, must be a multiple of 90 degrees.\");}if(dontFlip){rotateC=-rotateC;rotateD=-rotateD;}var offsetCanvasX,offsetCanvasY;var width,height;if(rotateA===0){offsetCanvasX=Math.abs(centerY-viewBox[1])*scale+offsetX;offsetCanvasY=Math.abs(centerX-viewBox[0])*scale+offsetY;width=(viewBox[3]-viewBox[1])*scale;height=(viewBox[2]-viewBox[0])*scale;}else{offsetCanvasX=Math.abs(centerX-viewBox[0])*scale+offsetX;offsetCanvasY=Math.abs(centerY-viewBox[1])*scale+offsetY;width=(viewBox[2]-viewBox[0])*scale;height=(viewBox[3]-viewBox[1])*scale;}this.transform=[rotateA*scale,rotateB*scale,rotateC*scale,rotateD*scale,offsetCanvasX-rotateA*scale*centerX-rotateC*scale*centerY,offsetCanvasY-rotateB*scale*centerX-rotateD*scale*centerY];this.width=width;this.height=height;}return _createClass(PageViewport,[{key:\"rawDims\",get:function get(){var viewBox=this.viewBox;return(0,_util.shadow)(this,\"rawDims\",{pageWidth:viewBox[2]-viewBox[0],pageHeight:viewBox[3]-viewBox[1],pageX:viewBox[0],pageY:viewBox[1]});}},{key:\"clone\",value:function clone(){var _ref37=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref37$scale=_ref37.scale,scale=_ref37$scale===void 0?this.scale:_ref37$scale,_ref37$rotation=_ref37.rotation,rotation=_ref37$rotation===void 0?this.rotation:_ref37$rotation,_ref37$offsetX=_ref37.offsetX,offsetX=_ref37$offsetX===void 0?this.offsetX:_ref37$offsetX,_ref37$offsetY=_ref37.offsetY,offsetY=_ref37$offsetY===void 0?this.offsetY:_ref37$offsetY,_ref37$dontFlip=_ref37.dontFlip,dontFlip=_ref37$dontFlip===void 0?false:_ref37$dontFlip;return new PageViewport({viewBox:this.viewBox.slice(),scale:scale,rotation:rotation,offsetX:offsetX,offsetY:offsetY,dontFlip:dontFlip});}},{key:\"convertToViewportPoint\",value:function convertToViewportPoint(x,y){return _util.Util.applyTransform([x,y],this.transform);}},{key:\"convertToViewportRectangle\",value:function convertToViewportRectangle(rect){var topLeft=_util.Util.applyTransform([rect[0],rect[1]],this.transform);var bottomRight=_util.Util.applyTransform([rect[2],rect[3]],this.transform);return[topLeft[0],topLeft[1],bottomRight[0],bottomRight[1]];}},{key:\"convertToPdfPoint\",value:function convertToPdfPoint(x,y){return _util.Util.applyInverseTransform([x,y],this.transform);}}]);}();exports.PageViewport=PageViewport;var RenderingCancelledException=/*#__PURE__*/function(_util$BaseException){function RenderingCancelledException(msg){var _this36;var extraDelay=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;_classCallCheck(this,RenderingCancelledException);_this36=_callSuper(this,RenderingCancelledException,[msg,\"RenderingCancelledException\"]);_this36.extraDelay=extraDelay;return _this36;}_inherits(RenderingCancelledException,_util$BaseException);return _createClass(RenderingCancelledException);}(_util.BaseException);exports.RenderingCancelledException=RenderingCancelledException;function isDataScheme(url){var ii=url.length;var i=0;while(i<ii&&url[i].trim()===\"\"){i++;}return url.substring(i,i+5).toLowerCase()===\"data:\";}function isPdfFile(filename){return typeof filename===\"string\"&&/\\.pdf$/i.test(filename);}function getFilenameFromUrl(url){var onlyStripPath=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!onlyStripPath){var _url$split=url.split(/[#?]/,1);var _url$split2=_slicedToArray(_url$split,1);url=_url$split2[0];}return url.substring(url.lastIndexOf(\"/\")+1);}function getPdfFilenameFromUrl(url){var defaultFilename=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"document.pdf\";if(typeof url!==\"string\"){return defaultFilename;}if(isDataScheme(url)){(0,_util.warn)('getPdfFilenameFromUrl: ignore \"data:\"-URL for performance reasons.');return defaultFilename;}var reURI=/^(?:(?:[^:]+:)?\\/\\/[^/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;var reFilename=/[^/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;var splitURI=reURI.exec(url);var suggestedFilename=reFilename.exec(splitURI[1])||reFilename.exec(splitURI[2])||reFilename.exec(splitURI[3]);if(suggestedFilename){suggestedFilename=suggestedFilename[0];if(suggestedFilename.includes(\"%\")){try{suggestedFilename=reFilename.exec(decodeURIComponent(suggestedFilename))[0];}catch(_unused9){}}}return suggestedFilename||defaultFilename;}var StatTimer=/*#__PURE__*/function(){function StatTimer(){_classCallCheck(this,StatTimer);_defineProperty(this,\"started\",Object.create(null));_defineProperty(this,\"times\",[]);}return _createClass(StatTimer,[{key:\"time\",value:function time(name){if(name in this.started){(0,_util.warn)(\"Timer is already running for \".concat(name));}this.started[name]=Date.now();}},{key:\"timeEnd\",value:function timeEnd(name){if(!(name in this.started)){(0,_util.warn)(\"Timer has not been started for \".concat(name));}this.times.push({name:name,start:this.started[name],end:Date.now()});delete this.started[name];}},{key:\"toString\",value:function toString(){var outBuf=[];var longest=0;var _iterator53=_createForOfIteratorHelper(this.times),_step53;try{for(_iterator53.s();!(_step53=_iterator53.n()).done;){var name=_step53.value.name;longest=Math.max(name.length,longest);}}catch(err){_iterator53.e(err);}finally{_iterator53.f();}var _iterator54=_createForOfIteratorHelper(this.times),_step54;try{for(_iterator54.s();!(_step54=_iterator54.n()).done;){var _step54$value=_step54.value,_name=_step54$value.name,start=_step54$value.start,end=_step54$value.end;outBuf.push(\"\".concat(_name.padEnd(longest),\" \").concat(end-start,\"ms\\n\"));}}catch(err){_iterator54.e(err);}finally{_iterator54.f();}return outBuf.join(\"\");}}]);}();exports.StatTimer=StatTimer;function isValidFetchUrl(url,baseUrl){try{var _ref38=baseUrl?new URL(url,baseUrl):new URL(url),protocol=_ref38.protocol;return protocol===\"http:\"||protocol===\"https:\";}catch(_unused0){return false;}}function noContextMenu(e){e.preventDefault();}function loadScript(src){var removeScriptElement=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return new Promise(function(resolve,reject){var script=document.createElement(\"script\");script.src=src;script.onload=function(evt){if(removeScriptElement){script.remove();}resolve(evt);};script.onerror=function(){reject(new Error(\"Cannot load script at: \".concat(script.src)));};(document.head||document.documentElement).append(script);});}function deprecated(details){console.log(\"Deprecated API usage: \"+details);}var pdfDateStringRegex;var PDFDateString=/*#__PURE__*/function(){function PDFDateString(){_classCallCheck(this,PDFDateString);}return _createClass(PDFDateString,null,[{key:\"toDateObject\",value:function toDateObject(input){if(!input||typeof input!==\"string\"){return null;}pdfDateStringRegex||(pdfDateStringRegex=new RegExp(\"^D:\"+\"(\\\\d{4})\"+\"(\\\\d{2})?\"+\"(\\\\d{2})?\"+\"(\\\\d{2})?\"+\"(\\\\d{2})?\"+\"(\\\\d{2})?\"+\"([Z|+|-])?\"+\"(\\\\d{2})?\"+\"'?\"+\"(\\\\d{2})?\"+\"'?\"));var matches=pdfDateStringRegex.exec(input);if(!matches){return null;}var year=parseInt(matches[1],10);var month=parseInt(matches[2],10);month=month>=1&&month<=12?month-1:0;var day=parseInt(matches[3],10);day=day>=1&&day<=31?day:1;var hour=parseInt(matches[4],10);hour=hour>=0&&hour<=23?hour:0;var minute=parseInt(matches[5],10);minute=minute>=0&&minute<=59?minute:0;var second=parseInt(matches[6],10);second=second>=0&&second<=59?second:0;var universalTimeRelation=matches[7]||\"Z\";var offsetHour=parseInt(matches[8],10);offsetHour=offsetHour>=0&&offsetHour<=23?offsetHour:0;var offsetMinute=parseInt(matches[9],10)||0;offsetMinute=offsetMinute>=0&&offsetMinute<=59?offsetMinute:0;if(universalTimeRelation===\"-\"){hour+=offsetHour;minute+=offsetMinute;}else if(universalTimeRelation===\"+\"){hour-=offsetHour;minute-=offsetMinute;}return new Date(Date.UTC(year,month,day,hour,minute,second));}}]);}();exports.PDFDateString=PDFDateString;function getXfaPageViewport(xfaPage,_ref39){var _ref39$scale=_ref39.scale,scale=_ref39$scale===void 0?1:_ref39$scale,_ref39$rotation=_ref39.rotation,rotation=_ref39$rotation===void 0?0:_ref39$rotation;var _xfaPage$attributes$s=xfaPage.attributes.style,width=_xfaPage$attributes$s.width,height=_xfaPage$attributes$s.height;var viewBox=[0,0,parseInt(width),parseInt(height)];return new PageViewport({viewBox:viewBox,scale:scale,rotation:rotation});}function getRGB(color){if(color.startsWith(\"#\")){var colorRGB=parseInt(color.slice(1),16);return[(colorRGB&0xff0000)>>16,(colorRGB&0x00ff00)>>8,colorRGB&0x0000ff];}if(color.startsWith(\"rgb(\")){return color.slice(4,-1).split(\",\").map(function(x){return parseInt(x);});}if(color.startsWith(\"rgba(\")){return color.slice(5,-1).split(\",\").map(function(x){return parseInt(x);}).slice(0,3);}(0,_util.warn)(\"Not a valid color format: \\\"\".concat(color,\"\\\"\"));return[0,0,0];}function getColorValues(colors){var span=document.createElement(\"span\");span.style.visibility=\"hidden\";document.body.append(span);var _iterator55=_createForOfIteratorHelper(colors.keys()),_step55;try{for(_iterator55.s();!(_step55=_iterator55.n()).done;){var name=_step55.value;span.style.color=name;var computedColor=window.getComputedStyle(span).color;colors.set(name,getRGB(computedColor));}}catch(err){_iterator55.e(err);}finally{_iterator55.f();}span.remove();}function getCurrentTransform(ctx){var _ctx$getTransform=ctx.getTransform(),a=_ctx$getTransform.a,b=_ctx$getTransform.b,c=_ctx$getTransform.c,d=_ctx$getTransform.d,e=_ctx$getTransform.e,f=_ctx$getTransform.f;return[a,b,c,d,e,f];}function getCurrentTransformInverse(ctx){var _ctx$getTransform$inv=ctx.getTransform().invertSelf(),a=_ctx$getTransform$inv.a,b=_ctx$getTransform$inv.b,c=_ctx$getTransform$inv.c,d=_ctx$getTransform$inv.d,e=_ctx$getTransform$inv.e,f=_ctx$getTransform$inv.f;return[a,b,c,d,e,f];}function setLayerDimensions(div,viewport){var mustFlip=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var mustRotate=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;if(viewport instanceof PageViewport){var _viewport$rawDims=viewport.rawDims,pageWidth=_viewport$rawDims.pageWidth,pageHeight=_viewport$rawDims.pageHeight;var style=div.style;var useRound=_util.FeatureTest.isCSSRoundSupported;var w=\"var(--scale-factor) * \".concat(pageWidth,\"px\"),h=\"var(--scale-factor) * \".concat(pageHeight,\"px\");var widthStr=useRound?\"round(\".concat(w,\", 1px)\"):\"calc(\".concat(w,\")\"),heightStr=useRound?\"round(\".concat(h,\", 1px)\"):\"calc(\".concat(h,\")\");if(!mustFlip||viewport.rotation%180===0){style.width=widthStr;style.height=heightStr;}else{style.width=heightStr;style.height=widthStr;}}if(mustRotate){div.setAttribute(\"data-main-rotation\",viewport.rotation);}}/***/}),(/* 7 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,\"__esModule\",{value:true});exports.BaseStandardFontDataFactory=exports.BaseSVGFactory=exports.BaseFilterFactory=exports.BaseCanvasFactory=exports.BaseCMapReaderFactory=void 0;var _util=__w_pdfjs_require__(1);var BaseFilterFactory=/*#__PURE__*/function(){function BaseFilterFactory(){_classCallCheck(this,BaseFilterFactory);if(this.constructor===BaseFilterFactory){(0,_util.unreachable)(\"Cannot initialize BaseFilterFactory.\");}}return _createClass(BaseFilterFactory,[{key:\"addFilter\",value:function addFilter(maps){return\"none\";}},{key:\"addHCMFilter\",value:function addHCMFilter(fgColor,bgColor){return\"none\";}},{key:\"addHighlightHCMFilter\",value:function addHighlightHCMFilter(fgColor,bgColor,newFgColor,newBgColor){return\"none\";}},{key:\"destroy\",value:function destroy(){var keepHCM=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;}}]);}();exports.BaseFilterFactory=BaseFilterFactory;var BaseCanvasFactory=/*#__PURE__*/function(){function BaseCanvasFactory(){_classCallCheck(this,BaseCanvasFactory);if(this.constructor===BaseCanvasFactory){(0,_util.unreachable)(\"Cannot initialize BaseCanvasFactory.\");}}return _createClass(BaseCanvasFactory,[{key:\"create\",value:function create(width,height){if(width<=0||height<=0){throw new Error(\"Invalid canvas size\");}var canvas=this._createCanvas(width,height);return{canvas:canvas,context:canvas.getContext(\"2d\")};}},{key:\"reset\",value:function reset(canvasAndContext,width,height){if(!canvasAndContext.canvas){throw new Error(\"Canvas is not specified\");}if(width<=0||height<=0){throw new Error(\"Invalid canvas size\");}canvasAndContext.canvas.width=width;canvasAndContext.canvas.height=height;}},{key:\"destroy\",value:function destroy(canvasAndContext){if(!canvasAndContext.canvas){throw new Error(\"Canvas is not specified\");}canvasAndContext.canvas.width=0;canvasAndContext.canvas.height=0;canvasAndContext.canvas=null;canvasAndContext.context=null;}},{key:\"_createCanvas\",value:function _createCanvas(width,height){(0,_util.unreachable)(\"Abstract method `_createCanvas` called.\");}}]);}();exports.BaseCanvasFactory=BaseCanvasFactory;var BaseCMapReaderFactory=/*#__PURE__*/function(){function BaseCMapReaderFactory(_ref40){var _ref40$baseUrl=_ref40.baseUrl,baseUrl=_ref40$baseUrl===void 0?null:_ref40$baseUrl,_ref40$isCompressed=_ref40.isCompressed,isCompressed=_ref40$isCompressed===void 0?true:_ref40$isCompressed;_classCallCheck(this,BaseCMapReaderFactory);if(this.constructor===BaseCMapReaderFactory){(0,_util.unreachable)(\"Cannot initialize BaseCMapReaderFactory.\");}this.baseUrl=baseUrl;this.isCompressed=isCompressed;}return _createClass(BaseCMapReaderFactory,[{key:\"fetch\",value:function(){var _fetch=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee13(_ref41){var _this37=this;var name,url,compressionType;return _regeneratorRuntime().wrap(function _callee13$(_context13){while(1)switch(_context13.prev=_context13.next){case 0:name=_ref41.name;if(this.baseUrl){_context13.next=3;break;}throw new Error('The CMap \"baseUrl\" parameter must be specified, ensure that '+'the \"cMapUrl\" and \"cMapPacked\" API parameters are provided.');case 3:if(name){_context13.next=5;break;}throw new Error(\"CMap name must be specified.\");case 5:url=this.baseUrl+name+(this.isCompressed?\".bcmap\":\"\");compressionType=this.isCompressed?_util.CMapCompressionType.BINARY:_util.CMapCompressionType.NONE;return _context13.abrupt(\"return\",this._fetchData(url,compressionType)[\"catch\"](function(reason){throw new Error(\"Unable to load \".concat(_this37.isCompressed?\"binary \":\"\",\"CMap at: \").concat(url));}));case 8:case\"end\":return _context13.stop();}},_callee13,this);}));function fetch(_x0){return _fetch.apply(this,arguments);}return fetch;}()},{key:\"_fetchData\",value:function _fetchData(url,compressionType){(0,_util.unreachable)(\"Abstract method `_fetchData` called.\");}}]);}();exports.BaseCMapReaderFactory=BaseCMapReaderFactory;var BaseStandardFontDataFactory=/*#__PURE__*/function(){function BaseStandardFontDataFactory(_ref42){var _ref42$baseUrl=_ref42.baseUrl,baseUrl=_ref42$baseUrl===void 0?null:_ref42$baseUrl;_classCallCheck(this,BaseStandardFontDataFactory);if(this.constructor===BaseStandardFontDataFactory){(0,_util.unreachable)(\"Cannot initialize BaseStandardFontDataFactory.\");}this.baseUrl=baseUrl;}return _createClass(BaseStandardFontDataFactory,[{key:\"fetch\",value:function(){var _fetch2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee14(_ref43){var filename,url;return _regeneratorRuntime().wrap(function _callee14$(_context14){while(1)switch(_context14.prev=_context14.next){case 0:filename=_ref43.filename;if(this.baseUrl){_context14.next=3;break;}throw new Error('The standard font \"baseUrl\" parameter must be specified, ensure that '+'the \"standardFontDataUrl\" API parameter is provided.');case 3:if(filename){_context14.next=5;break;}throw new Error(\"Font filename must be specified.\");case 5:url=\"\".concat(this.baseUrl).concat(filename);return _context14.abrupt(\"return\",this._fetchData(url)[\"catch\"](function(reason){throw new Error(\"Unable to load font data at: \".concat(url));}));case 7:case\"end\":return _context14.stop();}},_callee14,this);}));function fetch(_x1){return _fetch2.apply(this,arguments);}return fetch;}()},{key:\"_fetchData\",value:function _fetchData(url){(0,_util.unreachable)(\"Abstract method `_fetchData` called.\");}}]);}();exports.BaseStandardFontDataFactory=BaseStandardFontDataFactory;var BaseSVGFactory=/*#__PURE__*/function(){function BaseSVGFactory(){_classCallCheck(this,BaseSVGFactory);if(this.constructor===BaseSVGFactory){(0,_util.unreachable)(\"Cannot initialize BaseSVGFactory.\");}}return _createClass(BaseSVGFactory,[{key:\"create\",value:function create(width,height){var skipDimensions=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(width<=0||height<=0){throw new Error(\"Invalid SVG dimensions\");}var svg=this._createSVG(\"svg:svg\");svg.setAttribute(\"version\",\"1.1\");if(!skipDimensions){svg.setAttribute(\"width\",\"\".concat(width,\"px\"));svg.setAttribute(\"height\",\"\".concat(height,\"px\"));}svg.setAttribute(\"preserveAspectRatio\",\"none\");svg.setAttribute(\"viewBox\",\"0 0 \".concat(width,\" \").concat(height));return svg;}},{key:\"createElement\",value:function createElement(type){if(typeof type!==\"string\"){throw new Error(\"Invalid SVG element type\");}return this._createSVG(type);}},{key:\"_createSVG\",value:function _createSVG(type){(0,_util.unreachable)(\"Abstract method `_createSVG` called.\");}}]);}();exports.BaseSVGFactory=BaseSVGFactory;/***/}),(/* 8 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,\"__esModule\",{value:true});exports.MurmurHash3_64=void 0;var _util=__w_pdfjs_require__(1);var SEED=0xc3d2e1f0;var MASK_HIGH=0xffff0000;var MASK_LOW=0xffff;var MurmurHash3_64=/*#__PURE__*/function(){function MurmurHash3_64(seed){_classCallCheck(this,MurmurHash3_64);this.h1=seed?seed&0xffffffff:SEED;this.h2=seed?seed&0xffffffff:SEED;}return _createClass(MurmurHash3_64,[{key:\"update\",value:function update(input){var data,length;if(typeof input===\"string\"){data=new Uint8Array(input.length*2);length=0;for(var i=0,ii=input.length;i<ii;i++){var code=input.charCodeAt(i);if(code<=0xff){data[length++]=code;}else{data[length++]=code>>>8;data[length++]=code&0xff;}}}else if((0,_util.isArrayBuffer)(input)){data=input.slice();length=data.byteLength;}else{throw new Error(\"Wrong data format in MurmurHash3_64_update. \"+\"Input must be a string or array.\");}var blockCounts=length>>2;var tailLength=length-blockCounts*4;var dataUint32=new Uint32Array(data.buffer,0,blockCounts);var k1=0,k2=0;var h1=this.h1,h2=this.h2;var C1=0xcc9e2d51,C2=0x1b873593;var C1_LOW=C1&MASK_LOW,C2_LOW=C2&MASK_LOW;for(var _i9=0;_i9<blockCounts;_i9++){if(_i9&1){k1=dataUint32[_i9];k1=k1*C1&MASK_HIGH|k1*C1_LOW&MASK_LOW;k1=k1<<15|k1>>>17;k1=k1*C2&MASK_HIGH|k1*C2_LOW&MASK_LOW;h1^=k1;h1=h1<<13|h1>>>19;h1=h1*5+0xe6546b64;}else{k2=dataUint32[_i9];k2=k2*C1&MASK_HIGH|k2*C1_LOW&MASK_LOW;k2=k2<<15|k2>>>17;k2=k2*C2&MASK_HIGH|k2*C2_LOW&MASK_LOW;h2^=k2;h2=h2<<13|h2>>>19;h2=h2*5+0xe6546b64;}}k1=0;switch(tailLength){case 3:k1^=data[blockCounts*4+2]<<16;case 2:k1^=data[blockCounts*4+1]<<8;case 1:k1^=data[blockCounts*4];k1=k1*C1&MASK_HIGH|k1*C1_LOW&MASK_LOW;k1=k1<<15|k1>>>17;k1=k1*C2&MASK_HIGH|k1*C2_LOW&MASK_LOW;if(blockCounts&1){h1^=k1;}else{h2^=k1;}}this.h1=h1;this.h2=h2;}},{key:\"hexdigest\",value:function hexdigest(){var h1=this.h1,h2=this.h2;h1^=h2>>>1;h1=h1*0xed558ccd&MASK_HIGH|h1*0x8ccd&MASK_LOW;h2=h2*0xff51afd7&MASK_HIGH|((h2<<16|h1>>>16)*0xafd7ed55&MASK_HIGH)>>>16;h1^=h2>>>1;h1=h1*0x1a85ec53&MASK_HIGH|h1*0xec53&MASK_LOW;h2=h2*0xc4ceb9fe&MASK_HIGH|((h2<<16|h1>>>16)*0xb9fe1a85&MASK_HIGH)>>>16;h1^=h2>>>1;return(h1>>>0).toString(16).padStart(8,\"0\")+(h2>>>0).toString(16).padStart(8,\"0\");}}]);}();exports.MurmurHash3_64=MurmurHash3_64;/***/}),(/* 9 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,\"__esModule\",{value:true});exports.FontLoader=exports.FontFaceObject=void 0;var _util=__w_pdfjs_require__(1);var _systemFonts=/*#__PURE__*/new WeakMap();var FontLoader=/*#__PURE__*/function(){function FontLoader(_ref44){var _ref44$ownerDocument=_ref44.ownerDocument,ownerDocument=_ref44$ownerDocument===void 0?globalThis.document:_ref44$ownerDocument,_ref44$styleElement=_ref44.styleElement,styleElement=_ref44$styleElement===void 0?null:_ref44$styleElement;_classCallCheck(this,FontLoader);_classPrivateFieldInitSpec(this,_systemFonts,new Set());this._document=ownerDocument;this.nativeFontFaces=new Set();this.styleElement=null;this.loadingRequests=[];this.loadTestFontId=0;}return _createClass(FontLoader,[{key:\"addNativeFontFace\",value:function addNativeFontFace(nativeFontFace){this.nativeFontFaces.add(nativeFontFace);this._document.fonts.add(nativeFontFace);}},{key:\"removeNativeFontFace\",value:function removeNativeFontFace(nativeFontFace){this.nativeFontFaces[\"delete\"](nativeFontFace);this._document.fonts[\"delete\"](nativeFontFace);}},{key:\"insertRule\",value:function insertRule(rule){if(!this.styleElement){this.styleElement=this._document.createElement(\"style\");this._document.documentElement.getElementsByTagName(\"head\")[0].append(this.styleElement);}var styleSheet=this.styleElement.sheet;styleSheet.insertRule(rule,styleSheet.cssRules.length);}},{key:\"clear\",value:function clear(){var _iterator56=_createForOfIteratorHelper(this.nativeFontFaces),_step56;try{for(_iterator56.s();!(_step56=_iterator56.n()).done;){var nativeFontFace=_step56.value;this._document.fonts[\"delete\"](nativeFontFace);}}catch(err){_iterator56.e(err);}finally{_iterator56.f();}this.nativeFontFaces.clear();_classPrivateFieldGet(_systemFonts,this).clear();if(this.styleElement){this.styleElement.remove();this.styleElement=null;}}},{key:\"loadSystemFont\",value:function(){var _loadSystemFont=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee15(info){var loadedName,src,style,fontFace;return _regeneratorRuntime().wrap(function _callee15$(_context15){while(1)switch(_context15.prev=_context15.next){case 0:if(!(!info||_classPrivateFieldGet(_systemFonts,this).has(info.loadedName))){_context15.next=2;break;}return _context15.abrupt(\"return\");case 2:(0,_util.assert)(!this.disableFontFace,\"loadSystemFont shouldn't be called when `disableFontFace` is set.\");if(!this.isFontLoadingAPISupported){_context15.next=18;break;}loadedName=info.loadedName,src=info.src,style=info.style;fontFace=new FontFace(loadedName,src,style);this.addNativeFontFace(fontFace);_context15.prev=7;_context15.next=10;return fontFace.load();case 10:_classPrivateFieldGet(_systemFonts,this).add(loadedName);_context15.next=17;break;case 13:_context15.prev=13;_context15.t0=_context15[\"catch\"](7);(0,_util.warn)(\"Cannot load system font: \".concat(info.baseFontName,\", installing it could help to improve PDF rendering.\"));this.removeNativeFontFace(fontFace);case 17:return _context15.abrupt(\"return\");case 18:(0,_util.unreachable)(\"Not implemented: loadSystemFont without the Font Loading API.\");case 19:case\"end\":return _context15.stop();}},_callee15,this,[[7,13]]);}));function loadSystemFont(_x10){return _loadSystemFont.apply(this,arguments);}return loadSystemFont;}()},{key:\"bind\",value:function(){var _bind=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee16(font){var _this38=this;var nativeFontFace,rule;return _regeneratorRuntime().wrap(function _callee16$(_context16){while(1)switch(_context16.prev=_context16.next){case 0:if(!(font.attached||font.missingFile&&!font.systemFontInfo)){_context16.next=2;break;}return _context16.abrupt(\"return\");case 2:font.attached=true;if(!font.systemFontInfo){_context16.next=7;break;}_context16.next=6;return this.loadSystemFont(font.systemFontInfo);case 6:return _context16.abrupt(\"return\");case 7:if(!this.isFontLoadingAPISupported){_context16.next=22;break;}nativeFontFace=font.createNativeFontFace();if(!nativeFontFace){_context16.next=21;break;}this.addNativeFontFace(nativeFontFace);_context16.prev=11;_context16.next=14;return nativeFontFace.loaded;case 14:_context16.next=21;break;case 16:_context16.prev=16;_context16.t0=_context16[\"catch\"](11);(0,_util.warn)(\"Failed to load font '\".concat(nativeFontFace.family,\"': '\").concat(_context16.t0,\"'.\"));font.disableFontFace=true;throw _context16.t0;case 21:return _context16.abrupt(\"return\");case 22:rule=font.createFontFaceRule();if(!rule){_context16.next=29;break;}this.insertRule(rule);if(!this.isSyncFontLoadingSupported){_context16.next=27;break;}return _context16.abrupt(\"return\");case 27:_context16.next=29;return new Promise(function(resolve){var request=_this38._queueLoadingCallback(resolve);_this38._prepareFontLoadEvent(font,request);});case 29:case\"end\":return _context16.stop();}},_callee16,this,[[11,16]]);}));function bind(_x11){return _bind.apply(this,arguments);}return bind;}()},{key:\"isFontLoadingAPISupported\",get:function get(){var _this$_document;var hasFonts=!!((_this$_document=this._document)!==null&&_this$_document!==void 0&&_this$_document.fonts);return(0,_util.shadow)(this,\"isFontLoadingAPISupported\",hasFonts);}},{key:\"isSyncFontLoadingSupported\",get:function get(){var supported=false;if(_util.isNodeJS){supported=true;}else if(typeof navigator!==\"undefined\"&&/Mozilla\\/5.0.*?rv:\\d+.*? Gecko/.test(navigator.userAgent)){supported=true;}return(0,_util.shadow)(this,\"isSyncFontLoadingSupported\",supported);}},{key:\"_queueLoadingCallback\",value:function _queueLoadingCallback(callback){function completeRequest(){(0,_util.assert)(!request.done,\"completeRequest() cannot be called twice.\");request.done=true;while(loadingRequests.length>0&&loadingRequests[0].done){var otherRequest=loadingRequests.shift();setTimeout(otherRequest.callback,0);}}var loadingRequests=this.loadingRequests;var request={done:false,complete:completeRequest,callback:callback};loadingRequests.push(request);return request;}},{key:\"_loadTestFont\",get:function get(){var testFont=atob(\"T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQA\"+\"FQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAA\"+\"ALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgA\"+\"AAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1\"+\"AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD\"+\"6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACM\"+\"AooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4D\"+\"IP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAA\"+\"AAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUA\"+\"AQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgAB\"+\"AAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABY\"+\"AAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAA\"+\"AC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\"+\"AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\"+\"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\"+\"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\"+\"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\"+\"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAA\"+\"AAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQAC\"+\"AQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3\"+\"Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTj\"+\"FQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==\");return(0,_util.shadow)(this,\"_loadTestFont\",testFont);}},{key:\"_prepareFontLoadEvent\",value:function _prepareFontLoadEvent(font,request){function int32(data,offset){return data.charCodeAt(offset)<<24|data.charCodeAt(offset+1)<<16|data.charCodeAt(offset+2)<<8|data.charCodeAt(offset+3)&0xff;}function spliceString(s,offset,remove,insert){var chunk1=s.substring(0,offset);var chunk2=s.substring(offset+remove);return chunk1+insert+chunk2;}var i,ii;var canvas=this._document.createElement(\"canvas\");canvas.width=1;canvas.height=1;var ctx=canvas.getContext(\"2d\");var called=0;function isFontReady(name,callback){if(++called>30){(0,_util.warn)(\"Load test font never loaded.\");callback();return;}ctx.font=\"30px \"+name;ctx.fillText(\".\",0,20);var imageData=ctx.getImageData(0,0,1,1);if(imageData.data[3]>0){callback();return;}setTimeout(isFontReady.bind(null,name,callback));}var loadTestFontId=\"lt\".concat(Date.now()).concat(this.loadTestFontId++);var data=this._loadTestFont;var COMMENT_OFFSET=976;data=spliceString(data,COMMENT_OFFSET,loadTestFontId.length,loadTestFontId);var CFF_CHECKSUM_OFFSET=16;var XXXX_VALUE=0x58585858;var checksum=int32(data,CFF_CHECKSUM_OFFSET);for(i=0,ii=loadTestFontId.length-3;i<ii;i+=4){checksum=checksum-XXXX_VALUE+int32(loadTestFontId,i)|0;}if(i<loadTestFontId.length){checksum=checksum-XXXX_VALUE+int32(loadTestFontId+\"XXX\",i)|0;}data=spliceString(data,CFF_CHECKSUM_OFFSET,4,(0,_util.string32)(checksum));var url=\"url(data:font/opentype;base64,\".concat(btoa(data),\");\");var rule=\"@font-face {font-family:\\\"\".concat(loadTestFontId,\"\\\";src:\").concat(url,\"}\");this.insertRule(rule);var div=this._document.createElement(\"div\");div.style.visibility=\"hidden\";div.style.width=div.style.height=\"10px\";div.style.position=\"absolute\";div.style.top=div.style.left=\"0px\";for(var _i0=0,_arr=[font.loadedName,loadTestFontId];_i0<_arr.length;_i0++){var name=_arr[_i0];var span=this._document.createElement(\"span\");span.textContent=\"Hi\";span.style.fontFamily=name;div.append(span);}this._document.body.append(div);isFontReady(loadTestFontId,function(){div.remove();request.complete();});}}]);}();exports.FontLoader=FontLoader;var FontFaceObject=/*#__PURE__*/function(){function FontFaceObject(translatedData,_ref45){var _ref45$isEvalSupporte=_ref45.isEvalSupported,isEvalSupported=_ref45$isEvalSupporte===void 0?true:_ref45$isEvalSupporte,_ref45$disableFontFac=_ref45.disableFontFace,disableFontFace=_ref45$disableFontFac===void 0?false:_ref45$disableFontFac,_ref45$ignoreErrors=_ref45.ignoreErrors,ignoreErrors=_ref45$ignoreErrors===void 0?false:_ref45$ignoreErrors,_ref45$inspectFont=_ref45.inspectFont,inspectFont=_ref45$inspectFont===void 0?null:_ref45$inspectFont;_classCallCheck(this,FontFaceObject);this.compiledGlyphs=Object.create(null);for(var i in translatedData){this[i]=translatedData[i];}this.isEvalSupported=isEvalSupported!==false;this.disableFontFace=disableFontFace===true;this.ignoreErrors=ignoreErrors===true;this._inspectFont=inspectFont;}return _createClass(FontFaceObject,[{key:\"createNativeFontFace\",value:function createNativeFontFace(){var _this$_inspectFont;if(!this.data||this.disableFontFace){return null;}var nativeFontFace;if(!this.cssFontInfo){nativeFontFace=new FontFace(this.loadedName,this.data,{});}else{var css={weight:this.cssFontInfo.fontWeight};if(this.cssFontInfo.italicAngle){css.style=\"oblique \".concat(this.cssFontInfo.italicAngle,\"deg\");}nativeFontFace=new FontFace(this.cssFontInfo.fontFamily,this.data,css);}(_this$_inspectFont=this._inspectFont)===null||_this$_inspectFont===void 0||_this$_inspectFont.call(this,this);return nativeFontFace;}},{key:\"createFontFaceRule\",value:function createFontFaceRule(){var _this$_inspectFont2;if(!this.data||this.disableFontFace){return null;}var data=(0,_util.bytesToString)(this.data);var url=\"url(data:\".concat(this.mimetype,\";base64,\").concat(btoa(data),\");\");var rule;if(!this.cssFontInfo){rule=\"@font-face {font-family:\\\"\".concat(this.loadedName,\"\\\";src:\").concat(url,\"}\");}else{var css=\"font-weight: \".concat(this.cssFontInfo.fontWeight,\";\");if(this.cssFontInfo.italicAngle){css+=\"font-style: oblique \".concat(this.cssFontInfo.italicAngle,\"deg;\");}rule=\"@font-face {font-family:\\\"\".concat(this.cssFontInfo.fontFamily,\"\\\";\").concat(css,\"src:\").concat(url,\"}\");}(_this$_inspectFont2=this._inspectFont)===null||_this$_inspectFont2===void 0||_this$_inspectFont2.call(this,this,url);return rule;}},{key:\"getPathGenerator\",value:function getPathGenerator(objs,character){if(this.compiledGlyphs[character]!==undefined){return this.compiledGlyphs[character];}var cmds;try{cmds=objs.get(this.loadedName+\"_path_\"+character);}catch(ex){if(!this.ignoreErrors){throw ex;}(0,_util.warn)(\"getPathGenerator - ignoring character: \\\"\".concat(ex,\"\\\".\"));return this.compiledGlyphs[character]=function(c,size){};}if(this.isEvalSupported&&_util.FeatureTest.isEvalSupported){var jsBuf=[];var _iterator57=_createForOfIteratorHelper(cmds),_step57;try{for(_iterator57.s();!(_step57=_iterator57.n()).done;){var current=_step57.value;var args=current.args!==undefined?current.args.join(\",\"):\"\";jsBuf.push(\"c.\",current.cmd,\"(\",args,\");\\n\");}}catch(err){_iterator57.e(err);}finally{_iterator57.f();}return this.compiledGlyphs[character]=new Function(\"c\",\"size\",jsBuf.join(\"\"));}return this.compiledGlyphs[character]=function(c,size){var _iterator58=_createForOfIteratorHelper(cmds),_step58;try{for(_iterator58.s();!(_step58=_iterator58.n()).done;){var _current=_step58.value;if(_current.cmd===\"scale\"){_current.args=[size,-size];}c[_current.cmd].apply(c,_current.args);}}catch(err){_iterator58.e(err);}finally{_iterator58.f();}};}}]);}();exports.FontFaceObject=FontFaceObject;/***/}),(/* 10 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,\"__esModule\",{value:true});exports.NodeStandardFontDataFactory=exports.NodeFilterFactory=exports.NodeCanvasFactory=exports.NodeCMapReaderFactory=void 0;var _base_factory=__w_pdfjs_require__(7);var _util=__w_pdfjs_require__(1);;;var fetchData=function fetchData(url){return new Promise(function(resolve,reject){var fs=require(\"fs\");fs.readFile(url,function(error,data){if(error||!data){reject(new Error(error));return;}resolve(new Uint8Array(data));});});};var NodeFilterFactory=/*#__PURE__*/function(_base_factory$BaseFil2){function NodeFilterFactory(){_classCallCheck(this,NodeFilterFactory);return _callSuper(this,NodeFilterFactory,arguments);}_inherits(NodeFilterFactory,_base_factory$BaseFil2);return _createClass(NodeFilterFactory);}(_base_factory.BaseFilterFactory);exports.NodeFilterFactory=NodeFilterFactory;var NodeCanvasFactory=/*#__PURE__*/function(_base_factory$BaseCan2){function NodeCanvasFactory(){_classCallCheck(this,NodeCanvasFactory);return _callSuper(this,NodeCanvasFactory,arguments);}_inherits(NodeCanvasFactory,_base_factory$BaseCan2);return _createClass(NodeCanvasFactory,[{key:\"_createCanvas\",value:function _createCanvas(width,height){var Canvas=require(\"canvas\");return Canvas.createCanvas(width,height);}}]);}(_base_factory.BaseCanvasFactory);exports.NodeCanvasFactory=NodeCanvasFactory;var NodeCMapReaderFactory=/*#__PURE__*/function(_base_factory$BaseCMa2){function NodeCMapReaderFactory(){_classCallCheck(this,NodeCMapReaderFactory);return _callSuper(this,NodeCMapReaderFactory,arguments);}_inherits(NodeCMapReaderFactory,_base_factory$BaseCMa2);return _createClass(NodeCMapReaderFactory,[{key:\"_fetchData\",value:function _fetchData(url,compressionType){return fetchData(url).then(function(data){return{cMapData:data,compressionType:compressionType};});}}]);}(_base_factory.BaseCMapReaderFactory);exports.NodeCMapReaderFactory=NodeCMapReaderFactory;var NodeStandardFontDataFactory=/*#__PURE__*/function(_base_factory$BaseSta2){function NodeStandardFontDataFactory(){_classCallCheck(this,NodeStandardFontDataFactory);return _callSuper(this,NodeStandardFontDataFactory,arguments);}_inherits(NodeStandardFontDataFactory,_base_factory$BaseSta2);return _createClass(NodeStandardFontDataFactory,[{key:\"_fetchData\",value:function _fetchData(url){return fetchData(url);}}]);}(_base_factory.BaseStandardFontDataFactory);exports.NodeStandardFontDataFactory=NodeStandardFontDataFactory;/***/}),(/* 11 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,\"__esModule\",{value:true});exports.CanvasGraphics=void 0;var _util=__w_pdfjs_require__(1);var _display_utils=__w_pdfjs_require__(6);var _pattern_helper=__w_pdfjs_require__(12);var _image_utils=__w_pdfjs_require__(13);var MIN_FONT_SIZE=16;var MAX_FONT_SIZE=100;var MAX_GROUP_SIZE=4096;var EXECUTION_TIME=15;var EXECUTION_STEPS=10;var MAX_SIZE_TO_COMPILE=1000;var FULL_CHUNK_HEIGHT=16;function mirrorContextOperations(ctx,destCtx){if(ctx._removeMirroring){throw new Error(\"Context is already forwarding operations.\");}ctx.__originalSave=ctx.save;ctx.__originalRestore=ctx.restore;ctx.__originalRotate=ctx.rotate;ctx.__originalScale=ctx.scale;ctx.__originalTranslate=ctx.translate;ctx.__originalTransform=ctx.transform;ctx.__originalSetTransform=ctx.setTransform;ctx.__originalResetTransform=ctx.resetTransform;ctx.__originalClip=ctx.clip;ctx.__originalMoveTo=ctx.moveTo;ctx.__originalLineTo=ctx.lineTo;ctx.__originalBezierCurveTo=ctx.bezierCurveTo;ctx.__originalRect=ctx.rect;ctx.__originalClosePath=ctx.closePath;ctx.__originalBeginPath=ctx.beginPath;ctx._removeMirroring=function(){ctx.save=ctx.__originalSave;ctx.restore=ctx.__originalRestore;ctx.rotate=ctx.__originalRotate;ctx.scale=ctx.__originalScale;ctx.translate=ctx.__originalTranslate;ctx.transform=ctx.__originalTransform;ctx.setTransform=ctx.__originalSetTransform;ctx.resetTransform=ctx.__originalResetTransform;ctx.clip=ctx.__originalClip;ctx.moveTo=ctx.__originalMoveTo;ctx.lineTo=ctx.__originalLineTo;ctx.bezierCurveTo=ctx.__originalBezierCurveTo;ctx.rect=ctx.__originalRect;ctx.closePath=ctx.__originalClosePath;ctx.beginPath=ctx.__originalBeginPath;delete ctx._removeMirroring;};ctx.save=function ctxSave(){destCtx.save();this.__originalSave();};ctx.restore=function ctxRestore(){destCtx.restore();this.__originalRestore();};ctx.translate=function ctxTranslate(x,y){destCtx.translate(x,y);this.__originalTranslate(x,y);};ctx.scale=function ctxScale(x,y){destCtx.scale(x,y);this.__originalScale(x,y);};ctx.transform=function ctxTransform(a,b,c,d,e,f){destCtx.transform(a,b,c,d,e,f);this.__originalTransform(a,b,c,d,e,f);};ctx.setTransform=function ctxSetTransform(a,b,c,d,e,f){destCtx.setTransform(a,b,c,d,e,f);this.__originalSetTransform(a,b,c,d,e,f);};ctx.resetTransform=function ctxResetTransform(){destCtx.resetTransform();this.__originalResetTransform();};ctx.rotate=function ctxRotate(angle){destCtx.rotate(angle);this.__originalRotate(angle);};ctx.clip=function ctxRotate(rule){destCtx.clip(rule);this.__originalClip(rule);};ctx.moveTo=function(x,y){destCtx.moveTo(x,y);this.__originalMoveTo(x,y);};ctx.lineTo=function(x,y){destCtx.lineTo(x,y);this.__originalLineTo(x,y);};ctx.bezierCurveTo=function(cp1x,cp1y,cp2x,cp2y,x,y){destCtx.bezierCurveTo(cp1x,cp1y,cp2x,cp2y,x,y);this.__originalBezierCurveTo(cp1x,cp1y,cp2x,cp2y,x,y);};ctx.rect=function(x,y,width,height){destCtx.rect(x,y,width,height);this.__originalRect(x,y,width,height);};ctx.closePath=function(){destCtx.closePath();this.__originalClosePath();};ctx.beginPath=function(){destCtx.beginPath();this.__originalBeginPath();};}var CachedCanvases=/*#__PURE__*/function(){function CachedCanvases(canvasFactory){_classCallCheck(this,CachedCanvases);this.canvasFactory=canvasFactory;this.cache=Object.create(null);}return _createClass(CachedCanvases,[{key:\"getCanvas\",value:function getCanvas(id,width,height){var canvasEntry;if(this.cache[id]!==undefined){canvasEntry=this.cache[id];this.canvasFactory.reset(canvasEntry,width,height);}else{canvasEntry=this.canvasFactory.create(width,height);this.cache[id]=canvasEntry;}return canvasEntry;}},{key:\"delete\",value:function _delete(id){delete this.cache[id];}},{key:\"clear\",value:function clear(){for(var id in this.cache){var canvasEntry=this.cache[id];this.canvasFactory.destroy(canvasEntry);delete this.cache[id];}}}]);}();function drawImageAtIntegerCoords(ctx,srcImg,srcX,srcY,srcW,srcH,destX,destY,destW,destH){var _ref46=(0,_display_utils.getCurrentTransform)(ctx),_ref47=_slicedToArray(_ref46,6),a=_ref47[0],b=_ref47[1],c=_ref47[2],d=_ref47[3],tx=_ref47[4],ty=_ref47[5];if(b===0&&c===0){var tlX=destX*a+tx;var rTlX=Math.round(tlX);var tlY=destY*d+ty;var rTlY=Math.round(tlY);var brX=(destX+destW)*a+tx;var rWidth=Math.abs(Math.round(brX)-rTlX)||1;var brY=(destY+destH)*d+ty;var rHeight=Math.abs(Math.round(brY)-rTlY)||1;ctx.setTransform(Math.sign(a),0,0,Math.sign(d),rTlX,rTlY);ctx.drawImage(srcImg,srcX,srcY,srcW,srcH,0,0,rWidth,rHeight);ctx.setTransform(a,b,c,d,tx,ty);return[rWidth,rHeight];}if(a===0&&d===0){var _tlX=destY*c+tx;var _rTlX=Math.round(_tlX);var _tlY=destX*b+ty;var _rTlY=Math.round(_tlY);var _brX=(destY+destH)*c+tx;var _rWidth=Math.abs(Math.round(_brX)-_rTlX)||1;var _brY=(destX+destW)*b+ty;var _rHeight=Math.abs(Math.round(_brY)-_rTlY)||1;ctx.setTransform(0,Math.sign(b),Math.sign(c),0,_rTlX,_rTlY);ctx.drawImage(srcImg,srcX,srcY,srcW,srcH,0,0,_rHeight,_rWidth);ctx.setTransform(a,b,c,d,tx,ty);return[_rHeight,_rWidth];}ctx.drawImage(srcImg,srcX,srcY,srcW,srcH,destX,destY,destW,destH);var scaleX=Math.hypot(a,b);var scaleY=Math.hypot(c,d);return[scaleX*destW,scaleY*destH];}function compileType3Glyph(imgData){var width=imgData.width,height=imgData.height;if(width>MAX_SIZE_TO_COMPILE||height>MAX_SIZE_TO_COMPILE){return null;}var POINT_TO_PROCESS_LIMIT=1000;var POINT_TYPES=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]);var width1=width+1;var points=new Uint8Array(width1*(height+1));var i,j,j0;var lineSize=width+7&~7;var data=new Uint8Array(lineSize*height),pos=0;var _iterator59=_createForOfIteratorHelper(imgData.data),_step59;try{for(_iterator59.s();!(_step59=_iterator59.n()).done;){var elem=_step59.value;var mask=128;while(mask>0){data[pos++]=elem&mask?0:255;mask>>=1;}}}catch(err){_iterator59.e(err);}finally{_iterator59.f();}var count=0;pos=0;if(data[pos]!==0){points[0]=1;++count;}for(j=1;j<width;j++){if(data[pos]!==data[pos+1]){points[j]=data[pos]?2:1;++count;}pos++;}if(data[pos]!==0){points[j]=2;++count;}for(i=1;i<height;i++){pos=i*lineSize;j0=i*width1;if(data[pos-lineSize]!==data[pos]){points[j0]=data[pos]?1:8;++count;}var sum=(data[pos]?4:0)+(data[pos-lineSize]?8:0);for(j=1;j<width;j++){sum=(sum>>2)+(data[pos+1]?4:0)+(data[pos-lineSize+1]?8:0);if(POINT_TYPES[sum]){points[j0+j]=POINT_TYPES[sum];++count;}pos++;}if(data[pos-lineSize]!==data[pos]){points[j0+j]=data[pos]?2:4;++count;}if(count>POINT_TO_PROCESS_LIMIT){return null;}}pos=lineSize*(height-1);j0=i*width1;if(data[pos]!==0){points[j0]=8;++count;}for(j=1;j<width;j++){if(data[pos]!==data[pos+1]){points[j0+j]=data[pos]?4:8;++count;}pos++;}if(data[pos]!==0){points[j0+j]=4;++count;}if(count>POINT_TO_PROCESS_LIMIT){return null;}var steps=new Int32Array([0,width1,-1,0,-width1,0,0,0,1]);var path=new Path2D();for(i=0;count&&i<=height;i++){var p=i*width1;var end=p+width;while(p<end&&!points[p]){p++;}if(p===end){continue;}path.moveTo(p%width1,i);var p0=p;var type=points[p];do{var step=steps[type];do{p+=step;}while(!points[p]);var pp=points[p];if(pp!==5&&pp!==10){type=pp;points[p]=0;}else{type=pp&0x33*type>>4;points[p]&=type>>2|type<<2;}path.lineTo(p%width1,p/width1|0);if(!points[p]){--count;}}while(p0!==p);--i;}data=null;points=null;var drawOutline=function drawOutline(c){c.save();c.scale(1/width,-1/height);c.translate(0,-height);c.fill(path);c.beginPath();c.restore();};return drawOutline;}var CanvasExtraState=/*#__PURE__*/function(){function CanvasExtraState(width,height){_classCallCheck(this,CanvasExtraState);this.alphaIsShape=false;this.fontSize=0;this.fontSizeScale=1;this.textMatrix=_util.IDENTITY_MATRIX;this.textMatrixScale=1;this.fontMatrix=_util.FONT_IDENTITY_MATRIX;this.leading=0;this.x=0;this.y=0;this.lineX=0;this.lineY=0;this.charSpacing=0;this.wordSpacing=0;this.textHScale=1;this.textRenderingMode=_util.TextRenderingMode.FILL;this.textRise=0;this.fillColor=\"#000000\";this.strokeColor=\"#000000\";this.patternFill=false;this.fillAlpha=1;this.strokeAlpha=1;this.lineWidth=1;this.activeSMask=null;this.transferMaps=\"none\";this.startNewPathAndClipBox([0,0,width,height]);}return _createClass(CanvasExtraState,[{key:\"clone\",value:function clone(){var clone=Object.create(this);clone.clipBox=this.clipBox.slice();return clone;}},{key:\"setCurrentPoint\",value:function setCurrentPoint(x,y){this.x=x;this.y=y;}},{key:\"updatePathMinMax\",value:function updatePathMinMax(transform,x,y){var _util$Util$applyTrans=_util.Util.applyTransform([x,y],transform);var _util$Util$applyTrans2=_slicedToArray(_util$Util$applyTrans,2);x=_util$Util$applyTrans2[0];y=_util$Util$applyTrans2[1];this.minX=Math.min(this.minX,x);this.minY=Math.min(this.minY,y);this.maxX=Math.max(this.maxX,x);this.maxY=Math.max(this.maxY,y);}},{key:\"updateRectMinMax\",value:function updateRectMinMax(transform,rect){var p1=_util.Util.applyTransform(rect,transform);var p2=_util.Util.applyTransform(rect.slice(2),transform);this.minX=Math.min(this.minX,p1[0],p2[0]);this.minY=Math.min(this.minY,p1[1],p2[1]);this.maxX=Math.max(this.maxX,p1[0],p2[0]);this.maxY=Math.max(this.maxY,p1[1],p2[1]);}},{key:\"updateScalingPathMinMax\",value:function updateScalingPathMinMax(transform,minMax){_util.Util.scaleMinMax(transform,minMax);this.minX=Math.min(this.minX,minMax[0]);this.maxX=Math.max(this.maxX,minMax[1]);this.minY=Math.min(this.minY,minMax[2]);this.maxY=Math.max(this.maxY,minMax[3]);}},{key:\"updateCurvePathMinMax\",value:function updateCurvePathMinMax(transform,x0,y0,x1,y1,x2,y2,x3,y3,minMax){var box=_util.Util.bezierBoundingBox(x0,y0,x1,y1,x2,y2,x3,y3);if(minMax){minMax[0]=Math.min(minMax[0],box[0],box[2]);minMax[1]=Math.max(minMax[1],box[0],box[2]);minMax[2]=Math.min(minMax[2],box[1],box[3]);minMax[3]=Math.max(minMax[3],box[1],box[3]);return;}this.updateRectMinMax(transform,box);}},{key:\"getPathBoundingBox\",value:function getPathBoundingBox(){var pathType=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_pattern_helper.PathType.FILL;var transform=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var box=[this.minX,this.minY,this.maxX,this.maxY];if(pathType===_pattern_helper.PathType.STROKE){if(!transform){(0,_util.unreachable)(\"Stroke bounding box must include transform.\");}var scale=_util.Util.singularValueDecompose2dScale(transform);var xStrokePad=scale[0]*this.lineWidth/2;var yStrokePad=scale[1]*this.lineWidth/2;box[0]-=xStrokePad;box[1]-=yStrokePad;box[2]+=xStrokePad;box[3]+=yStrokePad;}return box;}},{key:\"updateClipFromPath\",value:function updateClipFromPath(){var intersect=_util.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(intersect||[0,0,0,0]);}},{key:\"isEmptyClip\",value:function isEmptyClip(){return this.minX===Infinity;}},{key:\"startNewPathAndClipBox\",value:function startNewPathAndClipBox(box){this.clipBox=box;this.minX=Infinity;this.minY=Infinity;this.maxX=0;this.maxY=0;}},{key:\"getClippedPathBoundingBox\",value:function getClippedPathBoundingBox(){var pathType=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_pattern_helper.PathType.FILL;var transform=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return _util.Util.intersect(this.clipBox,this.getPathBoundingBox(pathType,transform));}}]);}();function putBinaryImageData(ctx,imgData){if(typeof ImageData!==\"undefined\"&&imgData instanceof ImageData){ctx.putImageData(imgData,0,0);return;}var height=imgData.height,width=imgData.width;var partialChunkHeight=height%FULL_CHUNK_HEIGHT;var fullChunks=(height-partialChunkHeight)/FULL_CHUNK_HEIGHT;var totalChunks=partialChunkHeight===0?fullChunks:fullChunks+1;var chunkImgData=ctx.createImageData(width,FULL_CHUNK_HEIGHT);var srcPos=0,destPos;var src=imgData.data;var dest=chunkImgData.data;var i,j,thisChunkHeight,elemsInThisChunk;if(imgData.kind===_util.ImageKind.GRAYSCALE_1BPP){var srcLength=src.byteLength;var dest32=new Uint32Array(dest.buffer,0,dest.byteLength>>2);var dest32DataLength=dest32.length;var fullSrcDiff=width+7>>3;var white=0xffffffff;var black=_util.FeatureTest.isLittleEndian?0xff000000:0x000000ff;for(i=0;i<totalChunks;i++){thisChunkHeight=i<fullChunks?FULL_CHUNK_HEIGHT:partialChunkHeight;destPos=0;for(j=0;j<thisChunkHeight;j++){var srcDiff=srcLength-srcPos;var k=0;var kEnd=srcDiff>fullSrcDiff?width:srcDiff*8-7;var kEndUnrolled=kEnd&~7;var mask=0;var srcByte=0;for(;k<kEndUnrolled;k+=8){srcByte=src[srcPos++];dest32[destPos++]=srcByte&128?white:black;dest32[destPos++]=srcByte&64?white:black;dest32[destPos++]=srcByte&32?white:black;dest32[destPos++]=srcByte&16?white:black;dest32[destPos++]=srcByte&8?white:black;dest32[destPos++]=srcByte&4?white:black;dest32[destPos++]=srcByte&2?white:black;dest32[destPos++]=srcByte&1?white:black;}for(;k<kEnd;k++){if(mask===0){srcByte=src[srcPos++];mask=128;}dest32[destPos++]=srcByte&mask?white:black;mask>>=1;}}while(destPos<dest32DataLength){dest32[destPos++]=0;}ctx.putImageData(chunkImgData,0,i*FULL_CHUNK_HEIGHT);}}else if(imgData.kind===_util.ImageKind.RGBA_32BPP){j=0;elemsInThisChunk=width*FULL_CHUNK_HEIGHT*4;for(i=0;i<fullChunks;i++){dest.set(src.subarray(srcPos,srcPos+elemsInThisChunk));srcPos+=elemsInThisChunk;ctx.putImageData(chunkImgData,0,j);j+=FULL_CHUNK_HEIGHT;}if(i<totalChunks){elemsInThisChunk=width*partialChunkHeight*4;dest.set(src.subarray(srcPos,srcPos+elemsInThisChunk));ctx.putImageData(chunkImgData,0,j);}}else if(imgData.kind===_util.ImageKind.RGB_24BPP){thisChunkHeight=FULL_CHUNK_HEIGHT;elemsInThisChunk=width*thisChunkHeight;for(i=0;i<totalChunks;i++){if(i>=fullChunks){thisChunkHeight=partialChunkHeight;elemsInThisChunk=width*thisChunkHeight;}destPos=0;for(j=elemsInThisChunk;j--;){dest[destPos++]=src[srcPos++];dest[destPos++]=src[srcPos++];dest[destPos++]=src[srcPos++];dest[destPos++]=255;}ctx.putImageData(chunkImgData,0,i*FULL_CHUNK_HEIGHT);}}else{throw new Error(\"bad image kind: \".concat(imgData.kind));}}function putBinaryImageMask(ctx,imgData){if(imgData.bitmap){ctx.drawImage(imgData.bitmap,0,0);return;}var height=imgData.height,width=imgData.width;var partialChunkHeight=height%FULL_CHUNK_HEIGHT;var fullChunks=(height-partialChunkHeight)/FULL_CHUNK_HEIGHT;var totalChunks=partialChunkHeight===0?fullChunks:fullChunks+1;var chunkImgData=ctx.createImageData(width,FULL_CHUNK_HEIGHT);var srcPos=0;var src=imgData.data;var dest=chunkImgData.data;for(var i=0;i<totalChunks;i++){var thisChunkHeight=i<fullChunks?FULL_CHUNK_HEIGHT:partialChunkHeight;var _ref48=(0,_image_utils.convertBlackAndWhiteToRGBA)({src:src,srcPos:srcPos,dest:dest,width:width,height:thisChunkHeight,nonBlackColor:0});srcPos=_ref48.srcPos;ctx.putImageData(chunkImgData,0,i*FULL_CHUNK_HEIGHT);}}function copyCtxState(sourceCtx,destCtx){var properties=[\"strokeStyle\",\"fillStyle\",\"fillRule\",\"globalAlpha\",\"lineWidth\",\"lineCap\",\"lineJoin\",\"miterLimit\",\"globalCompositeOperation\",\"font\",\"filter\"];for(var _i1=0,_properties=properties;_i1<_properties.length;_i1++){var property=_properties[_i1];if(sourceCtx[property]!==undefined){destCtx[property]=sourceCtx[property];}}if(sourceCtx.setLineDash!==undefined){destCtx.setLineDash(sourceCtx.getLineDash());destCtx.lineDashOffset=sourceCtx.lineDashOffset;}}function resetCtxToDefault(ctx){ctx.strokeStyle=ctx.fillStyle=\"#000000\";ctx.fillRule=\"nonzero\";ctx.globalAlpha=1;ctx.lineWidth=1;ctx.lineCap=\"butt\";ctx.lineJoin=\"miter\";ctx.miterLimit=10;ctx.globalCompositeOperation=\"source-over\";ctx.font=\"10px sans-serif\";if(ctx.setLineDash!==undefined){ctx.setLineDash([]);ctx.lineDashOffset=0;}if(!_util.isNodeJS){var filter=ctx.filter;if(filter!==\"none\"&&filter!==\"\"){ctx.filter=\"none\";}}}function composeSMaskBackdrop(bytes,r0,g0,b0){var length=bytes.length;for(var i=3;i<length;i+=4){var alpha=bytes[i];if(alpha===0){bytes[i-3]=r0;bytes[i-2]=g0;bytes[i-1]=b0;}else if(alpha<255){var alpha_=255-alpha;bytes[i-3]=bytes[i-3]*alpha+r0*alpha_>>8;bytes[i-2]=bytes[i-2]*alpha+g0*alpha_>>8;bytes[i-1]=bytes[i-1]*alpha+b0*alpha_>>8;}}}function composeSMaskAlpha(maskData,layerData,transferMap){var length=maskData.length;var scale=1/255;for(var i=3;i<length;i+=4){var alpha=transferMap?transferMap[maskData[i]]:maskData[i];layerData[i]=layerData[i]*alpha*scale|0;}}function composeSMaskLuminosity(maskData,layerData,transferMap){var length=maskData.length;for(var i=3;i<length;i+=4){var y=maskData[i-3]*77+maskData[i-2]*152+maskData[i-1]*28;layerData[i]=transferMap?layerData[i]*transferMap[y>>8]>>8:layerData[i]*y>>16;}}function genericComposeSMask(maskCtx,layerCtx,width,height,subtype,backdrop,transferMap,layerOffsetX,layerOffsetY,maskOffsetX,maskOffsetY){var hasBackdrop=!!backdrop;var r0=hasBackdrop?backdrop[0]:0;var g0=hasBackdrop?backdrop[1]:0;var b0=hasBackdrop?backdrop[2]:0;var composeFn=subtype===\"Luminosity\"?composeSMaskLuminosity:composeSMaskAlpha;var PIXELS_TO_PROCESS=1048576;var chunkSize=Math.min(height,Math.ceil(PIXELS_TO_PROCESS/width));for(var row=0;row<height;row+=chunkSize){var chunkHeight=Math.min(chunkSize,height-row);var maskData=maskCtx.getImageData(layerOffsetX-maskOffsetX,row+(layerOffsetY-maskOffsetY),width,chunkHeight);var layerData=layerCtx.getImageData(layerOffsetX,row+layerOffsetY,width,chunkHeight);if(hasBackdrop){composeSMaskBackdrop(maskData.data,r0,g0,b0);}composeFn(maskData.data,layerData.data,transferMap);layerCtx.putImageData(layerData,layerOffsetX,row+layerOffsetY);}}function composeSMask(ctx,smask,layerCtx,layerBox){var layerOffsetX=layerBox[0];var layerOffsetY=layerBox[1];var layerWidth=layerBox[2]-layerOffsetX;var layerHeight=layerBox[3]-layerOffsetY;if(layerWidth===0||layerHeight===0){return;}genericComposeSMask(smask.context,layerCtx,layerWidth,layerHeight,smask.subtype,smask.backdrop,smask.transferMap,layerOffsetX,layerOffsetY,smask.offsetX,smask.offsetY);ctx.save();ctx.globalAlpha=1;ctx.globalCompositeOperation=\"source-over\";ctx.setTransform(1,0,0,1,0,0);ctx.drawImage(layerCtx.canvas,0,0);ctx.restore();}function getImageSmoothingEnabled(transform,interpolate){var scale=_util.Util.singularValueDecompose2dScale(transform);scale[0]=Math.fround(scale[0]);scale[1]=Math.fround(scale[1]);var actualScale=Math.fround((globalThis.devicePixelRatio||1)*_display_utils.PixelsPerInch.PDF_TO_CSS_UNITS);if(interpolate!==undefined){return interpolate;}else if(scale[0]<=actualScale||scale[1]<=actualScale){return true;}return false;}var LINE_CAP_STYLES=[\"butt\",\"round\",\"square\"];var LINE_JOIN_STYLES=[\"miter\",\"round\",\"bevel\"];var NORMAL_CLIP={};var EO_CLIP={};var _CanvasGraphics_brand=/*#__PURE__*/new WeakSet();var CanvasGraphics=/*#__PURE__*/function(){function CanvasGraphics(canvasCtx,commonObjs,objs,canvasFactory,filterFactory,_ref49,annotationCanvasMap,pageColors){var optionalContentConfig=_ref49.optionalContentConfig,_ref49$markedContentS=_ref49.markedContentStack,markedContentStack=_ref49$markedContentS===void 0?null:_ref49$markedContentS;_classCallCheck(this,CanvasGraphics);_classPrivateMethodInitSpec(this,_CanvasGraphics_brand);this.ctx=canvasCtx;this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height);this.stateStack=[];this.pendingClip=null;this.pendingEOFill=false;this.res=null;this.xobjs=null;this.commonObjs=commonObjs;this.objs=objs;this.canvasFactory=canvasFactory;this.filterFactory=filterFactory;this.groupStack=[];this.processingType3=null;this.baseTransform=null;this.baseTransformStack=[];this.groupLevel=0;this.smaskStack=[];this.smaskCounter=0;this.tempSMask=null;this.suspendedCtx=null;this.contentVisible=true;this.markedContentStack=markedContentStack||[];this.optionalContentConfig=optionalContentConfig;this.cachedCanvases=new CachedCanvases(this.canvasFactory);this.cachedPatterns=new Map();this.annotationCanvasMap=annotationCanvasMap;this.viewportScale=1;this.outputScaleX=1;this.outputScaleY=1;this.pageColors=pageColors;this._cachedScaleForStroking=[-1,0];this._cachedGetSinglePixelWidth=null;this._cachedBitmapsMap=new Map();}return _createClass(CanvasGraphics,[{key:\"getObject\",value:function getObject(data){var fallback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(typeof data===\"string\"){return data.startsWith(\"g_\")?this.commonObjs.get(data):this.objs.get(data);}return fallback;}},{key:\"beginDrawing\",value:function beginDrawing(_ref50){var _this$ctx3;var transform=_ref50.transform,viewport=_ref50.viewport,_ref50$transparency=_ref50.transparency,transparency=_ref50$transparency===void 0?false:_ref50$transparency,_ref50$background=_ref50.background,background=_ref50$background===void 0?null:_ref50$background;var width=this.ctx.canvas.width;var height=this.ctx.canvas.height;var savedFillStyle=this.ctx.fillStyle;this.ctx.fillStyle=background||\"#ffffff\";this.ctx.fillRect(0,0,width,height);this.ctx.fillStyle=savedFillStyle;if(transparency){var _this$ctx;var transparentCanvas=this.cachedCanvases.getCanvas(\"transparent\",width,height);this.compositeCtx=this.ctx;this.transparentCanvas=transparentCanvas.canvas;this.ctx=transparentCanvas.context;this.ctx.save();(_this$ctx=this.ctx).transform.apply(_this$ctx,_toConsumableArray((0,_display_utils.getCurrentTransform)(this.compositeCtx)));}this.ctx.save();resetCtxToDefault(this.ctx);if(transform){var _this$ctx2;(_this$ctx2=this.ctx).transform.apply(_this$ctx2,_toConsumableArray(transform));this.outputScaleX=transform[0];this.outputScaleY=transform[0];}(_this$ctx3=this.ctx).transform.apply(_this$ctx3,_toConsumableArray(viewport.transform));this.viewportScale=viewport.scale;this.baseTransform=(0,_display_utils.getCurrentTransform)(this.ctx);}},{key:\"executeOperatorList\",value:function executeOperatorList(operatorList,executionStartIdx,continueCallback,stepper){var argsArray=operatorList.argsArray;var fnArray=operatorList.fnArray;var i=executionStartIdx||0;var argsArrayLen=argsArray.length;if(argsArrayLen===i){return i;}var chunkOperations=argsArrayLen-i>EXECUTION_STEPS&&typeof continueCallback===\"function\";var endTime=chunkOperations?Date.now()+EXECUTION_TIME:0;var steps=0;var commonObjs=this.commonObjs;var objs=this.objs;var fnId;while(true){if(stepper!==undefined&&i===stepper.nextBreakPoint){stepper.breakIt(i,continueCallback);return i;}fnId=fnArray[i];if(fnId!==_util.OPS.dependency){this[fnId].apply(this,argsArray[i]);}else{var _iterator60=_createForOfIteratorHelper(argsArray[i]),_step60;try{for(_iterator60.s();!(_step60=_iterator60.n()).done;){var depObjId=_step60.value;var objsPool=depObjId.startsWith(\"g_\")?commonObjs:objs;if(!objsPool.has(depObjId)){objsPool.get(depObjId,continueCallback);return i;}}}catch(err){_iterator60.e(err);}finally{_iterator60.f();}}i++;if(i===argsArrayLen){return i;}if(chunkOperations&&++steps>EXECUTION_STEPS){if(Date.now()>endTime){continueCallback();return i;}steps=0;}}}},{key:\"endDrawing\",value:function endDrawing(){_assertClassBrand(_CanvasGraphics_brand,this,_restoreInitialState).call(this);this.cachedCanvases.clear();this.cachedPatterns.clear();var _iterator61=_createForOfIteratorHelper(this._cachedBitmapsMap.values()),_step61;try{for(_iterator61.s();!(_step61=_iterator61.n()).done;){var cache=_step61.value;var _iterator62=_createForOfIteratorHelper(cache.values()),_step62;try{for(_iterator62.s();!(_step62=_iterator62.n()).done;){var canvas=_step62.value;if(typeof HTMLCanvasElement!==\"undefined\"&&canvas instanceof HTMLCanvasElement){canvas.width=canvas.height=0;}}}catch(err){_iterator62.e(err);}finally{_iterator62.f();}cache.clear();}}catch(err){_iterator61.e(err);}finally{_iterator61.f();}this._cachedBitmapsMap.clear();_assertClassBrand(_CanvasGraphics_brand,this,_drawFilter).call(this);}},{key:\"_scaleImage\",value:function _scaleImage(img,inverseTransform){var width=img.width;var height=img.height;var widthScale=Math.max(Math.hypot(inverseTransform[0],inverseTransform[1]),1);var heightScale=Math.max(Math.hypot(inverseTransform[2],inverseTransform[3]),1);var paintWidth=width,paintHeight=height;var tmpCanvasId=\"prescale1\";var tmpCanvas,tmpCtx;while(widthScale>2&&paintWidth>1||heightScale>2&&paintHeight>1){var newWidth=paintWidth,newHeight=paintHeight;if(widthScale>2&&paintWidth>1){newWidth=paintWidth>=16384?Math.floor(paintWidth/2)-1||1:Math.ceil(paintWidth/2);widthScale/=paintWidth/newWidth;}if(heightScale>2&&paintHeight>1){newHeight=paintHeight>=16384?Math.floor(paintHeight/2)-1||1:Math.ceil(paintHeight)/2;heightScale/=paintHeight/newHeight;}tmpCanvas=this.cachedCanvases.getCanvas(tmpCanvasId,newWidth,newHeight);tmpCtx=tmpCanvas.context;tmpCtx.clearRect(0,0,newWidth,newHeight);tmpCtx.drawImage(img,0,0,paintWidth,paintHeight,0,0,newWidth,newHeight);img=tmpCanvas.canvas;paintWidth=newWidth;paintHeight=newHeight;tmpCanvasId=tmpCanvasId===\"prescale1\"?\"prescale2\":\"prescale1\";}return{img:img,paintWidth:paintWidth,paintHeight:paintHeight};}},{key:\"_createMaskCanvas\",value:function _createMaskCanvas(img){var ctx=this.ctx;var width=img.width,height=img.height;var fillColor=this.current.fillColor;var isPatternFill=this.current.patternFill;var currentTransform=(0,_display_utils.getCurrentTransform)(ctx);var cache,cacheKey,scaled,maskCanvas;if((img.bitmap||img.data)&&img.count>1){var mainKey=img.bitmap||img.data.buffer;cacheKey=JSON.stringify(isPatternFill?currentTransform:[currentTransform.slice(0,4),fillColor]);cache=this._cachedBitmapsMap.get(mainKey);if(!cache){cache=new Map();this._cachedBitmapsMap.set(mainKey,cache);}var cachedImage=cache.get(cacheKey);if(cachedImage&&!isPatternFill){var _offsetX=Math.round(Math.min(currentTransform[0],currentTransform[2])+currentTransform[4]);var _offsetY=Math.round(Math.min(currentTransform[1],currentTransform[3])+currentTransform[5]);return{canvas:cachedImage,offsetX:_offsetX,offsetY:_offsetY};}scaled=cachedImage;}if(!scaled){maskCanvas=this.cachedCanvases.getCanvas(\"maskCanvas\",width,height);putBinaryImageMask(maskCanvas.context,img);}var maskToCanvas=_util.Util.transform(currentTransform,[1/width,0,0,-1/height,0,0]);maskToCanvas=_util.Util.transform(maskToCanvas,[1,0,0,1,0,-height]);var cord1=_util.Util.applyTransform([0,0],maskToCanvas);var cord2=_util.Util.applyTransform([width,height],maskToCanvas);var rect=_util.Util.normalizeRect([cord1[0],cord1[1],cord2[0],cord2[1]]);var drawnWidth=Math.round(rect[2]-rect[0])||1;var drawnHeight=Math.round(rect[3]-rect[1])||1;var fillCanvas=this.cachedCanvases.getCanvas(\"fillCanvas\",drawnWidth,drawnHeight);var fillCtx=fillCanvas.context;var offsetX=Math.min(cord1[0],cord2[0]);var offsetY=Math.min(cord1[1],cord2[1]);fillCtx.translate(-offsetX,-offsetY);fillCtx.transform.apply(fillCtx,_toConsumableArray(maskToCanvas));if(!scaled){scaled=this._scaleImage(maskCanvas.canvas,(0,_display_utils.getCurrentTransformInverse)(fillCtx));scaled=scaled.img;if(cache&&isPatternFill){cache.set(cacheKey,scaled);}}fillCtx.imageSmoothingEnabled=getImageSmoothingEnabled((0,_display_utils.getCurrentTransform)(fillCtx),img.interpolate);drawImageAtIntegerCoords(fillCtx,scaled,0,0,scaled.width,scaled.height,0,0,width,height);fillCtx.globalCompositeOperation=\"source-in\";var inverse=_util.Util.transform((0,_display_utils.getCurrentTransformInverse)(fillCtx),[1,0,0,1,-offsetX,-offsetY]);fillCtx.fillStyle=isPatternFill?fillColor.getPattern(ctx,this,inverse,_pattern_helper.PathType.FILL):fillColor;fillCtx.fillRect(0,0,width,height);if(cache&&!isPatternFill){this.cachedCanvases[\"delete\"](\"fillCanvas\");cache.set(cacheKey,fillCanvas.canvas);}return{canvas:fillCanvas.canvas,offsetX:Math.round(offsetX),offsetY:Math.round(offsetY)};}},{key:\"setLineWidth\",value:function setLineWidth(width){if(width!==this.current.lineWidth){this._cachedScaleForStroking[0]=-1;}this.current.lineWidth=width;this.ctx.lineWidth=width;}},{key:\"setLineCap\",value:function setLineCap(style){this.ctx.lineCap=LINE_CAP_STYLES[style];}},{key:\"setLineJoin\",value:function setLineJoin(style){this.ctx.lineJoin=LINE_JOIN_STYLES[style];}},{key:\"setMiterLimit\",value:function setMiterLimit(limit){this.ctx.miterLimit=limit;}},{key:\"setDash\",value:function setDash(dashArray,dashPhase){var ctx=this.ctx;if(ctx.setLineDash!==undefined){ctx.setLineDash(dashArray);ctx.lineDashOffset=dashPhase;}}},{key:\"setRenderingIntent\",value:function setRenderingIntent(intent){}},{key:\"setFlatness\",value:function setFlatness(flatness){}},{key:\"setGState\",value:function setGState(states){var _iterator63=_createForOfIteratorHelper(states),_step63;try{for(_iterator63.s();!(_step63=_iterator63.n()).done;){var _step63$value=_slicedToArray(_step63.value,2),key=_step63$value[0],value=_step63$value[1];switch(key){case\"LW\":this.setLineWidth(value);break;case\"LC\":this.setLineCap(value);break;case\"LJ\":this.setLineJoin(value);break;case\"ML\":this.setMiterLimit(value);break;case\"D\":this.setDash(value[0],value[1]);break;case\"RI\":this.setRenderingIntent(value);break;case\"FL\":this.setFlatness(value);break;case\"Font\":this.setFont(value[0],value[1]);break;case\"CA\":this.current.strokeAlpha=value;break;case\"ca\":this.current.fillAlpha=value;this.ctx.globalAlpha=value;break;case\"BM\":this.ctx.globalCompositeOperation=value;break;case\"SMask\":this.current.activeSMask=value?this.tempSMask:null;this.tempSMask=null;this.checkSMaskState();break;case\"TR\":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(value);break;}}}catch(err){_iterator63.e(err);}finally{_iterator63.f();}}},{key:\"inSMaskMode\",get:function get(){return!!this.suspendedCtx;}},{key:\"checkSMaskState\",value:function checkSMaskState(){var inSMaskMode=this.inSMaskMode;if(this.current.activeSMask&&!inSMaskMode){this.beginSMaskMode();}else if(!this.current.activeSMask&&inSMaskMode){this.endSMaskMode();}}},{key:\"beginSMaskMode\",value:function beginSMaskMode(){if(this.inSMaskMode){throw new Error(\"beginSMaskMode called while already in smask mode\");}var drawnWidth=this.ctx.canvas.width;var drawnHeight=this.ctx.canvas.height;var cacheId=\"smaskGroupAt\"+this.groupLevel;var scratchCanvas=this.cachedCanvases.getCanvas(cacheId,drawnWidth,drawnHeight);this.suspendedCtx=this.ctx;this.ctx=scratchCanvas.context;var ctx=this.ctx;ctx.setTransform.apply(ctx,_toConsumableArray((0,_display_utils.getCurrentTransform)(this.suspendedCtx)));copyCtxState(this.suspendedCtx,ctx);mirrorContextOperations(ctx,this.suspendedCtx);this.setGState([[\"BM\",\"source-over\"],[\"ca\",1],[\"CA\",1]]);}},{key:\"endSMaskMode\",value:function endSMaskMode(){if(!this.inSMaskMode){throw new Error(\"endSMaskMode called while not in smask mode\");}this.ctx._removeMirroring();copyCtxState(this.ctx,this.suspendedCtx);this.ctx=this.suspendedCtx;this.suspendedCtx=null;}},{key:\"compose\",value:function compose(dirtyBox){if(!this.current.activeSMask){return;}if(!dirtyBox){dirtyBox=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];}else{dirtyBox[0]=Math.floor(dirtyBox[0]);dirtyBox[1]=Math.floor(dirtyBox[1]);dirtyBox[2]=Math.ceil(dirtyBox[2]);dirtyBox[3]=Math.ceil(dirtyBox[3]);}var smask=this.current.activeSMask;var suspendedCtx=this.suspendedCtx;composeSMask(suspendedCtx,smask,this.ctx,dirtyBox);this.ctx.save();this.ctx.setTransform(1,0,0,1,0,0);this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height);this.ctx.restore();}},{key:\"save\",value:function save(){if(this.inSMaskMode){copyCtxState(this.ctx,this.suspendedCtx);this.suspendedCtx.save();}else{this.ctx.save();}var old=this.current;this.stateStack.push(old);this.current=old.clone();}},{key:\"restore\",value:function restore(){if(this.stateStack.length===0&&this.inSMaskMode){this.endSMaskMode();}if(this.stateStack.length!==0){this.current=this.stateStack.pop();if(this.inSMaskMode){this.suspendedCtx.restore();copyCtxState(this.suspendedCtx,this.ctx);}else{this.ctx.restore();}this.checkSMaskState();this.pendingClip=null;this._cachedScaleForStroking[0]=-1;this._cachedGetSinglePixelWidth=null;}}},{key:\"transform\",value:function transform(a,b,c,d,e,f){this.ctx.transform(a,b,c,d,e,f);this._cachedScaleForStroking[0]=-1;this._cachedGetSinglePixelWidth=null;}},{key:\"constructPath\",value:function constructPath(ops,args,minMax){var ctx=this.ctx;var current=this.current;var x=current.x,y=current.y;var startX,startY;var currentTransform=(0,_display_utils.getCurrentTransform)(ctx);var isScalingMatrix=currentTransform[0]===0&&currentTransform[3]===0||currentTransform[1]===0&&currentTransform[2]===0;var minMaxForBezier=isScalingMatrix?minMax.slice(0):null;for(var i=0,j=0,ii=ops.length;i<ii;i++){switch(ops[i]|0){case _util.OPS.rectangle:x=args[j++];y=args[j++];var width=args[j++];var height=args[j++];var xw=x+width;var yh=y+height;ctx.moveTo(x,y);if(width===0||height===0){ctx.lineTo(xw,yh);}else{ctx.lineTo(xw,y);ctx.lineTo(xw,yh);ctx.lineTo(x,yh);}if(!isScalingMatrix){current.updateRectMinMax(currentTransform,[x,y,xw,yh]);}ctx.closePath();break;case _util.OPS.moveTo:x=args[j++];y=args[j++];ctx.moveTo(x,y);if(!isScalingMatrix){current.updatePathMinMax(currentTransform,x,y);}break;case _util.OPS.lineTo:x=args[j++];y=args[j++];ctx.lineTo(x,y);if(!isScalingMatrix){current.updatePathMinMax(currentTransform,x,y);}break;case _util.OPS.curveTo:startX=x;startY=y;x=args[j+4];y=args[j+5];ctx.bezierCurveTo(args[j],args[j+1],args[j+2],args[j+3],x,y);current.updateCurvePathMinMax(currentTransform,startX,startY,args[j],args[j+1],args[j+2],args[j+3],x,y,minMaxForBezier);j+=6;break;case _util.OPS.curveTo2:startX=x;startY=y;ctx.bezierCurveTo(x,y,args[j],args[j+1],args[j+2],args[j+3]);current.updateCurvePathMinMax(currentTransform,startX,startY,x,y,args[j],args[j+1],args[j+2],args[j+3],minMaxForBezier);x=args[j+2];y=args[j+3];j+=4;break;case _util.OPS.curveTo3:startX=x;startY=y;x=args[j+2];y=args[j+3];ctx.bezierCurveTo(args[j],args[j+1],x,y,x,y);current.updateCurvePathMinMax(currentTransform,startX,startY,args[j],args[j+1],x,y,x,y,minMaxForBezier);j+=4;break;case _util.OPS.closePath:ctx.closePath();break;}}if(isScalingMatrix){current.updateScalingPathMinMax(currentTransform,minMaxForBezier);}current.setCurrentPoint(x,y);}},{key:\"closePath\",value:function closePath(){this.ctx.closePath();}},{key:\"stroke\",value:function stroke(){var consumePath=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var ctx=this.ctx;var strokeColor=this.current.strokeColor;ctx.globalAlpha=this.current.strokeAlpha;if(this.contentVisible){if(_typeof(strokeColor)===\"object\"&&strokeColor!==null&&strokeColor!==void 0&&strokeColor.getPattern){ctx.save();ctx.strokeStyle=strokeColor.getPattern(ctx,this,(0,_display_utils.getCurrentTransformInverse)(ctx),_pattern_helper.PathType.STROKE);this.rescaleAndStroke(false);ctx.restore();}else{this.rescaleAndStroke(true);}}if(consumePath){this.consumePath(this.current.getClippedPathBoundingBox());}ctx.globalAlpha=this.current.fillAlpha;}},{key:\"closeStroke\",value:function closeStroke(){this.closePath();this.stroke();}},{key:\"fill\",value:function fill(){var consumePath=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var ctx=this.ctx;var fillColor=this.current.fillColor;var isPatternFill=this.current.patternFill;var needRestore=false;if(isPatternFill){ctx.save();ctx.fillStyle=fillColor.getPattern(ctx,this,(0,_display_utils.getCurrentTransformInverse)(ctx),_pattern_helper.PathType.FILL);needRestore=true;}var intersect=this.current.getClippedPathBoundingBox();if(this.contentVisible&&intersect!==null){if(this.pendingEOFill){ctx.fill(\"evenodd\");this.pendingEOFill=false;}else{ctx.fill();}}if(needRestore){ctx.restore();}if(consumePath){this.consumePath(intersect);}}},{key:\"eoFill\",value:function eoFill(){this.pendingEOFill=true;this.fill();}},{key:\"fillStroke\",value:function fillStroke(){this.fill(false);this.stroke(false);this.consumePath();}},{key:\"eoFillStroke\",value:function eoFillStroke(){this.pendingEOFill=true;this.fillStroke();}},{key:\"closeFillStroke\",value:function closeFillStroke(){this.closePath();this.fillStroke();}},{key:\"closeEOFillStroke\",value:function closeEOFillStroke(){this.pendingEOFill=true;this.closePath();this.fillStroke();}},{key:\"endPath\",value:function endPath(){this.consumePath();}},{key:\"clip\",value:function clip(){this.pendingClip=NORMAL_CLIP;}},{key:\"eoClip\",value:function eoClip(){this.pendingClip=EO_CLIP;}},{key:\"beginText\",value:function beginText(){this.current.textMatrix=_util.IDENTITY_MATRIX;this.current.textMatrixScale=1;this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0;}},{key:\"endText\",value:function endText(){var paths=this.pendingTextPaths;var ctx=this.ctx;if(paths===undefined){ctx.beginPath();return;}ctx.save();ctx.beginPath();var _iterator64=_createForOfIteratorHelper(paths),_step64;try{for(_iterator64.s();!(_step64=_iterator64.n()).done;){var path=_step64.value;ctx.setTransform.apply(ctx,_toConsumableArray(path.transform));ctx.translate(path.x,path.y);path.addToPath(ctx,path.fontSize);}}catch(err){_iterator64.e(err);}finally{_iterator64.f();}ctx.restore();ctx.clip();ctx.beginPath();delete this.pendingTextPaths;}},{key:\"setCharSpacing\",value:function setCharSpacing(spacing){this.current.charSpacing=spacing;}},{key:\"setWordSpacing\",value:function setWordSpacing(spacing){this.current.wordSpacing=spacing;}},{key:\"setHScale\",value:function setHScale(scale){this.current.textHScale=scale/100;}},{key:\"setLeading\",value:function setLeading(leading){this.current.leading=-leading;}},{key:\"setFont\",value:function setFont(fontRefName,size){var _fontObj$systemFontIn;var fontObj=this.commonObjs.get(fontRefName);var current=this.current;if(!fontObj){throw new Error(\"Can't find font for \".concat(fontRefName));}current.fontMatrix=fontObj.fontMatrix||_util.FONT_IDENTITY_MATRIX;if(current.fontMatrix[0]===0||current.fontMatrix[3]===0){(0,_util.warn)(\"Invalid font matrix for font \"+fontRefName);}if(size<0){size=-size;current.fontDirection=-1;}else{current.fontDirection=1;}this.current.font=fontObj;this.current.fontSize=size;if(fontObj.isType3Font){return;}var name=fontObj.loadedName||\"sans-serif\";var typeface=((_fontObj$systemFontIn=fontObj.systemFontInfo)===null||_fontObj$systemFontIn===void 0?void 0:_fontObj$systemFontIn.css)||\"\\\"\".concat(name,\"\\\", \").concat(fontObj.fallbackName);var bold=\"normal\";if(fontObj.black){bold=\"900\";}else if(fontObj.bold){bold=\"bold\";}var italic=fontObj.italic?\"italic\":\"normal\";var browserFontSize=size;if(size<MIN_FONT_SIZE){browserFontSize=MIN_FONT_SIZE;}else if(size>MAX_FONT_SIZE){browserFontSize=MAX_FONT_SIZE;}this.current.fontSizeScale=size/browserFontSize;this.ctx.font=\"\".concat(italic,\" \").concat(bold,\" \").concat(browserFontSize,\"px \").concat(typeface);}},{key:\"setTextRenderingMode\",value:function setTextRenderingMode(mode){this.current.textRenderingMode=mode;}},{key:\"setTextRise\",value:function setTextRise(rise){this.current.textRise=rise;}},{key:\"moveText\",value:function moveText(x,y){this.current.x=this.current.lineX+=x;this.current.y=this.current.lineY+=y;}},{key:\"setLeadingMoveText\",value:function setLeadingMoveText(x,y){this.setLeading(-y);this.moveText(x,y);}},{key:\"setTextMatrix\",value:function setTextMatrix(a,b,c,d,e,f){this.current.textMatrix=[a,b,c,d,e,f];this.current.textMatrixScale=Math.hypot(a,b);this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0;}},{key:\"nextLine\",value:function nextLine(){this.moveText(0,this.current.leading);}},{key:\"paintChar\",value:function paintChar(character,x,y,patternTransform){var ctx=this.ctx;var current=this.current;var font=current.font;var textRenderingMode=current.textRenderingMode;var fontSize=current.fontSize/current.fontSizeScale;var fillStrokeMode=textRenderingMode&_util.TextRenderingMode.FILL_STROKE_MASK;var isAddToPathSet=!!(textRenderingMode&_util.TextRenderingMode.ADD_TO_PATH_FLAG);var patternFill=current.patternFill&&!font.missingFile;var addToPath;if(font.disableFontFace||isAddToPathSet||patternFill){addToPath=font.getPathGenerator(this.commonObjs,character);}if(font.disableFontFace||patternFill){ctx.save();ctx.translate(x,y);ctx.beginPath();addToPath(ctx,fontSize);if(patternTransform){ctx.setTransform.apply(ctx,_toConsumableArray(patternTransform));}if(fillStrokeMode===_util.TextRenderingMode.FILL||fillStrokeMode===_util.TextRenderingMode.FILL_STROKE){ctx.fill();}if(fillStrokeMode===_util.TextRenderingMode.STROKE||fillStrokeMode===_util.TextRenderingMode.FILL_STROKE){ctx.stroke();}ctx.restore();}else{if(fillStrokeMode===_util.TextRenderingMode.FILL||fillStrokeMode===_util.TextRenderingMode.FILL_STROKE){ctx.fillText(character,x,y);}if(fillStrokeMode===_util.TextRenderingMode.STROKE||fillStrokeMode===_util.TextRenderingMode.FILL_STROKE){ctx.strokeText(character,x,y);}}if(isAddToPathSet){var paths=this.pendingTextPaths||(this.pendingTextPaths=[]);paths.push({transform:(0,_display_utils.getCurrentTransform)(ctx),x:x,y:y,fontSize:fontSize,addToPath:addToPath});}}},{key:\"isFontSubpixelAAEnabled\",get:function get(){var _this$cachedCanvases$=this.cachedCanvases.getCanvas(\"isFontSubpixelAAEnabled\",10,10),ctx=_this$cachedCanvases$.context;ctx.scale(1.5,1);ctx.fillText(\"I\",0,10);var data=ctx.getImageData(0,0,10,10).data;var enabled=false;for(var i=3;i<data.length;i+=4){if(data[i]>0&&data[i]<255){enabled=true;break;}}return(0,_util.shadow)(this,\"isFontSubpixelAAEnabled\",enabled);}},{key:\"showText\",value:function showText(glyphs){var current=this.current;var font=current.font;if(font.isType3Font){return this.showType3Text(glyphs);}var fontSize=current.fontSize;if(fontSize===0){return undefined;}var ctx=this.ctx;var fontSizeScale=current.fontSizeScale;var charSpacing=current.charSpacing;var wordSpacing=current.wordSpacing;var fontDirection=current.fontDirection;var textHScale=current.textHScale*fontDirection;var glyphsLength=glyphs.length;var vertical=font.vertical;var spacingDir=vertical?1:-1;var defaultVMetrics=font.defaultVMetrics;var widthAdvanceScale=fontSize*current.fontMatrix[0];var simpleFillText=current.textRenderingMode===_util.TextRenderingMode.FILL&&!font.disableFontFace&&!current.patternFill;ctx.save();ctx.transform.apply(ctx,_toConsumableArray(current.textMatrix));ctx.translate(current.x,current.y+current.textRise);if(fontDirection>0){ctx.scale(textHScale,-1);}else{ctx.scale(textHScale,1);}var patternTransform;if(current.patternFill){ctx.save();var pattern=current.fillColor.getPattern(ctx,this,(0,_display_utils.getCurrentTransformInverse)(ctx),_pattern_helper.PathType.FILL);patternTransform=(0,_display_utils.getCurrentTransform)(ctx);ctx.restore();ctx.fillStyle=pattern;}var lineWidth=current.lineWidth;var scale=current.textMatrixScale;if(scale===0||lineWidth===0){var fillStrokeMode=current.textRenderingMode&_util.TextRenderingMode.FILL_STROKE_MASK;if(fillStrokeMode===_util.TextRenderingMode.STROKE||fillStrokeMode===_util.TextRenderingMode.FILL_STROKE){lineWidth=this.getSinglePixelWidth();}}else{lineWidth/=scale;}if(fontSizeScale!==1.0){ctx.scale(fontSizeScale,fontSizeScale);lineWidth/=fontSizeScale;}ctx.lineWidth=lineWidth;if(font.isInvalidPDFjsFont){var chars=[];var width=0;var _iterator65=_createForOfIteratorHelper(glyphs),_step65;try{for(_iterator65.s();!(_step65=_iterator65.n()).done;){var glyph=_step65.value;chars.push(glyph.unicode);width+=glyph.width;}}catch(err){_iterator65.e(err);}finally{_iterator65.f();}ctx.fillText(chars.join(\"\"),0,0);current.x+=width*widthAdvanceScale*textHScale;ctx.restore();this.compose();return undefined;}var x=0,i;for(i=0;i<glyphsLength;++i){var _glyph=glyphs[i];if(typeof _glyph===\"number\"){x+=spacingDir*_glyph*fontSize/1000;continue;}var restoreNeeded=false;var spacing=(_glyph.isSpace?wordSpacing:0)+charSpacing;var character=_glyph.fontChar;var accent=_glyph.accent;var scaledX=void 0,scaledY=void 0;var _width2=_glyph.width;if(vertical){var vmetric=_glyph.vmetric||defaultVMetrics;var vx=-(_glyph.vmetric?vmetric[1]:_width2*0.5)*widthAdvanceScale;var vy=vmetric[2]*widthAdvanceScale;_width2=vmetric?-vmetric[0]:_width2;scaledX=vx/fontSizeScale;scaledY=(x+vy)/fontSizeScale;}else{scaledX=x/fontSizeScale;scaledY=0;}if(font.remeasure&&_width2>0){var measuredWidth=ctx.measureText(character).width*1000/fontSize*fontSizeScale;if(_width2<measuredWidth&&this.isFontSubpixelAAEnabled){var characterScaleX=_width2/measuredWidth;restoreNeeded=true;ctx.save();ctx.scale(characterScaleX,1);scaledX/=characterScaleX;}else if(_width2!==measuredWidth){scaledX+=(_width2-measuredWidth)/2000*fontSize/fontSizeScale;}}if(this.contentVisible&&(_glyph.isInFont||font.missingFile)){if(simpleFillText&&!accent){ctx.fillText(character,scaledX,scaledY);}else{this.paintChar(character,scaledX,scaledY,patternTransform);if(accent){var scaledAccentX=scaledX+fontSize*accent.offset.x/fontSizeScale;var scaledAccentY=scaledY-fontSize*accent.offset.y/fontSizeScale;this.paintChar(accent.fontChar,scaledAccentX,scaledAccentY,patternTransform);}}}var charWidth=vertical?_width2*widthAdvanceScale-spacing*fontDirection:_width2*widthAdvanceScale+spacing*fontDirection;x+=charWidth;if(restoreNeeded){ctx.restore();}}if(vertical){current.y-=x;}else{current.x+=x*textHScale;}ctx.restore();this.compose();return undefined;}},{key:\"showType3Text\",value:function showType3Text(glyphs){var ctx=this.ctx;var current=this.current;var font=current.font;var fontSize=current.fontSize;var fontDirection=current.fontDirection;var spacingDir=font.vertical?1:-1;var charSpacing=current.charSpacing;var wordSpacing=current.wordSpacing;var textHScale=current.textHScale*fontDirection;var fontMatrix=current.fontMatrix||_util.FONT_IDENTITY_MATRIX;var glyphsLength=glyphs.length;var isTextInvisible=current.textRenderingMode===_util.TextRenderingMode.INVISIBLE;var i,glyph,width,spacingLength;if(isTextInvisible||fontSize===0){return;}this._cachedScaleForStroking[0]=-1;this._cachedGetSinglePixelWidth=null;ctx.save();ctx.transform.apply(ctx,_toConsumableArray(current.textMatrix));ctx.translate(current.x,current.y);ctx.scale(textHScale,fontDirection);for(i=0;i<glyphsLength;++i){glyph=glyphs[i];if(typeof glyph===\"number\"){spacingLength=spacingDir*glyph*fontSize/1000;this.ctx.translate(spacingLength,0);current.x+=spacingLength*textHScale;continue;}var spacing=(glyph.isSpace?wordSpacing:0)+charSpacing;var operatorList=font.charProcOperatorList[glyph.operatorListId];if(!operatorList){(0,_util.warn)(\"Type3 character \\\"\".concat(glyph.operatorListId,\"\\\" is not available.\"));continue;}if(this.contentVisible){this.processingType3=glyph;this.save();ctx.scale(fontSize,fontSize);ctx.transform.apply(ctx,_toConsumableArray(fontMatrix));this.executeOperatorList(operatorList);this.restore();}var transformed=_util.Util.applyTransform([glyph.width,0],fontMatrix);width=transformed[0]*fontSize+spacing;ctx.translate(width,0);current.x+=width*textHScale;}ctx.restore();this.processingType3=null;}},{key:\"setCharWidth\",value:function setCharWidth(xWidth,yWidth){}},{key:\"setCharWidthAndBounds\",value:function setCharWidthAndBounds(xWidth,yWidth,llx,lly,urx,ury){this.ctx.rect(llx,lly,urx-llx,ury-lly);this.ctx.clip();this.endPath();}},{key:\"getColorN_Pattern\",value:function getColorN_Pattern(IR){var _this39=this;var pattern;if(IR[0]===\"TilingPattern\"){var color=IR[1];var baseTransform=this.baseTransform||(0,_display_utils.getCurrentTransform)(this.ctx);var canvasGraphicsFactory={createCanvasGraphics:function createCanvasGraphics(ctx){return new CanvasGraphics(ctx,_this39.commonObjs,_this39.objs,_this39.canvasFactory,_this39.filterFactory,{optionalContentConfig:_this39.optionalContentConfig,markedContentStack:_this39.markedContentStack});}};pattern=new _pattern_helper.TilingPattern(IR,color,this.ctx,canvasGraphicsFactory,baseTransform);}else{pattern=this._getPattern(IR[1],IR[2]);}return pattern;}},{key:\"setStrokeColorN\",value:function setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments);}},{key:\"setFillColorN\",value:function setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments);this.current.patternFill=true;}},{key:\"setStrokeRGBColor\",value:function setStrokeRGBColor(r,g,b){var color=_util.Util.makeHexColor(r,g,b);this.ctx.strokeStyle=color;this.current.strokeColor=color;}},{key:\"setFillRGBColor\",value:function setFillRGBColor(r,g,b){var color=_util.Util.makeHexColor(r,g,b);this.ctx.fillStyle=color;this.current.fillColor=color;this.current.patternFill=false;}},{key:\"_getPattern\",value:function _getPattern(objId){var matrix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var pattern;if(this.cachedPatterns.has(objId)){pattern=this.cachedPatterns.get(objId);}else{pattern=(0,_pattern_helper.getShadingPattern)(this.getObject(objId));this.cachedPatterns.set(objId,pattern);}if(matrix){pattern.matrix=matrix;}return pattern;}},{key:\"shadingFill\",value:function shadingFill(objId){if(!this.contentVisible){return;}var ctx=this.ctx;this.save();var pattern=this._getPattern(objId);ctx.fillStyle=pattern.getPattern(ctx,this,(0,_display_utils.getCurrentTransformInverse)(ctx),_pattern_helper.PathType.SHADING);var inv=(0,_display_utils.getCurrentTransformInverse)(ctx);if(inv){var _ctx$canvas=ctx.canvas,width=_ctx$canvas.width,height=_ctx$canvas.height;var _util$Util$getAxialAl=_util.Util.getAxialAlignedBoundingBox([0,0,width,height],inv),_util$Util$getAxialAl2=_slicedToArray(_util$Util$getAxialAl,4),x0=_util$Util$getAxialAl2[0],y0=_util$Util$getAxialAl2[1],x1=_util$Util$getAxialAl2[2],y1=_util$Util$getAxialAl2[3];this.ctx.fillRect(x0,y0,x1-x0,y1-y0);}else{this.ctx.fillRect(-1e10,-1e10,2e10,2e10);}this.compose(this.current.getClippedPathBoundingBox());this.restore();}},{key:\"beginInlineImage\",value:function beginInlineImage(){(0,_util.unreachable)(\"Should not call beginInlineImage\");}},{key:\"beginImageData\",value:function beginImageData(){(0,_util.unreachable)(\"Should not call beginImageData\");}},{key:\"paintFormXObjectBegin\",value:function paintFormXObjectBegin(matrix,bbox){if(!this.contentVisible){return;}this.save();this.baseTransformStack.push(this.baseTransform);if(Array.isArray(matrix)&&matrix.length===6){this.transform.apply(this,_toConsumableArray(matrix));}this.baseTransform=(0,_display_utils.getCurrentTransform)(this.ctx);if(bbox){var width=bbox[2]-bbox[0];var height=bbox[3]-bbox[1];this.ctx.rect(bbox[0],bbox[1],width,height);this.current.updateRectMinMax((0,_display_utils.getCurrentTransform)(this.ctx),bbox);this.clip();this.endPath();}}},{key:\"paintFormXObjectEnd\",value:function paintFormXObjectEnd(){if(!this.contentVisible){return;}this.restore();this.baseTransform=this.baseTransformStack.pop();}},{key:\"beginGroup\",value:function beginGroup(group){if(!this.contentVisible){return;}this.save();if(this.inSMaskMode){this.endSMaskMode();this.current.activeSMask=null;}var currentCtx=this.ctx;if(!group.isolated){(0,_util.info)(\"TODO: Support non-isolated groups.\");}if(group.knockout){(0,_util.warn)(\"Knockout groups not supported.\");}var currentTransform=(0,_display_utils.getCurrentTransform)(currentCtx);if(group.matrix){currentCtx.transform.apply(currentCtx,_toConsumableArray(group.matrix));}if(!group.bbox){throw new Error(\"Bounding box is required.\");}var bounds=_util.Util.getAxialAlignedBoundingBox(group.bbox,(0,_display_utils.getCurrentTransform)(currentCtx));var canvasBounds=[0,0,currentCtx.canvas.width,currentCtx.canvas.height];bounds=_util.Util.intersect(bounds,canvasBounds)||[0,0,0,0];var offsetX=Math.floor(bounds[0]);var offsetY=Math.floor(bounds[1]);var drawnWidth=Math.max(Math.ceil(bounds[2])-offsetX,1);var drawnHeight=Math.max(Math.ceil(bounds[3])-offsetY,1);var scaleX=1,scaleY=1;if(drawnWidth>MAX_GROUP_SIZE){scaleX=drawnWidth/MAX_GROUP_SIZE;drawnWidth=MAX_GROUP_SIZE;}if(drawnHeight>MAX_GROUP_SIZE){scaleY=drawnHeight/MAX_GROUP_SIZE;drawnHeight=MAX_GROUP_SIZE;}this.current.startNewPathAndClipBox([0,0,drawnWidth,drawnHeight]);var cacheId=\"groupAt\"+this.groupLevel;if(group.smask){cacheId+=\"_smask_\"+this.smaskCounter++%2;}var scratchCanvas=this.cachedCanvases.getCanvas(cacheId,drawnWidth,drawnHeight);var groupCtx=scratchCanvas.context;groupCtx.scale(1/scaleX,1/scaleY);groupCtx.translate(-offsetX,-offsetY);groupCtx.transform.apply(groupCtx,_toConsumableArray(currentTransform));if(group.smask){this.smaskStack.push({canvas:scratchCanvas.canvas,context:groupCtx,offsetX:offsetX,offsetY:offsetY,scaleX:scaleX,scaleY:scaleY,subtype:group.smask.subtype,backdrop:group.smask.backdrop,transferMap:group.smask.transferMap||null,startTransformInverse:null});}else{currentCtx.setTransform(1,0,0,1,0,0);currentCtx.translate(offsetX,offsetY);currentCtx.scale(scaleX,scaleY);currentCtx.save();}copyCtxState(currentCtx,groupCtx);this.ctx=groupCtx;this.setGState([[\"BM\",\"source-over\"],[\"ca\",1],[\"CA\",1]]);this.groupStack.push(currentCtx);this.groupLevel++;}},{key:\"endGroup\",value:function endGroup(group){if(!this.contentVisible){return;}this.groupLevel--;var groupCtx=this.ctx;var ctx=this.groupStack.pop();this.ctx=ctx;this.ctx.imageSmoothingEnabled=false;if(group.smask){this.tempSMask=this.smaskStack.pop();this.restore();}else{var _this$ctx4;this.ctx.restore();var currentMtx=(0,_display_utils.getCurrentTransform)(this.ctx);this.restore();this.ctx.save();(_this$ctx4=this.ctx).setTransform.apply(_this$ctx4,_toConsumableArray(currentMtx));var dirtyBox=_util.Util.getAxialAlignedBoundingBox([0,0,groupCtx.canvas.width,groupCtx.canvas.height],currentMtx);this.ctx.drawImage(groupCtx.canvas,0,0);this.ctx.restore();this.compose(dirtyBox);}}},{key:\"beginAnnotation\",value:function beginAnnotation(id,rect,transform,matrix,hasOwnCanvas){_assertClassBrand(_CanvasGraphics_brand,this,_restoreInitialState).call(this);resetCtxToDefault(this.ctx);this.ctx.save();this.save();if(this.baseTransform){var _this$ctx5;(_this$ctx5=this.ctx).setTransform.apply(_this$ctx5,_toConsumableArray(this.baseTransform));}if(Array.isArray(rect)&&rect.length===4){var width=rect[2]-rect[0];var height=rect[3]-rect[1];if(hasOwnCanvas&&this.annotationCanvasMap){transform=transform.slice();transform[4]-=rect[0];transform[5]-=rect[1];rect=rect.slice();rect[0]=rect[1]=0;rect[2]=width;rect[3]=height;var _util$Util$singularVa=_util.Util.singularValueDecompose2dScale((0,_display_utils.getCurrentTransform)(this.ctx)),_util$Util$singularVa2=_slicedToArray(_util$Util$singularVa,2),scaleX=_util$Util$singularVa2[0],scaleY=_util$Util$singularVa2[1];var viewportScale=this.viewportScale;var canvasWidth=Math.ceil(width*this.outputScaleX*viewportScale);var canvasHeight=Math.ceil(height*this.outputScaleY*viewportScale);this.annotationCanvas=this.canvasFactory.create(canvasWidth,canvasHeight);var _this$annotationCanva=this.annotationCanvas,canvas=_this$annotationCanva.canvas,context=_this$annotationCanva.context;this.annotationCanvasMap.set(id,canvas);this.annotationCanvas.savedCtx=this.ctx;this.ctx=context;this.ctx.save();this.ctx.setTransform(scaleX,0,0,-scaleY,0,height*scaleY);resetCtxToDefault(this.ctx);}else{resetCtxToDefault(this.ctx);this.ctx.rect(rect[0],rect[1],width,height);this.ctx.clip();this.endPath();}}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height);this.transform.apply(this,_toConsumableArray(transform));this.transform.apply(this,_toConsumableArray(matrix));}},{key:\"endAnnotation\",value:function endAnnotation(){if(this.annotationCanvas){this.ctx.restore();_assertClassBrand(_CanvasGraphics_brand,this,_drawFilter).call(this);this.ctx=this.annotationCanvas.savedCtx;delete this.annotationCanvas.savedCtx;delete this.annotationCanvas;}}},{key:\"paintImageMaskXObject\",value:function paintImageMaskXObject(img){if(!this.contentVisible){return;}var count=img.count;img=this.getObject(img.data,img);img.count=count;var ctx=this.ctx;var glyph=this.processingType3;if(glyph){if(glyph.compiled===undefined){glyph.compiled=compileType3Glyph(img);}if(glyph.compiled){glyph.compiled(ctx);return;}}var mask=this._createMaskCanvas(img);var maskCanvas=mask.canvas;ctx.save();ctx.setTransform(1,0,0,1,0,0);ctx.drawImage(maskCanvas,mask.offsetX,mask.offsetY);ctx.restore();this.compose();}},{key:\"paintImageMaskXObjectRepeat\",value:function paintImageMaskXObjectRepeat(img,scaleX){var skewX=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var skewY=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var scaleY=arguments.length>4?arguments[4]:undefined;var positions=arguments.length>5?arguments[5]:undefined;if(!this.contentVisible){return;}img=this.getObject(img.data,img);var ctx=this.ctx;ctx.save();var currentTransform=(0,_display_utils.getCurrentTransform)(ctx);ctx.transform(scaleX,skewX,skewY,scaleY,0,0);var mask=this._createMaskCanvas(img);ctx.setTransform(1,0,0,1,mask.offsetX-currentTransform[4],mask.offsetY-currentTransform[5]);for(var i=0,ii=positions.length;i<ii;i+=2){var trans=_util.Util.transform(currentTransform,[scaleX,skewX,skewY,scaleY,positions[i],positions[i+1]]);var _util$Util$applyTrans3=_util.Util.applyTransform([0,0],trans),_util$Util$applyTrans4=_slicedToArray(_util$Util$applyTrans3,2),x=_util$Util$applyTrans4[0],y=_util$Util$applyTrans4[1];ctx.drawImage(mask.canvas,x,y);}ctx.restore();this.compose();}},{key:\"paintImageMaskXObjectGroup\",value:function paintImageMaskXObjectGroup(images){if(!this.contentVisible){return;}var ctx=this.ctx;var fillColor=this.current.fillColor;var isPatternFill=this.current.patternFill;var _iterator66=_createForOfIteratorHelper(images),_step66;try{for(_iterator66.s();!(_step66=_iterator66.n()).done;){var image=_step66.value;var data=image.data,width=image.width,height=image.height,transform=image.transform;var maskCanvas=this.cachedCanvases.getCanvas(\"maskCanvas\",width,height);var maskCtx=maskCanvas.context;maskCtx.save();var img=this.getObject(data,image);putBinaryImageMask(maskCtx,img);maskCtx.globalCompositeOperation=\"source-in\";maskCtx.fillStyle=isPatternFill?fillColor.getPattern(maskCtx,this,(0,_display_utils.getCurrentTransformInverse)(ctx),_pattern_helper.PathType.FILL):fillColor;maskCtx.fillRect(0,0,width,height);maskCtx.restore();ctx.save();ctx.transform.apply(ctx,_toConsumableArray(transform));ctx.scale(1,-1);drawImageAtIntegerCoords(ctx,maskCanvas.canvas,0,0,width,height,0,-1,1,1);ctx.restore();}}catch(err){_iterator66.e(err);}finally{_iterator66.f();}this.compose();}},{key:\"paintImageXObject\",value:function paintImageXObject(objId){if(!this.contentVisible){return;}var imgData=this.getObject(objId);if(!imgData){(0,_util.warn)(\"Dependent image isn't ready yet\");return;}this.paintInlineImageXObject(imgData);}},{key:\"paintImageXObjectRepeat\",value:function paintImageXObjectRepeat(objId,scaleX,scaleY,positions){if(!this.contentVisible){return;}var imgData=this.getObject(objId);if(!imgData){(0,_util.warn)(\"Dependent image isn't ready yet\");return;}var width=imgData.width;var height=imgData.height;var map=[];for(var i=0,ii=positions.length;i<ii;i+=2){map.push({transform:[scaleX,0,0,scaleY,positions[i],positions[i+1]],x:0,y:0,w:width,h:height});}this.paintInlineImageXObjectGroup(imgData,map);}},{key:\"applyTransferMapsToCanvas\",value:function applyTransferMapsToCanvas(ctx){if(this.current.transferMaps!==\"none\"){ctx.filter=this.current.transferMaps;ctx.drawImage(ctx.canvas,0,0);ctx.filter=\"none\";}return ctx.canvas;}},{key:\"applyTransferMapsToBitmap\",value:function applyTransferMapsToBitmap(imgData){if(this.current.transferMaps===\"none\"){return imgData.bitmap;}var bitmap=imgData.bitmap,width=imgData.width,height=imgData.height;var tmpCanvas=this.cachedCanvases.getCanvas(\"inlineImage\",width,height);var tmpCtx=tmpCanvas.context;tmpCtx.filter=this.current.transferMaps;tmpCtx.drawImage(bitmap,0,0);tmpCtx.filter=\"none\";return tmpCanvas.canvas;}},{key:\"paintInlineImageXObject\",value:function paintInlineImageXObject(imgData){if(!this.contentVisible){return;}var width=imgData.width;var height=imgData.height;var ctx=this.ctx;this.save();if(!_util.isNodeJS){var filter=ctx.filter;if(filter!==\"none\"&&filter!==\"\"){ctx.filter=\"none\";}}ctx.scale(1/width,-1/height);var imgToPaint;if(imgData.bitmap){imgToPaint=this.applyTransferMapsToBitmap(imgData);}else if(typeof HTMLElement===\"function\"&&imgData instanceof HTMLElement||!imgData.data){imgToPaint=imgData;}else{var tmpCanvas=this.cachedCanvases.getCanvas(\"inlineImage\",width,height);var tmpCtx=tmpCanvas.context;putBinaryImageData(tmpCtx,imgData);imgToPaint=this.applyTransferMapsToCanvas(tmpCtx);}var scaled=this._scaleImage(imgToPaint,(0,_display_utils.getCurrentTransformInverse)(ctx));ctx.imageSmoothingEnabled=getImageSmoothingEnabled((0,_display_utils.getCurrentTransform)(ctx),imgData.interpolate);drawImageAtIntegerCoords(ctx,scaled.img,0,0,scaled.paintWidth,scaled.paintHeight,0,-height,width,height);this.compose();this.restore();}},{key:\"paintInlineImageXObjectGroup\",value:function paintInlineImageXObjectGroup(imgData,map){if(!this.contentVisible){return;}var ctx=this.ctx;var imgToPaint;if(imgData.bitmap){imgToPaint=imgData.bitmap;}else{var w=imgData.width;var h=imgData.height;var tmpCanvas=this.cachedCanvases.getCanvas(\"inlineImage\",w,h);var tmpCtx=tmpCanvas.context;putBinaryImageData(tmpCtx,imgData);imgToPaint=this.applyTransferMapsToCanvas(tmpCtx);}var _iterator67=_createForOfIteratorHelper(map),_step67;try{for(_iterator67.s();!(_step67=_iterator67.n()).done;){var entry=_step67.value;ctx.save();ctx.transform.apply(ctx,_toConsumableArray(entry.transform));ctx.scale(1,-1);drawImageAtIntegerCoords(ctx,imgToPaint,entry.x,entry.y,entry.w,entry.h,0,-1,1,1);ctx.restore();}}catch(err){_iterator67.e(err);}finally{_iterator67.f();}this.compose();}},{key:\"paintSolidColorImageMask\",value:function paintSolidColorImageMask(){if(!this.contentVisible){return;}this.ctx.fillRect(0,0,1,1);this.compose();}},{key:\"markPoint\",value:function markPoint(tag){}},{key:\"markPointProps\",value:function markPointProps(tag,properties){}},{key:\"beginMarkedContent\",value:function beginMarkedContent(tag){this.markedContentStack.push({visible:true});}},{key:\"beginMarkedContentProps\",value:function beginMarkedContentProps(tag,properties){if(tag===\"OC\"){this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(properties)});}else{this.markedContentStack.push({visible:true});}this.contentVisible=this.isContentVisible();}},{key:\"endMarkedContent\",value:function endMarkedContent(){this.markedContentStack.pop();this.contentVisible=this.isContentVisible();}},{key:\"beginCompat\",value:function beginCompat(){}},{key:\"endCompat\",value:function endCompat(){}},{key:\"consumePath\",value:function consumePath(clipBox){var isEmpty=this.current.isEmptyClip();if(this.pendingClip){this.current.updateClipFromPath();}if(!this.pendingClip){this.compose(clipBox);}var ctx=this.ctx;if(this.pendingClip){if(!isEmpty){if(this.pendingClip===EO_CLIP){ctx.clip(\"evenodd\");}else{ctx.clip();}}this.pendingClip=null;}this.current.startNewPathAndClipBox(this.current.clipBox);ctx.beginPath();}},{key:\"getSinglePixelWidth\",value:function getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){var m=(0,_display_utils.getCurrentTransform)(this.ctx);if(m[1]===0&&m[2]===0){this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(m[0]),Math.abs(m[3]));}else{var absDet=Math.abs(m[0]*m[3]-m[2]*m[1]);var normX=Math.hypot(m[0],m[2]);var normY=Math.hypot(m[1],m[3]);this._cachedGetSinglePixelWidth=Math.max(normX,normY)/absDet;}}return this._cachedGetSinglePixelWidth;}},{key:\"getScaleForStroking\",value:function getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){var lineWidth=this.current.lineWidth;var _this$ctx$getTransfor=this.ctx.getTransform(),a=_this$ctx$getTransfor.a,b=_this$ctx$getTransfor.b,c=_this$ctx$getTransfor.c,d=_this$ctx$getTransfor.d;var scaleX,scaleY;if(b===0&&c===0){var normX=Math.abs(a);var normY=Math.abs(d);if(normX===normY){if(lineWidth===0){scaleX=scaleY=1/normX;}else{var scaledLineWidth=normX*lineWidth;scaleX=scaleY=scaledLineWidth<1?1/scaledLineWidth:1;}}else if(lineWidth===0){scaleX=1/normX;scaleY=1/normY;}else{var scaledXLineWidth=normX*lineWidth;var scaledYLineWidth=normY*lineWidth;scaleX=scaledXLineWidth<1?1/scaledXLineWidth:1;scaleY=scaledYLineWidth<1?1/scaledYLineWidth:1;}}else{var absDet=Math.abs(a*d-b*c);var _normX=Math.hypot(a,b);var _normY=Math.hypot(c,d);if(lineWidth===0){scaleX=_normY/absDet;scaleY=_normX/absDet;}else{var baseArea=lineWidth*absDet;scaleX=_normY>baseArea?_normY/baseArea:1;scaleY=_normX>baseArea?_normX/baseArea:1;}}this._cachedScaleForStroking[0]=scaleX;this._cachedScaleForStroking[1]=scaleY;}return this._cachedScaleForStroking;}},{key:\"rescaleAndStroke\",value:function rescaleAndStroke(saveRestore){var ctx=this.ctx;var lineWidth=this.current.lineWidth;var _this$getScaleForStro=this.getScaleForStroking(),_this$getScaleForStro2=_slicedToArray(_this$getScaleForStro,2),scaleX=_this$getScaleForStro2[0],scaleY=_this$getScaleForStro2[1];ctx.lineWidth=lineWidth||1;if(scaleX===1&&scaleY===1){ctx.stroke();return;}var dashes=ctx.getLineDash();if(saveRestore){ctx.save();}ctx.scale(scaleX,scaleY);if(dashes.length>0){var scale=Math.max(scaleX,scaleY);ctx.setLineDash(dashes.map(function(x){return x/scale;}));ctx.lineDashOffset/=scale;}ctx.stroke();if(saveRestore){ctx.restore();}}},{key:\"isContentVisible\",value:function isContentVisible(){for(var i=this.markedContentStack.length-1;i>=0;i--){if(!this.markedContentStack[i].visible){return false;}}return true;}}]);}();function _restoreInitialState(){while(this.stateStack.length||this.inSMaskMode){this.restore();}this.ctx.restore();if(this.transparentCanvas){this.ctx=this.compositeCtx;this.ctx.save();this.ctx.setTransform(1,0,0,1,0,0);this.ctx.drawImage(this.transparentCanvas,0,0);this.ctx.restore();this.transparentCanvas=null;}}function _drawFilter(){if(this.pageColors){var hcmFilterId=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(hcmFilterId!==\"none\"){var savedFilter=this.ctx.filter;this.ctx.filter=hcmFilterId;this.ctx.drawImage(this.ctx.canvas,0,0);this.ctx.filter=savedFilter;}}}exports.CanvasGraphics=CanvasGraphics;for(var op in _util.OPS){if(CanvasGraphics.prototype[op]!==undefined){CanvasGraphics.prototype[_util.OPS[op]]=CanvasGraphics.prototype[op];}}/***/}),(/* 12 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,\"__esModule\",{value:true});exports.TilingPattern=exports.PathType=void 0;exports.getShadingPattern=getShadingPattern;var _util=__w_pdfjs_require__(1);var _display_utils=__w_pdfjs_require__(6);var PathType={FILL:\"Fill\",STROKE:\"Stroke\",SHADING:\"Shading\"};exports.PathType=PathType;function applyBoundingBox(ctx,bbox){if(!bbox){return;}var width=bbox[2]-bbox[0];var height=bbox[3]-bbox[1];var region=new Path2D();region.rect(bbox[0],bbox[1],width,height);ctx.clip(region);}var BaseShadingPattern=/*#__PURE__*/function(){function BaseShadingPattern(){_classCallCheck(this,BaseShadingPattern);if(this.constructor===BaseShadingPattern){(0,_util.unreachable)(\"Cannot initialize BaseShadingPattern.\");}}return _createClass(BaseShadingPattern,[{key:\"getPattern\",value:function getPattern(){(0,_util.unreachable)(\"Abstract method `getPattern` called.\");}}]);}();var RadialAxialShadingPattern=/*#__PURE__*/function(_BaseShadingPattern){function RadialAxialShadingPattern(IR){var _this40;_classCallCheck(this,RadialAxialShadingPattern);_this40=_callSuper(this,RadialAxialShadingPattern);_this40._type=IR[1];_this40._bbox=IR[2];_this40._colorStops=IR[3];_this40._p0=IR[4];_this40._p1=IR[5];_this40._r0=IR[6];_this40._r1=IR[7];_this40.matrix=null;return _this40;}_inherits(RadialAxialShadingPattern,_BaseShadingPattern);return _createClass(RadialAxialShadingPattern,[{key:\"_createGradient\",value:function _createGradient(ctx){var grad;if(this._type===\"axial\"){grad=ctx.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]);}else if(this._type===\"radial\"){grad=ctx.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1);}var _iterator68=_createForOfIteratorHelper(this._colorStops),_step68;try{for(_iterator68.s();!(_step68=_iterator68.n()).done;){var colorStop=_step68.value;grad.addColorStop(colorStop[0],colorStop[1]);}}catch(err){_iterator68.e(err);}finally{_iterator68.f();}return grad;}},{key:\"getPattern\",value:function getPattern(ctx,owner,inverse,pathType){var pattern;if(pathType===PathType.STROKE||pathType===PathType.FILL){var ownerBBox=owner.current.getClippedPathBoundingBox(pathType,(0,_display_utils.getCurrentTransform)(ctx))||[0,0,0,0];var width=Math.ceil(ownerBBox[2]-ownerBBox[0])||1;var height=Math.ceil(ownerBBox[3]-ownerBBox[1])||1;var tmpCanvas=owner.cachedCanvases.getCanvas(\"pattern\",width,height,true);var tmpCtx=tmpCanvas.context;tmpCtx.clearRect(0,0,tmpCtx.canvas.width,tmpCtx.canvas.height);tmpCtx.beginPath();tmpCtx.rect(0,0,tmpCtx.canvas.width,tmpCtx.canvas.height);tmpCtx.translate(-ownerBBox[0],-ownerBBox[1]);inverse=_util.Util.transform(inverse,[1,0,0,1,ownerBBox[0],ownerBBox[1]]);tmpCtx.transform.apply(tmpCtx,_toConsumableArray(owner.baseTransform));if(this.matrix){tmpCtx.transform.apply(tmpCtx,_toConsumableArray(this.matrix));}applyBoundingBox(tmpCtx,this._bbox);tmpCtx.fillStyle=this._createGradient(tmpCtx);tmpCtx.fill();pattern=ctx.createPattern(tmpCanvas.canvas,\"no-repeat\");var domMatrix=new DOMMatrix(inverse);pattern.setTransform(domMatrix);}else{applyBoundingBox(ctx,this._bbox);pattern=this._createGradient(ctx);}return pattern;}}]);}(BaseShadingPattern);function drawTriangle(data,context,p1,p2,p3,c1,c2,c3){var coords=context.coords,colors=context.colors;var bytes=data.data,rowSize=data.width*4;var tmp;if(coords[p1+1]>coords[p2+1]){tmp=p1;p1=p2;p2=tmp;tmp=c1;c1=c2;c2=tmp;}if(coords[p2+1]>coords[p3+1]){tmp=p2;p2=p3;p3=tmp;tmp=c2;c2=c3;c3=tmp;}if(coords[p1+1]>coords[p2+1]){tmp=p1;p1=p2;p2=tmp;tmp=c1;c1=c2;c2=tmp;}var x1=(coords[p1]+context.offsetX)*context.scaleX;var y1=(coords[p1+1]+context.offsetY)*context.scaleY;var x2=(coords[p2]+context.offsetX)*context.scaleX;var y2=(coords[p2+1]+context.offsetY)*context.scaleY;var x3=(coords[p3]+context.offsetX)*context.scaleX;var y3=(coords[p3+1]+context.offsetY)*context.scaleY;if(y1>=y3){return;}var c1r=colors[c1],c1g=colors[c1+1],c1b=colors[c1+2];var c2r=colors[c2],c2g=colors[c2+1],c2b=colors[c2+2];var c3r=colors[c3],c3g=colors[c3+1],c3b=colors[c3+2];var minY=Math.round(y1),maxY=Math.round(y3);var xa,car,cag,cab;var xb,cbr,cbg,cbb;for(var y=minY;y<=maxY;y++){if(y<y2){var _k=y<y1?0:(y1-y)/(y1-y2);xa=x1-(x1-x2)*_k;car=c1r-(c1r-c2r)*_k;cag=c1g-(c1g-c2g)*_k;cab=c1b-(c1b-c2b)*_k;}else{var _k2=void 0;if(y>y3){_k2=1;}else if(y2===y3){_k2=0;}else{_k2=(y2-y)/(y2-y3);}xa=x2-(x2-x3)*_k2;car=c2r-(c2r-c3r)*_k2;cag=c2g-(c2g-c3g)*_k2;cab=c2b-(c2b-c3b)*_k2;}var k=void 0;if(y<y1){k=0;}else if(y>y3){k=1;}else{k=(y1-y)/(y1-y3);}xb=x1-(x1-x3)*k;cbr=c1r-(c1r-c3r)*k;cbg=c1g-(c1g-c3g)*k;cbb=c1b-(c1b-c3b)*k;var x1_=Math.round(Math.min(xa,xb));var x2_=Math.round(Math.max(xa,xb));var j=rowSize*y+x1_*4;for(var x=x1_;x<=x2_;x++){k=(xa-x)/(xa-xb);if(k<0){k=0;}else if(k>1){k=1;}bytes[j++]=car-(car-cbr)*k|0;bytes[j++]=cag-(cag-cbg)*k|0;bytes[j++]=cab-(cab-cbb)*k|0;bytes[j++]=255;}}}function drawFigure(data,figure,context){var ps=figure.coords;var cs=figure.colors;var i,ii;switch(figure.type){case\"lattice\":var verticesPerRow=figure.verticesPerRow;var rows=Math.floor(ps.length/verticesPerRow)-1;var cols=verticesPerRow-1;for(i=0;i<rows;i++){var q=i*verticesPerRow;for(var j=0;j<cols;j++,q++){drawTriangle(data,context,ps[q],ps[q+1],ps[q+verticesPerRow],cs[q],cs[q+1],cs[q+verticesPerRow]);drawTriangle(data,context,ps[q+verticesPerRow+1],ps[q+1],ps[q+verticesPerRow],cs[q+verticesPerRow+1],cs[q+1],cs[q+verticesPerRow]);}}break;case\"triangles\":for(i=0,ii=ps.length;i<ii;i+=3){drawTriangle(data,context,ps[i],ps[i+1],ps[i+2],cs[i],cs[i+1],cs[i+2]);}break;default:throw new Error(\"illegal figure\");}}var MeshShadingPattern=/*#__PURE__*/function(_BaseShadingPattern2){function MeshShadingPattern(IR){var _this41;_classCallCheck(this,MeshShadingPattern);_this41=_callSuper(this,MeshShadingPattern);_this41._coords=IR[2];_this41._colors=IR[3];_this41._figures=IR[4];_this41._bounds=IR[5];_this41._bbox=IR[7];_this41._background=IR[8];_this41.matrix=null;return _this41;}_inherits(MeshShadingPattern,_BaseShadingPattern2);return _createClass(MeshShadingPattern,[{key:\"_createMeshCanvas\",value:function _createMeshCanvas(combinedScale,backgroundColor,cachedCanvases){var EXPECTED_SCALE=1.1;var MAX_PATTERN_SIZE=3000;var BORDER_SIZE=2;var offsetX=Math.floor(this._bounds[0]);var offsetY=Math.floor(this._bounds[1]);var boundsWidth=Math.ceil(this._bounds[2])-offsetX;var boundsHeight=Math.ceil(this._bounds[3])-offsetY;var width=Math.min(Math.ceil(Math.abs(boundsWidth*combinedScale[0]*EXPECTED_SCALE)),MAX_PATTERN_SIZE);var height=Math.min(Math.ceil(Math.abs(boundsHeight*combinedScale[1]*EXPECTED_SCALE)),MAX_PATTERN_SIZE);var scaleX=boundsWidth/width;var scaleY=boundsHeight/height;var context={coords:this._coords,colors:this._colors,offsetX:-offsetX,offsetY:-offsetY,scaleX:1/scaleX,scaleY:1/scaleY};var paddedWidth=width+BORDER_SIZE*2;var paddedHeight=height+BORDER_SIZE*2;var tmpCanvas=cachedCanvases.getCanvas(\"mesh\",paddedWidth,paddedHeight,false);var tmpCtx=tmpCanvas.context;var data=tmpCtx.createImageData(width,height);if(backgroundColor){var bytes=data.data;for(var i=0,ii=bytes.length;i<ii;i+=4){bytes[i]=backgroundColor[0];bytes[i+1]=backgroundColor[1];bytes[i+2]=backgroundColor[2];bytes[i+3]=255;}}var _iterator69=_createForOfIteratorHelper(this._figures),_step69;try{for(_iterator69.s();!(_step69=_iterator69.n()).done;){var figure=_step69.value;drawFigure(data,figure,context);}}catch(err){_iterator69.e(err);}finally{_iterator69.f();}tmpCtx.putImageData(data,BORDER_SIZE,BORDER_SIZE);var canvas=tmpCanvas.canvas;return{canvas:canvas,offsetX:offsetX-BORDER_SIZE*scaleX,offsetY:offsetY-BORDER_SIZE*scaleY,scaleX:scaleX,scaleY:scaleY};}},{key:\"getPattern\",value:function getPattern(ctx,owner,inverse,pathType){applyBoundingBox(ctx,this._bbox);var scale;if(pathType===PathType.SHADING){scale=_util.Util.singularValueDecompose2dScale((0,_display_utils.getCurrentTransform)(ctx));}else{scale=_util.Util.singularValueDecompose2dScale(owner.baseTransform);if(this.matrix){var matrixScale=_util.Util.singularValueDecompose2dScale(this.matrix);scale=[scale[0]*matrixScale[0],scale[1]*matrixScale[1]];}}var temporaryPatternCanvas=this._createMeshCanvas(scale,pathType===PathType.SHADING?null:this._background,owner.cachedCanvases);if(pathType!==PathType.SHADING){ctx.setTransform.apply(ctx,_toConsumableArray(owner.baseTransform));if(this.matrix){ctx.transform.apply(ctx,_toConsumableArray(this.matrix));}}ctx.translate(temporaryPatternCanvas.offsetX,temporaryPatternCanvas.offsetY);ctx.scale(temporaryPatternCanvas.scaleX,temporaryPatternCanvas.scaleY);return ctx.createPattern(temporaryPatternCanvas.canvas,\"no-repeat\");}}]);}(BaseShadingPattern);var DummyShadingPattern=/*#__PURE__*/function(_BaseShadingPattern3){function DummyShadingPattern(){_classCallCheck(this,DummyShadingPattern);return _callSuper(this,DummyShadingPattern,arguments);}_inherits(DummyShadingPattern,_BaseShadingPattern3);return _createClass(DummyShadingPattern,[{key:\"getPattern\",value:function getPattern(){return\"hotpink\";}}]);}(BaseShadingPattern);function getShadingPattern(IR){switch(IR[0]){case\"RadialAxial\":return new RadialAxialShadingPattern(IR);case\"Mesh\":return new MeshShadingPattern(IR);case\"Dummy\":return new DummyShadingPattern();}throw new Error(\"Unknown IR type: \".concat(IR[0]));}var PaintType={COLORED:1,UNCOLORED:2};var TilingPattern=/*#__PURE__*/function(){function TilingPattern(IR,color,ctx,canvasGraphicsFactory,baseTransform){_classCallCheck(this,TilingPattern);this.operatorList=IR[2];this.matrix=IR[3]||[1,0,0,1,0,0];this.bbox=IR[4];this.xstep=IR[5];this.ystep=IR[6];this.paintType=IR[7];this.tilingType=IR[8];this.color=color;this.ctx=ctx;this.canvasGraphicsFactory=canvasGraphicsFactory;this.baseTransform=baseTransform;}return _createClass(TilingPattern,[{key:\"createPatternCanvas\",value:function createPatternCanvas(owner){var operatorList=this.operatorList;var bbox=this.bbox;var xstep=this.xstep;var ystep=this.ystep;var paintType=this.paintType;var tilingType=this.tilingType;var color=this.color;var canvasGraphicsFactory=this.canvasGraphicsFactory;(0,_util.info)(\"TilingType: \"+tilingType);var x0=bbox[0],y0=bbox[1],x1=bbox[2],y1=bbox[3];var matrixScale=_util.Util.singularValueDecompose2dScale(this.matrix);var curMatrixScale=_util.Util.singularValueDecompose2dScale(this.baseTransform);var combinedScale=[matrixScale[0]*curMatrixScale[0],matrixScale[1]*curMatrixScale[1]];var dimx=this.getSizeAndScale(xstep,this.ctx.canvas.width,combinedScale[0]);var dimy=this.getSizeAndScale(ystep,this.ctx.canvas.height,combinedScale[1]);var tmpCanvas=owner.cachedCanvases.getCanvas(\"pattern\",dimx.size,dimy.size,true);var tmpCtx=tmpCanvas.context;var graphics=canvasGraphicsFactory.createCanvasGraphics(tmpCtx);graphics.groupLevel=owner.groupLevel;this.setFillAndStrokeStyleToContext(graphics,paintType,color);var adjustedX0=x0;var adjustedY0=y0;var adjustedX1=x1;var adjustedY1=y1;if(x0<0){adjustedX0=0;adjustedX1+=Math.abs(x0);}if(y0<0){adjustedY0=0;adjustedY1+=Math.abs(y0);}tmpCtx.translate(-(dimx.scale*adjustedX0),-(dimy.scale*adjustedY0));graphics.transform(dimx.scale,0,0,dimy.scale,0,0);tmpCtx.save();this.clipBbox(graphics,adjustedX0,adjustedY0,adjustedX1,adjustedY1);graphics.baseTransform=(0,_display_utils.getCurrentTransform)(graphics.ctx);graphics.executeOperatorList(operatorList);graphics.endDrawing();return{canvas:tmpCanvas.canvas,scaleX:dimx.scale,scaleY:dimy.scale,offsetX:adjustedX0,offsetY:adjustedY0};}},{key:\"getSizeAndScale\",value:function getSizeAndScale(step,realOutputSize,scale){step=Math.abs(step);var maxSize=Math.max(TilingPattern.MAX_PATTERN_SIZE,realOutputSize);var size=Math.ceil(step*scale);if(size>=maxSize){size=maxSize;}else{scale=size/step;}return{scale:scale,size:size};}},{key:\"clipBbox\",value:function clipBbox(graphics,x0,y0,x1,y1){var bboxWidth=x1-x0;var bboxHeight=y1-y0;graphics.ctx.rect(x0,y0,bboxWidth,bboxHeight);graphics.current.updateRectMinMax((0,_display_utils.getCurrentTransform)(graphics.ctx),[x0,y0,x1,y1]);graphics.clip();graphics.endPath();}},{key:\"setFillAndStrokeStyleToContext\",value:function setFillAndStrokeStyleToContext(graphics,paintType,color){var context=graphics.ctx,current=graphics.current;switch(paintType){case PaintType.COLORED:var ctx=this.ctx;context.fillStyle=ctx.fillStyle;context.strokeStyle=ctx.strokeStyle;current.fillColor=ctx.fillStyle;current.strokeColor=ctx.strokeStyle;break;case PaintType.UNCOLORED:var cssColor=_util.Util.makeHexColor(color[0],color[1],color[2]);context.fillStyle=cssColor;context.strokeStyle=cssColor;current.fillColor=cssColor;current.strokeColor=cssColor;break;default:throw new _util.FormatError(\"Unsupported paint type: \".concat(paintType));}}},{key:\"getPattern\",value:function getPattern(ctx,owner,inverse,pathType){var matrix=inverse;if(pathType!==PathType.SHADING){matrix=_util.Util.transform(matrix,owner.baseTransform);if(this.matrix){matrix=_util.Util.transform(matrix,this.matrix);}}var temporaryPatternCanvas=this.createPatternCanvas(owner);var domMatrix=new DOMMatrix(matrix);domMatrix=domMatrix.translate(temporaryPatternCanvas.offsetX,temporaryPatternCanvas.offsetY);domMatrix=domMatrix.scale(1/temporaryPatternCanvas.scaleX,1/temporaryPatternCanvas.scaleY);var pattern=ctx.createPattern(temporaryPatternCanvas.canvas,\"repeat\");pattern.setTransform(domMatrix);return pattern;}}]);}();_defineProperty(TilingPattern,\"MAX_PATTERN_SIZE\",3000);exports.TilingPattern=TilingPattern;/***/}),(/* 13 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,\"__esModule\",{value:true});exports.convertBlackAndWhiteToRGBA=convertBlackAndWhiteToRGBA;exports.convertToRGBA=convertToRGBA;exports.grayToRGBA=grayToRGBA;var _util=__w_pdfjs_require__(1);function convertToRGBA(params){switch(params.kind){case _util.ImageKind.GRAYSCALE_1BPP:return convertBlackAndWhiteToRGBA(params);case _util.ImageKind.RGB_24BPP:return convertRGBToRGBA(params);}return null;}function convertBlackAndWhiteToRGBA(_ref51){var src=_ref51.src,_ref51$srcPos=_ref51.srcPos,srcPos=_ref51$srcPos===void 0?0:_ref51$srcPos,dest=_ref51.dest,width=_ref51.width,height=_ref51.height,_ref51$nonBlackColor=_ref51.nonBlackColor,nonBlackColor=_ref51$nonBlackColor===void 0?0xffffffff:_ref51$nonBlackColor,_ref51$inverseDecode=_ref51.inverseDecode,inverseDecode=_ref51$inverseDecode===void 0?false:_ref51$inverseDecode;var black=_util.FeatureTest.isLittleEndian?0xff000000:0x000000ff;var _ref52=inverseDecode?[nonBlackColor,black]:[black,nonBlackColor],_ref53=_slicedToArray(_ref52,2),zeroMapping=_ref53[0],oneMapping=_ref53[1];var widthInSource=width>>3;var widthRemainder=width&7;var srcLength=src.length;dest=new Uint32Array(dest.buffer);var destPos=0;for(var i=0;i<height;i++){for(var max=srcPos+widthInSource;srcPos<max;srcPos++){var _elem=srcPos<srcLength?src[srcPos]:255;dest[destPos++]=_elem&128?oneMapping:zeroMapping;dest[destPos++]=_elem&64?oneMapping:zeroMapping;dest[destPos++]=_elem&32?oneMapping:zeroMapping;dest[destPos++]=_elem&16?oneMapping:zeroMapping;dest[destPos++]=_elem&8?oneMapping:zeroMapping;dest[destPos++]=_elem&4?oneMapping:zeroMapping;dest[destPos++]=_elem&2?oneMapping:zeroMapping;dest[destPos++]=_elem&1?oneMapping:zeroMapping;}if(widthRemainder===0){continue;}var elem=srcPos<srcLength?src[srcPos++]:255;for(var j=0;j<widthRemainder;j++){dest[destPos++]=elem&1<<7-j?oneMapping:zeroMapping;}}return{srcPos:srcPos,destPos:destPos};}function convertRGBToRGBA(_ref54){var src=_ref54.src,_ref54$srcPos=_ref54.srcPos,srcPos=_ref54$srcPos===void 0?0:_ref54$srcPos,dest=_ref54.dest,_ref54$destPos=_ref54.destPos,destPos=_ref54$destPos===void 0?0:_ref54$destPos,width=_ref54.width,height=_ref54.height;var i=0;var len32=src.length>>2;var src32=new Uint32Array(src.buffer,srcPos,len32);if(_util.FeatureTest.isLittleEndian){for(;i<len32-2;i+=3,destPos+=4){var s1=src32[i];var s2=src32[i+1];var s3=src32[i+2];dest[destPos]=s1|0xff000000;dest[destPos+1]=s1>>>24|s2<<8|0xff000000;dest[destPos+2]=s2>>>16|s3<<16|0xff000000;dest[destPos+3]=s3>>>8|0xff000000;}for(var j=i*4,jj=src.length;j<jj;j+=3){dest[destPos++]=src[j]|src[j+1]<<8|src[j+2]<<16|0xff000000;}}else{for(;i<len32-2;i+=3,destPos+=4){var _s=src32[i];var _s2=src32[i+1];var _s3=src32[i+2];dest[destPos]=_s|0xff;dest[destPos+1]=_s<<24|_s2>>>8|0xff;dest[destPos+2]=_s2<<16|_s3>>>16|0xff;dest[destPos+3]=_s3<<8|0xff;}for(var _j=i*4,_jj=src.length;_j<_jj;_j+=3){dest[destPos++]=src[_j]<<24|src[_j+1]<<16|src[_j+2]<<8|0xff;}}return{srcPos:srcPos,destPos:destPos};}function grayToRGBA(src,dest){if(_util.FeatureTest.isLittleEndian){for(var i=0,ii=src.length;i<ii;i++){dest[i]=src[i]*0x10101|0xff000000;}}else{for(var _i10=0,_ii=src.length;_i10<_ii;_i10++){dest[_i10]=src[_i10]*0x1010100|0x000000ff;}}}/***/}),(/* 14 *//***/function(__unused_webpack_module,exports){Object.defineProperty(exports,\"__esModule\",{value:true});exports.GlobalWorkerOptions=void 0;var GlobalWorkerOptions=Object.create(null);exports.GlobalWorkerOptions=GlobalWorkerOptions;GlobalWorkerOptions.workerPort=null;GlobalWorkerOptions.workerSrc=\"\";/***/}),(/* 15 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,\"__esModule\",{value:true});exports.MessageHandler=void 0;var _util=__w_pdfjs_require__(1);var CallbackKind={UNKNOWN:0,DATA:1,ERROR:2};var StreamKind={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wrapReason(reason){if(!(reason instanceof Error||_typeof(reason)===\"object\"&&reason!==null)){(0,_util.unreachable)('wrapReason: Expected \"reason\" to be a (possibly cloned) Error.');}switch(reason.name){case\"AbortException\":return new _util.AbortException(reason.message);case\"MissingPDFException\":return new _util.MissingPDFException(reason.message);case\"PasswordException\":return new _util.PasswordException(reason.message,reason.code);case\"UnexpectedResponseException\":return new _util.UnexpectedResponseException(reason.message,reason.status);case\"UnknownErrorException\":return new _util.UnknownErrorException(reason.message,reason.details);default:return new _util.UnknownErrorException(reason.message,reason.toString());}}var _MessageHandler_brand=/*#__PURE__*/new WeakSet();var MessageHandler=/*#__PURE__*/function(){function MessageHandler(_sourceName,_targetName,_comObj){var _this42=this;_classCallCheck(this,MessageHandler);_classPrivateMethodInitSpec(this,_MessageHandler_brand);this.sourceName=_sourceName;this.targetName=_targetName;this.comObj=_comObj;this.callbackId=1;this.streamId=1;this.streamSinks=Object.create(null);this.streamControllers=Object.create(null);this.callbackCapabilities=Object.create(null);this.actionHandler=Object.create(null);this._onComObjOnMessage=function(event){var data=event.data;if(data.targetName!==_this42.sourceName){return;}if(data.stream){_assertClassBrand(_MessageHandler_brand,_this42,_processStreamMessage).call(_this42,data);return;}if(data.callback){var callbackId=data.callbackId;var capability=_this42.callbackCapabilities[callbackId];if(!capability){throw new Error(\"Cannot resolve callback \".concat(callbackId));}delete _this42.callbackCapabilities[callbackId];if(data.callback===CallbackKind.DATA){capability.resolve(data.data);}else if(data.callback===CallbackKind.ERROR){capability.reject(wrapReason(data.reason));}else{throw new Error(\"Unexpected callback case\");}return;}var action=_this42.actionHandler[data.action];if(!action){throw new Error(\"Unknown action from worker: \".concat(data.action));}if(data.callbackId){var cbSourceName=_this42.sourceName;var cbTargetName=data.sourceName;new Promise(function(resolve){resolve(action(data.data));}).then(function(result){_comObj.postMessage({sourceName:cbSourceName,targetName:cbTargetName,callback:CallbackKind.DATA,callbackId:data.callbackId,data:result});},function(reason){_comObj.postMessage({sourceName:cbSourceName,targetName:cbTargetName,callback:CallbackKind.ERROR,callbackId:data.callbackId,reason:wrapReason(reason)});});return;}if(data.streamId){_assertClassBrand(_MessageHandler_brand,_this42,_createStreamSink).call(_this42,data);return;}action(data.data);};_comObj.addEventListener(\"message\",this._onComObjOnMessage);}return _createClass(MessageHandler,[{key:\"on\",value:function on(actionName,handler){var ah=this.actionHandler;if(ah[actionName]){throw new Error(\"There is already an actionName called \\\"\".concat(actionName,\"\\\"\"));}ah[actionName]=handler;}},{key:\"send\",value:function send(actionName,data,transfers){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:actionName,data:data},transfers);}},{key:\"sendWithPromise\",value:function sendWithPromise(actionName,data,transfers){var callbackId=this.callbackId++;var capability=new _util.PromiseCapability();this.callbackCapabilities[callbackId]=capability;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:actionName,callbackId:callbackId,data:data},transfers);}catch(ex){capability.reject(ex);}return capability.promise;}},{key:\"sendWithStream\",value:function sendWithStream(actionName,data,queueingStrategy,transfers){var _this43=this;var streamId=this.streamId++,sourceName=this.sourceName,targetName=this.targetName,comObj=this.comObj;return new ReadableStream({start:function start(controller){var startCapability=new _util.PromiseCapability();_this43.streamControllers[streamId]={controller:controller,startCall:startCapability,pullCall:null,cancelCall:null,isClosed:false};comObj.postMessage({sourceName:sourceName,targetName:targetName,action:actionName,streamId:streamId,data:data,desiredSize:controller.desiredSize},transfers);return startCapability.promise;},pull:function pull(controller){var pullCapability=new _util.PromiseCapability();_this43.streamControllers[streamId].pullCall=pullCapability;comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind.PULL,streamId:streamId,desiredSize:controller.desiredSize});return pullCapability.promise;},cancel:function cancel(reason){(0,_util.assert)(reason instanceof Error,\"cancel must have a valid reason\");var cancelCapability=new _util.PromiseCapability();_this43.streamControllers[streamId].cancelCall=cancelCapability;_this43.streamControllers[streamId].isClosed=true;comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind.CANCEL,streamId:streamId,reason:wrapReason(reason)});return cancelCapability.promise;}},queueingStrategy);}},{key:\"destroy\",value:function destroy(){this.comObj.removeEventListener(\"message\",this._onComObjOnMessage);}}]);}();function _createStreamSink(data){var streamId=data.streamId,sourceName=this.sourceName,targetName=data.sourceName,comObj=this.comObj;var self=this,action=this.actionHandler[data.action];var streamSink={enqueue:function enqueue(chunk){var size=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var transfers=arguments.length>2?arguments[2]:undefined;if(this.isCancelled){return;}var lastDesiredSize=this.desiredSize;this.desiredSize-=size;if(lastDesiredSize>0&&this.desiredSize<=0){this.sinkCapability=new _util.PromiseCapability();this.ready=this.sinkCapability.promise;}comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind.ENQUEUE,streamId:streamId,chunk:chunk},transfers);},close:function close(){if(this.isCancelled){return;}this.isCancelled=true;comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind.CLOSE,streamId:streamId});delete self.streamSinks[streamId];},error:function error(reason){(0,_util.assert)(reason instanceof Error,\"error must have a valid reason\");if(this.isCancelled){return;}this.isCancelled=true;comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind.ERROR,streamId:streamId,reason:wrapReason(reason)});},sinkCapability:new _util.PromiseCapability(),onPull:null,onCancel:null,isCancelled:false,desiredSize:data.desiredSize,ready:null};streamSink.sinkCapability.resolve();streamSink.ready=streamSink.sinkCapability.promise;this.streamSinks[streamId]=streamSink;new Promise(function(resolve){resolve(action(data.data,streamSink));}).then(function(){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind.START_COMPLETE,streamId:streamId,success:true});},function(reason){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind.START_COMPLETE,streamId:streamId,reason:wrapReason(reason)});});}function _processStreamMessage(data){var streamId=data.streamId,sourceName=this.sourceName,targetName=data.sourceName,comObj=this.comObj;var streamController=this.streamControllers[streamId],streamSink=this.streamSinks[streamId];switch(data.stream){case StreamKind.START_COMPLETE:if(data.success){streamController.startCall.resolve();}else{streamController.startCall.reject(wrapReason(data.reason));}break;case StreamKind.PULL_COMPLETE:if(data.success){streamController.pullCall.resolve();}else{streamController.pullCall.reject(wrapReason(data.reason));}break;case StreamKind.PULL:if(!streamSink){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind.PULL_COMPLETE,streamId:streamId,success:true});break;}if(streamSink.desiredSize<=0&&data.desiredSize>0){streamSink.sinkCapability.resolve();}streamSink.desiredSize=data.desiredSize;new Promise(function(resolve){var _streamSink$onPull;resolve((_streamSink$onPull=streamSink.onPull)===null||_streamSink$onPull===void 0?void 0:_streamSink$onPull.call(streamSink));}).then(function(){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind.PULL_COMPLETE,streamId:streamId,success:true});},function(reason){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind.PULL_COMPLETE,streamId:streamId,reason:wrapReason(reason)});});break;case StreamKind.ENQUEUE:(0,_util.assert)(streamController,\"enqueue should have stream controller\");if(streamController.isClosed){break;}streamController.controller.enqueue(data.chunk);break;case StreamKind.CLOSE:(0,_util.assert)(streamController,\"close should have stream controller\");if(streamController.isClosed){break;}streamController.isClosed=true;streamController.controller.close();_assertClassBrand(_MessageHandler_brand,this,_deleteStreamController).call(this,streamController,streamId);break;case StreamKind.ERROR:(0,_util.assert)(streamController,\"error should have stream controller\");streamController.controller.error(wrapReason(data.reason));_assertClassBrand(_MessageHandler_brand,this,_deleteStreamController).call(this,streamController,streamId);break;case StreamKind.CANCEL_COMPLETE:if(data.success){streamController.cancelCall.resolve();}else{streamController.cancelCall.reject(wrapReason(data.reason));}_assertClassBrand(_MessageHandler_brand,this,_deleteStreamController).call(this,streamController,streamId);break;case StreamKind.CANCEL:if(!streamSink){break;}new Promise(function(resolve){var _streamSink$onCancel;resolve((_streamSink$onCancel=streamSink.onCancel)===null||_streamSink$onCancel===void 0?void 0:_streamSink$onCancel.call(streamSink,wrapReason(data.reason)));}).then(function(){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind.CANCEL_COMPLETE,streamId:streamId,success:true});},function(reason){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:StreamKind.CANCEL_COMPLETE,streamId:streamId,reason:wrapReason(reason)});});streamSink.sinkCapability.reject(wrapReason(data.reason));streamSink.isCancelled=true;delete this.streamSinks[streamId];break;default:throw new Error(\"Unexpected stream case\");}}function _deleteStreamController(_x12,_x13){return _deleteStreamController2.apply(this,arguments);}function _deleteStreamController2(){_deleteStreamController2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee17(streamController,streamId){var _streamController$sta,_streamController$pul,_streamController$can;return _regeneratorRuntime().wrap(function _callee17$(_context17){while(1)switch(_context17.prev=_context17.next){case 0:_context17.next=2;return Promise.allSettled([(_streamController$sta=streamController.startCall)===null||_streamController$sta===void 0?void 0:_streamController$sta.promise,(_streamController$pul=streamController.pullCall)===null||_streamController$pul===void 0?void 0:_streamController$pul.promise,(_streamController$can=streamController.cancelCall)===null||_streamController$can===void 0?void 0:_streamController$can.promise]);case 2:delete this.streamControllers[streamId];case 3:case\"end\":return _context17.stop();}},_callee17,this);}));return _deleteStreamController2.apply(this,arguments);}exports.MessageHandler=MessageHandler;/***/}),(/* 16 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,\"__esModule\",{value:true});exports.Metadata=void 0;var _util=__w_pdfjs_require__(1);var _metadataMap=/*#__PURE__*/new WeakMap();var _data2=/*#__PURE__*/new WeakMap();var Metadata=/*#__PURE__*/function(){function Metadata(_ref55){var parsedData=_ref55.parsedData,rawData=_ref55.rawData;_classCallCheck(this,Metadata);_classPrivateFieldInitSpec(this,_metadataMap,void 0);_classPrivateFieldInitSpec(this,_data2,void 0);_classPrivateFieldSet(_metadataMap,this,parsedData);_classPrivateFieldSet(_data2,this,rawData);}return _createClass(Metadata,[{key:\"getRaw\",value:function getRaw(){return _classPrivateFieldGet(_data2,this);}},{key:\"get\",value:function get(name){var _classPrivateFieldGet18;return(_classPrivateFieldGet18=_classPrivateFieldGet(_metadataMap,this).get(name))!==null&&_classPrivateFieldGet18!==void 0?_classPrivateFieldGet18:null;}},{key:\"getAll\",value:function getAll(){return(0,_util.objectFromMap)(_classPrivateFieldGet(_metadataMap,this));}},{key:\"has\",value:function has(name){return _classPrivateFieldGet(_metadataMap,this).has(name);}}]);}();exports.Metadata=Metadata;/***/}),(/* 17 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,\"__esModule\",{value:true});exports.OptionalContentConfig=void 0;var _util=__w_pdfjs_require__(1);var _murmurhash=__w_pdfjs_require__(8);var INTERNAL=Symbol(\"INTERNAL\");var _visible=/*#__PURE__*/new WeakMap();var OptionalContentGroup=/*#__PURE__*/function(){function OptionalContentGroup(name,intent){_classCallCheck(this,OptionalContentGroup);_classPrivateFieldInitSpec(this,_visible,true);this.name=name;this.intent=intent;}return _createClass(OptionalContentGroup,[{key:\"visible\",get:function get(){return _classPrivateFieldGet(_visible,this);}},{key:\"_setVisible\",value:function _setVisible(internal,visible){if(internal!==INTERNAL){(0,_util.unreachable)(\"Internal method `_setVisible` called.\");}_classPrivateFieldSet(_visible,this,visible);}}]);}();var _cachedGetHash=/*#__PURE__*/new WeakMap();var _groups=/*#__PURE__*/new WeakMap();var _initialHash=/*#__PURE__*/new WeakMap();var _order=/*#__PURE__*/new WeakMap();var _OptionalContentConfig_brand=/*#__PURE__*/new WeakSet();var OptionalContentConfig=/*#__PURE__*/function(){function OptionalContentConfig(data){_classCallCheck(this,OptionalContentConfig);_classPrivateMethodInitSpec(this,_OptionalContentConfig_brand);_classPrivateFieldInitSpec(this,_cachedGetHash,null);_classPrivateFieldInitSpec(this,_groups,new Map());_classPrivateFieldInitSpec(this,_initialHash,null);_classPrivateFieldInitSpec(this,_order,null);this.name=null;this.creator=null;if(data===null){return;}this.name=data.name;this.creator=data.creator;_classPrivateFieldSet(_order,this,data.order);var _iterator70=_createForOfIteratorHelper(data.groups),_step70;try{for(_iterator70.s();!(_step70=_iterator70.n()).done;){var _group=_step70.value;_classPrivateFieldGet(_groups,this).set(_group.id,new OptionalContentGroup(_group.name,_group.intent));}}catch(err){_iterator70.e(err);}finally{_iterator70.f();}if(data.baseState===\"OFF\"){var _iterator71=_createForOfIteratorHelper(_classPrivateFieldGet(_groups,this).values()),_step71;try{for(_iterator71.s();!(_step71=_iterator71.n()).done;){var group=_step71.value;group._setVisible(INTERNAL,false);}}catch(err){_iterator71.e(err);}finally{_iterator71.f();}}var _iterator72=_createForOfIteratorHelper(data.on),_step72;try{for(_iterator72.s();!(_step72=_iterator72.n()).done;){var on=_step72.value;_classPrivateFieldGet(_groups,this).get(on)._setVisible(INTERNAL,true);}}catch(err){_iterator72.e(err);}finally{_iterator72.f();}var _iterator73=_createForOfIteratorHelper(data.off),_step73;try{for(_iterator73.s();!(_step73=_iterator73.n()).done;){var off=_step73.value;_classPrivateFieldGet(_groups,this).get(off)._setVisible(INTERNAL,false);}}catch(err){_iterator73.e(err);}finally{_iterator73.f();}_classPrivateFieldSet(_initialHash,this,this.getHash());}return _createClass(OptionalContentConfig,[{key:\"isVisible\",value:function isVisible(group){if(_classPrivateFieldGet(_groups,this).size===0){return true;}if(!group){(0,_util.warn)(\"Optional content group not defined.\");return true;}if(group.type===\"OCG\"){if(!_classPrivateFieldGet(_groups,this).has(group.id)){(0,_util.warn)(\"Optional content group not found: \".concat(group.id));return true;}return _classPrivateFieldGet(_groups,this).get(group.id).visible;}else if(group.type===\"OCMD\"){if(group.expression){return _assertClassBrand(_OptionalContentConfig_brand,this,_evaluateVisibilityExpression).call(this,group.expression);}if(!group.policy||group.policy===\"AnyOn\"){var _iterator74=_createForOfIteratorHelper(group.ids),_step74;try{for(_iterator74.s();!(_step74=_iterator74.n()).done;){var id=_step74.value;if(!_classPrivateFieldGet(_groups,this).has(id)){(0,_util.warn)(\"Optional content group not found: \".concat(id));return true;}if(_classPrivateFieldGet(_groups,this).get(id).visible){return true;}}}catch(err){_iterator74.e(err);}finally{_iterator74.f();}return false;}else if(group.policy===\"AllOn\"){var _iterator75=_createForOfIteratorHelper(group.ids),_step75;try{for(_iterator75.s();!(_step75=_iterator75.n()).done;){var _id4=_step75.value;if(!_classPrivateFieldGet(_groups,this).has(_id4)){(0,_util.warn)(\"Optional content group not found: \".concat(_id4));return true;}if(!_classPrivateFieldGet(_groups,this).get(_id4).visible){return false;}}}catch(err){_iterator75.e(err);}finally{_iterator75.f();}return true;}else if(group.policy===\"AnyOff\"){var _iterator76=_createForOfIteratorHelper(group.ids),_step76;try{for(_iterator76.s();!(_step76=_iterator76.n()).done;){var _id5=_step76.value;if(!_classPrivateFieldGet(_groups,this).has(_id5)){(0,_util.warn)(\"Optional content group not found: \".concat(_id5));return true;}if(!_classPrivateFieldGet(_groups,this).get(_id5).visible){return true;}}}catch(err){_iterator76.e(err);}finally{_iterator76.f();}return false;}else if(group.policy===\"AllOff\"){var _iterator77=_createForOfIteratorHelper(group.ids),_step77;try{for(_iterator77.s();!(_step77=_iterator77.n()).done;){var _id6=_step77.value;if(!_classPrivateFieldGet(_groups,this).has(_id6)){(0,_util.warn)(\"Optional content group not found: \".concat(_id6));return true;}if(_classPrivateFieldGet(_groups,this).get(_id6).visible){return false;}}}catch(err){_iterator77.e(err);}finally{_iterator77.f();}return true;}(0,_util.warn)(\"Unknown optional content policy \".concat(group.policy,\".\"));return true;}(0,_util.warn)(\"Unknown group type \".concat(group.type,\".\"));return true;}},{key:\"setVisibility\",value:function setVisibility(id){var visible=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(!_classPrivateFieldGet(_groups,this).has(id)){(0,_util.warn)(\"Optional content group not found: \".concat(id));return;}_classPrivateFieldGet(_groups,this).get(id)._setVisible(INTERNAL,!!visible);_classPrivateFieldSet(_cachedGetHash,this,null);}},{key:\"hasInitialVisibility\",get:function get(){return _classPrivateFieldGet(_initialHash,this)===null||this.getHash()===_classPrivateFieldGet(_initialHash,this);}},{key:\"getOrder\",value:function getOrder(){if(!_classPrivateFieldGet(_groups,this).size){return null;}if(_classPrivateFieldGet(_order,this)){return _classPrivateFieldGet(_order,this).slice();}return _toConsumableArray(_classPrivateFieldGet(_groups,this).keys());}},{key:\"getGroups\",value:function getGroups(){return _classPrivateFieldGet(_groups,this).size>0?(0,_util.objectFromMap)(_classPrivateFieldGet(_groups,this)):null;}},{key:\"getGroup\",value:function getGroup(id){return _classPrivateFieldGet(_groups,this).get(id)||null;}},{key:\"getHash\",value:function getHash(){if(_classPrivateFieldGet(_cachedGetHash,this)!==null){return _classPrivateFieldGet(_cachedGetHash,this);}var hash=new _murmurhash.MurmurHash3_64();var _iterator78=_createForOfIteratorHelper(_classPrivateFieldGet(_groups,this)),_step78;try{for(_iterator78.s();!(_step78=_iterator78.n()).done;){var _step78$value=_slicedToArray(_step78.value,2),id=_step78$value[0],group=_step78$value[1];hash.update(\"\".concat(id,\":\").concat(group.visible));}}catch(err){_iterator78.e(err);}finally{_iterator78.f();}return _classPrivateFieldSet(_cachedGetHash,this,hash.hexdigest());}}]);}();function _evaluateVisibilityExpression(array){var length=array.length;if(length<2){return true;}var operator=array[0];for(var i=1;i<length;i++){var element=array[i];var state=void 0;if(Array.isArray(element)){state=_assertClassBrand(_OptionalContentConfig_brand,this,_evaluateVisibilityExpression).call(this,element);}else if(_classPrivateFieldGet(_groups,this).has(element)){state=_classPrivateFieldGet(_groups,this).get(element).visible;}else{(0,_util.warn)(\"Optional content group not found: \".concat(element));return true;}switch(operator){case\"And\":if(!state){return false;}break;case\"Or\":if(state){return true;}break;case\"Not\":return!state;default:return true;}}return operator===\"And\";}exports.OptionalContentConfig=OptionalContentConfig;/***/}),(/* 18 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,\"__esModule\",{value:true});exports.PDFDataTransportStream=void 0;var _util=__w_pdfjs_require__(1);var _display_utils=__w_pdfjs_require__(6);var PDFDataTransportStream=/*#__PURE__*/function(){function PDFDataTransportStream(_ref56,pdfDataRangeTransport){var _this44=this;var length=_ref56.length,initialData=_ref56.initialData,_ref56$progressiveDon=_ref56.progressiveDone,progressiveDone=_ref56$progressiveDon===void 0?false:_ref56$progressiveDon,_ref56$contentDisposi=_ref56.contentDispositionFilename,contentDispositionFilename=_ref56$contentDisposi===void 0?null:_ref56$contentDisposi,_ref56$disableRange=_ref56.disableRange,disableRange=_ref56$disableRange===void 0?false:_ref56$disableRange,_ref56$disableStream=_ref56.disableStream,disableStream=_ref56$disableStream===void 0?false:_ref56$disableStream;_classCallCheck(this,PDFDataTransportStream);(0,_util.assert)(pdfDataRangeTransport,'PDFDataTransportStream - missing required \"pdfDataRangeTransport\" argument.');this._queuedChunks=[];this._progressiveDone=progressiveDone;this._contentDispositionFilename=contentDispositionFilename;if((initialData===null||initialData===void 0?void 0:initialData.length)>0){var buffer=initialData instanceof Uint8Array&&initialData.byteLength===initialData.buffer.byteLength?initialData.buffer:new Uint8Array(initialData).buffer;this._queuedChunks.push(buffer);}this._pdfDataRangeTransport=pdfDataRangeTransport;this._isStreamingSupported=!disableStream;this._isRangeSupported=!disableRange;this._contentLength=length;this._fullRequestReader=null;this._rangeReaders=[];this._pdfDataRangeTransport.addRangeListener(function(begin,chunk){_this44._onReceiveData({begin:begin,chunk:chunk});});this._pdfDataRangeTransport.addProgressListener(function(loaded,total){_this44._onProgress({loaded:loaded,total:total});});this._pdfDataRangeTransport.addProgressiveReadListener(function(chunk){_this44._onReceiveData({chunk:chunk});});this._pdfDataRangeTransport.addProgressiveDoneListener(function(){_this44._onProgressiveDone();});this._pdfDataRangeTransport.transportReady();}return _createClass(PDFDataTransportStream,[{key:\"_onReceiveData\",value:function _onReceiveData(_ref57){var begin=_ref57.begin,chunk=_ref57.chunk;var buffer=chunk instanceof Uint8Array&&chunk.byteLength===chunk.buffer.byteLength?chunk.buffer:new Uint8Array(chunk).buffer;if(begin===undefined){if(this._fullRequestReader){this._fullRequestReader._enqueue(buffer);}else{this._queuedChunks.push(buffer);}}else{var found=this._rangeReaders.some(function(rangeReader){if(rangeReader._begin!==begin){return false;}rangeReader._enqueue(buffer);return true;});(0,_util.assert)(found,\"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.\");}}},{key:\"_progressiveDataLength\",get:function get(){var _this$_fullRequestRea,_this$_fullRequestRea2;return(_this$_fullRequestRea=(_this$_fullRequestRea2=this._fullRequestReader)===null||_this$_fullRequestRea2===void 0?void 0:_this$_fullRequestRea2._loaded)!==null&&_this$_fullRequestRea!==void 0?_this$_fullRequestRea:0;}},{key:\"_onProgress\",value:function _onProgress(evt){if(evt.total===undefined){var _this$_rangeReaders$,_this$_rangeReaders$$;(_this$_rangeReaders$=this._rangeReaders[0])===null||_this$_rangeReaders$===void 0||(_this$_rangeReaders$$=_this$_rangeReaders$.onProgress)===null||_this$_rangeReaders$$===void 0||_this$_rangeReaders$$.call(_this$_rangeReaders$,{loaded:evt.loaded});}else{var _this$_fullRequestRea3,_this$_fullRequestRea4;(_this$_fullRequestRea3=this._fullRequestReader)===null||_this$_fullRequestRea3===void 0||(_this$_fullRequestRea4=_this$_fullRequestRea3.onProgress)===null||_this$_fullRequestRea4===void 0||_this$_fullRequestRea4.call(_this$_fullRequestRea3,{loaded:evt.loaded,total:evt.total});}}},{key:\"_onProgressiveDone\",value:function _onProgressiveDone(){var _this$_fullRequestRea5;(_this$_fullRequestRea5=this._fullRequestReader)===null||_this$_fullRequestRea5===void 0||_this$_fullRequestRea5.progressiveDone();this._progressiveDone=true;}},{key:\"_removeRangeReader\",value:function _removeRangeReader(reader){var i=this._rangeReaders.indexOf(reader);if(i>=0){this._rangeReaders.splice(i,1);}}},{key:\"getFullReader\",value:function getFullReader(){(0,_util.assert)(!this._fullRequestReader,\"PDFDataTransportStream.getFullReader can only be called once.\");var queuedChunks=this._queuedChunks;this._queuedChunks=null;return new PDFDataTransportStreamReader(this,queuedChunks,this._progressiveDone,this._contentDispositionFilename);}},{key:\"getRangeReader\",value:function getRangeReader(begin,end){if(end<=this._progressiveDataLength){return null;}var reader=new PDFDataTransportStreamRangeReader(this,begin,end);this._pdfDataRangeTransport.requestDataRange(begin,end);this._rangeReaders.push(reader);return reader;}},{key:\"cancelAllRequests\",value:function cancelAllRequests(reason){var _this$_fullRequestRea6;(_this$_fullRequestRea6=this._fullRequestReader)===null||_this$_fullRequestRea6===void 0||_this$_fullRequestRea6.cancel(reason);var _iterator79=_createForOfIteratorHelper(this._rangeReaders.slice(0)),_step79;try{for(_iterator79.s();!(_step79=_iterator79.n()).done;){var reader=_step79.value;reader.cancel(reason);}}catch(err){_iterator79.e(err);}finally{_iterator79.f();}this._pdfDataRangeTransport.abort();}}]);}();exports.PDFDataTransportStream=PDFDataTransportStream;var PDFDataTransportStreamReader=/*#__PURE__*/function(){function PDFDataTransportStreamReader(stream,queuedChunks){var progressiveDone=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var contentDispositionFilename=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;_classCallCheck(this,PDFDataTransportStreamReader);this._stream=stream;this._done=progressiveDone||false;this._filename=(0,_display_utils.isPdfFile)(contentDispositionFilename)?contentDispositionFilename:null;this._queuedChunks=queuedChunks||[];this._loaded=0;var _iterator80=_createForOfIteratorHelper(this._queuedChunks),_step80;try{for(_iterator80.s();!(_step80=_iterator80.n()).done;){var chunk=_step80.value;this._loaded+=chunk.byteLength;}}catch(err){_iterator80.e(err);}finally{_iterator80.f();}this._requests=[];this._headersReady=Promise.resolve();stream._fullRequestReader=this;this.onProgress=null;}return _createClass(PDFDataTransportStreamReader,[{key:\"_enqueue\",value:function _enqueue(chunk){if(this._done){return;}if(this._requests.length>0){var requestCapability=this._requests.shift();requestCapability.resolve({value:chunk,done:false});}else{this._queuedChunks.push(chunk);}this._loaded+=chunk.byteLength;}},{key:\"headersReady\",get:function get(){return this._headersReady;}},{key:\"filename\",get:function get(){return this._filename;}},{key:\"isRangeSupported\",get:function get(){return this._stream._isRangeSupported;}},{key:\"isStreamingSupported\",get:function get(){return this._stream._isStreamingSupported;}},{key:\"contentLength\",get:function get(){return this._stream._contentLength;}},{key:\"read\",value:function(){var _read=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee18(){var chunk,requestCapability;return _regeneratorRuntime().wrap(function _callee18$(_context18){while(1)switch(_context18.prev=_context18.next){case 0:if(!(this._queuedChunks.length>0)){_context18.next=3;break;}chunk=this._queuedChunks.shift();return _context18.abrupt(\"return\",{value:chunk,done:false});case 3:if(!this._done){_context18.next=5;break;}return _context18.abrupt(\"return\",{value:undefined,done:true});case 5:requestCapability=new _util.PromiseCapability();this._requests.push(requestCapability);return _context18.abrupt(\"return\",requestCapability.promise);case 8:case\"end\":return _context18.stop();}},_callee18,this);}));function read(){return _read.apply(this,arguments);}return read;}()},{key:\"cancel\",value:function cancel(reason){this._done=true;var _iterator81=_createForOfIteratorHelper(this._requests),_step81;try{for(_iterator81.s();!(_step81=_iterator81.n()).done;){var requestCapability=_step81.value;requestCapability.resolve({value:undefined,done:true});}}catch(err){_iterator81.e(err);}finally{_iterator81.f();}this._requests.length=0;}},{key:\"progressiveDone\",value:function progressiveDone(){if(this._done){return;}this._done=true;}}]);}();var PDFDataTransportStreamRangeReader=/*#__PURE__*/function(){function PDFDataTransportStreamRangeReader(stream,begin,end){_classCallCheck(this,PDFDataTransportStreamRangeReader);this._stream=stream;this._begin=begin;this._end=end;this._queuedChunk=null;this._requests=[];this._done=false;this.onProgress=null;}return _createClass(PDFDataTransportStreamRangeReader,[{key:\"_enqueue\",value:function _enqueue(chunk){if(this._done){return;}if(this._requests.length===0){this._queuedChunk=chunk;}else{var requestsCapability=this._requests.shift();requestsCapability.resolve({value:chunk,done:false});var _iterator82=_createForOfIteratorHelper(this._requests),_step82;try{for(_iterator82.s();!(_step82=_iterator82.n()).done;){var requestCapability=_step82.value;requestCapability.resolve({value:undefined,done:true});}}catch(err){_iterator82.e(err);}finally{_iterator82.f();}this._requests.length=0;}this._done=true;this._stream._removeRangeReader(this);}},{key:\"isStreamingSupported\",get:function get(){return false;}},{key:\"read\",value:function(){var _read2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee19(){var chunk,requestCapability;return _regeneratorRuntime().wrap(function _callee19$(_context19){while(1)switch(_context19.prev=_context19.next){case 0:if(!this._queuedChunk){_context19.next=4;break;}chunk=this._queuedChunk;this._queuedChunk=null;return _context19.abrupt(\"return\",{value:chunk,done:false});case 4:if(!this._done){_context19.next=6;break;}return _context19.abrupt(\"return\",{value:undefined,done:true});case 6:requestCapability=new _util.PromiseCapability();this._requests.push(requestCapability);return _context19.abrupt(\"return\",requestCapability.promise);case 9:case\"end\":return _context19.stop();}},_callee19,this);}));function read(){return _read2.apply(this,arguments);}return read;}()},{key:\"cancel\",value:function cancel(reason){this._done=true;var _iterator83=_createForOfIteratorHelper(this._requests),_step83;try{for(_iterator83.s();!(_step83=_iterator83.n()).done;){var requestCapability=_step83.value;requestCapability.resolve({value:undefined,done:true});}}catch(err){_iterator83.e(err);}finally{_iterator83.f();}this._requests.length=0;this._stream._removeRangeReader(this);}}]);}();/***/}),(/* 19 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,\"__esModule\",{value:true});exports.PDFFetchStream=void 0;var _util=__w_pdfjs_require__(1);var _network_utils=__w_pdfjs_require__(20);;function createFetchOptions(headers,withCredentials,abortController){return{method:\"GET\",headers:headers,signal:abortController.signal,mode:\"cors\",credentials:withCredentials?\"include\":\"same-origin\",redirect:\"follow\"};}function createHeaders(httpHeaders){var headers=new Headers();for(var property in httpHeaders){var value=httpHeaders[property];if(value===undefined){continue;}headers.append(property,value);}return headers;}function getArrayBuffer(val){if(val instanceof Uint8Array){return val.buffer;}if(val instanceof ArrayBuffer){return val;}(0,_util.warn)(\"getArrayBuffer - unexpected data format: \".concat(val));return new Uint8Array(val).buffer;}var PDFFetchStream=/*#__PURE__*/function(){function PDFFetchStream(source){_classCallCheck(this,PDFFetchStream);this.source=source;this.isHttp=/^https?:/i.test(source.url);this.httpHeaders=this.isHttp&&source.httpHeaders||{};this._fullRequestReader=null;this._rangeRequestReaders=[];}return _createClass(PDFFetchStream,[{key:\"_progressiveDataLength\",get:function get(){var _this$_fullRequestRea7,_this$_fullRequestRea8;return(_this$_fullRequestRea7=(_this$_fullRequestRea8=this._fullRequestReader)===null||_this$_fullRequestRea8===void 0?void 0:_this$_fullRequestRea8._loaded)!==null&&_this$_fullRequestRea7!==void 0?_this$_fullRequestRea7:0;}},{key:\"getFullReader\",value:function getFullReader(){(0,_util.assert)(!this._fullRequestReader,\"PDFFetchStream.getFullReader can only be called once.\");this._fullRequestReader=new PDFFetchStreamReader(this);return this._fullRequestReader;}},{key:\"getRangeReader\",value:function getRangeReader(begin,end){if(end<=this._progressiveDataLength){return null;}var reader=new PDFFetchStreamRangeReader(this,begin,end);this._rangeRequestReaders.push(reader);return reader;}},{key:\"cancelAllRequests\",value:function cancelAllRequests(reason){var _this$_fullRequestRea9;(_this$_fullRequestRea9=this._fullRequestReader)===null||_this$_fullRequestRea9===void 0||_this$_fullRequestRea9.cancel(reason);var _iterator84=_createForOfIteratorHelper(this._rangeRequestReaders.slice(0)),_step84;try{for(_iterator84.s();!(_step84=_iterator84.n()).done;){var reader=_step84.value;reader.cancel(reason);}}catch(err){_iterator84.e(err);}finally{_iterator84.f();}}}]);}();exports.PDFFetchStream=PDFFetchStream;var PDFFetchStreamReader=/*#__PURE__*/function(){function PDFFetchStreamReader(stream){var _this45=this;_classCallCheck(this,PDFFetchStreamReader);this._stream=stream;this._reader=null;this._loaded=0;this._filename=null;var source=stream.source;this._withCredentials=source.withCredentials||false;this._contentLength=source.length;this._headersCapability=new _util.PromiseCapability();this._disableRange=source.disableRange||false;this._rangeChunkSize=source.rangeChunkSize;if(!this._rangeChunkSize&&!this._disableRange){this._disableRange=true;}this._abortController=new AbortController();this._isStreamingSupported=!source.disableStream;this._isRangeSupported=!source.disableRange;this._headers=createHeaders(this._stream.httpHeaders);var url=source.url;fetch(url,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(function(response){if(!(0,_network_utils.validateResponseStatus)(response.status)){throw(0,_network_utils.createResponseStatusError)(response.status,url);}_this45._reader=response.body.getReader();_this45._headersCapability.resolve();var getResponseHeader=function getResponseHeader(name){return response.headers.get(name);};var _ref58=(0,_network_utils.validateRangeRequestCapabilities)({getResponseHeader:getResponseHeader,isHttp:_this45._stream.isHttp,rangeChunkSize:_this45._rangeChunkSize,disableRange:_this45._disableRange}),allowRangeRequests=_ref58.allowRangeRequests,suggestedLength=_ref58.suggestedLength;_this45._isRangeSupported=allowRangeRequests;_this45._contentLength=suggestedLength||_this45._contentLength;_this45._filename=(0,_network_utils.extractFilenameFromHeader)(getResponseHeader);if(!_this45._isStreamingSupported&&_this45._isRangeSupported){_this45.cancel(new _util.AbortException(\"Streaming is disabled.\"));}})[\"catch\"](this._headersCapability.reject);this.onProgress=null;}return _createClass(PDFFetchStreamReader,[{key:\"headersReady\",get:function get(){return this._headersCapability.promise;}},{key:\"filename\",get:function get(){return this._filename;}},{key:\"contentLength\",get:function get(){return this._contentLength;}},{key:\"isRangeSupported\",get:function get(){return this._isRangeSupported;}},{key:\"isStreamingSupported\",get:function get(){return this._isStreamingSupported;}},{key:\"read\",value:function(){var _read3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee20(){var _this$onProgress;var _yield$this$_reader$r,value,done;return _regeneratorRuntime().wrap(function _callee20$(_context20){while(1)switch(_context20.prev=_context20.next){case 0:_context20.next=2;return this._headersCapability.promise;case 2:_context20.next=4;return this._reader.read();case 4:_yield$this$_reader$r=_context20.sent;value=_yield$this$_reader$r.value;done=_yield$this$_reader$r.done;if(!done){_context20.next=9;break;}return _context20.abrupt(\"return\",{value:value,done:done});case 9:this._loaded+=value.byteLength;(_this$onProgress=this.onProgress)===null||_this$onProgress===void 0||_this$onProgress.call(this,{loaded:this._loaded,total:this._contentLength});return _context20.abrupt(\"return\",{value:getArrayBuffer(value),done:false});case 12:case\"end\":return _context20.stop();}},_callee20,this);}));function read(){return _read3.apply(this,arguments);}return read;}()},{key:\"cancel\",value:function cancel(reason){var _this$_reader;(_this$_reader=this._reader)===null||_this$_reader===void 0||_this$_reader.cancel(reason);this._abortController.abort();}}]);}();var PDFFetchStreamRangeReader=/*#__PURE__*/function(){function PDFFetchStreamRangeReader(stream,begin,end){var _this46=this;_classCallCheck(this,PDFFetchStreamRangeReader);this._stream=stream;this._reader=null;this._loaded=0;var source=stream.source;this._withCredentials=source.withCredentials||false;this._readCapability=new _util.PromiseCapability();this._isStreamingSupported=!source.disableStream;this._abortController=new AbortController();this._headers=createHeaders(this._stream.httpHeaders);this._headers.append(\"Range\",\"bytes=\".concat(begin,\"-\").concat(end-1));var url=source.url;fetch(url,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(function(response){if(!(0,_network_utils.validateResponseStatus)(response.status)){throw(0,_network_utils.createResponseStatusError)(response.status,url);}_this46._readCapability.resolve();_this46._reader=response.body.getReader();})[\"catch\"](this._readCapability.reject);this.onProgress=null;}return _createClass(PDFFetchStreamRangeReader,[{key:\"isStreamingSupported\",get:function get(){return this._isStreamingSupported;}},{key:\"read\",value:function(){var _read4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee21(){var _this$onProgress2;var _yield$this$_reader$r2,value,done;return _regeneratorRuntime().wrap(function _callee21$(_context21){while(1)switch(_context21.prev=_context21.next){case 0:_context21.next=2;return this._readCapability.promise;case 2:_context21.next=4;return this._reader.read();case 4:_yield$this$_reader$r2=_context21.sent;value=_yield$this$_reader$r2.value;done=_yield$this$_reader$r2.done;if(!done){_context21.next=9;break;}return _context21.abrupt(\"return\",{value:value,done:done});case 9:this._loaded+=value.byteLength;(_this$onProgress2=this.onProgress)===null||_this$onProgress2===void 0||_this$onProgress2.call(this,{loaded:this._loaded});return _context21.abrupt(\"return\",{value:getArrayBuffer(value),done:false});case 12:case\"end\":return _context21.stop();}},_callee21,this);}));function read(){return _read4.apply(this,arguments);}return read;}()},{key:\"cancel\",value:function cancel(reason){var _this$_reader2;(_this$_reader2=this._reader)===null||_this$_reader2===void 0||_this$_reader2.cancel(reason);this._abortController.abort();}}]);}();/***/}),(/* 20 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,\"__esModule\",{value:true});exports.createResponseStatusError=createResponseStatusError;exports.extractFilenameFromHeader=extractFilenameFromHeader;exports.validateRangeRequestCapabilities=validateRangeRequestCapabilities;exports.validateResponseStatus=validateResponseStatus;var _util=__w_pdfjs_require__(1);var _content_disposition=__w_pdfjs_require__(21);var _display_utils=__w_pdfjs_require__(6);function validateRangeRequestCapabilities(_ref59){var getResponseHeader=_ref59.getResponseHeader,isHttp=_ref59.isHttp,rangeChunkSize=_ref59.rangeChunkSize,disableRange=_ref59.disableRange;var returnValues={allowRangeRequests:false,suggestedLength:undefined};var length=parseInt(getResponseHeader(\"Content-Length\"),10);if(!Number.isInteger(length)){return returnValues;}returnValues.suggestedLength=length;if(length<=2*rangeChunkSize){return returnValues;}if(disableRange||!isHttp){return returnValues;}if(getResponseHeader(\"Accept-Ranges\")!==\"bytes\"){return returnValues;}var contentEncoding=getResponseHeader(\"Content-Encoding\")||\"identity\";if(contentEncoding!==\"identity\"){return returnValues;}returnValues.allowRangeRequests=true;return returnValues;}function extractFilenameFromHeader(getResponseHeader){var contentDisposition=getResponseHeader(\"Content-Disposition\");if(contentDisposition){var filename=(0,_content_disposition.getFilenameFromContentDispositionHeader)(contentDisposition);if(filename.includes(\"%\")){try{filename=decodeURIComponent(filename);}catch(_unused10){}}if((0,_display_utils.isPdfFile)(filename)){return filename;}}return null;}function createResponseStatusError(status,url){if(status===404||status===0&&url.startsWith(\"file:\")){return new _util.MissingPDFException('Missing PDF \"'+url+'\".');}return new _util.UnexpectedResponseException(\"Unexpected server response (\".concat(status,\") while retrieving PDF \\\"\").concat(url,\"\\\".\"),status);}function validateResponseStatus(status){return status===200||status===206;}/***/}),(/* 21 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,\"__esModule\",{value:true});exports.getFilenameFromContentDispositionHeader=getFilenameFromContentDispositionHeader;var _util=__w_pdfjs_require__(1);function getFilenameFromContentDispositionHeader(contentDisposition){var needsEncodingFixup=true;var tmp=toParamRegExp(\"filename\\\\*\",\"i\").exec(contentDisposition);if(tmp){tmp=tmp[1];var filename=rfc2616unquote(tmp);filename=unescape(filename);filename=rfc5987decode(filename);filename=rfc2047decode(filename);return fixupEncoding(filename);}tmp=rfc2231getparam(contentDisposition);if(tmp){var _filename=rfc2047decode(tmp);return fixupEncoding(_filename);}tmp=toParamRegExp(\"filename\",\"i\").exec(contentDisposition);if(tmp){tmp=tmp[1];var _filename2=rfc2616unquote(tmp);_filename2=rfc2047decode(_filename2);return fixupEncoding(_filename2);}function toParamRegExp(attributePattern,flags){return new RegExp(\"(?:^|;)\\\\s*\"+attributePattern+\"\\\\s*=\\\\s*\"+\"(\"+'[^\";\\\\s][^;\\\\s]*'+\"|\"+'\"(?:[^\"\\\\\\\\]|\\\\\\\\\"?)+\"?'+\")\",flags);}function textdecode(encoding,value){if(encoding){if(!/^[\\x00-\\xFF]+$/.test(value)){return value;}try{var decoder=new TextDecoder(encoding,{fatal:true});var buffer=(0,_util.stringToBytes)(value);value=decoder.decode(buffer);needsEncodingFixup=false;}catch(_unused11){}}return value;}function fixupEncoding(value){if(needsEncodingFixup&&/[\\x80-\\xff]/.test(value)){value=textdecode(\"utf-8\",value);if(needsEncodingFixup){value=textdecode(\"iso-8859-1\",value);}}return value;}function rfc2231getparam(contentDispositionStr){var matches=[];var match;var iter=toParamRegExp(\"filename\\\\*((?!0\\\\d)\\\\d+)(\\\\*?)\",\"ig\");while((match=iter.exec(contentDispositionStr))!==null){var _match=match,_match2=_slicedToArray(_match,4),n=_match2[1],quot=_match2[2],part=_match2[3];n=parseInt(n,10);if(n in matches){if(n===0){break;}continue;}matches[n]=[quot,part];}var parts=[];for(var _n=0;_n<matches.length;++_n){if(!(_n in matches)){break;}var _matches$_n=_slicedToArray(matches[_n],2),_quot=_matches$_n[0],_part=_matches$_n[1];_part=rfc2616unquote(_part);if(_quot){_part=unescape(_part);if(_n===0){_part=rfc5987decode(_part);}}parts.push(_part);}return parts.join(\"\");}function rfc2616unquote(value){if(value.startsWith('\"')){var parts=value.slice(1).split('\\\\\"');for(var i=0;i<parts.length;++i){var quotindex=parts[i].indexOf('\"');if(quotindex!==-1){parts[i]=parts[i].slice(0,quotindex);parts.length=i+1;}parts[i]=parts[i].replaceAll(/\\\\(.)/g,\"$1\");}value=parts.join('\"');}return value;}function rfc5987decode(extvalue){var encodingend=extvalue.indexOf(\"'\");if(encodingend===-1){return extvalue;}var encoding=extvalue.slice(0,encodingend);var langvalue=extvalue.slice(encodingend+1);var value=langvalue.replace(/^[^']*'/,\"\");return textdecode(encoding,value);}function rfc2047decode(value){if(!value.startsWith(\"=?\")||/[\\x00-\\x19\\x80-\\xff]/.test(value)){return value;}return value.replaceAll(/=\\?([\\w-]*)\\?([QqBb])\\?((?:[^?]|\\?(?!=))*)\\?=/g,function(matches,charset,encoding,text){if(encoding===\"q\"||encoding===\"Q\"){text=text.replaceAll(\"_\",\" \");text=text.replaceAll(/=([0-9a-fA-F]{2})/g,function(match,hex){return String.fromCharCode(parseInt(hex,16));});return textdecode(charset,text);}try{text=atob(text);}catch(_unused12){}return textdecode(charset,text);});}return\"\";}/***/}),(/* 22 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,\"__esModule\",{value:true});exports.PDFNetworkStream=void 0;var _util=__w_pdfjs_require__(1);var _network_utils=__w_pdfjs_require__(20);;var OK_RESPONSE=200;var PARTIAL_CONTENT_RESPONSE=206;function getArrayBuffer(xhr){var data=xhr.response;if(typeof data!==\"string\"){return data;}return(0,_util.stringToBytes)(data).buffer;}var NetworkManager=/*#__PURE__*/function(){function NetworkManager(url){var args=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,NetworkManager);this.url=url;this.isHttp=/^https?:/i.test(url);this.httpHeaders=this.isHttp&&args.httpHeaders||Object.create(null);this.withCredentials=args.withCredentials||false;this.currXhrId=0;this.pendingRequests=Object.create(null);}return _createClass(NetworkManager,[{key:\"requestRange\",value:function requestRange(begin,end,listeners){var args={begin:begin,end:end};for(var prop in listeners){args[prop]=listeners[prop];}return this.request(args);}},{key:\"requestFull\",value:function requestFull(listeners){return this.request(listeners);}},{key:\"request\",value:function request(args){var xhr=new XMLHttpRequest();var xhrId=this.currXhrId++;var pendingRequest=this.pendingRequests[xhrId]={xhr:xhr};xhr.open(\"GET\",this.url);xhr.withCredentials=this.withCredentials;for(var property in this.httpHeaders){var value=this.httpHeaders[property];if(value===undefined){continue;}xhr.setRequestHeader(property,value);}if(this.isHttp&&\"begin\"in args&&\"end\"in args){xhr.setRequestHeader(\"Range\",\"bytes=\".concat(args.begin,\"-\").concat(args.end-1));pendingRequest.expectedStatus=PARTIAL_CONTENT_RESPONSE;}else{pendingRequest.expectedStatus=OK_RESPONSE;}xhr.responseType=\"arraybuffer\";if(args.onError){xhr.onerror=function(evt){args.onError(xhr.status);};}xhr.onreadystatechange=this.onStateChange.bind(this,xhrId);xhr.onprogress=this.onProgress.bind(this,xhrId);pendingRequest.onHeadersReceived=args.onHeadersReceived;pendingRequest.onDone=args.onDone;pendingRequest.onError=args.onError;pendingRequest.onProgress=args.onProgress;xhr.send(null);return xhrId;}},{key:\"onProgress\",value:function onProgress(xhrId,evt){var _pendingRequest$onPro;var pendingRequest=this.pendingRequests[xhrId];if(!pendingRequest){return;}(_pendingRequest$onPro=pendingRequest.onProgress)===null||_pendingRequest$onPro===void 0||_pendingRequest$onPro.call(pendingRequest,evt);}},{key:\"onStateChange\",value:function onStateChange(xhrId,evt){var pendingRequest=this.pendingRequests[xhrId];if(!pendingRequest){return;}var xhr=pendingRequest.xhr;if(xhr.readyState>=2&&pendingRequest.onHeadersReceived){pendingRequest.onHeadersReceived();delete pendingRequest.onHeadersReceived;}if(xhr.readyState!==4){return;}if(!(xhrId in this.pendingRequests)){return;}delete this.pendingRequests[xhrId];if(xhr.status===0&&this.isHttp){var _pendingRequest$onErr;(_pendingRequest$onErr=pendingRequest.onError)===null||_pendingRequest$onErr===void 0||_pendingRequest$onErr.call(pendingRequest,xhr.status);return;}var xhrStatus=xhr.status||OK_RESPONSE;var ok_response_on_range_request=xhrStatus===OK_RESPONSE&&pendingRequest.expectedStatus===PARTIAL_CONTENT_RESPONSE;if(!ok_response_on_range_request&&xhrStatus!==pendingRequest.expectedStatus){var _pendingRequest$onErr2;(_pendingRequest$onErr2=pendingRequest.onError)===null||_pendingRequest$onErr2===void 0||_pendingRequest$onErr2.call(pendingRequest,xhr.status);return;}var chunk=getArrayBuffer(xhr);if(xhrStatus===PARTIAL_CONTENT_RESPONSE){var rangeHeader=xhr.getResponseHeader(\"Content-Range\");var matches=/bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);pendingRequest.onDone({begin:parseInt(matches[1],10),chunk:chunk});}else if(chunk){pendingRequest.onDone({begin:0,chunk:chunk});}else{var _pendingRequest$onErr3;(_pendingRequest$onErr3=pendingRequest.onError)===null||_pendingRequest$onErr3===void 0||_pendingRequest$onErr3.call(pendingRequest,xhr.status);}}},{key:\"getRequestXhr\",value:function getRequestXhr(xhrId){return this.pendingRequests[xhrId].xhr;}},{key:\"isPendingRequest\",value:function isPendingRequest(xhrId){return xhrId in this.pendingRequests;}},{key:\"abortRequest\",value:function abortRequest(xhrId){var xhr=this.pendingRequests[xhrId].xhr;delete this.pendingRequests[xhrId];xhr.abort();}}]);}();var PDFNetworkStream=/*#__PURE__*/function(){function PDFNetworkStream(source){_classCallCheck(this,PDFNetworkStream);this._source=source;this._manager=new NetworkManager(source.url,{httpHeaders:source.httpHeaders,withCredentials:source.withCredentials});this._rangeChunkSize=source.rangeChunkSize;this._fullRequestReader=null;this._rangeRequestReaders=[];}return _createClass(PDFNetworkStream,[{key:\"_onRangeRequestReaderClosed\",value:function _onRangeRequestReaderClosed(reader){var i=this._rangeRequestReaders.indexOf(reader);if(i>=0){this._rangeRequestReaders.splice(i,1);}}},{key:\"getFullReader\",value:function getFullReader(){(0,_util.assert)(!this._fullRequestReader,\"PDFNetworkStream.getFullReader can only be called once.\");this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source);return this._fullRequestReader;}},{key:\"getRangeReader\",value:function getRangeReader(begin,end){var reader=new PDFNetworkStreamRangeRequestReader(this._manager,begin,end);reader.onClosed=this._onRangeRequestReaderClosed.bind(this);this._rangeRequestReaders.push(reader);return reader;}},{key:\"cancelAllRequests\",value:function cancelAllRequests(reason){var _this$_fullRequestRea0;(_this$_fullRequestRea0=this._fullRequestReader)===null||_this$_fullRequestRea0===void 0||_this$_fullRequestRea0.cancel(reason);var _iterator85=_createForOfIteratorHelper(this._rangeRequestReaders.slice(0)),_step85;try{for(_iterator85.s();!(_step85=_iterator85.n()).done;){var reader=_step85.value;reader.cancel(reason);}}catch(err){_iterator85.e(err);}finally{_iterator85.f();}}}]);}();exports.PDFNetworkStream=PDFNetworkStream;var PDFNetworkStreamFullRequestReader=/*#__PURE__*/function(){function PDFNetworkStreamFullRequestReader(manager,source){_classCallCheck(this,PDFNetworkStreamFullRequestReader);this._manager=manager;var args={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=source.url;this._fullRequestId=manager.requestFull(args);this._headersReceivedCapability=new _util.PromiseCapability();this._disableRange=source.disableRange||false;this._contentLength=source.length;this._rangeChunkSize=source.rangeChunkSize;if(!this._rangeChunkSize&&!this._disableRange){this._disableRange=true;}this._isStreamingSupported=false;this._isRangeSupported=false;this._cachedChunks=[];this._requests=[];this._done=false;this._storedError=undefined;this._filename=null;this.onProgress=null;}return _createClass(PDFNetworkStreamFullRequestReader,[{key:\"_onHeadersReceived\",value:function _onHeadersReceived(){var fullRequestXhrId=this._fullRequestId;var fullRequestXhr=this._manager.getRequestXhr(fullRequestXhrId);var getResponseHeader=function getResponseHeader(name){return fullRequestXhr.getResponseHeader(name);};var _ref60=(0,_network_utils.validateRangeRequestCapabilities)({getResponseHeader:getResponseHeader,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),allowRangeRequests=_ref60.allowRangeRequests,suggestedLength=_ref60.suggestedLength;if(allowRangeRequests){this._isRangeSupported=true;}this._contentLength=suggestedLength||this._contentLength;this._filename=(0,_network_utils.extractFilenameFromHeader)(getResponseHeader);if(this._isRangeSupported){this._manager.abortRequest(fullRequestXhrId);}this._headersReceivedCapability.resolve();}},{key:\"_onDone\",value:function _onDone(data){if(data){if(this._requests.length>0){var requestCapability=this._requests.shift();requestCapability.resolve({value:data.chunk,done:false});}else{this._cachedChunks.push(data.chunk);}}this._done=true;if(this._cachedChunks.length>0){return;}var _iterator86=_createForOfIteratorHelper(this._requests),_step86;try{for(_iterator86.s();!(_step86=_iterator86.n()).done;){var _requestCapability=_step86.value;_requestCapability.resolve({value:undefined,done:true});}}catch(err){_iterator86.e(err);}finally{_iterator86.f();}this._requests.length=0;}},{key:\"_onError\",value:function _onError(status){this._storedError=(0,_network_utils.createResponseStatusError)(status,this._url);this._headersReceivedCapability.reject(this._storedError);var _iterator87=_createForOfIteratorHelper(this._requests),_step87;try{for(_iterator87.s();!(_step87=_iterator87.n()).done;){var requestCapability=_step87.value;requestCapability.reject(this._storedError);}}catch(err){_iterator87.e(err);}finally{_iterator87.f();}this._requests.length=0;this._cachedChunks.length=0;}},{key:\"_onProgress\",value:function _onProgress(evt){var _this$onProgress3;(_this$onProgress3=this.onProgress)===null||_this$onProgress3===void 0||_this$onProgress3.call(this,{loaded:evt.loaded,total:evt.lengthComputable?evt.total:this._contentLength});}},{key:\"filename\",get:function get(){return this._filename;}},{key:\"isRangeSupported\",get:function get(){return this._isRangeSupported;}},{key:\"isStreamingSupported\",get:function get(){return this._isStreamingSupported;}},{key:\"contentLength\",get:function get(){return this._contentLength;}},{key:\"headersReady\",get:function get(){return this._headersReceivedCapability.promise;}},{key:\"read\",value:function(){var _read5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee22(){var chunk,requestCapability;return _regeneratorRuntime().wrap(function _callee22$(_context22){while(1)switch(_context22.prev=_context22.next){case 0:if(!this._storedError){_context22.next=2;break;}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){_context22.next=5;break;}chunk=this._cachedChunks.shift();return _context22.abrupt(\"return\",{value:chunk,done:false});case 5:if(!this._done){_context22.next=7;break;}return _context22.abrupt(\"return\",{value:undefined,done:true});case 7:requestCapability=new _util.PromiseCapability();this._requests.push(requestCapability);return _context22.abrupt(\"return\",requestCapability.promise);case 10:case\"end\":return _context22.stop();}},_callee22,this);}));function read(){return _read5.apply(this,arguments);}return read;}()},{key:\"cancel\",value:function cancel(reason){this._done=true;this._headersReceivedCapability.reject(reason);var _iterator88=_createForOfIteratorHelper(this._requests),_step88;try{for(_iterator88.s();!(_step88=_iterator88.n()).done;){var requestCapability=_step88.value;requestCapability.resolve({value:undefined,done:true});}}catch(err){_iterator88.e(err);}finally{_iterator88.f();}this._requests.length=0;if(this._manager.isPendingRequest(this._fullRequestId)){this._manager.abortRequest(this._fullRequestId);}this._fullRequestReader=null;}}]);}();var PDFNetworkStreamRangeRequestReader=/*#__PURE__*/function(){function PDFNetworkStreamRangeRequestReader(manager,begin,end){_classCallCheck(this,PDFNetworkStreamRangeRequestReader);this._manager=manager;var args={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=manager.url;this._requestId=manager.requestRange(begin,end,args);this._requests=[];this._queuedChunk=null;this._done=false;this._storedError=undefined;this.onProgress=null;this.onClosed=null;}return _createClass(PDFNetworkStreamRangeRequestReader,[{key:\"_close\",value:function _close(){var _this$onClosed;(_this$onClosed=this.onClosed)===null||_this$onClosed===void 0||_this$onClosed.call(this,this);}},{key:\"_onDone\",value:function _onDone(data){var chunk=data.chunk;if(this._requests.length>0){var requestCapability=this._requests.shift();requestCapability.resolve({value:chunk,done:false});}else{this._queuedChunk=chunk;}this._done=true;var _iterator89=_createForOfIteratorHelper(this._requests),_step89;try{for(_iterator89.s();!(_step89=_iterator89.n()).done;){var _requestCapability2=_step89.value;_requestCapability2.resolve({value:undefined,done:true});}}catch(err){_iterator89.e(err);}finally{_iterator89.f();}this._requests.length=0;this._close();}},{key:\"_onError\",value:function _onError(status){this._storedError=(0,_network_utils.createResponseStatusError)(status,this._url);var _iterator90=_createForOfIteratorHelper(this._requests),_step90;try{for(_iterator90.s();!(_step90=_iterator90.n()).done;){var requestCapability=_step90.value;requestCapability.reject(this._storedError);}}catch(err){_iterator90.e(err);}finally{_iterator90.f();}this._requests.length=0;this._queuedChunk=null;}},{key:\"_onProgress\",value:function _onProgress(evt){if(!this.isStreamingSupported){var _this$onProgress4;(_this$onProgress4=this.onProgress)===null||_this$onProgress4===void 0||_this$onProgress4.call(this,{loaded:evt.loaded});}}},{key:\"isStreamingSupported\",get:function get(){return false;}},{key:\"read\",value:function(){var _read6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee23(){var chunk,requestCapability;return _regeneratorRuntime().wrap(function _callee23$(_context23){while(1)switch(_context23.prev=_context23.next){case 0:if(!this._storedError){_context23.next=2;break;}throw this._storedError;case 2:if(!(this._queuedChunk!==null)){_context23.next=6;break;}chunk=this._queuedChunk;this._queuedChunk=null;return _context23.abrupt(\"return\",{value:chunk,done:false});case 6:if(!this._done){_context23.next=8;break;}return _context23.abrupt(\"return\",{value:undefined,done:true});case 8:requestCapability=new _util.PromiseCapability();this._requests.push(requestCapability);return _context23.abrupt(\"return\",requestCapability.promise);case 11:case\"end\":return _context23.stop();}},_callee23,this);}));function read(){return _read6.apply(this,arguments);}return read;}()},{key:\"cancel\",value:function cancel(reason){this._done=true;var _iterator91=_createForOfIteratorHelper(this._requests),_step91;try{for(_iterator91.s();!(_step91=_iterator91.n()).done;){var requestCapability=_step91.value;requestCapability.resolve({value:undefined,done:true});}}catch(err){_iterator91.e(err);}finally{_iterator91.f();}this._requests.length=0;if(this._manager.isPendingRequest(this._requestId)){this._manager.abortRequest(this._requestId);}this._close();}}]);}();/***/}),(/* 23 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,\"__esModule\",{value:true});exports.PDFNodeStream=void 0;var _util=__w_pdfjs_require__(1);var _network_utils=__w_pdfjs_require__(20);;var fileUriRegex=/^file:\\/\\/\\/[a-zA-Z]:\\//;function parseUrl(sourceUrl){var url=require(\"url\");var parsedUrl=url.parse(sourceUrl);if(parsedUrl.protocol===\"file:\"||parsedUrl.host){return parsedUrl;}if(/^[a-z]:[/\\\\]/i.test(sourceUrl)){return url.parse(\"file:///\".concat(sourceUrl));}if(!parsedUrl.host){parsedUrl.protocol=\"file:\";}return parsedUrl;}var PDFNodeStream=/*#__PURE__*/function(){function PDFNodeStream(source){_classCallCheck(this,PDFNodeStream);this.source=source;this.url=parseUrl(source.url);this.isHttp=this.url.protocol===\"http:\"||this.url.protocol===\"https:\";this.isFsUrl=this.url.protocol===\"file:\";this.httpHeaders=this.isHttp&&source.httpHeaders||{};this._fullRequestReader=null;this._rangeRequestReaders=[];}return _createClass(PDFNodeStream,[{key:\"_progressiveDataLength\",get:function get(){var _this$_fullRequestRea1,_this$_fullRequestRea10;return(_this$_fullRequestRea1=(_this$_fullRequestRea10=this._fullRequestReader)===null||_this$_fullRequestRea10===void 0?void 0:_this$_fullRequestRea10._loaded)!==null&&_this$_fullRequestRea1!==void 0?_this$_fullRequestRea1:0;}},{key:\"getFullReader\",value:function getFullReader(){(0,_util.assert)(!this._fullRequestReader,\"PDFNodeStream.getFullReader can only be called once.\");this._fullRequestReader=this.isFsUrl?new PDFNodeStreamFsFullReader(this):new PDFNodeStreamFullReader(this);return this._fullRequestReader;}},{key:\"getRangeReader\",value:function getRangeReader(start,end){if(end<=this._progressiveDataLength){return null;}var rangeReader=this.isFsUrl?new PDFNodeStreamFsRangeReader(this,start,end):new PDFNodeStreamRangeReader(this,start,end);this._rangeRequestReaders.push(rangeReader);return rangeReader;}},{key:\"cancelAllRequests\",value:function cancelAllRequests(reason){var _this$_fullRequestRea11;(_this$_fullRequestRea11=this._fullRequestReader)===null||_this$_fullRequestRea11===void 0||_this$_fullRequestRea11.cancel(reason);var _iterator92=_createForOfIteratorHelper(this._rangeRequestReaders.slice(0)),_step92;try{for(_iterator92.s();!(_step92=_iterator92.n()).done;){var reader=_step92.value;reader.cancel(reason);}}catch(err){_iterator92.e(err);}finally{_iterator92.f();}}}]);}();exports.PDFNodeStream=PDFNodeStream;var BaseFullReader=/*#__PURE__*/function(){function BaseFullReader(stream){_classCallCheck(this,BaseFullReader);this._url=stream.url;this._done=false;this._storedError=null;this.onProgress=null;var source=stream.source;this._contentLength=source.length;this._loaded=0;this._filename=null;this._disableRange=source.disableRange||false;this._rangeChunkSize=source.rangeChunkSize;if(!this._rangeChunkSize&&!this._disableRange){this._disableRange=true;}this._isStreamingSupported=!source.disableStream;this._isRangeSupported=!source.disableRange;this._readableStream=null;this._readCapability=new _util.PromiseCapability();this._headersCapability=new _util.PromiseCapability();}return _createClass(BaseFullReader,[{key:\"headersReady\",get:function get(){return this._headersCapability.promise;}},{key:\"filename\",get:function get(){return this._filename;}},{key:\"contentLength\",get:function get(){return this._contentLength;}},{key:\"isRangeSupported\",get:function get(){return this._isRangeSupported;}},{key:\"isStreamingSupported\",get:function get(){return this._isStreamingSupported;}},{key:\"read\",value:function(){var _read7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee24(){var _this$onProgress5;var chunk,buffer;return _regeneratorRuntime().wrap(function _callee24$(_context24){while(1)switch(_context24.prev=_context24.next){case 0:_context24.next=2;return this._readCapability.promise;case 2:if(!this._done){_context24.next=4;break;}return _context24.abrupt(\"return\",{value:undefined,done:true});case 4:if(!this._storedError){_context24.next=6;break;}throw this._storedError;case 6:chunk=this._readableStream.read();if(!(chunk===null)){_context24.next=10;break;}this._readCapability=new _util.PromiseCapability();return _context24.abrupt(\"return\",this.read());case 10:this._loaded+=chunk.length;(_this$onProgress5=this.onProgress)===null||_this$onProgress5===void 0||_this$onProgress5.call(this,{loaded:this._loaded,total:this._contentLength});buffer=new Uint8Array(chunk).buffer;return _context24.abrupt(\"return\",{value:buffer,done:false});case 14:case\"end\":return _context24.stop();}},_callee24,this);}));function read(){return _read7.apply(this,arguments);}return read;}()},{key:\"cancel\",value:function cancel(reason){if(!this._readableStream){this._error(reason);return;}this._readableStream.destroy(reason);}},{key:\"_error\",value:function _error(reason){this._storedError=reason;this._readCapability.resolve();}},{key:\"_setReadableStream\",value:function _setReadableStream(readableStream){var _this47=this;this._readableStream=readableStream;readableStream.on(\"readable\",function(){_this47._readCapability.resolve();});readableStream.on(\"end\",function(){readableStream.destroy();_this47._done=true;_this47._readCapability.resolve();});readableStream.on(\"error\",function(reason){_this47._error(reason);});if(!this._isStreamingSupported&&this._isRangeSupported){this._error(new _util.AbortException(\"streaming is disabled\"));}if(this._storedError){this._readableStream.destroy(this._storedError);}}}]);}();var BaseRangeReader=/*#__PURE__*/function(){function BaseRangeReader(stream){_classCallCheck(this,BaseRangeReader);this._url=stream.url;this._done=false;this._storedError=null;this.onProgress=null;this._loaded=0;this._readableStream=null;this._readCapability=new _util.PromiseCapability();var source=stream.source;this._isStreamingSupported=!source.disableStream;}return _createClass(BaseRangeReader,[{key:\"isStreamingSupported\",get:function get(){return this._isStreamingSupported;}},{key:\"read\",value:function(){var _read8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee25(){var _this$onProgress6;var chunk,buffer;return _regeneratorRuntime().wrap(function _callee25$(_context25){while(1)switch(_context25.prev=_context25.next){case 0:_context25.next=2;return this._readCapability.promise;case 2:if(!this._done){_context25.next=4;break;}return _context25.abrupt(\"return\",{value:undefined,done:true});case 4:if(!this._storedError){_context25.next=6;break;}throw this._storedError;case 6:chunk=this._readableStream.read();if(!(chunk===null)){_context25.next=10;break;}this._readCapability=new _util.PromiseCapability();return _context25.abrupt(\"return\",this.read());case 10:this._loaded+=chunk.length;(_this$onProgress6=this.onProgress)===null||_this$onProgress6===void 0||_this$onProgress6.call(this,{loaded:this._loaded});buffer=new Uint8Array(chunk).buffer;return _context25.abrupt(\"return\",{value:buffer,done:false});case 14:case\"end\":return _context25.stop();}},_callee25,this);}));function read(){return _read8.apply(this,arguments);}return read;}()},{key:\"cancel\",value:function cancel(reason){if(!this._readableStream){this._error(reason);return;}this._readableStream.destroy(reason);}},{key:\"_error\",value:function _error(reason){this._storedError=reason;this._readCapability.resolve();}},{key:\"_setReadableStream\",value:function _setReadableStream(readableStream){var _this48=this;this._readableStream=readableStream;readableStream.on(\"readable\",function(){_this48._readCapability.resolve();});readableStream.on(\"end\",function(){readableStream.destroy();_this48._done=true;_this48._readCapability.resolve();});readableStream.on(\"error\",function(reason){_this48._error(reason);});if(this._storedError){this._readableStream.destroy(this._storedError);}}}]);}();function createRequestOptions(parsedUrl,headers){return{protocol:parsedUrl.protocol,auth:parsedUrl.auth,host:parsedUrl.hostname,port:parsedUrl.port,path:parsedUrl.path,method:\"GET\",headers:headers};}var PDFNodeStreamFullReader=/*#__PURE__*/function(_BaseFullReader){function PDFNodeStreamFullReader(stream){var _this49;_classCallCheck(this,PDFNodeStreamFullReader);_this49=_callSuper(this,PDFNodeStreamFullReader,[stream]);var handleResponse=function handleResponse(response){if(response.statusCode===404){var error=new _util.MissingPDFException(\"Missing PDF \\\"\".concat(_this49._url,\"\\\".\"));_this49._storedError=error;_this49._headersCapability.reject(error);return;}_this49._headersCapability.resolve();_this49._setReadableStream(response);var getResponseHeader=function getResponseHeader(name){return _this49._readableStream.headers[name.toLowerCase()];};var _ref61=(0,_network_utils.validateRangeRequestCapabilities)({getResponseHeader:getResponseHeader,isHttp:stream.isHttp,rangeChunkSize:_this49._rangeChunkSize,disableRange:_this49._disableRange}),allowRangeRequests=_ref61.allowRangeRequests,suggestedLength=_ref61.suggestedLength;_this49._isRangeSupported=allowRangeRequests;_this49._contentLength=suggestedLength||_this49._contentLength;_this49._filename=(0,_network_utils.extractFilenameFromHeader)(getResponseHeader);};_this49._request=null;if(_this49._url.protocol===\"http:\"){var http=require(\"http\");_this49._request=http.request(createRequestOptions(_this49._url,stream.httpHeaders),handleResponse);}else{var https=require(\"https\");_this49._request=https.request(createRequestOptions(_this49._url,stream.httpHeaders),handleResponse);}_this49._request.on(\"error\",function(reason){_this49._storedError=reason;_this49._headersCapability.reject(reason);});_this49._request.end();return _this49;}_inherits(PDFNodeStreamFullReader,_BaseFullReader);return _createClass(PDFNodeStreamFullReader);}(BaseFullReader);var PDFNodeStreamRangeReader=/*#__PURE__*/function(_BaseRangeReader){function PDFNodeStreamRangeReader(stream,start,end){var _this50;_classCallCheck(this,PDFNodeStreamRangeReader);_this50=_callSuper(this,PDFNodeStreamRangeReader,[stream]);_this50._httpHeaders={};for(var property in stream.httpHeaders){var value=stream.httpHeaders[property];if(value===undefined){continue;}_this50._httpHeaders[property]=value;}_this50._httpHeaders.Range=\"bytes=\".concat(start,\"-\").concat(end-1);var handleResponse=function handleResponse(response){if(response.statusCode===404){var error=new _util.MissingPDFException(\"Missing PDF \\\"\".concat(_this50._url,\"\\\".\"));_this50._storedError=error;return;}_this50._setReadableStream(response);};_this50._request=null;if(_this50._url.protocol===\"http:\"){var http=require(\"http\");_this50._request=http.request(createRequestOptions(_this50._url,_this50._httpHeaders),handleResponse);}else{var https=require(\"https\");_this50._request=https.request(createRequestOptions(_this50._url,_this50._httpHeaders),handleResponse);}_this50._request.on(\"error\",function(reason){_this50._storedError=reason;});_this50._request.end();return _this50;}_inherits(PDFNodeStreamRangeReader,_BaseRangeReader);return _createClass(PDFNodeStreamRangeReader);}(BaseRangeReader);var PDFNodeStreamFsFullReader=/*#__PURE__*/function(_BaseFullReader2){function PDFNodeStreamFsFullReader(stream){var _this51;_classCallCheck(this,PDFNodeStreamFsFullReader);_this51=_callSuper(this,PDFNodeStreamFsFullReader,[stream]);var path=decodeURIComponent(_this51._url.path);if(fileUriRegex.test(_this51._url.href)){path=path.replace(/^\\//,\"\");}var fs=require(\"fs\");fs.lstat(path,function(error,stat){if(error){if(error.code===\"ENOENT\"){error=new _util.MissingPDFException(\"Missing PDF \\\"\".concat(path,\"\\\".\"));}_this51._storedError=error;_this51._headersCapability.reject(error);return;}_this51._contentLength=stat.size;_this51._setReadableStream(fs.createReadStream(path));_this51._headersCapability.resolve();});return _this51;}_inherits(PDFNodeStreamFsFullReader,_BaseFullReader2);return _createClass(PDFNodeStreamFsFullReader);}(BaseFullReader);var PDFNodeStreamFsRangeReader=/*#__PURE__*/function(_BaseRangeReader2){function PDFNodeStreamFsRangeReader(stream,start,end){var _this52;_classCallCheck(this,PDFNodeStreamFsRangeReader);_this52=_callSuper(this,PDFNodeStreamFsRangeReader,[stream]);var path=decodeURIComponent(_this52._url.path);if(fileUriRegex.test(_this52._url.href)){path=path.replace(/^\\//,\"\");}var fs=require(\"fs\");_this52._setReadableStream(fs.createReadStream(path,{start:start,end:end-1}));return _this52;}_inherits(PDFNodeStreamFsRangeReader,_BaseRangeReader2);return _createClass(PDFNodeStreamFsRangeReader);}(BaseRangeReader);/***/}),(/* 24 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,\"__esModule\",{value:true});exports.SVGGraphics=void 0;var _display_utils=__w_pdfjs_require__(6);var _util=__w_pdfjs_require__(1);;var SVG_DEFAULTS={fontStyle:\"normal\",fontWeight:\"normal\",fillColor:\"#000000\"};var XML_NS=\"http://www.w3.org/XML/1998/namespace\";var XLINK_NS=\"http://www.w3.org/1999/xlink\";var LINE_CAP_STYLES=[\"butt\",\"round\",\"square\"];var LINE_JOIN_STYLES=[\"miter\",\"round\",\"bevel\"];var createObjectURL=function createObjectURL(data){var contentType=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"\";var forceDataSchema=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(URL.createObjectURL&&typeof Blob!==\"undefined\"&&!forceDataSchema){return URL.createObjectURL(new Blob([data],{type:contentType}));}var digits=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";var buffer=\"data:\".concat(contentType,\";base64,\");for(var i=0,ii=data.length;i<ii;i+=3){var b1=data[i]&0xff;var b2=data[i+1]&0xff;var b3=data[i+2]&0xff;var d1=b1>>2,d2=(b1&3)<<4|b2>>4;var d3=i+1<ii?(b2&0xf)<<2|b3>>6:64;var d4=i+2<ii?b3&0x3f:64;buffer+=digits[d1]+digits[d2]+digits[d3]+digits[d4];}return buffer;};var convertImgDataToPng=function(){var PNG_HEADER=new Uint8Array([0x89,0x50,0x4e,0x47,0x0d,0x0a,0x1a,0x0a]);var CHUNK_WRAPPER_SIZE=12;var crcTable=new Int32Array(256);for(var i=0;i<256;i++){var c=i;for(var h=0;h<8;h++){c=c&1?0xedb88320^c>>1&0x7fffffff:c>>1&0x7fffffff;}crcTable[i]=c;}function crc32(data,start,end){var crc=-1;for(var _i11=start;_i11<end;_i11++){var a=(crc^data[_i11])&0xff;var b=crcTable[a];crc=crc>>>8^b;}return crc^-1;}function writePngChunk(type,body,data,offset){var p=offset;var len=body.length;data[p]=len>>24&0xff;data[p+1]=len>>16&0xff;data[p+2]=len>>8&0xff;data[p+3]=len&0xff;p+=4;data[p]=type.charCodeAt(0)&0xff;data[p+1]=type.charCodeAt(1)&0xff;data[p+2]=type.charCodeAt(2)&0xff;data[p+3]=type.charCodeAt(3)&0xff;p+=4;data.set(body,p);p+=body.length;var crc=crc32(data,offset+4,p);data[p]=crc>>24&0xff;data[p+1]=crc>>16&0xff;data[p+2]=crc>>8&0xff;data[p+3]=crc&0xff;}function adler32(data,start,end){var a=1;var b=0;for(var _i12=start;_i12<end;++_i12){a=(a+(data[_i12]&0xff))%65521;b=(b+a)%65521;}return b<<16|a;}function deflateSync(literals){if(!_util.isNodeJS){return deflateSyncUncompressed(literals);}try{var input=parseInt(process.versions.node)>=8?literals:Buffer.from(literals);var output=require(\"zlib\").deflateSync(input,{level:9});return output instanceof Uint8Array?output:new Uint8Array(output);}catch(e){(0,_util.warn)(\"Not compressing PNG because zlib.deflateSync is unavailable: \"+e);}return deflateSyncUncompressed(literals);}function deflateSyncUncompressed(literals){var len=literals.length;var maxBlockLength=0xffff;var deflateBlocks=Math.ceil(len/maxBlockLength);var idat=new Uint8Array(2+len+deflateBlocks*5+4);var pi=0;idat[pi++]=0x78;idat[pi++]=0x9c;var pos=0;while(len>maxBlockLength){idat[pi++]=0x00;idat[pi++]=0xff;idat[pi++]=0xff;idat[pi++]=0x00;idat[pi++]=0x00;idat.set(literals.subarray(pos,pos+maxBlockLength),pi);pi+=maxBlockLength;pos+=maxBlockLength;len-=maxBlockLength;}idat[pi++]=0x01;idat[pi++]=len&0xff;idat[pi++]=len>>8&0xff;idat[pi++]=~len&0xffff&0xff;idat[pi++]=(~len&0xffff)>>8&0xff;idat.set(literals.subarray(pos),pi);pi+=literals.length-pos;var adler=adler32(literals,0,literals.length);idat[pi++]=adler>>24&0xff;idat[pi++]=adler>>16&0xff;idat[pi++]=adler>>8&0xff;idat[pi++]=adler&0xff;return idat;}function encode(imgData,kind,forceDataSchema,isMask){var width=imgData.width;var height=imgData.height;var bitDepth,colorType,lineSize;var bytes=imgData.data;switch(kind){case _util.ImageKind.GRAYSCALE_1BPP:colorType=0;bitDepth=1;lineSize=width+7>>3;break;case _util.ImageKind.RGB_24BPP:colorType=2;bitDepth=8;lineSize=width*3;break;case _util.ImageKind.RGBA_32BPP:colorType=6;bitDepth=8;lineSize=width*4;break;default:throw new Error(\"invalid format\");}var literals=new Uint8Array((1+lineSize)*height);var offsetLiterals=0,offsetBytes=0;for(var y=0;y<height;++y){literals[offsetLiterals++]=0;literals.set(bytes.subarray(offsetBytes,offsetBytes+lineSize),offsetLiterals);offsetBytes+=lineSize;offsetLiterals+=lineSize;}if(kind===_util.ImageKind.GRAYSCALE_1BPP&&isMask){offsetLiterals=0;for(var _y2=0;_y2<height;_y2++){offsetLiterals++;for(var _i13=0;_i13<lineSize;_i13++){literals[offsetLiterals++]^=0xff;}}}var ihdr=new Uint8Array([width>>24&0xff,width>>16&0xff,width>>8&0xff,width&0xff,height>>24&0xff,height>>16&0xff,height>>8&0xff,height&0xff,bitDepth,colorType,0x00,0x00,0x00]);var idat=deflateSync(literals);var pngLength=PNG_HEADER.length+CHUNK_WRAPPER_SIZE*3+ihdr.length+idat.length;var data=new Uint8Array(pngLength);var offset=0;data.set(PNG_HEADER,offset);offset+=PNG_HEADER.length;writePngChunk(\"IHDR\",ihdr,data,offset);offset+=CHUNK_WRAPPER_SIZE+ihdr.length;writePngChunk(\"IDATA\",idat,data,offset);offset+=CHUNK_WRAPPER_SIZE+idat.length;writePngChunk(\"IEND\",new Uint8Array(0),data,offset);return createObjectURL(data,\"image/png\",forceDataSchema);}return function convertImgDataToPng(imgData,forceDataSchema,isMask){var kind=imgData.kind===undefined?_util.ImageKind.GRAYSCALE_1BPP:imgData.kind;return encode(imgData,kind,forceDataSchema,isMask);};}();var SVGExtraState=/*#__PURE__*/function(){function SVGExtraState(){_classCallCheck(this,SVGExtraState);this.fontSizeScale=1;this.fontWeight=SVG_DEFAULTS.fontWeight;this.fontSize=0;this.textMatrix=_util.IDENTITY_MATRIX;this.fontMatrix=_util.FONT_IDENTITY_MATRIX;this.leading=0;this.textRenderingMode=_util.TextRenderingMode.FILL;this.textMatrixScale=1;this.x=0;this.y=0;this.lineX=0;this.lineY=0;this.charSpacing=0;this.wordSpacing=0;this.textHScale=1;this.textRise=0;this.fillColor=SVG_DEFAULTS.fillColor;this.strokeColor=\"#000000\";this.fillAlpha=1;this.strokeAlpha=1;this.lineWidth=1;this.lineJoin=\"\";this.lineCap=\"\";this.miterLimit=0;this.dashArray=[];this.dashPhase=0;this.dependencies=[];this.activeClipUrl=null;this.clipGroup=null;this.maskId=\"\";}return _createClass(SVGExtraState,[{key:\"clone\",value:function clone(){return Object.create(this);}},{key:\"setCurrentPoint\",value:function setCurrentPoint(x,y){this.x=x;this.y=y;}}]);}();function opListToTree(opList){var opTree=[];var tmp=[];var _iterator93=_createForOfIteratorHelper(opList),_step93;try{for(_iterator93.s();!(_step93=_iterator93.n()).done;){var opListElement=_step93.value;if(opListElement.fn===\"save\"){opTree.push({fnId:92,fn:\"group\",items:[]});tmp.push(opTree);opTree=opTree.at(-1).items;continue;}if(opListElement.fn===\"restore\"){opTree=tmp.pop();}else{opTree.push(opListElement);}}}catch(err){_iterator93.e(err);}finally{_iterator93.f();}return opTree;}function pf(value){if(Number.isInteger(value)){return value.toString();}var s=value.toFixed(10);var i=s.length-1;if(s[i]!==\"0\"){return s;}do{i--;}while(s[i]===\"0\");return s.substring(0,s[i]===\".\"?i:i+1);}function pm(m){if(m[4]===0&&m[5]===0){if(m[1]===0&&m[2]===0){if(m[0]===1&&m[3]===1){return\"\";}return\"scale(\".concat(pf(m[0]),\" \").concat(pf(m[3]),\")\");}if(m[0]===m[3]&&m[1]===-m[2]){var a=Math.acos(m[0])*180/Math.PI;return\"rotate(\".concat(pf(a),\")\");}}else if(m[0]===1&&m[1]===0&&m[2]===0&&m[3]===1){return\"translate(\".concat(pf(m[4]),\" \").concat(pf(m[5]),\")\");}return\"matrix(\".concat(pf(m[0]),\" \").concat(pf(m[1]),\" \").concat(pf(m[2]),\" \").concat(pf(m[3]),\" \").concat(pf(m[4]),\" \")+\"\".concat(pf(m[5]),\")\");}var clipCount=0;var maskCount=0;var shadingCount=0;var SVGGraphics=/*#__PURE__*/function(){function SVGGraphics(commonObjs,objs){var forceDataSchema=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;_classCallCheck(this,SVGGraphics);(0,_display_utils.deprecated)(\"The SVG back-end is no longer maintained and *may* be removed in the future.\");this.svgFactory=new _display_utils.DOMSVGFactory();this.current=new SVGExtraState();this.transformMatrix=_util.IDENTITY_MATRIX;this.transformStack=[];this.extraStack=[];this.commonObjs=commonObjs;this.objs=objs;this.pendingClip=null;this.pendingEOFill=false;this.embedFonts=false;this.embeddedFonts=Object.create(null);this.cssStyle=null;this.forceDataSchema=!!forceDataSchema;this._operatorIdMapping=[];for(var op in _util.OPS){this._operatorIdMapping[_util.OPS[op]]=op;}}return _createClass(SVGGraphics,[{key:\"getObject\",value:function getObject(data){var fallback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(typeof data===\"string\"){return data.startsWith(\"g_\")?this.commonObjs.get(data):this.objs.get(data);}return fallback;}},{key:\"save\",value:function save(){this.transformStack.push(this.transformMatrix);var old=this.current;this.extraStack.push(old);this.current=old.clone();}},{key:\"restore\",value:function restore(){this.transformMatrix=this.transformStack.pop();this.current=this.extraStack.pop();this.pendingClip=null;this.tgrp=null;}},{key:\"group\",value:function group(items){this.save();this.executeOpTree(items);this.restore();}},{key:\"loadDependencies\",value:function loadDependencies(operatorList){var _this53=this;var fnArray=operatorList.fnArray;var argsArray=operatorList.argsArray;for(var i=0,ii=fnArray.length;i<ii;i++){if(fnArray[i]!==_util.OPS.dependency){continue;}var _iterator94=_createForOfIteratorHelper(argsArray[i]),_step94;try{var _loop=function _loop(){var obj=_step94.value;var objsPool=obj.startsWith(\"g_\")?_this53.commonObjs:_this53.objs;var promise=new Promise(function(resolve){objsPool.get(obj,resolve);});_this53.current.dependencies.push(promise);};for(_iterator94.s();!(_step94=_iterator94.n()).done;){_loop();}}catch(err){_iterator94.e(err);}finally{_iterator94.f();}}return Promise.all(this.current.dependencies);}},{key:\"transform\",value:function transform(a,b,c,d,e,f){var transformMatrix=[a,b,c,d,e,f];this.transformMatrix=_util.Util.transform(this.transformMatrix,transformMatrix);this.tgrp=null;}},{key:\"getSVG\",value:function getSVG(operatorList,viewport){var _this54=this;this.viewport=viewport;var svgElement=this._initialize(viewport);return this.loadDependencies(operatorList).then(function(){_this54.transformMatrix=_util.IDENTITY_MATRIX;_this54.executeOpTree(_this54.convertOpList(operatorList));return svgElement;});}},{key:\"convertOpList\",value:function convertOpList(operatorList){var operatorIdMapping=this._operatorIdMapping;var argsArray=operatorList.argsArray;var fnArray=operatorList.fnArray;var opList=[];for(var i=0,ii=fnArray.length;i<ii;i++){var fnId=fnArray[i];opList.push({fnId:fnId,fn:operatorIdMapping[fnId],args:argsArray[i]});}return opListToTree(opList);}},{key:\"executeOpTree\",value:function executeOpTree(opTree){var _iterator95=_createForOfIteratorHelper(opTree),_step95;try{for(_iterator95.s();!(_step95=_iterator95.n()).done;){var opTreeElement=_step95.value;var fn=opTreeElement.fn;var fnId=opTreeElement.fnId;var args=opTreeElement.args;switch(fnId|0){case _util.OPS.beginText:this.beginText();break;case _util.OPS.dependency:break;case _util.OPS.setLeading:this.setLeading(args);break;case _util.OPS.setLeadingMoveText:this.setLeadingMoveText(args[0],args[1]);break;case _util.OPS.setFont:this.setFont(args);break;case _util.OPS.showText:this.showText(args[0]);break;case _util.OPS.showSpacedText:this.showText(args[0]);break;case _util.OPS.endText:this.endText();break;case _util.OPS.moveText:this.moveText(args[0],args[1]);break;case _util.OPS.setCharSpacing:this.setCharSpacing(args[0]);break;case _util.OPS.setWordSpacing:this.setWordSpacing(args[0]);break;case _util.OPS.setHScale:this.setHScale(args[0]);break;case _util.OPS.setTextMatrix:this.setTextMatrix(args[0],args[1],args[2],args[3],args[4],args[5]);break;case _util.OPS.setTextRise:this.setTextRise(args[0]);break;case _util.OPS.setTextRenderingMode:this.setTextRenderingMode(args[0]);break;case _util.OPS.setLineWidth:this.setLineWidth(args[0]);break;case _util.OPS.setLineJoin:this.setLineJoin(args[0]);break;case _util.OPS.setLineCap:this.setLineCap(args[0]);break;case _util.OPS.setMiterLimit:this.setMiterLimit(args[0]);break;case _util.OPS.setFillRGBColor:this.setFillRGBColor(args[0],args[1],args[2]);break;case _util.OPS.setStrokeRGBColor:this.setStrokeRGBColor(args[0],args[1],args[2]);break;case _util.OPS.setStrokeColorN:this.setStrokeColorN(args);break;case _util.OPS.setFillColorN:this.setFillColorN(args);break;case _util.OPS.shadingFill:this.shadingFill(args[0]);break;case _util.OPS.setDash:this.setDash(args[0],args[1]);break;case _util.OPS.setRenderingIntent:this.setRenderingIntent(args[0]);break;case _util.OPS.setFlatness:this.setFlatness(args[0]);break;case _util.OPS.setGState:this.setGState(args[0]);break;case _util.OPS.fill:this.fill();break;case _util.OPS.eoFill:this.eoFill();break;case _util.OPS.stroke:this.stroke();break;case _util.OPS.fillStroke:this.fillStroke();break;case _util.OPS.eoFillStroke:this.eoFillStroke();break;case _util.OPS.clip:this.clip(\"nonzero\");break;case _util.OPS.eoClip:this.clip(\"evenodd\");break;case _util.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case _util.OPS.paintImageXObject:this.paintImageXObject(args[0]);break;case _util.OPS.paintInlineImageXObject:this.paintInlineImageXObject(args[0]);break;case _util.OPS.paintImageMaskXObject:this.paintImageMaskXObject(args[0]);break;case _util.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(args[0],args[1]);break;case _util.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case _util.OPS.closePath:this.closePath();break;case _util.OPS.closeStroke:this.closeStroke();break;case _util.OPS.closeFillStroke:this.closeFillStroke();break;case _util.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case _util.OPS.nextLine:this.nextLine();break;case _util.OPS.transform:this.transform(args[0],args[1],args[2],args[3],args[4],args[5]);break;case _util.OPS.constructPath:this.constructPath(args[0],args[1]);break;case _util.OPS.endPath:this.endPath();break;case 92:this.group(opTreeElement.items);break;default:(0,_util.warn)(\"Unimplemented operator \".concat(fn));break;}}}catch(err){_iterator95.e(err);}finally{_iterator95.f();}}},{key:\"setWordSpacing\",value:function setWordSpacing(wordSpacing){this.current.wordSpacing=wordSpacing;}},{key:\"setCharSpacing\",value:function setCharSpacing(charSpacing){this.current.charSpacing=charSpacing;}},{key:\"nextLine\",value:function nextLine(){this.moveText(0,this.current.leading);}},{key:\"setTextMatrix\",value:function setTextMatrix(a,b,c,d,e,f){var current=this.current;current.textMatrix=current.lineMatrix=[a,b,c,d,e,f];current.textMatrixScale=Math.hypot(a,b);current.x=current.lineX=0;current.y=current.lineY=0;current.xcoords=[];current.ycoords=[];current.tspan=this.svgFactory.createElement(\"svg:tspan\");current.tspan.setAttributeNS(null,\"font-family\",current.fontFamily);current.tspan.setAttributeNS(null,\"font-size\",\"\".concat(pf(current.fontSize),\"px\"));current.tspan.setAttributeNS(null,\"y\",pf(-current.y));current.txtElement=this.svgFactory.createElement(\"svg:text\");current.txtElement.append(current.tspan);}},{key:\"beginText\",value:function beginText(){var current=this.current;current.x=current.lineX=0;current.y=current.lineY=0;current.textMatrix=_util.IDENTITY_MATRIX;current.lineMatrix=_util.IDENTITY_MATRIX;current.textMatrixScale=1;current.tspan=this.svgFactory.createElement(\"svg:tspan\");current.txtElement=this.svgFactory.createElement(\"svg:text\");current.txtgrp=this.svgFactory.createElement(\"svg:g\");current.xcoords=[];current.ycoords=[];}},{key:\"moveText\",value:function moveText(x,y){var current=this.current;current.x=current.lineX+=x;current.y=current.lineY+=y;current.xcoords=[];current.ycoords=[];current.tspan=this.svgFactory.createElement(\"svg:tspan\");current.tspan.setAttributeNS(null,\"font-family\",current.fontFamily);current.tspan.setAttributeNS(null,\"font-size\",\"\".concat(pf(current.fontSize),\"px\"));current.tspan.setAttributeNS(null,\"y\",pf(-current.y));}},{key:\"showText\",value:function showText(glyphs){var current=this.current;var font=current.font;var fontSize=current.fontSize;if(fontSize===0){return;}var fontSizeScale=current.fontSizeScale;var charSpacing=current.charSpacing;var wordSpacing=current.wordSpacing;var fontDirection=current.fontDirection;var textHScale=current.textHScale*fontDirection;var vertical=font.vertical;var spacingDir=vertical?1:-1;var defaultVMetrics=font.defaultVMetrics;var widthAdvanceScale=fontSize*current.fontMatrix[0];var x=0;var _iterator96=_createForOfIteratorHelper(glyphs),_step96;try{for(_iterator96.s();!(_step96=_iterator96.n()).done;){var glyph=_step96.value;if(glyph===null){x+=fontDirection*wordSpacing;continue;}else if(typeof glyph===\"number\"){x+=spacingDir*glyph*fontSize/1000;continue;}var spacing=(glyph.isSpace?wordSpacing:0)+charSpacing;var character=glyph.fontChar;var scaledX=void 0,scaledY=void 0;var width=glyph.width;if(vertical){var vx=void 0;var vmetric=glyph.vmetric||defaultVMetrics;vx=glyph.vmetric?vmetric[1]:width*0.5;vx=-vx*widthAdvanceScale;var vy=vmetric[2]*widthAdvanceScale;width=vmetric?-vmetric[0]:width;scaledX=vx/fontSizeScale;scaledY=(x+vy)/fontSizeScale;}else{scaledX=x/fontSizeScale;scaledY=0;}if(glyph.isInFont||font.missingFile){current.xcoords.push(current.x+scaledX);if(vertical){current.ycoords.push(-current.y+scaledY);}current.tspan.textContent+=character;}else{}var charWidth=vertical?width*widthAdvanceScale-spacing*fontDirection:width*widthAdvanceScale+spacing*fontDirection;x+=charWidth;}}catch(err){_iterator96.e(err);}finally{_iterator96.f();}current.tspan.setAttributeNS(null,\"x\",current.xcoords.map(pf).join(\" \"));if(vertical){current.tspan.setAttributeNS(null,\"y\",current.ycoords.map(pf).join(\" \"));}else{current.tspan.setAttributeNS(null,\"y\",pf(-current.y));}if(vertical){current.y-=x;}else{current.x+=x*textHScale;}current.tspan.setAttributeNS(null,\"font-family\",current.fontFamily);current.tspan.setAttributeNS(null,\"font-size\",\"\".concat(pf(current.fontSize),\"px\"));if(current.fontStyle!==SVG_DEFAULTS.fontStyle){current.tspan.setAttributeNS(null,\"font-style\",current.fontStyle);}if(current.fontWeight!==SVG_DEFAULTS.fontWeight){current.tspan.setAttributeNS(null,\"font-weight\",current.fontWeight);}var fillStrokeMode=current.textRenderingMode&_util.TextRenderingMode.FILL_STROKE_MASK;if(fillStrokeMode===_util.TextRenderingMode.FILL||fillStrokeMode===_util.TextRenderingMode.FILL_STROKE){if(current.fillColor!==SVG_DEFAULTS.fillColor){current.tspan.setAttributeNS(null,\"fill\",current.fillColor);}if(current.fillAlpha<1){current.tspan.setAttributeNS(null,\"fill-opacity\",current.fillAlpha);}}else if(current.textRenderingMode===_util.TextRenderingMode.ADD_TO_PATH){current.tspan.setAttributeNS(null,\"fill\",\"transparent\");}else{current.tspan.setAttributeNS(null,\"fill\",\"none\");}if(fillStrokeMode===_util.TextRenderingMode.STROKE||fillStrokeMode===_util.TextRenderingMode.FILL_STROKE){var lineWidthScale=1/(current.textMatrixScale||1);this._setStrokeAttributes(current.tspan,lineWidthScale);}var textMatrix=current.textMatrix;if(current.textRise!==0){textMatrix=textMatrix.slice();textMatrix[5]+=current.textRise;}current.txtElement.setAttributeNS(null,\"transform\",\"\".concat(pm(textMatrix),\" scale(\").concat(pf(textHScale),\", -1)\"));current.txtElement.setAttributeNS(XML_NS,\"xml:space\",\"preserve\");current.txtElement.append(current.tspan);current.txtgrp.append(current.txtElement);this._ensureTransformGroup().append(current.txtElement);}},{key:\"setLeadingMoveText\",value:function setLeadingMoveText(x,y){this.setLeading(-y);this.moveText(x,y);}},{key:\"addFontStyle\",value:function addFontStyle(fontObj){if(!fontObj.data){throw new Error(\"addFontStyle: No font data available, \"+'ensure that the \"fontExtraProperties\" API parameter is set.');}if(!this.cssStyle){this.cssStyle=this.svgFactory.createElement(\"svg:style\");this.cssStyle.setAttributeNS(null,\"type\",\"text/css\");this.defs.append(this.cssStyle);}var url=createObjectURL(fontObj.data,fontObj.mimetype,this.forceDataSchema);this.cssStyle.textContent+=\"@font-face { font-family: \\\"\".concat(fontObj.loadedName,\"\\\";\")+\" src: url(\".concat(url,\"); }\\n\");}},{key:\"setFont\",value:function setFont(details){var current=this.current;var fontObj=this.commonObjs.get(details[0]);var size=details[1];current.font=fontObj;if(this.embedFonts&&!fontObj.missingFile&&!this.embeddedFonts[fontObj.loadedName]){this.addFontStyle(fontObj);this.embeddedFonts[fontObj.loadedName]=fontObj;}current.fontMatrix=fontObj.fontMatrix||_util.FONT_IDENTITY_MATRIX;var bold=\"normal\";if(fontObj.black){bold=\"900\";}else if(fontObj.bold){bold=\"bold\";}var italic=fontObj.italic?\"italic\":\"normal\";if(size<0){size=-size;current.fontDirection=-1;}else{current.fontDirection=1;}current.fontSize=size;current.fontFamily=fontObj.loadedName;current.fontWeight=bold;current.fontStyle=italic;current.tspan=this.svgFactory.createElement(\"svg:tspan\");current.tspan.setAttributeNS(null,\"y\",pf(-current.y));current.xcoords=[];current.ycoords=[];}},{key:\"endText\",value:function endText(){var _current$txtElement;var current=this.current;if(current.textRenderingMode&_util.TextRenderingMode.ADD_TO_PATH_FLAG&&(_current$txtElement=current.txtElement)!==null&&_current$txtElement!==void 0&&_current$txtElement.hasChildNodes()){current.element=current.txtElement;this.clip(\"nonzero\");this.endPath();}}},{key:\"setLineWidth\",value:function setLineWidth(width){if(width>0){this.current.lineWidth=width;}}},{key:\"setLineCap\",value:function setLineCap(style){this.current.lineCap=LINE_CAP_STYLES[style];}},{key:\"setLineJoin\",value:function setLineJoin(style){this.current.lineJoin=LINE_JOIN_STYLES[style];}},{key:\"setMiterLimit\",value:function setMiterLimit(limit){this.current.miterLimit=limit;}},{key:\"setStrokeAlpha\",value:function setStrokeAlpha(strokeAlpha){this.current.strokeAlpha=strokeAlpha;}},{key:\"setStrokeRGBColor\",value:function setStrokeRGBColor(r,g,b){this.current.strokeColor=_util.Util.makeHexColor(r,g,b);}},{key:\"setFillAlpha\",value:function setFillAlpha(fillAlpha){this.current.fillAlpha=fillAlpha;}},{key:\"setFillRGBColor\",value:function setFillRGBColor(r,g,b){this.current.fillColor=_util.Util.makeHexColor(r,g,b);this.current.tspan=this.svgFactory.createElement(\"svg:tspan\");this.current.xcoords=[];this.current.ycoords=[];}},{key:\"setStrokeColorN\",value:function setStrokeColorN(args){this.current.strokeColor=this._makeColorN_Pattern(args);}},{key:\"setFillColorN\",value:function setFillColorN(args){this.current.fillColor=this._makeColorN_Pattern(args);}},{key:\"shadingFill\",value:function shadingFill(args){var _this$viewport=this.viewport,width=_this$viewport.width,height=_this$viewport.height;var inv=_util.Util.inverseTransform(this.transformMatrix);var _util$Util$getAxialAl3=_util.Util.getAxialAlignedBoundingBox([0,0,width,height],inv),_util$Util$getAxialAl4=_slicedToArray(_util$Util$getAxialAl3,4),x0=_util$Util$getAxialAl4[0],y0=_util$Util$getAxialAl4[1],x1=_util$Util$getAxialAl4[2],y1=_util$Util$getAxialAl4[3];var rect=this.svgFactory.createElement(\"svg:rect\");rect.setAttributeNS(null,\"x\",x0);rect.setAttributeNS(null,\"y\",y0);rect.setAttributeNS(null,\"width\",x1-x0);rect.setAttributeNS(null,\"height\",y1-y0);rect.setAttributeNS(null,\"fill\",this._makeShadingPattern(args));if(this.current.fillAlpha<1){rect.setAttributeNS(null,\"fill-opacity\",this.current.fillAlpha);}this._ensureTransformGroup().append(rect);}},{key:\"_makeColorN_Pattern\",value:function _makeColorN_Pattern(args){if(args[0]===\"TilingPattern\"){return this._makeTilingPattern(args);}return this._makeShadingPattern(args);}},{key:\"_makeTilingPattern\",value:function _makeTilingPattern(args){var color=args[1];var operatorList=args[2];var matrix=args[3]||_util.IDENTITY_MATRIX;var _args$=_slicedToArray(args[4],4),x0=_args$[0],y0=_args$[1],x1=_args$[2],y1=_args$[3];var xstep=args[5];var ystep=args[6];var paintType=args[7];var tilingId=\"shading\".concat(shadingCount++);var _util$Util$normalizeR=_util.Util.normalizeRect([].concat(_toConsumableArray(_util.Util.applyTransform([x0,y0],matrix)),_toConsumableArray(_util.Util.applyTransform([x1,y1],matrix)))),_util$Util$normalizeR2=_slicedToArray(_util$Util$normalizeR,4),tx0=_util$Util$normalizeR2[0],ty0=_util$Util$normalizeR2[1],tx1=_util$Util$normalizeR2[2],ty1=_util$Util$normalizeR2[3];var _util$Util$singularVa3=_util.Util.singularValueDecompose2dScale(matrix),_util$Util$singularVa4=_slicedToArray(_util$Util$singularVa3,2),xscale=_util$Util$singularVa4[0],yscale=_util$Util$singularVa4[1];var txstep=xstep*xscale;var tystep=ystep*yscale;var tiling=this.svgFactory.createElement(\"svg:pattern\");tiling.setAttributeNS(null,\"id\",tilingId);tiling.setAttributeNS(null,\"patternUnits\",\"userSpaceOnUse\");tiling.setAttributeNS(null,\"width\",txstep);tiling.setAttributeNS(null,\"height\",tystep);tiling.setAttributeNS(null,\"x\",\"\".concat(tx0));tiling.setAttributeNS(null,\"y\",\"\".concat(ty0));var svg=this.svg;var transformMatrix=this.transformMatrix;var fillColor=this.current.fillColor;var strokeColor=this.current.strokeColor;var bbox=this.svgFactory.create(tx1-tx0,ty1-ty0);this.svg=bbox;this.transformMatrix=matrix;if(paintType===2){var _util$Util4;var cssColor=(_util$Util4=_util.Util).makeHexColor.apply(_util$Util4,_toConsumableArray(color));this.current.fillColor=cssColor;this.current.strokeColor=cssColor;}this.executeOpTree(this.convertOpList(operatorList));this.svg=svg;this.transformMatrix=transformMatrix;this.current.fillColor=fillColor;this.current.strokeColor=strokeColor;tiling.append(bbox.childNodes[0]);this.defs.append(tiling);return\"url(#\".concat(tilingId,\")\");}},{key:\"_makeShadingPattern\",value:function _makeShadingPattern(args){if(typeof args===\"string\"){args=this.objs.get(args);}switch(args[0]){case\"RadialAxial\":var shadingId=\"shading\".concat(shadingCount++);var colorStops=args[3];var gradient;switch(args[1]){case\"axial\":var point0=args[4];var point1=args[5];gradient=this.svgFactory.createElement(\"svg:linearGradient\");gradient.setAttributeNS(null,\"id\",shadingId);gradient.setAttributeNS(null,\"gradientUnits\",\"userSpaceOnUse\");gradient.setAttributeNS(null,\"x1\",point0[0]);gradient.setAttributeNS(null,\"y1\",point0[1]);gradient.setAttributeNS(null,\"x2\",point1[0]);gradient.setAttributeNS(null,\"y2\",point1[1]);break;case\"radial\":var focalPoint=args[4];var circlePoint=args[5];var focalRadius=args[6];var circleRadius=args[7];gradient=this.svgFactory.createElement(\"svg:radialGradient\");gradient.setAttributeNS(null,\"id\",shadingId);gradient.setAttributeNS(null,\"gradientUnits\",\"userSpaceOnUse\");gradient.setAttributeNS(null,\"cx\",circlePoint[0]);gradient.setAttributeNS(null,\"cy\",circlePoint[1]);gradient.setAttributeNS(null,\"r\",circleRadius);gradient.setAttributeNS(null,\"fx\",focalPoint[0]);gradient.setAttributeNS(null,\"fy\",focalPoint[1]);gradient.setAttributeNS(null,\"fr\",focalRadius);break;default:throw new Error(\"Unknown RadialAxial type: \".concat(args[1]));}var _iterator97=_createForOfIteratorHelper(colorStops),_step97;try{for(_iterator97.s();!(_step97=_iterator97.n()).done;){var colorStop=_step97.value;var stop=this.svgFactory.createElement(\"svg:stop\");stop.setAttributeNS(null,\"offset\",colorStop[0]);stop.setAttributeNS(null,\"stop-color\",colorStop[1]);gradient.append(stop);}}catch(err){_iterator97.e(err);}finally{_iterator97.f();}this.defs.append(gradient);return\"url(#\".concat(shadingId,\")\");case\"Mesh\":(0,_util.warn)(\"Unimplemented pattern Mesh\");return null;case\"Dummy\":return\"hotpink\";default:throw new Error(\"Unknown IR type: \".concat(args[0]));}}},{key:\"setDash\",value:function setDash(dashArray,dashPhase){this.current.dashArray=dashArray;this.current.dashPhase=dashPhase;}},{key:\"constructPath\",value:function constructPath(ops,args){var current=this.current;var x=current.x,y=current.y;var d=[];var j=0;var _iterator98=_createForOfIteratorHelper(ops),_step98;try{for(_iterator98.s();!(_step98=_iterator98.n()).done;){var op=_step98.value;switch(op|0){case _util.OPS.rectangle:x=args[j++];y=args[j++];var width=args[j++];var height=args[j++];var xw=x+width;var yh=y+height;d.push(\"M\",pf(x),pf(y),\"L\",pf(xw),pf(y),\"L\",pf(xw),pf(yh),\"L\",pf(x),pf(yh),\"Z\");break;case _util.OPS.moveTo:x=args[j++];y=args[j++];d.push(\"M\",pf(x),pf(y));break;case _util.OPS.lineTo:x=args[j++];y=args[j++];d.push(\"L\",pf(x),pf(y));break;case _util.OPS.curveTo:x=args[j+4];y=args[j+5];d.push(\"C\",pf(args[j]),pf(args[j+1]),pf(args[j+2]),pf(args[j+3]),pf(x),pf(y));j+=6;break;case _util.OPS.curveTo2:d.push(\"C\",pf(x),pf(y),pf(args[j]),pf(args[j+1]),pf(args[j+2]),pf(args[j+3]));x=args[j+2];y=args[j+3];j+=4;break;case _util.OPS.curveTo3:x=args[j+2];y=args[j+3];d.push(\"C\",pf(args[j]),pf(args[j+1]),pf(x),pf(y),pf(x),pf(y));j+=4;break;case _util.OPS.closePath:d.push(\"Z\");break;}}}catch(err){_iterator98.e(err);}finally{_iterator98.f();}d=d.join(\" \");if(current.path&&ops.length>0&&ops[0]!==_util.OPS.rectangle&&ops[0]!==_util.OPS.moveTo){d=current.path.getAttributeNS(null,\"d\")+d;}else{current.path=this.svgFactory.createElement(\"svg:path\");this._ensureTransformGroup().append(current.path);}current.path.setAttributeNS(null,\"d\",d);current.path.setAttributeNS(null,\"fill\",\"none\");current.element=current.path;current.setCurrentPoint(x,y);}},{key:\"endPath\",value:function endPath(){var current=this.current;current.path=null;if(!this.pendingClip){return;}if(!current.element){this.pendingClip=null;return;}var clipId=\"clippath\".concat(clipCount++);var clipPath=this.svgFactory.createElement(\"svg:clipPath\");clipPath.setAttributeNS(null,\"id\",clipId);clipPath.setAttributeNS(null,\"transform\",pm(this.transformMatrix));var clipElement=current.element.cloneNode(true);if(this.pendingClip===\"evenodd\"){clipElement.setAttributeNS(null,\"clip-rule\",\"evenodd\");}else{clipElement.setAttributeNS(null,\"clip-rule\",\"nonzero\");}this.pendingClip=null;clipPath.append(clipElement);this.defs.append(clipPath);if(current.activeClipUrl){current.clipGroup=null;var _iterator99=_createForOfIteratorHelper(this.extraStack),_step99;try{for(_iterator99.s();!(_step99=_iterator99.n()).done;){var prev=_step99.value;prev.clipGroup=null;}}catch(err){_iterator99.e(err);}finally{_iterator99.f();}clipPath.setAttributeNS(null,\"clip-path\",current.activeClipUrl);}current.activeClipUrl=\"url(#\".concat(clipId,\")\");this.tgrp=null;}},{key:\"clip\",value:function clip(type){this.pendingClip=type;}},{key:\"closePath\",value:function closePath(){var current=this.current;if(current.path){var d=\"\".concat(current.path.getAttributeNS(null,\"d\"),\"Z\");current.path.setAttributeNS(null,\"d\",d);}}},{key:\"setLeading\",value:function setLeading(leading){this.current.leading=-leading;}},{key:\"setTextRise\",value:function setTextRise(textRise){this.current.textRise=textRise;}},{key:\"setTextRenderingMode\",value:function setTextRenderingMode(textRenderingMode){this.current.textRenderingMode=textRenderingMode;}},{key:\"setHScale\",value:function setHScale(scale){this.current.textHScale=scale/100;}},{key:\"setRenderingIntent\",value:function setRenderingIntent(intent){}},{key:\"setFlatness\",value:function setFlatness(flatness){}},{key:\"setGState\",value:function setGState(states){var _iterator100=_createForOfIteratorHelper(states),_step100;try{for(_iterator100.s();!(_step100=_iterator100.n()).done;){var _step100$value=_slicedToArray(_step100.value,2),key=_step100$value[0],value=_step100$value[1];switch(key){case\"LW\":this.setLineWidth(value);break;case\"LC\":this.setLineCap(value);break;case\"LJ\":this.setLineJoin(value);break;case\"ML\":this.setMiterLimit(value);break;case\"D\":this.setDash(value[0],value[1]);break;case\"RI\":this.setRenderingIntent(value);break;case\"FL\":this.setFlatness(value);break;case\"Font\":this.setFont(value);break;case\"CA\":this.setStrokeAlpha(value);break;case\"ca\":this.setFillAlpha(value);break;default:(0,_util.warn)(\"Unimplemented graphic state operator \".concat(key));break;}}}catch(err){_iterator100.e(err);}finally{_iterator100.f();}}},{key:\"fill\",value:function fill(){var current=this.current;if(current.element){current.element.setAttributeNS(null,\"fill\",current.fillColor);current.element.setAttributeNS(null,\"fill-opacity\",current.fillAlpha);this.endPath();}}},{key:\"stroke\",value:function stroke(){var current=this.current;if(current.element){this._setStrokeAttributes(current.element);current.element.setAttributeNS(null,\"fill\",\"none\");this.endPath();}}},{key:\"_setStrokeAttributes\",value:function _setStrokeAttributes(element){var lineWidthScale=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var current=this.current;var dashArray=current.dashArray;if(lineWidthScale!==1&&dashArray.length>0){dashArray=dashArray.map(function(value){return lineWidthScale*value;});}element.setAttributeNS(null,\"stroke\",current.strokeColor);element.setAttributeNS(null,\"stroke-opacity\",current.strokeAlpha);element.setAttributeNS(null,\"stroke-miterlimit\",pf(current.miterLimit));element.setAttributeNS(null,\"stroke-linecap\",current.lineCap);element.setAttributeNS(null,\"stroke-linejoin\",current.lineJoin);element.setAttributeNS(null,\"stroke-width\",pf(lineWidthScale*current.lineWidth)+\"px\");element.setAttributeNS(null,\"stroke-dasharray\",dashArray.map(pf).join(\" \"));element.setAttributeNS(null,\"stroke-dashoffset\",pf(lineWidthScale*current.dashPhase)+\"px\");}},{key:\"eoFill\",value:function eoFill(){var _this$current$element;(_this$current$element=this.current.element)===null||_this$current$element===void 0||_this$current$element.setAttributeNS(null,\"fill-rule\",\"evenodd\");this.fill();}},{key:\"fillStroke\",value:function fillStroke(){this.stroke();this.fill();}},{key:\"eoFillStroke\",value:function eoFillStroke(){var _this$current$element2;(_this$current$element2=this.current.element)===null||_this$current$element2===void 0||_this$current$element2.setAttributeNS(null,\"fill-rule\",\"evenodd\");this.fillStroke();}},{key:\"closeStroke\",value:function closeStroke(){this.closePath();this.stroke();}},{key:\"closeFillStroke\",value:function closeFillStroke(){this.closePath();this.fillStroke();}},{key:\"closeEOFillStroke\",value:function closeEOFillStroke(){this.closePath();this.eoFillStroke();}},{key:\"paintSolidColorImageMask\",value:function paintSolidColorImageMask(){var rect=this.svgFactory.createElement(\"svg:rect\");rect.setAttributeNS(null,\"x\",\"0\");rect.setAttributeNS(null,\"y\",\"0\");rect.setAttributeNS(null,\"width\",\"1px\");rect.setAttributeNS(null,\"height\",\"1px\");rect.setAttributeNS(null,\"fill\",this.current.fillColor);this._ensureTransformGroup().append(rect);}},{key:\"paintImageXObject\",value:function paintImageXObject(objId){var imgData=this.getObject(objId);if(!imgData){(0,_util.warn)(\"Dependent image with object ID \".concat(objId,\" is not ready yet\"));return;}this.paintInlineImageXObject(imgData);}},{key:\"paintInlineImageXObject\",value:function paintInlineImageXObject(imgData,mask){var width=imgData.width;var height=imgData.height;var imgSrc=convertImgDataToPng(imgData,this.forceDataSchema,!!mask);var cliprect=this.svgFactory.createElement(\"svg:rect\");cliprect.setAttributeNS(null,\"x\",\"0\");cliprect.setAttributeNS(null,\"y\",\"0\");cliprect.setAttributeNS(null,\"width\",pf(width));cliprect.setAttributeNS(null,\"height\",pf(height));this.current.element=cliprect;this.clip(\"nonzero\");var imgEl=this.svgFactory.createElement(\"svg:image\");imgEl.setAttributeNS(XLINK_NS,\"xlink:href\",imgSrc);imgEl.setAttributeNS(null,\"x\",\"0\");imgEl.setAttributeNS(null,\"y\",pf(-height));imgEl.setAttributeNS(null,\"width\",pf(width)+\"px\");imgEl.setAttributeNS(null,\"height\",pf(height)+\"px\");imgEl.setAttributeNS(null,\"transform\",\"scale(\".concat(pf(1/width),\" \").concat(pf(-1/height),\")\"));if(mask){mask.append(imgEl);}else{this._ensureTransformGroup().append(imgEl);}}},{key:\"paintImageMaskXObject\",value:function paintImageMaskXObject(img){var imgData=this.getObject(img.data,img);if(imgData.bitmap){(0,_util.warn)(\"paintImageMaskXObject: ImageBitmap support is not implemented, \"+\"ensure that the `isOffscreenCanvasSupported` API parameter is disabled.\");return;}var current=this.current;var width=imgData.width;var height=imgData.height;var fillColor=current.fillColor;current.maskId=\"mask\".concat(maskCount++);var mask=this.svgFactory.createElement(\"svg:mask\");mask.setAttributeNS(null,\"id\",current.maskId);var rect=this.svgFactory.createElement(\"svg:rect\");rect.setAttributeNS(null,\"x\",\"0\");rect.setAttributeNS(null,\"y\",\"0\");rect.setAttributeNS(null,\"width\",pf(width));rect.setAttributeNS(null,\"height\",pf(height));rect.setAttributeNS(null,\"fill\",fillColor);rect.setAttributeNS(null,\"mask\",\"url(#\".concat(current.maskId,\")\"));this.defs.append(mask);this._ensureTransformGroup().append(rect);this.paintInlineImageXObject(imgData,mask);}},{key:\"paintFormXObjectBegin\",value:function paintFormXObjectBegin(matrix,bbox){if(Array.isArray(matrix)&&matrix.length===6){this.transform(matrix[0],matrix[1],matrix[2],matrix[3],matrix[4],matrix[5]);}if(bbox){var width=bbox[2]-bbox[0];var height=bbox[3]-bbox[1];var cliprect=this.svgFactory.createElement(\"svg:rect\");cliprect.setAttributeNS(null,\"x\",bbox[0]);cliprect.setAttributeNS(null,\"y\",bbox[1]);cliprect.setAttributeNS(null,\"width\",pf(width));cliprect.setAttributeNS(null,\"height\",pf(height));this.current.element=cliprect;this.clip(\"nonzero\");this.endPath();}}},{key:\"paintFormXObjectEnd\",value:function paintFormXObjectEnd(){}},{key:\"_initialize\",value:function _initialize(viewport){var svg=this.svgFactory.create(viewport.width,viewport.height);var definitions=this.svgFactory.createElement(\"svg:defs\");svg.append(definitions);this.defs=definitions;var rootGroup=this.svgFactory.createElement(\"svg:g\");rootGroup.setAttributeNS(null,\"transform\",pm(viewport.transform));svg.append(rootGroup);this.svg=rootGroup;return svg;}},{key:\"_ensureClipGroup\",value:function _ensureClipGroup(){if(!this.current.clipGroup){var clipGroup=this.svgFactory.createElement(\"svg:g\");clipGroup.setAttributeNS(null,\"clip-path\",this.current.activeClipUrl);this.svg.append(clipGroup);this.current.clipGroup=clipGroup;}return this.current.clipGroup;}},{key:\"_ensureTransformGroup\",value:function _ensureTransformGroup(){if(!this.tgrp){this.tgrp=this.svgFactory.createElement(\"svg:g\");this.tgrp.setAttributeNS(null,\"transform\",pm(this.transformMatrix));if(this.current.activeClipUrl){this._ensureClipGroup().append(this.tgrp);}else{this.svg.append(this.tgrp);}}return this.tgrp;}}]);}();exports.SVGGraphics=SVGGraphics;/***/}),(/* 25 *//***/function(__unused_webpack_module,exports){Object.defineProperty(exports,\"__esModule\",{value:true});exports.XfaText=void 0;var XfaText=/*#__PURE__*/function(){function XfaText(){_classCallCheck(this,XfaText);}return _createClass(XfaText,null,[{key:\"textContent\",value:function textContent(xfa){var items=[];var output={items:items,styles:Object.create(null)};function walk(node){var _node$attributes;if(!node){return;}var str=null;var name=node.name;if(name===\"#text\"){str=node.value;}else if(!XfaText.shouldBuildText(name)){return;}else if(node!==null&&node!==void 0&&(_node$attributes=node.attributes)!==null&&_node$attributes!==void 0&&_node$attributes.textContent){str=node.attributes.textContent;}else if(node.value){str=node.value;}if(str!==null){items.push({str:str});}if(!node.children){return;}var _iterator101=_createForOfIteratorHelper(node.children),_step101;try{for(_iterator101.s();!(_step101=_iterator101.n()).done;){var child=_step101.value;walk(child);}}catch(err){_iterator101.e(err);}finally{_iterator101.f();}}walk(xfa);return output;}},{key:\"shouldBuildText\",value:function shouldBuildText(name){return!(name===\"textarea\"||name===\"input\"||name===\"option\"||name===\"select\");}}]);}();exports.XfaText=XfaText;/***/}),(/* 26 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,\"__esModule\",{value:true});exports.TextLayerRenderTask=void 0;exports.renderTextLayer=renderTextLayer;exports.updateTextLayer=updateTextLayer;var _util=__w_pdfjs_require__(1);var _display_utils=__w_pdfjs_require__(6);var MAX_TEXT_DIVS_TO_RENDER=100000;var DEFAULT_FONT_SIZE=30;var DEFAULT_FONT_ASCENT=0.8;var ascentCache=new Map();function getCtx(size,isOffscreenCanvasSupported){var ctx;if(isOffscreenCanvasSupported&&_util.FeatureTest.isOffscreenCanvasSupported){ctx=new OffscreenCanvas(size,size).getContext(\"2d\",{alpha:false});}else{var canvas=document.createElement(\"canvas\");canvas.width=canvas.height=size;ctx=canvas.getContext(\"2d\",{alpha:false});}return ctx;}function getAscent(fontFamily,isOffscreenCanvasSupported){var cachedAscent=ascentCache.get(fontFamily);if(cachedAscent){return cachedAscent;}var ctx=getCtx(DEFAULT_FONT_SIZE,isOffscreenCanvasSupported);ctx.font=\"\".concat(DEFAULT_FONT_SIZE,\"px \").concat(fontFamily);var metrics=ctx.measureText(\"\");var ascent=metrics.fontBoundingBoxAscent;var descent=Math.abs(metrics.fontBoundingBoxDescent);if(ascent){var ratio=ascent/(ascent+descent);ascentCache.set(fontFamily,ratio);ctx.canvas.width=ctx.canvas.height=0;return ratio;}ctx.strokeStyle=\"red\";ctx.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE);ctx.strokeText(\"g\",0,0);var pixels=ctx.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data;descent=0;for(var i=pixels.length-1-3;i>=0;i-=4){if(pixels[i]>0){descent=Math.ceil(i/4/DEFAULT_FONT_SIZE);break;}}ctx.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE);ctx.strokeText(\"A\",0,DEFAULT_FONT_SIZE);pixels=ctx.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data;ascent=0;for(var _i14=0,ii=pixels.length;_i14<ii;_i14+=4){if(pixels[_i14]>0){ascent=DEFAULT_FONT_SIZE-Math.floor(_i14/4/DEFAULT_FONT_SIZE);break;}}ctx.canvas.width=ctx.canvas.height=0;if(ascent){var _ratio=ascent/(ascent+descent);ascentCache.set(fontFamily,_ratio);return _ratio;}ascentCache.set(fontFamily,DEFAULT_FONT_ASCENT);return DEFAULT_FONT_ASCENT;}function appendText(task,geom,styles){var textDiv=document.createElement(\"span\");var textDivProperties={angle:0,canvasWidth:0,hasText:geom.str!==\"\",hasEOL:geom.hasEOL,fontSize:0};task._textDivs.push(textDiv);var tx=_util.Util.transform(task._transform,geom.transform);var angle=Math.atan2(tx[1],tx[0]);var style=styles[geom.fontName];if(style.vertical){angle+=Math.PI/2;}var fontHeight=Math.hypot(tx[2],tx[3]);var fontAscent=fontHeight*getAscent(style.fontFamily,task._isOffscreenCanvasSupported);var left,top;if(angle===0){left=tx[4];top=tx[5]-fontAscent;}else{left=tx[4]+fontAscent*Math.sin(angle);top=tx[5]-fontAscent*Math.cos(angle);}var scaleFactorStr=\"calc(var(--scale-factor)*\";var divStyle=textDiv.style;if(task._container===task._rootContainer){divStyle.left=\"\".concat((100*left/task._pageWidth).toFixed(2),\"%\");divStyle.top=\"\".concat((100*top/task._pageHeight).toFixed(2),\"%\");}else{divStyle.left=\"\".concat(scaleFactorStr).concat(left.toFixed(2),\"px)\");divStyle.top=\"\".concat(scaleFactorStr).concat(top.toFixed(2),\"px)\");}divStyle.fontSize=\"\".concat(scaleFactorStr).concat(fontHeight.toFixed(2),\"px)\");divStyle.fontFamily=style.fontFamily;textDivProperties.fontSize=fontHeight;textDiv.setAttribute(\"role\",\"presentation\");textDiv.textContent=geom.str;textDiv.dir=geom.dir;if(task._fontInspectorEnabled){textDiv.dataset.fontName=geom.fontName;}if(angle!==0){textDivProperties.angle=angle*(180/Math.PI);}var shouldScaleText=false;if(geom.str.length>1){shouldScaleText=true;}else if(geom.str!==\" \"&&geom.transform[0]!==geom.transform[3]){var absScaleX=Math.abs(geom.transform[0]),absScaleY=Math.abs(geom.transform[3]);if(absScaleX!==absScaleY&&Math.max(absScaleX,absScaleY)/Math.min(absScaleX,absScaleY)>1.5){shouldScaleText=true;}}if(shouldScaleText){textDivProperties.canvasWidth=style.vertical?geom.height:geom.width;}task._textDivProperties.set(textDiv,textDivProperties);if(task._isReadableStream){task._layoutText(textDiv);}}function layout(params){var div=params.div,scale=params.scale,properties=params.properties,ctx=params.ctx,prevFontSize=params.prevFontSize,prevFontFamily=params.prevFontFamily;var style=div.style;var transform=\"\";if(properties.canvasWidth!==0&&properties.hasText){var fontFamily=style.fontFamily;var canvasWidth=properties.canvasWidth,fontSize=properties.fontSize;if(prevFontSize!==fontSize||prevFontFamily!==fontFamily){ctx.font=\"\".concat(fontSize*scale,\"px \").concat(fontFamily);params.prevFontSize=fontSize;params.prevFontFamily=fontFamily;}var _ctx$measureText=ctx.measureText(div.textContent),width=_ctx$measureText.width;if(width>0){transform=\"scaleX(\".concat(canvasWidth*scale/width,\")\");}}if(properties.angle!==0){transform=\"rotate(\".concat(properties.angle,\"deg) \").concat(transform);}if(transform.length>0){style.transform=transform;}}function render(task){if(task._canceled){return;}var textDivs=task._textDivs;var capability=task._capability;var textDivsLength=textDivs.length;if(textDivsLength>MAX_TEXT_DIVS_TO_RENDER){capability.resolve();return;}if(!task._isReadableStream){var _iterator102=_createForOfIteratorHelper(textDivs),_step102;try{for(_iterator102.s();!(_step102=_iterator102.n()).done;){var textDiv=_step102.value;task._layoutText(textDiv);}}catch(err){_iterator102.e(err);}finally{_iterator102.f();}}capability.resolve();}var TextLayerRenderTask=/*#__PURE__*/function(){function TextLayerRenderTask(_ref62){var _globalThis$FontInspe2,_this55=this;var textContentSource=_ref62.textContentSource,container=_ref62.container,viewport=_ref62.viewport,textDivs=_ref62.textDivs,textDivProperties=_ref62.textDivProperties,textContentItemsStr=_ref62.textContentItemsStr,isOffscreenCanvasSupported=_ref62.isOffscreenCanvasSupported;_classCallCheck(this,TextLayerRenderTask);this._textContentSource=textContentSource;this._isReadableStream=textContentSource instanceof ReadableStream;this._container=this._rootContainer=container;this._textDivs=textDivs||[];this._textContentItemsStr=textContentItemsStr||[];this._isOffscreenCanvasSupported=isOffscreenCanvasSupported;this._fontInspectorEnabled=!!((_globalThis$FontInspe2=globalThis.FontInspector)!==null&&_globalThis$FontInspe2!==void 0&&_globalThis$FontInspe2.enabled);this._reader=null;this._textDivProperties=textDivProperties||new WeakMap();this._canceled=false;this._capability=new _util.PromiseCapability();this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:viewport.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:getCtx(0,isOffscreenCanvasSupported)};var _viewport$rawDims2=viewport.rawDims,pageWidth=_viewport$rawDims2.pageWidth,pageHeight=_viewport$rawDims2.pageHeight,pageX=_viewport$rawDims2.pageX,pageY=_viewport$rawDims2.pageY;this._transform=[1,0,0,-1,-pageX,pageY+pageHeight];this._pageWidth=pageWidth;this._pageHeight=pageHeight;(0,_display_utils.setLayerDimensions)(container,viewport);this._capability.promise[\"finally\"](function(){_this55._layoutTextParams=null;})[\"catch\"](function(){});}return _createClass(TextLayerRenderTask,[{key:\"promise\",get:function get(){return this._capability.promise;}},{key:\"cancel\",value:function cancel(){this._canceled=true;if(this._reader){this._reader.cancel(new _util.AbortException(\"TextLayer task cancelled.\"))[\"catch\"](function(){});this._reader=null;}this._capability.reject(new _util.AbortException(\"TextLayer task cancelled.\"));}},{key:\"_processItems\",value:function _processItems(items,styleCache){var _iterator103=_createForOfIteratorHelper(items),_step103;try{for(_iterator103.s();!(_step103=_iterator103.n()).done;){var item=_step103.value;if(item.str===undefined){if(item.type===\"beginMarkedContentProps\"||item.type===\"beginMarkedContent\"){var parent=this._container;this._container=document.createElement(\"span\");this._container.classList.add(\"markedContent\");if(item.id!==null){this._container.setAttribute(\"id\",\"\".concat(item.id));}parent.append(this._container);}else if(item.type===\"endMarkedContent\"){this._container=this._container.parentNode;}continue;}this._textContentItemsStr.push(item.str);appendText(this,item,styleCache);}}catch(err){_iterator103.e(err);}finally{_iterator103.f();}}},{key:\"_layoutText\",value:function _layoutText(textDiv){var textDivProperties=this._layoutTextParams.properties=this._textDivProperties.get(textDiv);this._layoutTextParams.div=textDiv;layout(this._layoutTextParams);if(textDivProperties.hasText){this._container.append(textDiv);}if(textDivProperties.hasEOL){var br=document.createElement(\"br\");br.setAttribute(\"role\",\"presentation\");this._container.append(br);}}},{key:\"_render\",value:function _render(){var _this56=this;var capability=new _util.PromiseCapability();var styleCache=Object.create(null);if(this._isReadableStream){var _pump2=function pump(){_this56._reader.read().then(function(_ref63){var value=_ref63.value,done=_ref63.done;if(done){capability.resolve();return;}Object.assign(styleCache,value.styles);_this56._processItems(value.items,styleCache);_pump2();},capability.reject);};this._reader=this._textContentSource.getReader();_pump2();}else if(this._textContentSource){var _this$_textContentSou=this._textContentSource,items=_this$_textContentSou.items,styles=_this$_textContentSou.styles;this._processItems(items,styles);capability.resolve();}else{throw new Error('No \"textContentSource\" parameter specified.');}capability.promise.then(function(){styleCache=null;render(_this56);},this._capability.reject);}}]);}();exports.TextLayerRenderTask=TextLayerRenderTask;function renderTextLayer(params){if(!params.textContentSource&&(params.textContent||params.textContentStream)){(0,_display_utils.deprecated)(\"The TextLayerRender `textContent`/`textContentStream` parameters \"+\"will be removed in the future, please use `textContentSource` instead.\");params.textContentSource=params.textContent||params.textContentStream;}var container=params.container,viewport=params.viewport;var style=getComputedStyle(container);var visibility=style.getPropertyValue(\"visibility\");var scaleFactor=parseFloat(style.getPropertyValue(\"--scale-factor\"));if(visibility===\"visible\"&&(!scaleFactor||Math.abs(scaleFactor-viewport.scale)>1e-5)){console.error(\"The `--scale-factor` CSS-variable must be set, \"+\"to the same value as `viewport.scale`, \"+\"either on the `container`-element itself or higher up in the DOM.\");}var task=new TextLayerRenderTask(params);task._render();return task;}function updateTextLayer(_ref64){var container=_ref64.container,viewport=_ref64.viewport,textDivs=_ref64.textDivs,textDivProperties=_ref64.textDivProperties,isOffscreenCanvasSupported=_ref64.isOffscreenCanvasSupported,_ref64$mustRotate=_ref64.mustRotate,mustRotate=_ref64$mustRotate===void 0?true:_ref64$mustRotate,_ref64$mustRescale=_ref64.mustRescale,mustRescale=_ref64$mustRescale===void 0?true:_ref64$mustRescale;if(mustRotate){(0,_display_utils.setLayerDimensions)(container,{rotation:viewport.rotation});}if(mustRescale){var ctx=getCtx(0,isOffscreenCanvasSupported);var scale=viewport.scale*(globalThis.devicePixelRatio||1);var params={prevFontSize:null,prevFontFamily:null,div:null,scale:scale,properties:null,ctx:ctx};var _iterator104=_createForOfIteratorHelper(textDivs),_step104;try{for(_iterator104.s();!(_step104=_iterator104.n()).done;){var div=_step104.value;params.properties=textDivProperties.get(div);params.div=div;layout(params);}}catch(err){_iterator104.e(err);}finally{_iterator104.f();}}}/***/}),(/* 27 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,\"__esModule\",{value:true});exports.AnnotationEditorLayer=void 0;var _util=__w_pdfjs_require__(1);var _editor=__w_pdfjs_require__(4);var _freetext=__w_pdfjs_require__(28);var _ink=__w_pdfjs_require__(33);var _display_utils=__w_pdfjs_require__(6);var _stamp=__w_pdfjs_require__(34);var _accessibilityManager=/*#__PURE__*/new WeakMap();var _allowClick=/*#__PURE__*/new WeakMap();var _annotationLayer=/*#__PURE__*/new WeakMap();var _boundPointerup=/*#__PURE__*/new WeakMap();var _boundPointerdown=/*#__PURE__*/new WeakMap();var _editors=/*#__PURE__*/new WeakMap();var _hadPointerDown=/*#__PURE__*/new WeakMap();var _isCleaningUp=/*#__PURE__*/new WeakMap();var _isDisabling=/*#__PURE__*/new WeakMap();var _uiManager=/*#__PURE__*/new WeakMap();var _AnnotationEditorLayer_brand=/*#__PURE__*/new WeakSet();var AnnotationEditorLayer=/*#__PURE__*/function(){function AnnotationEditorLayer(_ref65){var uiManager=_ref65.uiManager,pageIndex=_ref65.pageIndex,div=_ref65.div,accessibilityManager=_ref65.accessibilityManager,annotationLayer=_ref65.annotationLayer,viewport=_ref65.viewport,l10n=_ref65.l10n;_classCallCheck(this,AnnotationEditorLayer);_classPrivateMethodInitSpec(this,_AnnotationEditorLayer_brand);_classPrivateFieldInitSpec(this,_accessibilityManager,void 0);_classPrivateFieldInitSpec(this,_allowClick,false);_classPrivateFieldInitSpec(this,_annotationLayer,null);_classPrivateFieldInitSpec(this,_boundPointerup,this.pointerup.bind(this));_classPrivateFieldInitSpec(this,_boundPointerdown,this.pointerdown.bind(this));_classPrivateFieldInitSpec(this,_editors,new Map());_classPrivateFieldInitSpec(this,_hadPointerDown,false);_classPrivateFieldInitSpec(this,_isCleaningUp,false);_classPrivateFieldInitSpec(this,_isDisabling,false);_classPrivateFieldInitSpec(this,_uiManager,void 0);var editorTypes=[_freetext.FreeTextEditor,_ink.InkEditor,_stamp.StampEditor];if(!AnnotationEditorLayer._initialized){AnnotationEditorLayer._initialized=true;var _iterator105=_createForOfIteratorHelper(editorTypes),_step105;try{for(_iterator105.s();!(_step105=_iterator105.n()).done;){var editorType=_step105.value;editorType.initialize(l10n);}}catch(err){_iterator105.e(err);}finally{_iterator105.f();}}uiManager.registerEditorTypes(editorTypes);_classPrivateFieldSet(_uiManager,this,uiManager);this.pageIndex=pageIndex;this.div=div;_classPrivateFieldSet(_accessibilityManager,this,accessibilityManager);_classPrivateFieldSet(_annotationLayer,this,annotationLayer);this.viewport=viewport;_classPrivateFieldGet(_uiManager,this).addLayer(this);}return _createClass(AnnotationEditorLayer,[{key:\"isEmpty\",get:function get(){return _classPrivateFieldGet(_editors,this).size===0;}},{key:\"updateToolbar\",value:function updateToolbar(mode){_classPrivateFieldGet(_uiManager,this).updateToolbar(mode);}},{key:\"updateMode\",value:function updateMode(){var mode=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_classPrivateFieldGet(_uiManager,this).getMode();_assertClassBrand(_AnnotationEditorLayer_brand,this,_cleanup).call(this);if(mode===_util.AnnotationEditorType.INK){this.addInkEditorIfNeeded(false);this.disableClick();}else{this.enableClick();}if(mode!==_util.AnnotationEditorType.NONE){this.div.classList.toggle(\"freeTextEditing\",mode===_util.AnnotationEditorType.FREETEXT);this.div.classList.toggle(\"inkEditing\",mode===_util.AnnotationEditorType.INK);this.div.classList.toggle(\"stampEditing\",mode===_util.AnnotationEditorType.STAMP);this.div.hidden=false;}}},{key:\"addInkEditorIfNeeded\",value:function addInkEditorIfNeeded(isCommitting){if(!isCommitting&&_classPrivateFieldGet(_uiManager,this).getMode()!==_util.AnnotationEditorType.INK){return;}if(!isCommitting){var _iterator106=_createForOfIteratorHelper(_classPrivateFieldGet(_editors,this).values()),_step106;try{for(_iterator106.s();!(_step106=_iterator106.n()).done;){var _editor2=_step106.value;if(_editor2.isEmpty()){_editor2.setInBackground();return;}}}catch(err){_iterator106.e(err);}finally{_iterator106.f();}}var editor=_assertClassBrand(_AnnotationEditorLayer_brand,this,_createAndAddNewEditor).call(this,{offsetX:0,offsetY:0},false);editor.setInBackground();}},{key:\"setEditingState\",value:function setEditingState(isEditing){_classPrivateFieldGet(_uiManager,this).setEditingState(isEditing);}},{key:\"addCommands\",value:function addCommands(params){_classPrivateFieldGet(_uiManager,this).addCommands(params);}},{key:\"enable\",value:function enable(){this.div.style.pointerEvents=\"auto\";var annotationElementIds=new Set();var _iterator107=_createForOfIteratorHelper(_classPrivateFieldGet(_editors,this).values()),_step107;try{for(_iterator107.s();!(_step107=_iterator107.n()).done;){var editor=_step107.value;editor.enableEditing();if(editor.annotationElementId){annotationElementIds.add(editor.annotationElementId);}}}catch(err){_iterator107.e(err);}finally{_iterator107.f();}if(!_classPrivateFieldGet(_annotationLayer,this)){return;}var editables=_classPrivateFieldGet(_annotationLayer,this).getEditableAnnotations();var _iterator108=_createForOfIteratorHelper(editables),_step108;try{for(_iterator108.s();!(_step108=_iterator108.n()).done;){var editable=_step108.value;editable.hide();if(_classPrivateFieldGet(_uiManager,this).isDeletedAnnotationElement(editable.data.id)){continue;}if(annotationElementIds.has(editable.data.id)){continue;}var _editor3=this.deserialize(editable);if(!_editor3){continue;}this.addOrRebuild(_editor3);_editor3.enableEditing();}}catch(err){_iterator108.e(err);}finally{_iterator108.f();}}},{key:\"disable\",value:function disable(){_classPrivateFieldSet(_isDisabling,this,true);this.div.style.pointerEvents=\"none\";var hiddenAnnotationIds=new Set();var _iterator109=_createForOfIteratorHelper(_classPrivateFieldGet(_editors,this).values()),_step109;try{for(_iterator109.s();!(_step109=_iterator109.n()).done;){var _this$getEditableAnno;var editor=_step109.value;editor.disableEditing();if(!editor.annotationElementId||editor.serialize()!==null){hiddenAnnotationIds.add(editor.annotationElementId);continue;}(_this$getEditableAnno=this.getEditableAnnotation(editor.annotationElementId))===null||_this$getEditableAnno===void 0||_this$getEditableAnno.show();editor.remove();}}catch(err){_iterator109.e(err);}finally{_iterator109.f();}if(_classPrivateFieldGet(_annotationLayer,this)){var editables=_classPrivateFieldGet(_annotationLayer,this).getEditableAnnotations();var _iterator110=_createForOfIteratorHelper(editables),_step110;try{for(_iterator110.s();!(_step110=_iterator110.n()).done;){var editable=_step110.value;var id=editable.data.id;if(hiddenAnnotationIds.has(id)||_classPrivateFieldGet(_uiManager,this).isDeletedAnnotationElement(id)){continue;}editable.show();}}catch(err){_iterator110.e(err);}finally{_iterator110.f();}}_assertClassBrand(_AnnotationEditorLayer_brand,this,_cleanup).call(this);if(this.isEmpty){this.div.hidden=true;}_classPrivateFieldSet(_isDisabling,this,false);}},{key:\"getEditableAnnotation\",value:function getEditableAnnotation(id){var _classPrivateFieldGet19;return((_classPrivateFieldGet19=_classPrivateFieldGet(_annotationLayer,this))===null||_classPrivateFieldGet19===void 0?void 0:_classPrivateFieldGet19.getEditableAnnotation(id))||null;}},{key:\"setActiveEditor\",value:function setActiveEditor(editor){var currentActive=_classPrivateFieldGet(_uiManager,this).getActive();if(currentActive===editor){return;}_classPrivateFieldGet(_uiManager,this).setActiveEditor(editor);}},{key:\"enableClick\",value:function enableClick(){this.div.addEventListener(\"pointerdown\",_classPrivateFieldGet(_boundPointerdown,this));this.div.addEventListener(\"pointerup\",_classPrivateFieldGet(_boundPointerup,this));}},{key:\"disableClick\",value:function disableClick(){this.div.removeEventListener(\"pointerdown\",_classPrivateFieldGet(_boundPointerdown,this));this.div.removeEventListener(\"pointerup\",_classPrivateFieldGet(_boundPointerup,this));}},{key:\"attach\",value:function attach(editor){_classPrivateFieldGet(_editors,this).set(editor.id,editor);var annotationElementId=editor.annotationElementId;if(annotationElementId&&_classPrivateFieldGet(_uiManager,this).isDeletedAnnotationElement(annotationElementId)){_classPrivateFieldGet(_uiManager,this).removeDeletedAnnotationElement(editor);}}},{key:\"detach\",value:function detach(editor){var _classPrivateFieldGet20;_classPrivateFieldGet(_editors,this)[\"delete\"](editor.id);(_classPrivateFieldGet20=_classPrivateFieldGet(_accessibilityManager,this))===null||_classPrivateFieldGet20===void 0||_classPrivateFieldGet20.removePointerInTextLayer(editor.contentDiv);if(!_classPrivateFieldGet(_isDisabling,this)&&editor.annotationElementId){_classPrivateFieldGet(_uiManager,this).addDeletedAnnotationElement(editor);}}},{key:\"remove\",value:function remove(editor){var _this57=this;this.detach(editor);_classPrivateFieldGet(_uiManager,this).removeEditor(editor);if(editor.div.contains(document.activeElement)){setTimeout(function(){_classPrivateFieldGet(_uiManager,_this57).focusMainContainer();},0);}editor.div.remove();editor.isAttachedToDOM=false;if(!_classPrivateFieldGet(_isCleaningUp,this)){this.addInkEditorIfNeeded(false);}}},{key:\"changeParent\",value:function changeParent(editor){var _editor$parent;if(editor.parent===this){return;}if(editor.annotationElementId){_classPrivateFieldGet(_uiManager,this).addDeletedAnnotationElement(editor.annotationElementId);_editor.AnnotationEditor.deleteAnnotationElement(editor);editor.annotationElementId=null;}this.attach(editor);(_editor$parent=editor.parent)===null||_editor$parent===void 0||_editor$parent.detach(editor);editor.setParent(this);if(editor.div&&editor.isAttachedToDOM){editor.div.remove();this.div.append(editor.div);}}},{key:\"add\",value:function add(editor){this.changeParent(editor);_classPrivateFieldGet(_uiManager,this).addEditor(editor);this.attach(editor);if(!editor.isAttachedToDOM){var div=editor.render();this.div.append(div);editor.isAttachedToDOM=true;}editor.fixAndSetPosition();editor.onceAdded();_classPrivateFieldGet(_uiManager,this).addToAnnotationStorage(editor);}},{key:\"moveEditorInDOM\",value:function moveEditorInDOM(editor){var _classPrivateFieldGet21;if(!editor.isAttachedToDOM){return;}var _document5=document,activeElement=_document5.activeElement;if(editor.div.contains(activeElement)){editor._focusEventsAllowed=false;setTimeout(function(){if(!editor.div.contains(document.activeElement)){editor.div.addEventListener(\"focusin\",function(){editor._focusEventsAllowed=true;},{once:true});activeElement.focus();}else{editor._focusEventsAllowed=true;}},0);}editor._structTreeParentId=(_classPrivateFieldGet21=_classPrivateFieldGet(_accessibilityManager,this))===null||_classPrivateFieldGet21===void 0?void 0:_classPrivateFieldGet21.moveElementInDOM(this.div,editor.div,editor.contentDiv,true);}},{key:\"addOrRebuild\",value:function addOrRebuild(editor){if(editor.needsToBeRebuilt()){editor.rebuild();}else{this.add(editor);}}},{key:\"addUndoableEditor\",value:function addUndoableEditor(editor){var cmd=function cmd(){return editor._uiManager.rebuild(editor);};var undo=function undo(){editor.remove();};this.addCommands({cmd:cmd,undo:undo,mustExec:false});}},{key:\"getNextId\",value:function getNextId(){return _classPrivateFieldGet(_uiManager,this).getId();}},{key:\"pasteEditor\",value:function pasteEditor(mode,params){_classPrivateFieldGet(_uiManager,this).updateToolbar(mode);_classPrivateFieldGet(_uiManager,this).updateMode(mode);var _assertClassBrand$cal5=_assertClassBrand(_AnnotationEditorLayer_brand,this,_getCenterPoint).call(this),offsetX=_assertClassBrand$cal5.offsetX,offsetY=_assertClassBrand$cal5.offsetY;var id=this.getNextId();var editor=_assertClassBrand(_AnnotationEditorLayer_brand,this,_createNewEditor).call(this,_objectSpread({parent:this,id:id,x:offsetX,y:offsetY,uiManager:_classPrivateFieldGet(_uiManager,this),isCentered:true},params));if(editor){this.add(editor);}}},{key:\"deserialize\",value:function deserialize(data){var _data$annotationType;switch((_data$annotationType=data.annotationType)!==null&&_data$annotationType!==void 0?_data$annotationType:data.annotationEditorType){case _util.AnnotationEditorType.FREETEXT:return _freetext.FreeTextEditor.deserialize(data,this,_classPrivateFieldGet(_uiManager,this));case _util.AnnotationEditorType.INK:return _ink.InkEditor.deserialize(data,this,_classPrivateFieldGet(_uiManager,this));case _util.AnnotationEditorType.STAMP:return _stamp.StampEditor.deserialize(data,this,_classPrivateFieldGet(_uiManager,this));}return null;}},{key:\"addNewEditor\",value:function addNewEditor(){_assertClassBrand(_AnnotationEditorLayer_brand,this,_createAndAddNewEditor).call(this,_assertClassBrand(_AnnotationEditorLayer_brand,this,_getCenterPoint).call(this),true);}},{key:\"setSelected\",value:function setSelected(editor){_classPrivateFieldGet(_uiManager,this).setSelected(editor);}},{key:\"toggleSelected\",value:function toggleSelected(editor){_classPrivateFieldGet(_uiManager,this).toggleSelected(editor);}},{key:\"isSelected\",value:function isSelected(editor){return _classPrivateFieldGet(_uiManager,this).isSelected(editor);}},{key:\"unselect\",value:function unselect(editor){_classPrivateFieldGet(_uiManager,this).unselect(editor);}},{key:\"pointerup\",value:function pointerup(event){var isMac=_util.FeatureTest.platform.isMac;if(event.button!==0||event.ctrlKey&&isMac){return;}if(event.target!==this.div){return;}if(!_classPrivateFieldGet(_hadPointerDown,this)){return;}_classPrivateFieldSet(_hadPointerDown,this,false);if(!_classPrivateFieldGet(_allowClick,this)){_classPrivateFieldSet(_allowClick,this,true);return;}if(_classPrivateFieldGet(_uiManager,this).getMode()===_util.AnnotationEditorType.STAMP){_classPrivateFieldGet(_uiManager,this).unselectAll();return;}_assertClassBrand(_AnnotationEditorLayer_brand,this,_createAndAddNewEditor).call(this,event,false);}},{key:\"pointerdown\",value:function pointerdown(event){if(_classPrivateFieldGet(_hadPointerDown,this)){_classPrivateFieldSet(_hadPointerDown,this,false);return;}var isMac=_util.FeatureTest.platform.isMac;if(event.button!==0||event.ctrlKey&&isMac){return;}if(event.target!==this.div){return;}_classPrivateFieldSet(_hadPointerDown,this,true);var editor=_classPrivateFieldGet(_uiManager,this).getActive();_classPrivateFieldSet(_allowClick,this,!editor||editor.isEmpty());}},{key:\"findNewParent\",value:function findNewParent(editor,x,y){var layer=_classPrivateFieldGet(_uiManager,this).findParent(x,y);if(layer===null||layer===this){return false;}layer.changeParent(editor);return true;}},{key:\"destroy\",value:function destroy(){var _classPrivateFieldGet22;if(((_classPrivateFieldGet22=_classPrivateFieldGet(_uiManager,this).getActive())===null||_classPrivateFieldGet22===void 0?void 0:_classPrivateFieldGet22.parent)===this){_classPrivateFieldGet(_uiManager,this).commitOrRemove();_classPrivateFieldGet(_uiManager,this).setActiveEditor(null);}var _iterator111=_createForOfIteratorHelper(_classPrivateFieldGet(_editors,this).values()),_step111;try{for(_iterator111.s();!(_step111=_iterator111.n()).done;){var _classPrivateFieldGet23;var editor=_step111.value;(_classPrivateFieldGet23=_classPrivateFieldGet(_accessibilityManager,this))===null||_classPrivateFieldGet23===void 0||_classPrivateFieldGet23.removePointerInTextLayer(editor.contentDiv);editor.setParent(null);editor.isAttachedToDOM=false;editor.div.remove();}}catch(err){_iterator111.e(err);}finally{_iterator111.f();}this.div=null;_classPrivateFieldGet(_editors,this).clear();_classPrivateFieldGet(_uiManager,this).removeLayer(this);}},{key:\"render\",value:function render(_ref66){var viewport=_ref66.viewport;this.viewport=viewport;(0,_display_utils.setLayerDimensions)(this.div,viewport);var _iterator112=_createForOfIteratorHelper(_classPrivateFieldGet(_uiManager,this).getEditors(this.pageIndex)),_step112;try{for(_iterator112.s();!(_step112=_iterator112.n()).done;){var editor=_step112.value;this.add(editor);}}catch(err){_iterator112.e(err);}finally{_iterator112.f();}this.updateMode();}},{key:\"update\",value:function update(_ref67){var viewport=_ref67.viewport;_classPrivateFieldGet(_uiManager,this).commitOrRemove();this.viewport=viewport;(0,_display_utils.setLayerDimensions)(this.div,{rotation:viewport.rotation});this.updateMode();}},{key:\"pageDimensions\",get:function get(){var _this$viewport$rawDim=this.viewport.rawDims,pageWidth=_this$viewport$rawDim.pageWidth,pageHeight=_this$viewport$rawDim.pageHeight;return[pageWidth,pageHeight];}}]);}();function _createNewEditor(params){switch(_classPrivateFieldGet(_uiManager,this).getMode()){case _util.AnnotationEditorType.FREETEXT:return new _freetext.FreeTextEditor(params);case _util.AnnotationEditorType.INK:return new _ink.InkEditor(params);case _util.AnnotationEditorType.STAMP:return new _stamp.StampEditor(params);}return null;}function _createAndAddNewEditor(event,isCentered){var id=this.getNextId();var editor=_assertClassBrand(_AnnotationEditorLayer_brand,this,_createNewEditor).call(this,{parent:this,id:id,x:event.offsetX,y:event.offsetY,uiManager:_classPrivateFieldGet(_uiManager,this),isCentered:isCentered});if(editor){this.add(editor);}return editor;}function _getCenterPoint(){var _this$div$getBounding2=this.div.getBoundingClientRect(),x=_this$div$getBounding2.x,y=_this$div$getBounding2.y,width=_this$div$getBounding2.width,height=_this$div$getBounding2.height;var tlX=Math.max(0,x);var tlY=Math.max(0,y);var brX=Math.min(window.innerWidth,x+width);var brY=Math.min(window.innerHeight,y+height);var centerX=(tlX+brX)/2-x;var centerY=(tlY+brY)/2-y;var _ref68=this.viewport.rotation%180===0?[centerX,centerY]:[centerY,centerX],_ref69=_slicedToArray(_ref68,2),offsetX=_ref69[0],offsetY=_ref69[1];return{offsetX:offsetX,offsetY:offsetY};}function _cleanup(){_classPrivateFieldSet(_isCleaningUp,this,true);var _iterator113=_createForOfIteratorHelper(_classPrivateFieldGet(_editors,this).values()),_step113;try{for(_iterator113.s();!(_step113=_iterator113.n()).done;){var editor=_step113.value;if(editor.isEmpty()){editor.remove();}}}catch(err){_iterator113.e(err);}finally{_iterator113.f();}_classPrivateFieldSet(_isCleaningUp,this,false);}_defineProperty(AnnotationEditorLayer,\"_initialized\",false);exports.AnnotationEditorLayer=AnnotationEditorLayer;/***/}),(/* 28 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){var _FreeTextEditor;Object.defineProperty(exports,\"__esModule\",{value:true});exports.FreeTextEditor=void 0;var _util=__w_pdfjs_require__(1);var _tools=__w_pdfjs_require__(5);var _editor=__w_pdfjs_require__(4);var _annotation_layer=__w_pdfjs_require__(29);var _boundEditorDivBlur=/*#__PURE__*/new WeakMap();var _boundEditorDivFocus=/*#__PURE__*/new WeakMap();var _boundEditorDivInput=/*#__PURE__*/new WeakMap();var _boundEditorDivKeydown=/*#__PURE__*/new WeakMap();var _color=/*#__PURE__*/new WeakMap();var _content=/*#__PURE__*/new WeakMap();var _editorDivId=/*#__PURE__*/new WeakMap();var _fontSize=/*#__PURE__*/new WeakMap();var _initialData=/*#__PURE__*/new WeakMap();var _FreeTextEditor_brand=/*#__PURE__*/new WeakSet();var FreeTextEditor=/*#__PURE__*/function(_editor$AnnotationEdi){function FreeTextEditor(params){var _this58;_classCallCheck(this,FreeTextEditor);_this58=_callSuper(this,FreeTextEditor,[_objectSpread(_objectSpread({},params),{},{name:\"freeTextEditor\"})]);_classPrivateMethodInitSpec(_this58,_FreeTextEditor_brand);_classPrivateFieldInitSpec(_this58,_boundEditorDivBlur,_this58.editorDivBlur.bind(_this58));_classPrivateFieldInitSpec(_this58,_boundEditorDivFocus,_this58.editorDivFocus.bind(_this58));_classPrivateFieldInitSpec(_this58,_boundEditorDivInput,_this58.editorDivInput.bind(_this58));_classPrivateFieldInitSpec(_this58,_boundEditorDivKeydown,_this58.editorDivKeydown.bind(_this58));_classPrivateFieldInitSpec(_this58,_color,void 0);_classPrivateFieldInitSpec(_this58,_content,\"\");_classPrivateFieldInitSpec(_this58,_editorDivId,\"\".concat(_this58.id,\"-editor\"));_classPrivateFieldInitSpec(_this58,_fontSize,void 0);_classPrivateFieldInitSpec(_this58,_initialData,null);_classPrivateFieldSet(_color,_this58,params.color||FreeTextEditor._defaultColor||_editor.AnnotationEditor._defaultLineColor);_classPrivateFieldSet(_fontSize,_this58,params.fontSize||FreeTextEditor._defaultFontSize);return _this58;}_inherits(FreeTextEditor,_editor$AnnotationEdi);return _createClass(FreeTextEditor,[{key:\"updateParams\",value:function updateParams(type,value){switch(type){case _util.AnnotationEditorParamsType.FREETEXT_SIZE:_assertClassBrand(_FreeTextEditor_brand,this,_updateFontSize).call(this,value);break;case _util.AnnotationEditorParamsType.FREETEXT_COLOR:_assertClassBrand(_FreeTextEditor_brand,this,_updateColor).call(this,value);break;}}},{key:\"propertiesToUpdate\",get:function get(){return[[_util.AnnotationEditorParamsType.FREETEXT_SIZE,_classPrivateFieldGet(_fontSize,this)],[_util.AnnotationEditorParamsType.FREETEXT_COLOR,_classPrivateFieldGet(_color,this)]];}},{key:\"_translateEmpty\",value:function _translateEmpty(x,y){this._uiManager.translateSelectedEditors(x,y,true);}},{key:\"getInitialTranslation\",value:function getInitialTranslation(){var scale=this.parentScale;return[-FreeTextEditor._internalPadding*scale,-(FreeTextEditor._internalPadding+_classPrivateFieldGet(_fontSize,this))*scale];}},{key:\"rebuild\",value:function rebuild(){if(!this.parent){return;}_superPropGet(FreeTextEditor,\"rebuild\",this,3)([]);if(this.div===null){return;}if(!this.isAttachedToDOM){this.parent.add(this);}}},{key:\"enableEditMode\",value:function enableEditMode(){if(this.isInEditMode()){return;}this.parent.setEditingState(false);this.parent.updateToolbar(_util.AnnotationEditorType.FREETEXT);_superPropGet(FreeTextEditor,\"enableEditMode\",this,3)([]);this.overlayDiv.classList.remove(\"enabled\");this.editorDiv.contentEditable=true;this._isDraggable=false;this.div.removeAttribute(\"aria-activedescendant\");this.editorDiv.addEventListener(\"keydown\",_classPrivateFieldGet(_boundEditorDivKeydown,this));this.editorDiv.addEventListener(\"focus\",_classPrivateFieldGet(_boundEditorDivFocus,this));this.editorDiv.addEventListener(\"blur\",_classPrivateFieldGet(_boundEditorDivBlur,this));this.editorDiv.addEventListener(\"input\",_classPrivateFieldGet(_boundEditorDivInput,this));}},{key:\"disableEditMode\",value:function disableEditMode(){if(!this.isInEditMode()){return;}this.parent.setEditingState(true);_superPropGet(FreeTextEditor,\"disableEditMode\",this,3)([]);this.overlayDiv.classList.add(\"enabled\");this.editorDiv.contentEditable=false;this.div.setAttribute(\"aria-activedescendant\",_classPrivateFieldGet(_editorDivId,this));this._isDraggable=true;this.editorDiv.removeEventListener(\"keydown\",_classPrivateFieldGet(_boundEditorDivKeydown,this));this.editorDiv.removeEventListener(\"focus\",_classPrivateFieldGet(_boundEditorDivFocus,this));this.editorDiv.removeEventListener(\"blur\",_classPrivateFieldGet(_boundEditorDivBlur,this));this.editorDiv.removeEventListener(\"input\",_classPrivateFieldGet(_boundEditorDivInput,this));this.div.focus({preventScroll:true});this.isEditing=false;this.parent.div.classList.add(\"freeTextEditing\");}},{key:\"focusin\",value:function focusin(event){if(!this._focusEventsAllowed){return;}_superPropGet(FreeTextEditor,\"focusin\",this,3)([event]);if(event.target!==this.editorDiv){this.editorDiv.focus();}}},{key:\"onceAdded\",value:function onceAdded(){var _this$_initialOptions;if(this.width){_assertClassBrand(_FreeTextEditor_brand,this,_cheatInitialRect).call(this);return;}this.enableEditMode();this.editorDiv.focus();if((_this$_initialOptions=this._initialOptions)!==null&&_this$_initialOptions!==void 0&&_this$_initialOptions.isCentered){this.center();}this._initialOptions=null;}},{key:\"isEmpty\",value:function isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===\"\";}},{key:\"remove\",value:function remove(){this.isEditing=false;if(this.parent){this.parent.setEditingState(true);this.parent.div.classList.add(\"freeTextEditing\");}_superPropGet(FreeTextEditor,\"remove\",this,3)([]);}},{key:\"commit\",value:function commit(){var _this59=this;if(!this.isInEditMode()){return;}_superPropGet(FreeTextEditor,\"commit\",this,3)([]);this.disableEditMode();var savedText=_classPrivateFieldGet(_content,this);var newText=_classPrivateFieldSet(_content,this,_assertClassBrand(_FreeTextEditor_brand,this,_extractText).call(this).trimEnd());if(savedText===newText){return;}var setText=function setText(text){_classPrivateFieldSet(_content,_this59,text);if(!text){_this59.remove();return;}_assertClassBrand(_FreeTextEditor_brand,_this59,_setContent).call(_this59);_this59._uiManager.rebuild(_this59);_assertClassBrand(_FreeTextEditor_brand,_this59,_setEditorDimensions).call(_this59);};this.addCommands({cmd:function cmd(){setText(newText);},undo:function undo(){setText(savedText);},mustExec:false});_assertClassBrand(_FreeTextEditor_brand,this,_setEditorDimensions).call(this);}},{key:\"shouldGetKeyboardEvents\",value:function shouldGetKeyboardEvents(){return this.isInEditMode();}},{key:\"enterInEditMode\",value:function enterInEditMode(){this.enableEditMode();this.editorDiv.focus();}},{key:\"dblclick\",value:function dblclick(event){this.enterInEditMode();}},{key:\"keydown\",value:function keydown(event){if(event.target===this.div&&event.key===\"Enter\"){this.enterInEditMode();event.preventDefault();}}},{key:\"editorDivKeydown\",value:function editorDivKeydown(event){FreeTextEditor._keyboardManager.exec(this,event);}},{key:\"editorDivFocus\",value:function editorDivFocus(event){this.isEditing=true;}},{key:\"editorDivBlur\",value:function editorDivBlur(event){this.isEditing=false;}},{key:\"editorDivInput\",value:function editorDivInput(event){this.parent.div.classList.toggle(\"freeTextEditing\",this.isEmpty());}},{key:\"disableEditing\",value:function disableEditing(){this.editorDiv.setAttribute(\"role\",\"comment\");this.editorDiv.removeAttribute(\"aria-multiline\");}},{key:\"enableEditing\",value:function enableEditing(){this.editorDiv.setAttribute(\"role\",\"textbox\");this.editorDiv.setAttribute(\"aria-multiline\",true);}},{key:\"render\",value:function render(){var _this60=this;if(this.div){return this.div;}var baseX,baseY;if(this.width){baseX=this.x;baseY=this.y;}_superPropGet(FreeTextEditor,\"render\",this,3)([]);this.editorDiv=document.createElement(\"div\");this.editorDiv.className=\"internal\";this.editorDiv.setAttribute(\"id\",_classPrivateFieldGet(_editorDivId,this));this.enableEditing();_editor.AnnotationEditor._l10nPromise.get(\"editor_free_text2_aria_label\").then(function(msg){var _this60$editorDiv;return(_this60$editorDiv=_this60.editorDiv)===null||_this60$editorDiv===void 0?void 0:_this60$editorDiv.setAttribute(\"aria-label\",msg);});_editor.AnnotationEditor._l10nPromise.get(\"free_text2_default_content\").then(function(msg){var _this60$editorDiv2;return(_this60$editorDiv2=_this60.editorDiv)===null||_this60$editorDiv2===void 0?void 0:_this60$editorDiv2.setAttribute(\"default-content\",msg);});this.editorDiv.contentEditable=true;var style=this.editorDiv.style;style.fontSize=\"calc(\".concat(_classPrivateFieldGet(_fontSize,this),\"px * var(--scale-factor))\");style.color=_classPrivateFieldGet(_color,this);this.div.append(this.editorDiv);this.overlayDiv=document.createElement(\"div\");this.overlayDiv.classList.add(\"overlay\",\"enabled\");this.div.append(this.overlayDiv);(0,_tools.bindEvents)(this,this.div,[\"dblclick\",\"keydown\"]);if(this.width){var _this$parentDimension9=_slicedToArray(this.parentDimensions,2),parentWidth=_this$parentDimension9[0],parentHeight=_this$parentDimension9[1];if(this.annotationElementId){var _classPrivateFieldGet24=_classPrivateFieldGet(_initialData,this),position=_classPrivateFieldGet24.position;var _this$getInitialTrans3=this.getInitialTranslation(),_this$getInitialTrans4=_slicedToArray(_this$getInitialTrans3,2),tx=_this$getInitialTrans4[0],ty=_this$getInitialTrans4[1];var _this$pageTranslation2=this.pageTranslationToScreen(tx,ty);var _this$pageTranslation3=_slicedToArray(_this$pageTranslation2,2);tx=_this$pageTranslation3[0];ty=_this$pageTranslation3[1];var _this$pageDimensions7=_slicedToArray(this.pageDimensions,2),pageWidth=_this$pageDimensions7[0],pageHeight=_this$pageDimensions7[1];var _this$pageTranslation4=_slicedToArray(this.pageTranslation,2),pageX=_this$pageTranslation4[0],pageY=_this$pageTranslation4[1];var posX,posY;switch(this.rotation){case 0:posX=baseX+(position[0]-pageX)/pageWidth;posY=baseY+this.height-(position[1]-pageY)/pageHeight;break;case 90:posX=baseX+(position[0]-pageX)/pageWidth;posY=baseY-(position[1]-pageY)/pageHeight;var _ref70=[ty,-tx];tx=_ref70[0];ty=_ref70[1];break;case 180:posX=baseX-this.width+(position[0]-pageX)/pageWidth;posY=baseY-(position[1]-pageY)/pageHeight;var _ref71=[-tx,-ty];tx=_ref71[0];ty=_ref71[1];break;case 270:posX=baseX+(position[0]-pageX-this.height*pageHeight)/pageWidth;posY=baseY+(position[1]-pageY-this.width*pageWidth)/pageHeight;var _ref72=[-ty,tx];tx=_ref72[0];ty=_ref72[1];break;}this.setAt(posX*parentWidth,posY*parentHeight,tx,ty);}else{this.setAt(baseX*parentWidth,baseY*parentHeight,this.width*parentWidth,this.height*parentHeight);}_assertClassBrand(_FreeTextEditor_brand,this,_setContent).call(this);this._isDraggable=true;this.editorDiv.contentEditable=false;}else{this._isDraggable=false;this.editorDiv.contentEditable=true;}return this.div;}},{key:\"contentDiv\",get:function get(){return this.editorDiv;}},{key:\"serialize\",value:function serialize(){var isForCopying=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this.isEmpty()){return null;}if(this.deleted){return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:true};}var padding=FreeTextEditor._internalPadding*this.parentScale;var rect=this.getRect(padding,padding);var color=_editor.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:_classPrivateFieldGet(_color,this));var serialized={annotationType:_util.AnnotationEditorType.FREETEXT,color:color,fontSize:_classPrivateFieldGet(_fontSize,this),value:_classPrivateFieldGet(_content,this),pageIndex:this.pageIndex,rect:rect,rotation:this.rotation,structTreeParentId:this._structTreeParentId};if(isForCopying){return serialized;}if(this.annotationElementId&&!_assertClassBrand(_FreeTextEditor_brand,this,_hasElementChanged).call(this,serialized)){return null;}serialized.id=this.annotationElementId;return serialized;}}],[{key:\"_keyboardManager\",get:function get(){var proto=FreeTextEditor.prototype;var arrowChecker=function arrowChecker(self){return self.isEmpty();};var small=_tools.AnnotationEditorUIManager.TRANSLATE_SMALL;var big=_tools.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,_util.shadow)(this,\"_keyboardManager\",new _tools.KeyboardManager([[[\"ctrl+s\",\"mac+meta+s\",\"ctrl+p\",\"mac+meta+p\"],proto.commitOrRemove,{bubbles:true}],[[\"ctrl+Enter\",\"mac+meta+Enter\",\"Escape\",\"mac+Escape\"],proto.commitOrRemove],[[\"ArrowLeft\",\"mac+ArrowLeft\"],proto._translateEmpty,{args:[-small,0],checker:arrowChecker}],[[\"ctrl+ArrowLeft\",\"mac+shift+ArrowLeft\"],proto._translateEmpty,{args:[-big,0],checker:arrowChecker}],[[\"ArrowRight\",\"mac+ArrowRight\"],proto._translateEmpty,{args:[small,0],checker:arrowChecker}],[[\"ctrl+ArrowRight\",\"mac+shift+ArrowRight\"],proto._translateEmpty,{args:[big,0],checker:arrowChecker}],[[\"ArrowUp\",\"mac+ArrowUp\"],proto._translateEmpty,{args:[0,-small],checker:arrowChecker}],[[\"ctrl+ArrowUp\",\"mac+shift+ArrowUp\"],proto._translateEmpty,{args:[0,-big],checker:arrowChecker}],[[\"ArrowDown\",\"mac+ArrowDown\"],proto._translateEmpty,{args:[0,small],checker:arrowChecker}],[[\"ctrl+ArrowDown\",\"mac+shift+ArrowDown\"],proto._translateEmpty,{args:[0,big],checker:arrowChecker}]]));}},{key:\"initialize\",value:function initialize(l10n){_editor.AnnotationEditor.initialize(l10n,{strings:[\"free_text2_default_content\",\"editor_free_text2_aria_label\"]});var style=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(style.getPropertyValue(\"--freetext-padding\"));}},{key:\"updateDefaultParams\",value:function updateDefaultParams(type,value){switch(type){case _util.AnnotationEditorParamsType.FREETEXT_SIZE:FreeTextEditor._defaultFontSize=value;break;case _util.AnnotationEditorParamsType.FREETEXT_COLOR:FreeTextEditor._defaultColor=value;break;}}},{key:\"defaultPropertiesToUpdate\",get:function get(){return[[_util.AnnotationEditorParamsType.FREETEXT_SIZE,FreeTextEditor._defaultFontSize],[_util.AnnotationEditorParamsType.FREETEXT_COLOR,FreeTextEditor._defaultColor||_editor.AnnotationEditor._defaultLineColor]];}},{key:\"deserialize\",value:function deserialize(data,parent,uiManager){var _util$Util5;var initialData=null;if(data instanceof _annotation_layer.FreeTextAnnotationElement){var _data3=data,_data3$data=_data3.data,_data3$data$defaultAp=_data3$data.defaultAppearanceData,fontSize=_data3$data$defaultAp.fontSize,fontColor=_data3$data$defaultAp.fontColor,rect=_data3$data.rect,rotation=_data3$data.rotation,id=_data3$data.id,textContent=_data3.textContent,textPosition=_data3.textPosition,pageNumber=_data3.parent.page.pageNumber;if(!textContent||textContent.length===0){return null;}initialData=data={annotationType:_util.AnnotationEditorType.FREETEXT,color:Array.from(fontColor),fontSize:fontSize,value:textContent.join(\"\\n\"),position:textPosition,pageIndex:pageNumber-1,rect:rect,rotation:rotation,id:id,deleted:false};}var editor=_superPropGet(FreeTextEditor,\"deserialize\",this,2)([data,parent,uiManager]);_classPrivateFieldSet(_fontSize,editor,data.fontSize);_classPrivateFieldSet(_color,editor,(_util$Util5=_util.Util).makeHexColor.apply(_util$Util5,_toConsumableArray(data.color)));_classPrivateFieldSet(_content,editor,data.value);editor.annotationElementId=data.id||null;_classPrivateFieldSet(_initialData,editor,initialData);return editor;}}]);}(_editor.AnnotationEditor);_FreeTextEditor=FreeTextEditor;function _updateFontSize(fontSize){var _this61=this;var setFontsize=function setFontsize(size){_this61.editorDiv.style.fontSize=\"calc(\".concat(size,\"px * var(--scale-factor))\");_this61.translate(0,-(size-_classPrivateFieldGet(_fontSize,_this61))*_this61.parentScale);_classPrivateFieldSet(_fontSize,_this61,size);_assertClassBrand(_FreeTextEditor_brand,_this61,_setEditorDimensions).call(_this61);};var savedFontsize=_classPrivateFieldGet(_fontSize,this);this.addCommands({cmd:function cmd(){setFontsize(fontSize);},undo:function undo(){setFontsize(savedFontsize);},mustExec:true,type:_util.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:true,keepUndo:true});}function _updateColor(color){var _this62=this;var savedColor=_classPrivateFieldGet(_color,this);this.addCommands({cmd:function cmd(){_classPrivateFieldSet(_color,_this62,_this62.editorDiv.style.color=color);},undo:function undo(){_classPrivateFieldSet(_color,_this62,_this62.editorDiv.style.color=savedColor);},mustExec:true,type:_util.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:true,keepUndo:true});}function _extractText(){var divs=this.editorDiv.getElementsByTagName(\"div\");if(divs.length===0){return this.editorDiv.innerText;}var buffer=[];var _iterator114=_createForOfIteratorHelper(divs),_step114;try{for(_iterator114.s();!(_step114=_iterator114.n()).done;){var div=_step114.value;buffer.push(div.innerText.replace(/\\r\\n?|\\n/,\"\"));}}catch(err){_iterator114.e(err);}finally{_iterator114.f();}return buffer.join(\"\\n\");}function _setEditorDimensions(){var _this$parentDimension0=_slicedToArray(this.parentDimensions,2),parentWidth=_this$parentDimension0[0],parentHeight=_this$parentDimension0[1];var rect;if(this.isAttachedToDOM){rect=this.div.getBoundingClientRect();}else{var currentLayer=this.currentLayer,div=this.div;var savedDisplay=div.style.display;div.style.display=\"hidden\";currentLayer.div.append(this.div);rect=div.getBoundingClientRect();div.remove();div.style.display=savedDisplay;}if(this.rotation%180===this.parentRotation%180){this.width=rect.width/parentWidth;this.height=rect.height/parentHeight;}else{this.width=rect.height/parentWidth;this.height=rect.width/parentHeight;}this.fixAndSetPosition();}function _setContent(){this.editorDiv.replaceChildren();if(!_classPrivateFieldGet(_content,this)){return;}var _iterator115=_createForOfIteratorHelper(_classPrivateFieldGet(_content,this).split(\"\\n\")),_step115;try{for(_iterator115.s();!(_step115=_iterator115.n()).done;){var line=_step115.value;var div=document.createElement(\"div\");div.append(line?document.createTextNode(line):document.createElement(\"br\"));this.editorDiv.append(div);}}catch(err){_iterator115.e(err);}finally{_iterator115.f();}}function _hasElementChanged(serialized){var _classPrivateFieldGet25=_classPrivateFieldGet(_initialData,this),value=_classPrivateFieldGet25.value,fontSize=_classPrivateFieldGet25.fontSize,color=_classPrivateFieldGet25.color,rect=_classPrivateFieldGet25.rect,pageIndex=_classPrivateFieldGet25.pageIndex;return serialized.value!==value||serialized.fontSize!==fontSize||serialized.rect.some(function(x,i){return Math.abs(x-rect[i])>=1;})||serialized.color.some(function(c,i){return c!==color[i];})||serialized.pageIndex!==pageIndex;}function _cheatInitialRect(){var _this63=this;var delayed=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!this.annotationElementId){return;}_assertClassBrand(_FreeTextEditor_brand,this,_setEditorDimensions).call(this);if(!delayed&&(this.width===0||this.height===0)){setTimeout(function(){return _assertClassBrand(_FreeTextEditor_brand,_this63,_cheatInitialRect).call(_this63,true);},0);return;}var padding=_FreeTextEditor._internalPadding*this.parentScale;_classPrivateFieldGet(_initialData,this).rect=this.getRect(padding,padding);}_defineProperty(FreeTextEditor,\"_freeTextDefaultContent\",\"\");_defineProperty(FreeTextEditor,\"_internalPadding\",0);_defineProperty(FreeTextEditor,\"_defaultColor\",null);_defineProperty(FreeTextEditor,\"_defaultFontSize\",10);_defineProperty(FreeTextEditor,\"_type\",\"freetext\");exports.FreeTextEditor=FreeTextEditor;/***/}),(/* 29 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,\"__esModule\",{value:true});exports.StampAnnotationElement=exports.InkAnnotationElement=exports.FreeTextAnnotationElement=exports.AnnotationLayer=void 0;var _util=__w_pdfjs_require__(1);var _display_utils=__w_pdfjs_require__(6);var _annotation_storage=__w_pdfjs_require__(3);var _scripting_utils=__w_pdfjs_require__(30);var _displayL10n_utils=__w_pdfjs_require__(31);var _xfa_layer=__w_pdfjs_require__(32);var DEFAULT_TAB_INDEX=1000;var DEFAULT_FONT_SIZE=9;var GetElementsByNameSet=new WeakSet();function getRectDims(rect){return{width:rect[2]-rect[0],height:rect[3]-rect[1]};}var AnnotationElementFactory=/*#__PURE__*/function(){function AnnotationElementFactory(){_classCallCheck(this,AnnotationElementFactory);}return _createClass(AnnotationElementFactory,null,[{key:\"create\",value:function create(parameters){var subtype=parameters.data.annotationType;switch(subtype){case _util.AnnotationType.LINK:return new LinkAnnotationElement(parameters);case _util.AnnotationType.TEXT:return new TextAnnotationElement(parameters);case _util.AnnotationType.WIDGET:var fieldType=parameters.data.fieldType;switch(fieldType){case\"Tx\":return new TextWidgetAnnotationElement(parameters);case\"Btn\":if(parameters.data.radioButton){return new RadioButtonWidgetAnnotationElement(parameters);}else if(parameters.data.checkBox){return new CheckboxWidgetAnnotationElement(parameters);}return new PushButtonWidgetAnnotationElement(parameters);case\"Ch\":return new ChoiceWidgetAnnotationElement(parameters);case\"Sig\":return new SignatureWidgetAnnotationElement(parameters);}return new WidgetAnnotationElement(parameters);case _util.AnnotationType.POPUP:return new PopupAnnotationElement(parameters);case _util.AnnotationType.FREETEXT:return new FreeTextAnnotationElement(parameters);case _util.AnnotationType.LINE:return new LineAnnotationElement(parameters);case _util.AnnotationType.SQUARE:return new SquareAnnotationElement(parameters);case _util.AnnotationType.CIRCLE:return new CircleAnnotationElement(parameters);case _util.AnnotationType.POLYLINE:return new PolylineAnnotationElement(parameters);case _util.AnnotationType.CARET:return new CaretAnnotationElement(parameters);case _util.AnnotationType.INK:return new InkAnnotationElement(parameters);case _util.AnnotationType.POLYGON:return new PolygonAnnotationElement(parameters);case _util.AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement(parameters);case _util.AnnotationType.UNDERLINE:return new UnderlineAnnotationElement(parameters);case _util.AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement(parameters);case _util.AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement(parameters);case _util.AnnotationType.STAMP:return new StampAnnotationElement(parameters);case _util.AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement(parameters);default:return new AnnotationElement(parameters);}}}]);}();var _hasBorder=/*#__PURE__*/new WeakMap();var AnnotationElement=/*#__PURE__*/function(){function AnnotationElement(parameters){var _ref73=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},_ref73$isRenderable=_ref73.isRenderable,isRenderable=_ref73$isRenderable===void 0?false:_ref73$isRenderable,_ref73$ignoreBorder=_ref73.ignoreBorder,ignoreBorder=_ref73$ignoreBorder===void 0?false:_ref73$ignoreBorder,_ref73$createQuadrila=_ref73.createQuadrilaterals,createQuadrilaterals=_ref73$createQuadrila===void 0?false:_ref73$createQuadrila;_classCallCheck(this,AnnotationElement);_classPrivateFieldInitSpec(this,_hasBorder,false);this.isRenderable=isRenderable;this.data=parameters.data;this.layer=parameters.layer;this.linkService=parameters.linkService;this.downloadManager=parameters.downloadManager;this.imageResourcesPath=parameters.imageResourcesPath;this.renderForms=parameters.renderForms;this.svgFactory=parameters.svgFactory;this.annotationStorage=parameters.annotationStorage;this.enableScripting=parameters.enableScripting;this.hasJSActions=parameters.hasJSActions;this._fieldObjects=parameters.fieldObjects;this.parent=parameters.parent;if(isRenderable){this.container=this._createContainer(ignoreBorder);}if(createQuadrilaterals){this._createQuadrilaterals();}}return _createClass(AnnotationElement,[{key:\"hasPopupData\",get:function get(){return AnnotationElement._hasPopupData(this.data);}},{key:\"_createContainer\",value:function _createContainer(ignoreBorder){var data=this.data,_this$parent3=this.parent,page=_this$parent3.page,viewport=_this$parent3.viewport;var container=document.createElement(\"section\");container.setAttribute(\"data-annotation-id\",data.id);if(!(this instanceof WidgetAnnotationElement)){container.tabIndex=DEFAULT_TAB_INDEX;}container.style.zIndex=this.parent.zIndex++;if(this.data.popupRef){container.setAttribute(\"aria-haspopup\",\"dialog\");}if(data.noRotate){container.classList.add(\"norotate\");}var _viewport$rawDims3=viewport.rawDims,pageWidth=_viewport$rawDims3.pageWidth,pageHeight=_viewport$rawDims3.pageHeight,pageX=_viewport$rawDims3.pageX,pageY=_viewport$rawDims3.pageY;if(!data.rect||this instanceof PopupAnnotationElement){var _rotation2=data.rotation;if(!data.hasOwnCanvas&&_rotation2!==0){this.setRotation(_rotation2,container);}return container;}var _getRectDims=getRectDims(data.rect),width=_getRectDims.width,height=_getRectDims.height;var rect=_util.Util.normalizeRect([data.rect[0],page.view[3]-data.rect[1]+page.view[1],data.rect[2],page.view[3]-data.rect[3]+page.view[1]]);if(!ignoreBorder&&data.borderStyle.width>0){container.style.borderWidth=\"\".concat(data.borderStyle.width,\"px\");var horizontalRadius=data.borderStyle.horizontalCornerRadius;var verticalRadius=data.borderStyle.verticalCornerRadius;if(horizontalRadius>0||verticalRadius>0){var radius=\"calc(\".concat(horizontalRadius,\"px * var(--scale-factor)) / calc(\").concat(verticalRadius,\"px * var(--scale-factor))\");container.style.borderRadius=radius;}else if(this instanceof RadioButtonWidgetAnnotationElement){var _radius=\"calc(\".concat(width,\"px * var(--scale-factor)) / calc(\").concat(height,\"px * var(--scale-factor))\");container.style.borderRadius=_radius;}switch(data.borderStyle.style){case _util.AnnotationBorderStyleType.SOLID:container.style.borderStyle=\"solid\";break;case _util.AnnotationBorderStyleType.DASHED:container.style.borderStyle=\"dashed\";break;case _util.AnnotationBorderStyleType.BEVELED:(0,_util.warn)(\"Unimplemented border style: beveled\");break;case _util.AnnotationBorderStyleType.INSET:(0,_util.warn)(\"Unimplemented border style: inset\");break;case _util.AnnotationBorderStyleType.UNDERLINE:container.style.borderBottomStyle=\"solid\";break;default:break;}var borderColor=data.borderColor||null;if(borderColor){_classPrivateFieldSet(_hasBorder,this,true);container.style.borderColor=_util.Util.makeHexColor(borderColor[0]|0,borderColor[1]|0,borderColor[2]|0);}else{container.style.borderWidth=0;}}container.style.left=\"\".concat(100*(rect[0]-pageX)/pageWidth,\"%\");container.style.top=\"\".concat(100*(rect[1]-pageY)/pageHeight,\"%\");var rotation=data.rotation;if(data.hasOwnCanvas||rotation===0){container.style.width=\"\".concat(100*width/pageWidth,\"%\");container.style.height=\"\".concat(100*height/pageHeight,\"%\");}else{this.setRotation(rotation,container);}return container;}},{key:\"setRotation\",value:function setRotation(angle){var container=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.container;if(!this.data.rect){return;}var _this$parent$viewport3=this.parent.viewport.rawDims,pageWidth=_this$parent$viewport3.pageWidth,pageHeight=_this$parent$viewport3.pageHeight;var _getRectDims2=getRectDims(this.data.rect),width=_getRectDims2.width,height=_getRectDims2.height;var elementWidth,elementHeight;if(angle%180===0){elementWidth=100*width/pageWidth;elementHeight=100*height/pageHeight;}else{elementWidth=100*height/pageWidth;elementHeight=100*width/pageHeight;}container.style.width=\"\".concat(elementWidth,\"%\");container.style.height=\"\".concat(elementHeight,\"%\");container.setAttribute(\"data-main-rotation\",(360-angle)%360);}},{key:\"_commonActions\",get:function get(){var _this64=this;var setColor=function setColor(jsName,styleName,event){var color=event.detail[jsName];var colorType=color[0];var colorArray=color.slice(1);event.target.style[styleName]=_scripting_utils.ColorConverters[\"\".concat(colorType,\"_HTML\")](colorArray);_this64.annotationStorage.setValue(_this64.data.id,_defineProperty({},styleName,_scripting_utils.ColorConverters[\"\".concat(colorType,\"_rgb\")](colorArray)));};return(0,_util.shadow)(this,\"_commonActions\",{display:function display(event){var display=event.detail.display;var hidden=display%2===1;_this64.container.style.visibility=hidden?\"hidden\":\"visible\";_this64.annotationStorage.setValue(_this64.data.id,{noView:hidden,noPrint:display===1||display===2});},print:function print(event){_this64.annotationStorage.setValue(_this64.data.id,{noPrint:!event.detail.print});},hidden:function hidden(event){var hidden=event.detail.hidden;_this64.container.style.visibility=hidden?\"hidden\":\"visible\";_this64.annotationStorage.setValue(_this64.data.id,{noPrint:hidden,noView:hidden});},focus:function focus(event){setTimeout(function(){return event.target.focus({preventScroll:false});},0);},userName:function userName(event){event.target.title=event.detail.userName;},readonly:function readonly(event){event.target.disabled=event.detail.readonly;},required:function required(event){_this64._setRequired(event.target,event.detail.required);},bgColor:function bgColor(event){setColor(\"bgColor\",\"backgroundColor\",event);},fillColor:function fillColor(event){setColor(\"fillColor\",\"backgroundColor\",event);},fgColor:function fgColor(event){setColor(\"fgColor\",\"color\",event);},textColor:function textColor(event){setColor(\"textColor\",\"color\",event);},borderColor:function borderColor(event){setColor(\"borderColor\",\"borderColor\",event);},strokeColor:function strokeColor(event){setColor(\"strokeColor\",\"borderColor\",event);},rotation:function rotation(event){var angle=event.detail.rotation;_this64.setRotation(angle);_this64.annotationStorage.setValue(_this64.data.id,{rotation:angle});}});}},{key:\"_dispatchEventFromSandbox\",value:function _dispatchEventFromSandbox(actions,jsEvent){var commonActions=this._commonActions;for(var _i15=0,_Object$keys=Object.keys(jsEvent.detail);_i15<_Object$keys.length;_i15++){var name=_Object$keys[_i15];var action=actions[name]||commonActions[name];action===null||action===void 0||action(jsEvent);}}},{key:\"_setDefaultPropertiesFromJS\",value:function _setDefaultPropertiesFromJS(element){if(!this.enableScripting){return;}var storedData=this.annotationStorage.getRawValue(this.data.id);if(!storedData){return;}var commonActions=this._commonActions;for(var _i16=0,_Object$entries3=Object.entries(storedData);_i16<_Object$entries3.length;_i16++){var _Object$entries3$_i=_slicedToArray(_Object$entries3[_i16],2),actionName=_Object$entries3$_i[0],detail=_Object$entries3$_i[1];var action=commonActions[actionName];if(action){var eventProxy={detail:_defineProperty({},actionName,detail),target:element};action(eventProxy);delete storedData[actionName];}}}},{key:\"_createQuadrilaterals\",value:function _createQuadrilaterals(){if(!this.container){return;}var quadPoints=this.data.quadPoints;if(!quadPoints){return;}var _this$data$rect=_slicedToArray(this.data.rect,4),rectBlX=_this$data$rect[0],rectBlY=_this$data$rect[1],rectTrX=_this$data$rect[2],rectTrY=_this$data$rect[3];if(quadPoints.length===1){var _quadPoints$=_slicedToArray(quadPoints[0],3),_quadPoints$$=_quadPoints$[1],trX=_quadPoints$$.x,trY=_quadPoints$$.y,_quadPoints$$2=_quadPoints$[2],blX=_quadPoints$$2.x,blY=_quadPoints$$2.y;if(rectTrX===trX&&rectTrY===trY&&rectBlX===blX&&rectBlY===blY){return;}}var style=this.container.style;var svgBuffer;if(_classPrivateFieldGet(_hasBorder,this)){var borderColor=style.borderColor,borderWidth=style.borderWidth;style.borderWidth=0;svgBuffer=[\"url('data:image/svg+xml;utf8,\",\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\"\",\" preserveAspectRatio=\\\"none\\\" viewBox=\\\"0 0 1 1\\\">\",\"<g fill=\\\"transparent\\\" stroke=\\\"\".concat(borderColor,\"\\\" stroke-width=\\\"\").concat(borderWidth,\"\\\">\")];this.container.classList.add(\"hasBorder\");}var width=rectTrX-rectBlX;var height=rectTrY-rectBlY;var svgFactory=this.svgFactory;var svg=svgFactory.createElement(\"svg\");svg.classList.add(\"quadrilateralsContainer\");svg.setAttribute(\"width\",0);svg.setAttribute(\"height\",0);var defs=svgFactory.createElement(\"defs\");svg.append(defs);var clipPath=svgFactory.createElement(\"clipPath\");var id=\"clippath_\".concat(this.data.id);clipPath.setAttribute(\"id\",id);clipPath.setAttribute(\"clipPathUnits\",\"objectBoundingBox\");defs.append(clipPath);var _iterator116=_createForOfIteratorHelper(quadPoints),_step116;try{for(_iterator116.s();!(_step116=_iterator116.n()).done;){var _svgBuffer;var _step116$value=_slicedToArray(_step116.value,3),_step116$value$=_step116$value[1],_trX=_step116$value$.x,_trY=_step116$value$.y,_step116$value$2=_step116$value[2],_blX=_step116$value$2.x,_blY=_step116$value$2.y;var rect=svgFactory.createElement(\"rect\");var x=(_blX-rectBlX)/width;var y=(rectTrY-_trY)/height;var rectWidth=(_trX-_blX)/width;var rectHeight=(_trY-_blY)/height;rect.setAttribute(\"x\",x);rect.setAttribute(\"y\",y);rect.setAttribute(\"width\",rectWidth);rect.setAttribute(\"height\",rectHeight);clipPath.append(rect);(_svgBuffer=svgBuffer)===null||_svgBuffer===void 0||_svgBuffer.push(\"<rect vector-effect=\\\"non-scaling-stroke\\\" x=\\\"\".concat(x,\"\\\" y=\\\"\").concat(y,\"\\\" width=\\\"\").concat(rectWidth,\"\\\" height=\\\"\").concat(rectHeight,\"\\\"/>\"));}}catch(err){_iterator116.e(err);}finally{_iterator116.f();}if(_classPrivateFieldGet(_hasBorder,this)){svgBuffer.push(\"</g></svg>')\");style.backgroundImage=svgBuffer.join(\"\");}this.container.append(svg);this.container.style.clipPath=\"url(#\".concat(id,\")\");}},{key:\"_createPopup\",value:function _createPopup(){var container=this.container,data=this.data;container.setAttribute(\"aria-haspopup\",\"dialog\");var popup=new PopupAnnotationElement({data:{color:data.color,titleObj:data.titleObj,modificationDate:data.modificationDate,contentsObj:data.contentsObj,richText:data.richText,parentRect:data.rect,borderStyle:0,id:\"popup_\".concat(data.id),rotation:data.rotation},parent:this.parent,elements:[this]});this.parent.div.append(popup.render());}},{key:\"render\",value:function render(){(0,_util.unreachable)(\"Abstract method `AnnotationElement.render` called\");}},{key:\"_getElementsByName\",value:function _getElementsByName(name){var skipId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var fields=[];if(this._fieldObjects){var fieldObj=this._fieldObjects[name];if(fieldObj){var _iterator117=_createForOfIteratorHelper(fieldObj),_step117;try{for(_iterator117.s();!(_step117=_iterator117.n()).done;){var _step117$value=_step117.value,page=_step117$value.page,id=_step117$value.id,exportValues=_step117$value.exportValues;if(page===-1){continue;}if(id===skipId){continue;}var exportValue=typeof exportValues===\"string\"?exportValues:null;var domElement=document.querySelector(\"[data-element-id=\\\"\".concat(id,\"\\\"]\"));if(domElement&&!GetElementsByNameSet.has(domElement)){(0,_util.warn)(\"_getElementsByName - element not allowed: \".concat(id));continue;}fields.push({id:id,exportValue:exportValue,domElement:domElement});}}catch(err){_iterator117.e(err);}finally{_iterator117.f();}}return fields;}var _iterator118=_createForOfIteratorHelper(document.getElementsByName(name)),_step118;try{for(_iterator118.s();!(_step118=_iterator118.n()).done;){var _domElement=_step118.value;var _exportValue=_domElement.exportValue;var _id7=_domElement.getAttribute(\"data-element-id\");if(_id7===skipId){continue;}if(!GetElementsByNameSet.has(_domElement)){continue;}fields.push({id:_id7,exportValue:_exportValue,domElement:_domElement});}}catch(err){_iterator118.e(err);}finally{_iterator118.f();}return fields;}},{key:\"show\",value:function show(){var _this$popup;if(this.container){this.container.hidden=false;}(_this$popup=this.popup)===null||_this$popup===void 0||_this$popup.maybeShow();}},{key:\"hide\",value:function hide(){var _this$popup2;if(this.container){this.container.hidden=true;}(_this$popup2=this.popup)===null||_this$popup2===void 0||_this$popup2.forceHide();}},{key:\"getElementsToTriggerPopup\",value:function getElementsToTriggerPopup(){return this.container;}},{key:\"addHighlightArea\",value:function addHighlightArea(){var triggers=this.getElementsToTriggerPopup();if(Array.isArray(triggers)){var _iterator119=_createForOfIteratorHelper(triggers),_step119;try{for(_iterator119.s();!(_step119=_iterator119.n()).done;){var element=_step119.value;element.classList.add(\"highlightArea\");}}catch(err){_iterator119.e(err);}finally{_iterator119.f();}}else{triggers.classList.add(\"highlightArea\");}}},{key:\"_editOnDoubleClick\",value:function _editOnDoubleClick(){var _this65=this;var mode=this.annotationEditorType,editId=this.data.id;this.container.addEventListener(\"dblclick\",function(){var _this65$linkService$e;(_this65$linkService$e=_this65.linkService.eventBus)===null||_this65$linkService$e===void 0||_this65$linkService$e.dispatch(\"switchannotationeditormode\",{source:_this65,mode:mode,editId:editId});});}}],[{key:\"_hasPopupData\",value:function _hasPopupData(_ref74){var titleObj=_ref74.titleObj,contentsObj=_ref74.contentsObj,richText=_ref74.richText;return!!(titleObj!==null&&titleObj!==void 0&&titleObj.str||contentsObj!==null&&contentsObj!==void 0&&contentsObj.str||richText!==null&&richText!==void 0&&richText.str);}}]);}();var _LinkAnnotationElement_brand=/*#__PURE__*/new WeakSet();var LinkAnnotationElement=/*#__PURE__*/function(_AnnotationElement2){function LinkAnnotationElement(parameters){var _this66;var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;_classCallCheck(this,LinkAnnotationElement);_this66=_callSuper(this,LinkAnnotationElement,[parameters,{isRenderable:true,ignoreBorder:!!(options!==null&&options!==void 0&&options.ignoreBorder),createQuadrilaterals:true}]);_classPrivateMethodInitSpec(_this66,_LinkAnnotationElement_brand);_this66.isTooltipOnly=parameters.data.isTooltipOnly;return _this66;}_inherits(LinkAnnotationElement,_AnnotationElement2);return _createClass(LinkAnnotationElement,[{key:\"render\",value:function render(){var data=this.data,linkService=this.linkService;var link=document.createElement(\"a\");link.setAttribute(\"data-element-id\",data.id);var isBound=false;if(data.url){linkService.addLinkAttributes(link,data.url,data.newWindow);isBound=true;}else if(data.action){this._bindNamedAction(link,data.action);isBound=true;}else if(data.attachment){this._bindAttachment(link,data.attachment);isBound=true;}else if(data.setOCGState){_assertClassBrand(_LinkAnnotationElement_brand,this,_bindSetOCGState).call(this,link,data.setOCGState);isBound=true;}else if(data.dest){this._bindLink(link,data.dest);isBound=true;}else{if(data.actions&&(data.actions.Action||data.actions[\"Mouse Up\"]||data.actions[\"Mouse Down\"])&&this.enableScripting&&this.hasJSActions){this._bindJSAction(link,data);isBound=true;}if(data.resetForm){this._bindResetFormAction(link,data.resetForm);isBound=true;}else if(this.isTooltipOnly&&!isBound){this._bindLink(link,\"\");isBound=true;}}this.container.classList.add(\"linkAnnotation\");if(isBound){this.container.append(link);}return this.container;}},{key:\"_bindLink\",value:function _bindLink(link,destination){var _this67=this;link.href=this.linkService.getDestinationHash(destination);link.onclick=function(){if(destination){_this67.linkService.goToDestination(destination);}return false;};if(destination||destination===\"\"){_assertClassBrand(_LinkAnnotationElement_brand,this,_setInternalLink).call(this);}}},{key:\"_bindNamedAction\",value:function _bindNamedAction(link,action){var _this68=this;link.href=this.linkService.getAnchorUrl(\"\");link.onclick=function(){_this68.linkService.executeNamedAction(action);return false;};_assertClassBrand(_LinkAnnotationElement_brand,this,_setInternalLink).call(this);}},{key:\"_bindAttachment\",value:function _bindAttachment(link,attachment){var _this69=this;link.href=this.linkService.getAnchorUrl(\"\");link.onclick=function(){var _this69$downloadManag;(_this69$downloadManag=_this69.downloadManager)===null||_this69$downloadManag===void 0||_this69$downloadManag.openOrDownloadData(_this69.container,attachment.content,attachment.filename);return false;};_assertClassBrand(_LinkAnnotationElement_brand,this,_setInternalLink).call(this);}},{key:\"_bindJSAction\",value:function _bindJSAction(link,data){var _this70=this;link.href=this.linkService.getAnchorUrl(\"\");var map=new Map([[\"Action\",\"onclick\"],[\"Mouse Up\",\"onmouseup\"],[\"Mouse Down\",\"onmousedown\"]]);var _loop2=function _loop2(){var name=_Object$keys2[_i17];var jsName=map.get(name);if(!jsName){return 1;// continue\n}link[jsName]=function(){var _this70$linkService$e;(_this70$linkService$e=_this70.linkService.eventBus)===null||_this70$linkService$e===void 0||_this70$linkService$e.dispatch(\"dispatcheventinsandbox\",{source:_this70,detail:{id:data.id,name:name}});return false;};};for(var _i17=0,_Object$keys2=Object.keys(data.actions);_i17<_Object$keys2.length;_i17++){if(_loop2())continue;}if(!link.onclick){link.onclick=function(){return false;};}_assertClassBrand(_LinkAnnotationElement_brand,this,_setInternalLink).call(this);}},{key:\"_bindResetFormAction\",value:function _bindResetFormAction(link,resetForm){var _this71=this;var otherClickAction=link.onclick;if(!otherClickAction){link.href=this.linkService.getAnchorUrl(\"\");}_assertClassBrand(_LinkAnnotationElement_brand,this,_setInternalLink).call(this);if(!this._fieldObjects){(0,_util.warn)(\"_bindResetFormAction - \\\"resetForm\\\" action not supported, \"+\"ensure that the `fieldObjects` parameter is provided.\");if(!otherClickAction){link.onclick=function(){return false;};}return;}link.onclick=function(){otherClickAction===null||otherClickAction===void 0||otherClickAction();var resetFormFields=resetForm.fields,resetFormRefs=resetForm.refs,include=resetForm.include;var allFields=[];if(resetFormFields.length!==0||resetFormRefs.length!==0){var fieldIds=new Set(resetFormRefs);var _iterator120=_createForOfIteratorHelper(resetFormFields),_step120;try{for(_iterator120.s();!(_step120=_iterator120.n()).done;){var fieldName=_step120.value;var _fields=_this71._fieldObjects[fieldName]||[];var _iterator122=_createForOfIteratorHelper(_fields),_step122;try{for(_iterator122.s();!(_step122=_iterator122.n()).done;){var id=_step122.value.id;fieldIds.add(id);}}catch(err){_iterator122.e(err);}finally{_iterator122.f();}}}catch(err){_iterator120.e(err);}finally{_iterator120.f();}for(var _i18=0,_Object$values=Object.values(_this71._fieldObjects);_i18<_Object$values.length;_i18++){var fields=_Object$values[_i18];var _iterator121=_createForOfIteratorHelper(fields),_step121;try{for(_iterator121.s();!(_step121=_iterator121.n()).done;){var field=_step121.value;if(fieldIds.has(field.id)===include){allFields.push(field);}}}catch(err){_iterator121.e(err);}finally{_iterator121.f();}}}else{for(var _i19=0,_Object$values2=Object.values(_this71._fieldObjects);_i19<_Object$values2.length;_i19++){var _fields2=_Object$values2[_i19];allFields.push.apply(allFields,_toConsumableArray(_fields2));}}var storage=_this71.annotationStorage;var allIds=[];for(var _i20=0,_allFields=allFields;_i20<_allFields.length;_i20++){var _field=_allFields[_i20];var _id8=_field.id;allIds.push(_id8);switch(_field.type){case\"text\":{var value=_field.defaultValue||\"\";storage.setValue(_id8,{value:value});break;}case\"checkbox\":case\"radiobutton\":{var _value2=_field.defaultValue===_field.exportValues;storage.setValue(_id8,{value:_value2});break;}case\"combobox\":case\"listbox\":{var _value3=_field.defaultValue||\"\";storage.setValue(_id8,{value:_value3});break;}default:continue;}var domElement=document.querySelector(\"[data-element-id=\\\"\".concat(_id8,\"\\\"]\"));if(!domElement){continue;}else if(!GetElementsByNameSet.has(domElement)){(0,_util.warn)(\"_bindResetFormAction - element not allowed: \".concat(_id8));continue;}domElement.dispatchEvent(new Event(\"resetform\"));}if(_this71.enableScripting){var _this71$linkService$e;(_this71$linkService$e=_this71.linkService.eventBus)===null||_this71$linkService$e===void 0||_this71$linkService$e.dispatch(\"dispatcheventinsandbox\",{source:_this71,detail:{id:\"app\",ids:allIds,name:\"ResetForm\"}});}return false;};}}]);}(AnnotationElement);function _setInternalLink(){this.container.setAttribute(\"data-internal-link\",\"\");}function _bindSetOCGState(link,action){var _this88=this;link.href=this.linkService.getAnchorUrl(\"\");link.onclick=function(){_this88.linkService.executeSetOCGState(action);return false;};_assertClassBrand(_LinkAnnotationElement_brand,this,_setInternalLink).call(this);}var TextAnnotationElement=/*#__PURE__*/function(_AnnotationElement3){function TextAnnotationElement(parameters){_classCallCheck(this,TextAnnotationElement);return _callSuper(this,TextAnnotationElement,[parameters,{isRenderable:true}]);}_inherits(TextAnnotationElement,_AnnotationElement3);return _createClass(TextAnnotationElement,[{key:\"render\",value:function render(){this.container.classList.add(\"textAnnotation\");var image=document.createElement(\"img\");image.src=this.imageResourcesPath+\"annotation-\"+this.data.name.toLowerCase()+\".svg\";image.alt=\"[{{type}} Annotation]\";image.dataset.l10nId=\"text_annotation_type\";image.dataset.l10nArgs=JSON.stringify({type:this.data.name});if(!this.data.popupRef&&this.hasPopupData){this._createPopup();}this.container.append(image);return this.container;}}]);}(AnnotationElement);var WidgetAnnotationElement=/*#__PURE__*/function(_AnnotationElement4){function WidgetAnnotationElement(){_classCallCheck(this,WidgetAnnotationElement);return _callSuper(this,WidgetAnnotationElement,arguments);}_inherits(WidgetAnnotationElement,_AnnotationElement4);return _createClass(WidgetAnnotationElement,[{key:\"render\",value:function render(){if(this.data.alternativeText){this.container.title=this.data.alternativeText;}return this.container;}},{key:\"showElementAndHideCanvas\",value:function showElementAndHideCanvas(element){if(this.data.hasOwnCanvas){var _element$previousSibl;if(((_element$previousSibl=element.previousSibling)===null||_element$previousSibl===void 0?void 0:_element$previousSibl.nodeName)===\"CANVAS\"){element.previousSibling.hidden=true;}element.hidden=false;}}},{key:\"_getKeyModifier\",value:function _getKeyModifier(event){var _util$FeatureTest$pla=_util.FeatureTest.platform,isWin=_util$FeatureTest$pla.isWin,isMac=_util$FeatureTest$pla.isMac;return isWin&&event.ctrlKey||isMac&&event.metaKey;}},{key:\"_setEventListener\",value:function _setEventListener(element,elementData,baseName,eventName,valueGetter){var _this72=this;if(baseName.includes(\"mouse\")){element.addEventListener(baseName,function(event){var _this72$linkService$e;(_this72$linkService$e=_this72.linkService.eventBus)===null||_this72$linkService$e===void 0||_this72$linkService$e.dispatch(\"dispatcheventinsandbox\",{source:_this72,detail:{id:_this72.data.id,name:eventName,value:valueGetter(event),shift:event.shiftKey,modifier:_this72._getKeyModifier(event)}});});}else{element.addEventListener(baseName,function(event){var _this72$linkService$e2;if(baseName===\"blur\"){if(!elementData.focused||!event.relatedTarget){return;}elementData.focused=false;}else if(baseName===\"focus\"){if(elementData.focused){return;}elementData.focused=true;}if(!valueGetter){return;}(_this72$linkService$e2=_this72.linkService.eventBus)===null||_this72$linkService$e2===void 0||_this72$linkService$e2.dispatch(\"dispatcheventinsandbox\",{source:_this72,detail:{id:_this72.data.id,name:eventName,value:valueGetter(event)}});});}}},{key:\"_setEventListeners\",value:function _setEventListeners(element,elementData,names,getter){var _iterator123=_createForOfIteratorHelper(names),_step123;try{for(_iterator123.s();!(_step123=_iterator123.n()).done;){var _this$data$actions;var _step123$value=_slicedToArray(_step123.value,2),baseName=_step123$value[0],eventName=_step123$value[1];if(eventName===\"Action\"||(_this$data$actions=this.data.actions)!==null&&_this$data$actions!==void 0&&_this$data$actions[eventName]){var _this$data$actions2,_this$data$actions3;if(eventName===\"Focus\"||eventName===\"Blur\"){elementData||(elementData={focused:false});}this._setEventListener(element,elementData,baseName,eventName,getter);if(eventName===\"Focus\"&&!((_this$data$actions2=this.data.actions)!==null&&_this$data$actions2!==void 0&&_this$data$actions2.Blur)){this._setEventListener(element,elementData,\"blur\",\"Blur\",null);}else if(eventName===\"Blur\"&&!((_this$data$actions3=this.data.actions)!==null&&_this$data$actions3!==void 0&&_this$data$actions3.Focus)){this._setEventListener(element,elementData,\"focus\",\"Focus\",null);}}}}catch(err){_iterator123.e(err);}finally{_iterator123.f();}}},{key:\"_setBackgroundColor\",value:function _setBackgroundColor(element){var color=this.data.backgroundColor||null;element.style.backgroundColor=color===null?\"transparent\":_util.Util.makeHexColor(color[0],color[1],color[2]);}},{key:\"_setTextStyle\",value:function _setTextStyle(element){var TEXT_ALIGNMENT=[\"left\",\"center\",\"right\"];var fontColor=this.data.defaultAppearanceData.fontColor;var fontSize=this.data.defaultAppearanceData.fontSize||DEFAULT_FONT_SIZE;var style=element.style;var computedFontSize;var BORDER_SIZE=2;var roundToOneDecimal=function roundToOneDecimal(x){return Math.round(10*x)/10;};if(this.data.multiLine){var height=Math.abs(this.data.rect[3]-this.data.rect[1]-BORDER_SIZE);var numberOfLines=Math.round(height/(_util.LINE_FACTOR*fontSize))||1;var lineHeight=height/numberOfLines;computedFontSize=Math.min(fontSize,roundToOneDecimal(lineHeight/_util.LINE_FACTOR));}else{var _height2=Math.abs(this.data.rect[3]-this.data.rect[1]-BORDER_SIZE);computedFontSize=Math.min(fontSize,roundToOneDecimal(_height2/_util.LINE_FACTOR));}style.fontSize=\"calc(\".concat(computedFontSize,\"px * var(--scale-factor))\");style.color=_util.Util.makeHexColor(fontColor[0],fontColor[1],fontColor[2]);if(this.data.textAlignment!==null){style.textAlign=TEXT_ALIGNMENT[this.data.textAlignment];}}},{key:\"_setRequired\",value:function _setRequired(element,isRequired){if(isRequired){element.setAttribute(\"required\",true);}else{element.removeAttribute(\"required\");}element.setAttribute(\"aria-required\",isRequired);}}]);}(AnnotationElement);var TextWidgetAnnotationElement=/*#__PURE__*/function(_WidgetAnnotationElem){function TextWidgetAnnotationElement(parameters){_classCallCheck(this,TextWidgetAnnotationElement);var isRenderable=parameters.renderForms||!parameters.data.hasAppearance&&!!parameters.data.fieldValue;return _callSuper(this,TextWidgetAnnotationElement,[parameters,{isRenderable:isRenderable}]);}_inherits(TextWidgetAnnotationElement,_WidgetAnnotationElem);return _createClass(TextWidgetAnnotationElement,[{key:\"setPropertyOnSiblings\",value:function setPropertyOnSiblings(base,key,value,keyInStorage){var storage=this.annotationStorage;var _iterator124=_createForOfIteratorHelper(this._getElementsByName(base.name,base.id)),_step124;try{for(_iterator124.s();!(_step124=_iterator124.n()).done;){var element=_step124.value;if(element.domElement){element.domElement[key]=value;}storage.setValue(element.id,_defineProperty({},keyInStorage,value));}}catch(err){_iterator124.e(err);}finally{_iterator124.f();}}},{key:\"render\",value:function render(){var _this73=this;var storage=this.annotationStorage;var id=this.data.id;this.container.classList.add(\"textWidgetAnnotation\");var element=null;if(this.renderForms){var _this$data$textConten;var storedData=storage.getValue(id,{value:this.data.fieldValue});var textContent=storedData.value||\"\";var maxLen=storage.getValue(id,{charLimit:this.data.maxLen}).charLimit;if(maxLen&&textContent.length>maxLen){textContent=textContent.slice(0,maxLen);}var fieldFormattedValues=storedData.formattedValue||((_this$data$textConten=this.data.textContent)===null||_this$data$textConten===void 0?void 0:_this$data$textConten.join(\"\\n\"))||null;if(fieldFormattedValues&&this.data.comb){fieldFormattedValues=fieldFormattedValues.replaceAll(/\\s+/g,\"\");}var elementData={userValue:textContent,formattedValue:fieldFormattedValues,lastCommittedValue:null,commitKey:1,focused:false};if(this.data.multiLine){element=document.createElement(\"textarea\");element.textContent=fieldFormattedValues!==null&&fieldFormattedValues!==void 0?fieldFormattedValues:textContent;if(this.data.doNotScroll){element.style.overflowY=\"hidden\";}}else{element=document.createElement(\"input\");element.type=\"text\";element.setAttribute(\"value\",fieldFormattedValues!==null&&fieldFormattedValues!==void 0?fieldFormattedValues:textContent);if(this.data.doNotScroll){element.style.overflowX=\"hidden\";}}if(this.data.hasOwnCanvas){element.hidden=true;}GetElementsByNameSet.add(element);element.setAttribute(\"data-element-id\",id);element.disabled=this.data.readOnly;element.name=this.data.fieldName;element.tabIndex=DEFAULT_TAB_INDEX;this._setRequired(element,this.data.required);if(maxLen){element.maxLength=maxLen;}element.addEventListener(\"input\",function(event){storage.setValue(id,{value:event.target.value});_this73.setPropertyOnSiblings(element,\"value\",event.target.value,\"value\");elementData.formattedValue=null;});element.addEventListener(\"resetform\",function(event){var _this73$data$defaultF;var defaultValue=(_this73$data$defaultF=_this73.data.defaultFieldValue)!==null&&_this73$data$defaultF!==void 0?_this73$data$defaultF:\"\";element.value=elementData.userValue=defaultValue;elementData.formattedValue=null;});var blurListener=function blurListener(event){var formattedValue=elementData.formattedValue;if(formattedValue!==null&&formattedValue!==undefined){event.target.value=formattedValue;}event.target.scrollLeft=0;};if(this.enableScripting&&this.hasJSActions){var _this$data$actions4;element.addEventListener(\"focus\",function(event){if(elementData.focused){return;}var target=event.target;if(elementData.userValue){target.value=elementData.userValue;}elementData.lastCommittedValue=target.value;elementData.commitKey=1;elementData.focused=true;});element.addEventListener(\"updatefromsandbox\",function(jsEvent){_this73.showElementAndHideCanvas(jsEvent.target);var actions={value:function value(event){var _event$detail$value;elementData.userValue=(_event$detail$value=event.detail.value)!==null&&_event$detail$value!==void 0?_event$detail$value:\"\";storage.setValue(id,{value:elementData.userValue.toString()});event.target.value=elementData.userValue;},formattedValue:function formattedValue(event){var formattedValue=event.detail.formattedValue;elementData.formattedValue=formattedValue;if(formattedValue!==null&&formattedValue!==undefined&&event.target!==document.activeElement){event.target.value=formattedValue;}storage.setValue(id,{formattedValue:formattedValue});},selRange:function selRange(event){var _event$target;(_event$target=event.target).setSelectionRange.apply(_event$target,_toConsumableArray(event.detail.selRange));},charLimit:function charLimit(event){var _this73$linkService$e;var charLimit=event.detail.charLimit;var target=event.target;if(charLimit===0){target.removeAttribute(\"maxLength\");return;}target.setAttribute(\"maxLength\",charLimit);var value=elementData.userValue;if(!value||value.length<=charLimit){return;}value=value.slice(0,charLimit);target.value=elementData.userValue=value;storage.setValue(id,{value:value});(_this73$linkService$e=_this73.linkService.eventBus)===null||_this73$linkService$e===void 0||_this73$linkService$e.dispatch(\"dispatcheventinsandbox\",{source:_this73,detail:{id:id,name:\"Keystroke\",value:value,willCommit:true,commitKey:1,selStart:target.selectionStart,selEnd:target.selectionEnd}});}};_this73._dispatchEventFromSandbox(actions,jsEvent);});element.addEventListener(\"keydown\",function(event){var _this73$linkService$e2;elementData.commitKey=1;var commitKey=-1;if(event.key===\"Escape\"){commitKey=0;}else if(event.key===\"Enter\"&&!_this73.data.multiLine){commitKey=2;}else if(event.key===\"Tab\"){elementData.commitKey=3;}if(commitKey===-1){return;}var value=event.target.value;if(elementData.lastCommittedValue===value){return;}elementData.lastCommittedValue=value;elementData.userValue=value;(_this73$linkService$e2=_this73.linkService.eventBus)===null||_this73$linkService$e2===void 0||_this73$linkService$e2.dispatch(\"dispatcheventinsandbox\",{source:_this73,detail:{id:id,name:\"Keystroke\",value:value,willCommit:true,commitKey:commitKey,selStart:event.target.selectionStart,selEnd:event.target.selectionEnd}});});var _blurListener=blurListener;blurListener=null;element.addEventListener(\"blur\",function(event){if(!elementData.focused||!event.relatedTarget){return;}elementData.focused=false;var value=event.target.value;elementData.userValue=value;if(elementData.lastCommittedValue!==value){var _this73$linkService$e3;(_this73$linkService$e3=_this73.linkService.eventBus)===null||_this73$linkService$e3===void 0||_this73$linkService$e3.dispatch(\"dispatcheventinsandbox\",{source:_this73,detail:{id:id,name:\"Keystroke\",value:value,willCommit:true,commitKey:elementData.commitKey,selStart:event.target.selectionStart,selEnd:event.target.selectionEnd}});}_blurListener(event);});if((_this$data$actions4=this.data.actions)!==null&&_this$data$actions4!==void 0&&_this$data$actions4.Keystroke){element.addEventListener(\"beforeinput\",function(event){var _this73$linkService$e4;elementData.lastCommittedValue=null;var data=event.data,target=event.target;var value=target.value,selectionStart=target.selectionStart,selectionEnd=target.selectionEnd;var selStart=selectionStart,selEnd=selectionEnd;switch(event.inputType){case\"deleteWordBackward\":{var match=value.substring(0,selectionStart).match(/\\w*[^\\w]*$/);if(match){selStart-=match[0].length;}break;}case\"deleteWordForward\":{var _match3=value.substring(selectionStart).match(/^[^\\w]*\\w*/);if(_match3){selEnd+=_match3[0].length;}break;}case\"deleteContentBackward\":if(selectionStart===selectionEnd){selStart-=1;}break;case\"deleteContentForward\":if(selectionStart===selectionEnd){selEnd+=1;}break;}event.preventDefault();(_this73$linkService$e4=_this73.linkService.eventBus)===null||_this73$linkService$e4===void 0||_this73$linkService$e4.dispatch(\"dispatcheventinsandbox\",{source:_this73,detail:{id:id,name:\"Keystroke\",value:value,change:data||\"\",willCommit:false,selStart:selStart,selEnd:selEnd}});});}this._setEventListeners(element,elementData,[[\"focus\",\"Focus\"],[\"blur\",\"Blur\"],[\"mousedown\",\"Mouse Down\"],[\"mouseenter\",\"Mouse Enter\"],[\"mouseleave\",\"Mouse Exit\"],[\"mouseup\",\"Mouse Up\"]],function(event){return event.target.value;});}if(blurListener){element.addEventListener(\"blur\",blurListener);}if(this.data.comb){var fieldWidth=this.data.rect[2]-this.data.rect[0];var combWidth=fieldWidth/maxLen;element.classList.add(\"comb\");element.style.letterSpacing=\"calc(\".concat(combWidth,\"px * var(--scale-factor) - 1ch)\");}}else{element=document.createElement(\"div\");element.textContent=this.data.fieldValue;element.style.verticalAlign=\"middle\";element.style.display=\"table-cell\";}this._setTextStyle(element);this._setBackgroundColor(element);this._setDefaultPropertiesFromJS(element);this.container.append(element);return this.container;}}]);}(WidgetAnnotationElement);var SignatureWidgetAnnotationElement=/*#__PURE__*/function(_WidgetAnnotationElem2){function SignatureWidgetAnnotationElement(parameters){_classCallCheck(this,SignatureWidgetAnnotationElement);return _callSuper(this,SignatureWidgetAnnotationElement,[parameters,{isRenderable:!!parameters.data.hasOwnCanvas}]);}_inherits(SignatureWidgetAnnotationElement,_WidgetAnnotationElem2);return _createClass(SignatureWidgetAnnotationElement);}(WidgetAnnotationElement);var CheckboxWidgetAnnotationElement=/*#__PURE__*/function(_WidgetAnnotationElem3){function CheckboxWidgetAnnotationElement(parameters){_classCallCheck(this,CheckboxWidgetAnnotationElement);return _callSuper(this,CheckboxWidgetAnnotationElement,[parameters,{isRenderable:parameters.renderForms}]);}_inherits(CheckboxWidgetAnnotationElement,_WidgetAnnotationElem3);return _createClass(CheckboxWidgetAnnotationElement,[{key:\"render\",value:function render(){var _this74=this;var storage=this.annotationStorage;var data=this.data;var id=data.id;var value=storage.getValue(id,{value:data.exportValue===data.fieldValue}).value;if(typeof value===\"string\"){value=value!==\"Off\";storage.setValue(id,{value:value});}this.container.classList.add(\"buttonWidgetAnnotation\",\"checkBox\");var element=document.createElement(\"input\");GetElementsByNameSet.add(element);element.setAttribute(\"data-element-id\",id);element.disabled=data.readOnly;this._setRequired(element,this.data.required);element.type=\"checkbox\";element.name=data.fieldName;if(value){element.setAttribute(\"checked\",true);}element.setAttribute(\"exportValue\",data.exportValue);element.tabIndex=DEFAULT_TAB_INDEX;element.addEventListener(\"change\",function(event){var _event$target2=event.target,name=_event$target2.name,checked=_event$target2.checked;var _iterator125=_createForOfIteratorHelper(_this74._getElementsByName(name,id)),_step125;try{for(_iterator125.s();!(_step125=_iterator125.n()).done;){var checkbox=_step125.value;var curChecked=checked&&checkbox.exportValue===data.exportValue;if(checkbox.domElement){checkbox.domElement.checked=curChecked;}storage.setValue(checkbox.id,{value:curChecked});}}catch(err){_iterator125.e(err);}finally{_iterator125.f();}storage.setValue(id,{value:checked});});element.addEventListener(\"resetform\",function(event){var defaultValue=data.defaultFieldValue||\"Off\";event.target.checked=defaultValue===data.exportValue;});if(this.enableScripting&&this.hasJSActions){element.addEventListener(\"updatefromsandbox\",function(jsEvent){var actions={value:function value(event){event.target.checked=event.detail.value!==\"Off\";storage.setValue(id,{value:event.target.checked});}};_this74._dispatchEventFromSandbox(actions,jsEvent);});this._setEventListeners(element,null,[[\"change\",\"Validate\"],[\"change\",\"Action\"],[\"focus\",\"Focus\"],[\"blur\",\"Blur\"],[\"mousedown\",\"Mouse Down\"],[\"mouseenter\",\"Mouse Enter\"],[\"mouseleave\",\"Mouse Exit\"],[\"mouseup\",\"Mouse Up\"]],function(event){return event.target.checked;});}this._setBackgroundColor(element);this._setDefaultPropertiesFromJS(element);this.container.append(element);return this.container;}}]);}(WidgetAnnotationElement);var RadioButtonWidgetAnnotationElement=/*#__PURE__*/function(_WidgetAnnotationElem4){function RadioButtonWidgetAnnotationElement(parameters){_classCallCheck(this,RadioButtonWidgetAnnotationElement);return _callSuper(this,RadioButtonWidgetAnnotationElement,[parameters,{isRenderable:parameters.renderForms}]);}_inherits(RadioButtonWidgetAnnotationElement,_WidgetAnnotationElem4);return _createClass(RadioButtonWidgetAnnotationElement,[{key:\"render\",value:function render(){var _this75=this;this.container.classList.add(\"buttonWidgetAnnotation\",\"radioButton\");var storage=this.annotationStorage;var data=this.data;var id=data.id;var value=storage.getValue(id,{value:data.fieldValue===data.buttonValue}).value;if(typeof value===\"string\"){value=value!==data.buttonValue;storage.setValue(id,{value:value});}var element=document.createElement(\"input\");GetElementsByNameSet.add(element);element.setAttribute(\"data-element-id\",id);element.disabled=data.readOnly;this._setRequired(element,this.data.required);element.type=\"radio\";element.name=data.fieldName;if(value){element.setAttribute(\"checked\",true);}element.tabIndex=DEFAULT_TAB_INDEX;element.addEventListener(\"change\",function(event){var _event$target3=event.target,name=_event$target3.name,checked=_event$target3.checked;var _iterator126=_createForOfIteratorHelper(_this75._getElementsByName(name,id)),_step126;try{for(_iterator126.s();!(_step126=_iterator126.n()).done;){var radio=_step126.value;storage.setValue(radio.id,{value:false});}}catch(err){_iterator126.e(err);}finally{_iterator126.f();}storage.setValue(id,{value:checked});});element.addEventListener(\"resetform\",function(event){var defaultValue=data.defaultFieldValue;event.target.checked=defaultValue!==null&&defaultValue!==undefined&&defaultValue===data.buttonValue;});if(this.enableScripting&&this.hasJSActions){var pdfButtonValue=data.buttonValue;element.addEventListener(\"updatefromsandbox\",function(jsEvent){var actions={value:function value(event){var checked=pdfButtonValue===event.detail.value;var _iterator127=_createForOfIteratorHelper(_this75._getElementsByName(event.target.name)),_step127;try{for(_iterator127.s();!(_step127=_iterator127.n()).done;){var radio=_step127.value;var curChecked=checked&&radio.id===id;if(radio.domElement){radio.domElement.checked=curChecked;}storage.setValue(radio.id,{value:curChecked});}}catch(err){_iterator127.e(err);}finally{_iterator127.f();}}};_this75._dispatchEventFromSandbox(actions,jsEvent);});this._setEventListeners(element,null,[[\"change\",\"Validate\"],[\"change\",\"Action\"],[\"focus\",\"Focus\"],[\"blur\",\"Blur\"],[\"mousedown\",\"Mouse Down\"],[\"mouseenter\",\"Mouse Enter\"],[\"mouseleave\",\"Mouse Exit\"],[\"mouseup\",\"Mouse Up\"]],function(event){return event.target.checked;});}this._setBackgroundColor(element);this._setDefaultPropertiesFromJS(element);this.container.append(element);return this.container;}}]);}(WidgetAnnotationElement);var PushButtonWidgetAnnotationElement=/*#__PURE__*/function(_LinkAnnotationElemen){function PushButtonWidgetAnnotationElement(parameters){_classCallCheck(this,PushButtonWidgetAnnotationElement);return _callSuper(this,PushButtonWidgetAnnotationElement,[parameters,{ignoreBorder:parameters.data.hasAppearance}]);}_inherits(PushButtonWidgetAnnotationElement,_LinkAnnotationElemen);return _createClass(PushButtonWidgetAnnotationElement,[{key:\"render\",value:function render(){var _this76=this;var container=_superPropGet(PushButtonWidgetAnnotationElement,\"render\",this,3)([]);container.classList.add(\"buttonWidgetAnnotation\",\"pushButton\");if(this.data.alternativeText){container.title=this.data.alternativeText;}var linkElement=container.lastChild;if(this.enableScripting&&this.hasJSActions&&linkElement){this._setDefaultPropertiesFromJS(linkElement);linkElement.addEventListener(\"updatefromsandbox\",function(jsEvent){_this76._dispatchEventFromSandbox({},jsEvent);});}return container;}}]);}(LinkAnnotationElement);var ChoiceWidgetAnnotationElement=/*#__PURE__*/function(_WidgetAnnotationElem5){function ChoiceWidgetAnnotationElement(parameters){_classCallCheck(this,ChoiceWidgetAnnotationElement);return _callSuper(this,ChoiceWidgetAnnotationElement,[parameters,{isRenderable:parameters.renderForms}]);}_inherits(ChoiceWidgetAnnotationElement,_WidgetAnnotationElem5);return _createClass(ChoiceWidgetAnnotationElement,[{key:\"render\",value:function render(){var _this77=this;this.container.classList.add(\"choiceWidgetAnnotation\");var storage=this.annotationStorage;var id=this.data.id;var storedData=storage.getValue(id,{value:this.data.fieldValue});var selectElement=document.createElement(\"select\");GetElementsByNameSet.add(selectElement);selectElement.setAttribute(\"data-element-id\",id);selectElement.disabled=this.data.readOnly;this._setRequired(selectElement,this.data.required);selectElement.name=this.data.fieldName;selectElement.tabIndex=DEFAULT_TAB_INDEX;var addAnEmptyEntry=this.data.combo&&this.data.options.length>0;if(!this.data.combo){selectElement.size=this.data.options.length;if(this.data.multiSelect){selectElement.multiple=true;}}selectElement.addEventListener(\"resetform\",function(event){var defaultValue=_this77.data.defaultFieldValue;var _iterator128=_createForOfIteratorHelper(selectElement.options),_step128;try{for(_iterator128.s();!(_step128=_iterator128.n()).done;){var option=_step128.value;option.selected=option.value===defaultValue;}}catch(err){_iterator128.e(err);}finally{_iterator128.f();}});var _iterator129=_createForOfIteratorHelper(this.data.options),_step129;try{for(_iterator129.s();!(_step129=_iterator129.n()).done;){var option=_step129.value;var optionElement=document.createElement(\"option\");optionElement.textContent=option.displayValue;optionElement.value=option.exportValue;if(storedData.value.includes(option.exportValue)){optionElement.setAttribute(\"selected\",true);addAnEmptyEntry=false;}selectElement.append(optionElement);}}catch(err){_iterator129.e(err);}finally{_iterator129.f();}var _removeEmptyEntry=null;if(addAnEmptyEntry){var noneOptionElement=document.createElement(\"option\");noneOptionElement.value=\" \";noneOptionElement.setAttribute(\"hidden\",true);noneOptionElement.setAttribute(\"selected\",true);selectElement.prepend(noneOptionElement);_removeEmptyEntry=function removeEmptyEntry(){noneOptionElement.remove();selectElement.removeEventListener(\"input\",_removeEmptyEntry);_removeEmptyEntry=null;};selectElement.addEventListener(\"input\",_removeEmptyEntry);}var getValue=function getValue(isExport){var name=isExport?\"value\":\"textContent\";var options=selectElement.options,multiple=selectElement.multiple;if(!multiple){return options.selectedIndex===-1?null:options[options.selectedIndex][name];}return Array.prototype.filter.call(options,function(option){return option.selected;}).map(function(option){return option[name];});};var selectedValues=getValue(false);var getItems=function getItems(event){var options=event.target.options;return Array.prototype.map.call(options,function(option){return{displayValue:option.textContent,exportValue:option.value};});};if(this.enableScripting&&this.hasJSActions){selectElement.addEventListener(\"updatefromsandbox\",function(jsEvent){var actions={value:function value(event){var _removeEmptyEntry2;(_removeEmptyEntry2=_removeEmptyEntry)===null||_removeEmptyEntry2===void 0||_removeEmptyEntry2();var value=event.detail.value;var values=new Set(Array.isArray(value)?value:[value]);var _iterator130=_createForOfIteratorHelper(selectElement.options),_step130;try{for(_iterator130.s();!(_step130=_iterator130.n()).done;){var option=_step130.value;option.selected=values.has(option.value);}}catch(err){_iterator130.e(err);}finally{_iterator130.f();}storage.setValue(id,{value:getValue(true)});selectedValues=getValue(false);},multipleSelection:function multipleSelection(event){selectElement.multiple=true;},remove:function remove(event){var options=selectElement.options;var index=event.detail.remove;options[index].selected=false;selectElement.remove(index);if(options.length>0){var i=Array.prototype.findIndex.call(options,function(option){return option.selected;});if(i===-1){options[0].selected=true;}}storage.setValue(id,{value:getValue(true),items:getItems(event)});selectedValues=getValue(false);},clear:function clear(event){while(selectElement.length!==0){selectElement.remove(0);}storage.setValue(id,{value:null,items:[]});selectedValues=getValue(false);},insert:function insert(event){var _event$detail$insert=event.detail.insert,index=_event$detail$insert.index,displayValue=_event$detail$insert.displayValue,exportValue=_event$detail$insert.exportValue;var selectChild=selectElement.children[index];var optionElement=document.createElement(\"option\");optionElement.textContent=displayValue;optionElement.value=exportValue;if(selectChild){selectChild.before(optionElement);}else{selectElement.append(optionElement);}storage.setValue(id,{value:getValue(true),items:getItems(event)});selectedValues=getValue(false);},items:function items(event){var items=event.detail.items;while(selectElement.length!==0){selectElement.remove(0);}var _iterator131=_createForOfIteratorHelper(items),_step131;try{for(_iterator131.s();!(_step131=_iterator131.n()).done;){var item=_step131.value;var displayValue=item.displayValue,exportValue=item.exportValue;var optionElement=document.createElement(\"option\");optionElement.textContent=displayValue;optionElement.value=exportValue;selectElement.append(optionElement);}}catch(err){_iterator131.e(err);}finally{_iterator131.f();}if(selectElement.options.length>0){selectElement.options[0].selected=true;}storage.setValue(id,{value:getValue(true),items:getItems(event)});selectedValues=getValue(false);},indices:function indices(event){var indices=new Set(event.detail.indices);var _iterator132=_createForOfIteratorHelper(event.target.options),_step132;try{for(_iterator132.s();!(_step132=_iterator132.n()).done;){var option=_step132.value;option.selected=indices.has(option.index);}}catch(err){_iterator132.e(err);}finally{_iterator132.f();}storage.setValue(id,{value:getValue(true)});selectedValues=getValue(false);},editable:function editable(event){event.target.disabled=!event.detail.editable;}};_this77._dispatchEventFromSandbox(actions,jsEvent);});selectElement.addEventListener(\"input\",function(event){var _this77$linkService$e;var exportValue=getValue(true);storage.setValue(id,{value:exportValue});event.preventDefault();(_this77$linkService$e=_this77.linkService.eventBus)===null||_this77$linkService$e===void 0||_this77$linkService$e.dispatch(\"dispatcheventinsandbox\",{source:_this77,detail:{id:id,name:\"Keystroke\",value:selectedValues,changeEx:exportValue,willCommit:false,commitKey:1,keyDown:false}});});this._setEventListeners(selectElement,null,[[\"focus\",\"Focus\"],[\"blur\",\"Blur\"],[\"mousedown\",\"Mouse Down\"],[\"mouseenter\",\"Mouse Enter\"],[\"mouseleave\",\"Mouse Exit\"],[\"mouseup\",\"Mouse Up\"],[\"input\",\"Action\"],[\"input\",\"Validate\"]],function(event){return event.target.value;});}else{selectElement.addEventListener(\"input\",function(event){storage.setValue(id,{value:getValue(true)});});}if(this.data.combo){this._setTextStyle(selectElement);}else{}this._setBackgroundColor(selectElement);this._setDefaultPropertiesFromJS(selectElement);this.container.append(selectElement);return this.container;}}]);}(WidgetAnnotationElement);var PopupAnnotationElement=/*#__PURE__*/function(_AnnotationElement5){function PopupAnnotationElement(parameters){var _this78;_classCallCheck(this,PopupAnnotationElement);var data=parameters.data,elements=parameters.elements;_this78=_callSuper(this,PopupAnnotationElement,[parameters,{isRenderable:AnnotationElement._hasPopupData(data)}]);_this78.elements=elements;return _this78;}_inherits(PopupAnnotationElement,_AnnotationElement5);return _createClass(PopupAnnotationElement,[{key:\"render\",value:function render(){this.container.classList.add(\"popupAnnotation\");var popup=new PopupElement({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open});var elementIds=[];var _iterator133=_createForOfIteratorHelper(this.elements),_step133;try{for(_iterator133.s();!(_step133=_iterator133.n()).done;){var element=_step133.value;element.popup=popup;elementIds.push(element.data.id);element.addHighlightArea();}}catch(err){_iterator133.e(err);}finally{_iterator133.f();}this.container.setAttribute(\"aria-controls\",elementIds.map(function(id){return\"\".concat(_util.AnnotationPrefix).concat(id);}).join(\",\"));return this.container;}}]);}(AnnotationElement);var _dateTimePromise=/*#__PURE__*/new WeakMap();var _boundKeyDown=/*#__PURE__*/new WeakMap();var _boundHide=/*#__PURE__*/new WeakMap();var _boundShow=/*#__PURE__*/new WeakMap();var _boundToggle=/*#__PURE__*/new WeakMap();var _color2=/*#__PURE__*/new WeakMap();var _container2=/*#__PURE__*/new WeakMap();var _contentsObj=/*#__PURE__*/new WeakMap();var _elements=/*#__PURE__*/new WeakMap();var _parent=/*#__PURE__*/new WeakMap();var _parentRect=/*#__PURE__*/new WeakMap();var _pinned=/*#__PURE__*/new WeakMap();var _popup=/*#__PURE__*/new WeakMap();var _rect2=/*#__PURE__*/new WeakMap();var _richText=/*#__PURE__*/new WeakMap();var _titleObj=/*#__PURE__*/new WeakMap();var _wasVisible=/*#__PURE__*/new WeakMap();var _PopupElement_brand=/*#__PURE__*/new WeakSet();var PopupElement=/*#__PURE__*/function(){function PopupElement(_ref75){var container=_ref75.container,color=_ref75.color,elements=_ref75.elements,titleObj=_ref75.titleObj,modificationDate=_ref75.modificationDate,contentsObj=_ref75.contentsObj,richText=_ref75.richText,parent=_ref75.parent,rect=_ref75.rect,parentRect=_ref75.parentRect,open=_ref75.open;_classCallCheck(this,PopupElement);_classPrivateMethodInitSpec(this,_PopupElement_brand);_classPrivateFieldInitSpec(this,_dateTimePromise,null);_classPrivateFieldInitSpec(this,_boundKeyDown,_assertClassBrand(_PopupElement_brand,this,_keyDown).bind(this));_classPrivateFieldInitSpec(this,_boundHide,_assertClassBrand(_PopupElement_brand,this,_hide).bind(this));_classPrivateFieldInitSpec(this,_boundShow,_assertClassBrand(_PopupElement_brand,this,_show).bind(this));_classPrivateFieldInitSpec(this,_boundToggle,_assertClassBrand(_PopupElement_brand,this,_toggle).bind(this));_classPrivateFieldInitSpec(this,_color2,null);_classPrivateFieldInitSpec(this,_container2,null);_classPrivateFieldInitSpec(this,_contentsObj,null);_classPrivateFieldInitSpec(this,_elements,null);_classPrivateFieldInitSpec(this,_parent,null);_classPrivateFieldInitSpec(this,_parentRect,null);_classPrivateFieldInitSpec(this,_pinned,false);_classPrivateFieldInitSpec(this,_popup,null);_classPrivateFieldInitSpec(this,_rect2,null);_classPrivateFieldInitSpec(this,_richText,null);_classPrivateFieldInitSpec(this,_titleObj,null);_classPrivateFieldInitSpec(this,_wasVisible,false);_classPrivateFieldSet(_container2,this,container);_classPrivateFieldSet(_titleObj,this,titleObj);_classPrivateFieldSet(_contentsObj,this,contentsObj);_classPrivateFieldSet(_richText,this,richText);_classPrivateFieldSet(_parent,this,parent);_classPrivateFieldSet(_color2,this,color);_classPrivateFieldSet(_rect2,this,rect);_classPrivateFieldSet(_parentRect,this,parentRect);_classPrivateFieldSet(_elements,this,elements);var dateObject=_display_utils.PDFDateString.toDateObject(modificationDate);if(dateObject){_classPrivateFieldSet(_dateTimePromise,this,parent.l10n.get(\"annotation_date_string\",{date:dateObject.toLocaleDateString(),time:dateObject.toLocaleTimeString()}));}this.trigger=elements.flatMap(function(e){return e.getElementsToTriggerPopup();});var _iterator134=_createForOfIteratorHelper(this.trigger),_step134;try{for(_iterator134.s();!(_step134=_iterator134.n()).done;){var element=_step134.value;element.addEventListener(\"click\",_classPrivateFieldGet(_boundToggle,this));element.addEventListener(\"mouseenter\",_classPrivateFieldGet(_boundShow,this));element.addEventListener(\"mouseleave\",_classPrivateFieldGet(_boundHide,this));element.classList.add(\"popupTriggerArea\");}}catch(err){_iterator134.e(err);}finally{_iterator134.f();}var _iterator135=_createForOfIteratorHelper(elements),_step135;try{for(_iterator135.s();!(_step135=_iterator135.n()).done;){var _element$container;var _element=_step135.value;(_element$container=_element.container)===null||_element$container===void 0||_element$container.addEventListener(\"keydown\",_classPrivateFieldGet(_boundKeyDown,this));}}catch(err){_iterator135.e(err);}finally{_iterator135.f();}_classPrivateFieldGet(_container2,this).hidden=true;if(open){_assertClassBrand(_PopupElement_brand,this,_toggle).call(this);}}return _createClass(PopupElement,[{key:\"render\",value:function render(){if(_classPrivateFieldGet(_popup,this)){return;}var _classPrivateFieldGet26=_classPrivateFieldGet(_parent,this),view=_classPrivateFieldGet26.page.view,_classPrivateFieldGet27=_classPrivateFieldGet26.viewport.rawDims,pageWidth=_classPrivateFieldGet27.pageWidth,pageHeight=_classPrivateFieldGet27.pageHeight,pageX=_classPrivateFieldGet27.pageX,pageY=_classPrivateFieldGet27.pageY;var popup=_classPrivateFieldSet(_popup,this,document.createElement(\"div\"));popup.className=\"popup\";if(_classPrivateFieldGet(_color2,this)){var _util$Util6;var baseColor=popup.style.outlineColor=(_util$Util6=_util.Util).makeHexColor.apply(_util$Util6,_toConsumableArray(_classPrivateFieldGet(_color2,this)));if(CSS.supports(\"background-color\",\"color-mix(in srgb, red 30%, white)\")){popup.style.backgroundColor=\"color-mix(in srgb, \".concat(baseColor,\" 30%, white)\");}else{var _util$Util7;var BACKGROUND_ENLIGHT=0.7;popup.style.backgroundColor=(_util$Util7=_util.Util).makeHexColor.apply(_util$Util7,_toConsumableArray(_classPrivateFieldGet(_color2,this).map(function(c){return Math.floor(BACKGROUND_ENLIGHT*(255-c)+c);})));}}var header=document.createElement(\"span\");header.className=\"header\";var title=document.createElement(\"h1\");header.append(title);var _classPrivateFieldGet28=_classPrivateFieldGet(_titleObj,this);title.dir=_classPrivateFieldGet28.dir;title.textContent=_classPrivateFieldGet28.str;popup.append(header);if(_classPrivateFieldGet(_dateTimePromise,this)){var modificationDate=document.createElement(\"span\");modificationDate.classList.add(\"popupDate\");_classPrivateFieldGet(_dateTimePromise,this).then(function(localized){modificationDate.textContent=localized;});header.append(modificationDate);}var contentsObj=_classPrivateFieldGet(_contentsObj,this);var richText=_classPrivateFieldGet(_richText,this);if(richText!==null&&richText!==void 0&&richText.str&&(!(contentsObj!==null&&contentsObj!==void 0&&contentsObj.str)||contentsObj.str===richText.str)){_xfa_layer.XfaLayer.render({xfaHtml:richText.html,intent:\"richText\",div:popup});popup.lastChild.classList.add(\"richText\",\"popupContent\");}else{var contents=this._formatContents(contentsObj);popup.append(contents);}var useParentRect=!!_classPrivateFieldGet(_parentRect,this);var rect=useParentRect?_classPrivateFieldGet(_parentRect,this):_classPrivateFieldGet(_rect2,this);var _iterator136=_createForOfIteratorHelper(_classPrivateFieldGet(_elements,this)),_step136;try{for(_iterator136.s();!(_step136=_iterator136.n()).done;){var element=_step136.value;if(!rect||_util.Util.intersect(element.data.rect,rect)!==null){rect=element.data.rect;useParentRect=true;break;}}}catch(err){_iterator136.e(err);}finally{_iterator136.f();}var normalizedRect=_util.Util.normalizeRect([rect[0],view[3]-rect[1]+view[1],rect[2],view[3]-rect[3]+view[1]]);var HORIZONTAL_SPACE_AFTER_ANNOTATION=5;var parentWidth=useParentRect?rect[2]-rect[0]+HORIZONTAL_SPACE_AFTER_ANNOTATION:0;var popupLeft=normalizedRect[0]+parentWidth;var popupTop=normalizedRect[1];var _classPrivateFieldGet29=_classPrivateFieldGet(_container2,this),style=_classPrivateFieldGet29.style;style.left=\"\".concat(100*(popupLeft-pageX)/pageWidth,\"%\");style.top=\"\".concat(100*(popupTop-pageY)/pageHeight,\"%\");_classPrivateFieldGet(_container2,this).append(popup);}},{key:\"_formatContents\",value:function _formatContents(_ref76){var str=_ref76.str,dir=_ref76.dir;var p=document.createElement(\"p\");p.classList.add(\"popupContent\");p.dir=dir;var lines=str.split(/(?:\\r\\n?|\\n)/);for(var i=0,ii=lines.length;i<ii;++i){var line=lines[i];p.append(document.createTextNode(line));if(i<ii-1){p.append(document.createElement(\"br\"));}}return p;}},{key:\"forceHide\",value:function forceHide(){_classPrivateFieldSet(_wasVisible,this,this.isVisible);if(!_classPrivateFieldGet(_wasVisible,this)){return;}_classPrivateFieldGet(_container2,this).hidden=true;}},{key:\"maybeShow\",value:function maybeShow(){if(!_classPrivateFieldGet(_wasVisible,this)){return;}_classPrivateFieldSet(_wasVisible,this,false);_classPrivateFieldGet(_container2,this).hidden=false;}},{key:\"isVisible\",get:function get(){return _classPrivateFieldGet(_container2,this).hidden===false;}}]);}();function _keyDown(event){if(event.altKey||event.shiftKey||event.ctrlKey||event.metaKey){return;}if(event.key===\"Enter\"||event.key===\"Escape\"&&_classPrivateFieldGet(_pinned,this)){_assertClassBrand(_PopupElement_brand,this,_toggle).call(this);}}function _toggle(){_classPrivateFieldSet(_pinned,this,!_classPrivateFieldGet(_pinned,this));if(_classPrivateFieldGet(_pinned,this)){_assertClassBrand(_PopupElement_brand,this,_show).call(this);_classPrivateFieldGet(_container2,this).addEventListener(\"click\",_classPrivateFieldGet(_boundToggle,this));_classPrivateFieldGet(_container2,this).addEventListener(\"keydown\",_classPrivateFieldGet(_boundKeyDown,this));}else{_assertClassBrand(_PopupElement_brand,this,_hide).call(this);_classPrivateFieldGet(_container2,this).removeEventListener(\"click\",_classPrivateFieldGet(_boundToggle,this));_classPrivateFieldGet(_container2,this).removeEventListener(\"keydown\",_classPrivateFieldGet(_boundKeyDown,this));}}function _show(){if(!_classPrivateFieldGet(_popup,this)){this.render();}if(!this.isVisible){_classPrivateFieldGet(_container2,this).hidden=false;_classPrivateFieldGet(_container2,this).style.zIndex=parseInt(_classPrivateFieldGet(_container2,this).style.zIndex)+1000;}else if(_classPrivateFieldGet(_pinned,this)){_classPrivateFieldGet(_container2,this).classList.add(\"focused\");}}function _hide(){_classPrivateFieldGet(_container2,this).classList.remove(\"focused\");if(_classPrivateFieldGet(_pinned,this)||!this.isVisible){return;}_classPrivateFieldGet(_container2,this).hidden=true;_classPrivateFieldGet(_container2,this).style.zIndex=parseInt(_classPrivateFieldGet(_container2,this).style.zIndex)-1000;}var FreeTextAnnotationElement=/*#__PURE__*/function(_AnnotationElement6){function FreeTextAnnotationElement(parameters){var _this79;_classCallCheck(this,FreeTextAnnotationElement);_this79=_callSuper(this,FreeTextAnnotationElement,[parameters,{isRenderable:true,ignoreBorder:true}]);_this79.textContent=parameters.data.textContent;_this79.textPosition=parameters.data.textPosition;_this79.annotationEditorType=_util.AnnotationEditorType.FREETEXT;return _this79;}_inherits(FreeTextAnnotationElement,_AnnotationElement6);return _createClass(FreeTextAnnotationElement,[{key:\"render\",value:function render(){this.container.classList.add(\"freeTextAnnotation\");if(this.textContent){var content=document.createElement(\"div\");content.classList.add(\"annotationTextContent\");content.setAttribute(\"role\",\"comment\");var _iterator137=_createForOfIteratorHelper(this.textContent),_step137;try{for(_iterator137.s();!(_step137=_iterator137.n()).done;){var line=_step137.value;var lineSpan=document.createElement(\"span\");lineSpan.textContent=line;content.append(lineSpan);}}catch(err){_iterator137.e(err);}finally{_iterator137.f();}this.container.append(content);}if(!this.data.popupRef&&this.hasPopupData){this._createPopup();}this._editOnDoubleClick();return this.container;}}]);}(AnnotationElement);exports.FreeTextAnnotationElement=FreeTextAnnotationElement;var _line=/*#__PURE__*/new WeakMap();var LineAnnotationElement=/*#__PURE__*/function(_AnnotationElement7){function LineAnnotationElement(parameters){var _this80;_classCallCheck(this,LineAnnotationElement);_this80=_callSuper(this,LineAnnotationElement,[parameters,{isRenderable:true,ignoreBorder:true}]);_classPrivateFieldInitSpec(_this80,_line,null);return _this80;}_inherits(LineAnnotationElement,_AnnotationElement7);return _createClass(LineAnnotationElement,[{key:\"render\",value:function render(){this.container.classList.add(\"lineAnnotation\");var data=this.data;var _getRectDims3=getRectDims(data.rect),width=_getRectDims3.width,height=_getRectDims3.height;var svg=this.svgFactory.create(width,height,true);var line=_classPrivateFieldSet(_line,this,this.svgFactory.createElement(\"svg:line\"));line.setAttribute(\"x1\",data.rect[2]-data.lineCoordinates[0]);line.setAttribute(\"y1\",data.rect[3]-data.lineCoordinates[1]);line.setAttribute(\"x2\",data.rect[2]-data.lineCoordinates[2]);line.setAttribute(\"y2\",data.rect[3]-data.lineCoordinates[3]);line.setAttribute(\"stroke-width\",data.borderStyle.width||1);line.setAttribute(\"stroke\",\"transparent\");line.setAttribute(\"fill\",\"transparent\");svg.append(line);this.container.append(svg);if(!data.popupRef&&this.hasPopupData){this._createPopup();}return this.container;}},{key:\"getElementsToTriggerPopup\",value:function getElementsToTriggerPopup(){return _classPrivateFieldGet(_line,this);}},{key:\"addHighlightArea\",value:function addHighlightArea(){this.container.classList.add(\"highlightArea\");}}]);}(AnnotationElement);var _square=/*#__PURE__*/new WeakMap();var SquareAnnotationElement=/*#__PURE__*/function(_AnnotationElement8){function SquareAnnotationElement(parameters){var _this81;_classCallCheck(this,SquareAnnotationElement);_this81=_callSuper(this,SquareAnnotationElement,[parameters,{isRenderable:true,ignoreBorder:true}]);_classPrivateFieldInitSpec(_this81,_square,null);return _this81;}_inherits(SquareAnnotationElement,_AnnotationElement8);return _createClass(SquareAnnotationElement,[{key:\"render\",value:function render(){this.container.classList.add(\"squareAnnotation\");var data=this.data;var _getRectDims4=getRectDims(data.rect),width=_getRectDims4.width,height=_getRectDims4.height;var svg=this.svgFactory.create(width,height,true);var borderWidth=data.borderStyle.width;var square=_classPrivateFieldSet(_square,this,this.svgFactory.createElement(\"svg:rect\"));square.setAttribute(\"x\",borderWidth/2);square.setAttribute(\"y\",borderWidth/2);square.setAttribute(\"width\",width-borderWidth);square.setAttribute(\"height\",height-borderWidth);square.setAttribute(\"stroke-width\",borderWidth||1);square.setAttribute(\"stroke\",\"transparent\");square.setAttribute(\"fill\",\"transparent\");svg.append(square);this.container.append(svg);if(!data.popupRef&&this.hasPopupData){this._createPopup();}return this.container;}},{key:\"getElementsToTriggerPopup\",value:function getElementsToTriggerPopup(){return _classPrivateFieldGet(_square,this);}},{key:\"addHighlightArea\",value:function addHighlightArea(){this.container.classList.add(\"highlightArea\");}}]);}(AnnotationElement);var _circle=/*#__PURE__*/new WeakMap();var CircleAnnotationElement=/*#__PURE__*/function(_AnnotationElement9){function CircleAnnotationElement(parameters){var _this82;_classCallCheck(this,CircleAnnotationElement);_this82=_callSuper(this,CircleAnnotationElement,[parameters,{isRenderable:true,ignoreBorder:true}]);_classPrivateFieldInitSpec(_this82,_circle,null);return _this82;}_inherits(CircleAnnotationElement,_AnnotationElement9);return _createClass(CircleAnnotationElement,[{key:\"render\",value:function render(){this.container.classList.add(\"circleAnnotation\");var data=this.data;var _getRectDims5=getRectDims(data.rect),width=_getRectDims5.width,height=_getRectDims5.height;var svg=this.svgFactory.create(width,height,true);var borderWidth=data.borderStyle.width;var circle=_classPrivateFieldSet(_circle,this,this.svgFactory.createElement(\"svg:ellipse\"));circle.setAttribute(\"cx\",width/2);circle.setAttribute(\"cy\",height/2);circle.setAttribute(\"rx\",width/2-borderWidth/2);circle.setAttribute(\"ry\",height/2-borderWidth/2);circle.setAttribute(\"stroke-width\",borderWidth||1);circle.setAttribute(\"stroke\",\"transparent\");circle.setAttribute(\"fill\",\"transparent\");svg.append(circle);this.container.append(svg);if(!data.popupRef&&this.hasPopupData){this._createPopup();}return this.container;}},{key:\"getElementsToTriggerPopup\",value:function getElementsToTriggerPopup(){return _classPrivateFieldGet(_circle,this);}},{key:\"addHighlightArea\",value:function addHighlightArea(){this.container.classList.add(\"highlightArea\");}}]);}(AnnotationElement);var _polyline=/*#__PURE__*/new WeakMap();var PolylineAnnotationElement=/*#__PURE__*/function(_AnnotationElement0){function PolylineAnnotationElement(parameters){var _this83;_classCallCheck(this,PolylineAnnotationElement);_this83=_callSuper(this,PolylineAnnotationElement,[parameters,{isRenderable:true,ignoreBorder:true}]);_classPrivateFieldInitSpec(_this83,_polyline,null);_this83.containerClassName=\"polylineAnnotation\";_this83.svgElementName=\"svg:polyline\";return _this83;}_inherits(PolylineAnnotationElement,_AnnotationElement0);return _createClass(PolylineAnnotationElement,[{key:\"render\",value:function render(){this.container.classList.add(this.containerClassName);var data=this.data;var _getRectDims6=getRectDims(data.rect),width=_getRectDims6.width,height=_getRectDims6.height;var svg=this.svgFactory.create(width,height,true);var points=[];var _iterator138=_createForOfIteratorHelper(data.vertices),_step138;try{for(_iterator138.s();!(_step138=_iterator138.n()).done;){var coordinate=_step138.value;var x=coordinate.x-data.rect[0];var y=data.rect[3]-coordinate.y;points.push(x+\",\"+y);}}catch(err){_iterator138.e(err);}finally{_iterator138.f();}points=points.join(\" \");var polyline=_classPrivateFieldSet(_polyline,this,this.svgFactory.createElement(this.svgElementName));polyline.setAttribute(\"points\",points);polyline.setAttribute(\"stroke-width\",data.borderStyle.width||1);polyline.setAttribute(\"stroke\",\"transparent\");polyline.setAttribute(\"fill\",\"transparent\");svg.append(polyline);this.container.append(svg);if(!data.popupRef&&this.hasPopupData){this._createPopup();}return this.container;}},{key:\"getElementsToTriggerPopup\",value:function getElementsToTriggerPopup(){return _classPrivateFieldGet(_polyline,this);}},{key:\"addHighlightArea\",value:function addHighlightArea(){this.container.classList.add(\"highlightArea\");}}]);}(AnnotationElement);var PolygonAnnotationElement=/*#__PURE__*/function(_PolylineAnnotationEl){function PolygonAnnotationElement(parameters){var _this84;_classCallCheck(this,PolygonAnnotationElement);_this84=_callSuper(this,PolygonAnnotationElement,[parameters]);_this84.containerClassName=\"polygonAnnotation\";_this84.svgElementName=\"svg:polygon\";return _this84;}_inherits(PolygonAnnotationElement,_PolylineAnnotationEl);return _createClass(PolygonAnnotationElement);}(PolylineAnnotationElement);var CaretAnnotationElement=/*#__PURE__*/function(_AnnotationElement1){function CaretAnnotationElement(parameters){_classCallCheck(this,CaretAnnotationElement);return _callSuper(this,CaretAnnotationElement,[parameters,{isRenderable:true,ignoreBorder:true}]);}_inherits(CaretAnnotationElement,_AnnotationElement1);return _createClass(CaretAnnotationElement,[{key:\"render\",value:function render(){this.container.classList.add(\"caretAnnotation\");if(!this.data.popupRef&&this.hasPopupData){this._createPopup();}return this.container;}}]);}(AnnotationElement);var _polylines=/*#__PURE__*/new WeakMap();var InkAnnotationElement=/*#__PURE__*/function(_AnnotationElement10){function InkAnnotationElement(parameters){var _this85;_classCallCheck(this,InkAnnotationElement);_this85=_callSuper(this,InkAnnotationElement,[parameters,{isRenderable:true,ignoreBorder:true}]);_classPrivateFieldInitSpec(_this85,_polylines,[]);_this85.containerClassName=\"inkAnnotation\";_this85.svgElementName=\"svg:polyline\";_this85.annotationEditorType=_util.AnnotationEditorType.INK;return _this85;}_inherits(InkAnnotationElement,_AnnotationElement10);return _createClass(InkAnnotationElement,[{key:\"render\",value:function render(){this.container.classList.add(this.containerClassName);var data=this.data;var _getRectDims7=getRectDims(data.rect),width=_getRectDims7.width,height=_getRectDims7.height;var svg=this.svgFactory.create(width,height,true);var _iterator139=_createForOfIteratorHelper(data.inkLists),_step139;try{for(_iterator139.s();!(_step139=_iterator139.n()).done;){var inkList=_step139.value;var points=[];var _iterator140=_createForOfIteratorHelper(inkList),_step140;try{for(_iterator140.s();!(_step140=_iterator140.n()).done;){var coordinate=_step140.value;var x=coordinate.x-data.rect[0];var y=data.rect[3]-coordinate.y;points.push(\"\".concat(x,\",\").concat(y));}}catch(err){_iterator140.e(err);}finally{_iterator140.f();}points=points.join(\" \");var polyline=this.svgFactory.createElement(this.svgElementName);_classPrivateFieldGet(_polylines,this).push(polyline);polyline.setAttribute(\"points\",points);polyline.setAttribute(\"stroke-width\",data.borderStyle.width||1);polyline.setAttribute(\"stroke\",\"transparent\");polyline.setAttribute(\"fill\",\"transparent\");if(!data.popupRef&&this.hasPopupData){this._createPopup();}svg.append(polyline);}}catch(err){_iterator139.e(err);}finally{_iterator139.f();}this.container.append(svg);return this.container;}},{key:\"getElementsToTriggerPopup\",value:function getElementsToTriggerPopup(){return _classPrivateFieldGet(_polylines,this);}},{key:\"addHighlightArea\",value:function addHighlightArea(){this.container.classList.add(\"highlightArea\");}}]);}(AnnotationElement);exports.InkAnnotationElement=InkAnnotationElement;var HighlightAnnotationElement=/*#__PURE__*/function(_AnnotationElement11){function HighlightAnnotationElement(parameters){_classCallCheck(this,HighlightAnnotationElement);return _callSuper(this,HighlightAnnotationElement,[parameters,{isRenderable:true,ignoreBorder:true,createQuadrilaterals:true}]);}_inherits(HighlightAnnotationElement,_AnnotationElement11);return _createClass(HighlightAnnotationElement,[{key:\"render\",value:function render(){if(!this.data.popupRef&&this.hasPopupData){this._createPopup();}this.container.classList.add(\"highlightAnnotation\");return this.container;}}]);}(AnnotationElement);var UnderlineAnnotationElement=/*#__PURE__*/function(_AnnotationElement12){function UnderlineAnnotationElement(parameters){_classCallCheck(this,UnderlineAnnotationElement);return _callSuper(this,UnderlineAnnotationElement,[parameters,{isRenderable:true,ignoreBorder:true,createQuadrilaterals:true}]);}_inherits(UnderlineAnnotationElement,_AnnotationElement12);return _createClass(UnderlineAnnotationElement,[{key:\"render\",value:function render(){if(!this.data.popupRef&&this.hasPopupData){this._createPopup();}this.container.classList.add(\"underlineAnnotation\");return this.container;}}]);}(AnnotationElement);var SquigglyAnnotationElement=/*#__PURE__*/function(_AnnotationElement13){function SquigglyAnnotationElement(parameters){_classCallCheck(this,SquigglyAnnotationElement);return _callSuper(this,SquigglyAnnotationElement,[parameters,{isRenderable:true,ignoreBorder:true,createQuadrilaterals:true}]);}_inherits(SquigglyAnnotationElement,_AnnotationElement13);return _createClass(SquigglyAnnotationElement,[{key:\"render\",value:function render(){if(!this.data.popupRef&&this.hasPopupData){this._createPopup();}this.container.classList.add(\"squigglyAnnotation\");return this.container;}}]);}(AnnotationElement);var StrikeOutAnnotationElement=/*#__PURE__*/function(_AnnotationElement14){function StrikeOutAnnotationElement(parameters){_classCallCheck(this,StrikeOutAnnotationElement);return _callSuper(this,StrikeOutAnnotationElement,[parameters,{isRenderable:true,ignoreBorder:true,createQuadrilaterals:true}]);}_inherits(StrikeOutAnnotationElement,_AnnotationElement14);return _createClass(StrikeOutAnnotationElement,[{key:\"render\",value:function render(){if(!this.data.popupRef&&this.hasPopupData){this._createPopup();}this.container.classList.add(\"strikeoutAnnotation\");return this.container;}}]);}(AnnotationElement);var StampAnnotationElement=/*#__PURE__*/function(_AnnotationElement15){function StampAnnotationElement(parameters){_classCallCheck(this,StampAnnotationElement);return _callSuper(this,StampAnnotationElement,[parameters,{isRenderable:true,ignoreBorder:true}]);}_inherits(StampAnnotationElement,_AnnotationElement15);return _createClass(StampAnnotationElement,[{key:\"render\",value:function render(){this.container.classList.add(\"stampAnnotation\");if(!this.data.popupRef&&this.hasPopupData){this._createPopup();}return this.container;}}]);}(AnnotationElement);exports.StampAnnotationElement=StampAnnotationElement;var _trigger=/*#__PURE__*/new WeakMap();var _FileAttachmentAnnotationElement_brand=/*#__PURE__*/new WeakSet();var FileAttachmentAnnotationElement=/*#__PURE__*/function(_AnnotationElement16){function FileAttachmentAnnotationElement(parameters){var _this86$linkService$e;var _this86;_classCallCheck(this,FileAttachmentAnnotationElement);_this86=_callSuper(this,FileAttachmentAnnotationElement,[parameters,{isRenderable:true}]);_classPrivateMethodInitSpec(_this86,_FileAttachmentAnnotationElement_brand);_classPrivateFieldInitSpec(_this86,_trigger,null);var _this86$data$file=_this86.data.file,filename=_this86$data$file.filename,content=_this86$data$file.content;_this86.filename=(0,_display_utils.getFilenameFromUrl)(filename,true);_this86.content=content;(_this86$linkService$e=_this86.linkService.eventBus)===null||_this86$linkService$e===void 0||_this86$linkService$e.dispatch(\"fileattachmentannotation\",{source:_this86,filename:filename,content:content});return _this86;}_inherits(FileAttachmentAnnotationElement,_AnnotationElement16);return _createClass(FileAttachmentAnnotationElement,[{key:\"render\",value:function render(){var _this87=this;this.container.classList.add(\"fileAttachmentAnnotation\");var container=this.container,data=this.data;var trigger;if(data.hasAppearance||data.fillAlpha===0){trigger=document.createElement(\"div\");}else{trigger=document.createElement(\"img\");trigger.src=\"\".concat(this.imageResourcesPath,\"annotation-\").concat(/paperclip/i.test(data.name)?\"paperclip\":\"pushpin\",\".svg\");if(data.fillAlpha&&data.fillAlpha<1){trigger.style=\"filter: opacity(\".concat(Math.round(data.fillAlpha*100),\"%);\");}}trigger.addEventListener(\"dblclick\",_assertClassBrand(_FileAttachmentAnnotationElement_brand,this,_download).bind(this));_classPrivateFieldSet(_trigger,this,trigger);var isMac=_util.FeatureTest.platform.isMac;container.addEventListener(\"keydown\",function(evt){if(evt.key===\"Enter\"&&(isMac?evt.metaKey:evt.ctrlKey)){_assertClassBrand(_FileAttachmentAnnotationElement_brand,_this87,_download).call(_this87);}});if(!data.popupRef&&this.hasPopupData){this._createPopup();}else{trigger.classList.add(\"popupTriggerArea\");}container.append(trigger);return container;}},{key:\"getElementsToTriggerPopup\",value:function getElementsToTriggerPopup(){return _classPrivateFieldGet(_trigger,this);}},{key:\"addHighlightArea\",value:function addHighlightArea(){this.container.classList.add(\"highlightArea\");}}]);}(AnnotationElement);function _download(){var _this$downloadManager;(_this$downloadManager=this.downloadManager)===null||_this$downloadManager===void 0||_this$downloadManager.openOrDownloadData(this.container,this.content,this.filename);}var _accessibilityManager2=/*#__PURE__*/new WeakMap();var _annotationCanvasMap=/*#__PURE__*/new WeakMap();var _editableAnnotations=/*#__PURE__*/new WeakMap();var _AnnotationLayer_brand=/*#__PURE__*/new WeakSet();var AnnotationLayer=/*#__PURE__*/function(){function AnnotationLayer(_ref77){var div=_ref77.div,accessibilityManager=_ref77.accessibilityManager,annotationCanvasMap=_ref77.annotationCanvasMap,l10n=_ref77.l10n,page=_ref77.page,viewport=_ref77.viewport;_classCallCheck(this,AnnotationLayer);_classPrivateMethodInitSpec(this,_AnnotationLayer_brand);_classPrivateFieldInitSpec(this,_accessibilityManager2,null);_classPrivateFieldInitSpec(this,_annotationCanvasMap,null);_classPrivateFieldInitSpec(this,_editableAnnotations,new Map());this.div=div;_classPrivateFieldSet(_accessibilityManager2,this,accessibilityManager);_classPrivateFieldSet(_annotationCanvasMap,this,annotationCanvasMap);this.l10n=l10n;this.page=page;this.viewport=viewport;this.zIndex=0;this.l10n||(this.l10n=_displayL10n_utils.NullL10n);}return _createClass(AnnotationLayer,[{key:\"render\",value:function(){var _render2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee26(params){var annotations,layer,popupToElements,elementParams,_iterator141,_step141,data,isPopupAnnotation,_getRectDims8,width,height,elements,element,_elements2,rendered;return _regeneratorRuntime().wrap(function _callee26$(_context26){while(1)switch(_context26.prev=_context26.next){case 0:annotations=params.annotations;layer=this.div;(0,_display_utils.setLayerDimensions)(layer,this.viewport);popupToElements=new Map();elementParams={data:null,layer:layer,linkService:params.linkService,downloadManager:params.downloadManager,imageResourcesPath:params.imageResourcesPath||\"\",renderForms:params.renderForms!==false,svgFactory:new _display_utils.DOMSVGFactory(),annotationStorage:params.annotationStorage||new _annotation_storage.AnnotationStorage(),enableScripting:params.enableScripting===true,hasJSActions:params.hasJSActions,fieldObjects:params.fieldObjects,parent:this,elements:null};_iterator141=_createForOfIteratorHelper(annotations);_context26.prev=6;_iterator141.s();case 8:if((_step141=_iterator141.n()).done){_context26.next=34;break;}data=_step141.value;if(!data.noHTML){_context26.next=12;break;}return _context26.abrupt(\"continue\",32);case 12:isPopupAnnotation=data.annotationType===_util.AnnotationType.POPUP;if(isPopupAnnotation){_context26.next=19;break;}_getRectDims8=getRectDims(data.rect),width=_getRectDims8.width,height=_getRectDims8.height;if(!(width<=0||height<=0)){_context26.next=17;break;}return _context26.abrupt(\"continue\",32);case 17:_context26.next=23;break;case 19:elements=popupToElements.get(data.id);if(elements){_context26.next=22;break;}return _context26.abrupt(\"continue\",32);case 22:elementParams.elements=elements;case 23:elementParams.data=data;element=AnnotationElementFactory.create(elementParams);if(element.isRenderable){_context26.next=27;break;}return _context26.abrupt(\"continue\",32);case 27:if(!isPopupAnnotation&&data.popupRef){_elements2=popupToElements.get(data.popupRef);if(!_elements2){popupToElements.set(data.popupRef,[element]);}else{_elements2.push(element);}}if(element.annotationEditorType>0){_classPrivateFieldGet(_editableAnnotations,this).set(element.data.id,element);}rendered=element.render();if(data.hidden){rendered.style.visibility=\"hidden\";}_assertClassBrand(_AnnotationLayer_brand,this,_appendElement).call(this,rendered,data.id);case 32:_context26.next=8;break;case 34:_context26.next=39;break;case 36:_context26.prev=36;_context26.t0=_context26[\"catch\"](6);_iterator141.e(_context26.t0);case 39:_context26.prev=39;_iterator141.f();return _context26.finish(39);case 42:_assertClassBrand(_AnnotationLayer_brand,this,_setAnnotationCanvasMap).call(this);_context26.next=45;return this.l10n.translate(layer);case 45:case\"end\":return _context26.stop();}},_callee26,this,[[6,36,39,42]]);}));function render(_x14){return _render2.apply(this,arguments);}return render;}()},{key:\"update\",value:function update(_ref78){var viewport=_ref78.viewport;var layer=this.div;this.viewport=viewport;(0,_display_utils.setLayerDimensions)(layer,{rotation:viewport.rotation});_assertClassBrand(_AnnotationLayer_brand,this,_setAnnotationCanvasMap).call(this);layer.hidden=false;}},{key:\"getEditableAnnotations\",value:function getEditableAnnotations(){return Array.from(_classPrivateFieldGet(_editableAnnotations,this).values());}},{key:\"getEditableAnnotation\",value:function getEditableAnnotation(id){return _classPrivateFieldGet(_editableAnnotations,this).get(id);}}]);}();function _appendElement(element,id){var _classPrivateFieldGet30;var contentElement=element.firstChild||element;contentElement.id=\"\".concat(_util.AnnotationPrefix).concat(id);this.div.append(element);(_classPrivateFieldGet30=_classPrivateFieldGet(_accessibilityManager2,this))===null||_classPrivateFieldGet30===void 0||_classPrivateFieldGet30.moveElementInDOM(this.div,element,contentElement,false);}function _setAnnotationCanvasMap(){if(!_classPrivateFieldGet(_annotationCanvasMap,this)){return;}var layer=this.div;var _iterator142=_createForOfIteratorHelper(_classPrivateFieldGet(_annotationCanvasMap,this)),_step142;try{for(_iterator142.s();!(_step142=_iterator142.n()).done;){var _step142$value=_slicedToArray(_step142.value,2),id=_step142$value[0],canvas=_step142$value[1];var element=layer.querySelector(\"[data-annotation-id=\\\"\".concat(id,\"\\\"]\"));if(!element){continue;}var firstChild=element.firstChild;if(!firstChild){element.append(canvas);}else if(firstChild.nodeName===\"CANVAS\"){firstChild.replaceWith(canvas);}else{firstChild.before(canvas);}}}catch(err){_iterator142.e(err);}finally{_iterator142.f();}_classPrivateFieldGet(_annotationCanvasMap,this).clear();}exports.AnnotationLayer=AnnotationLayer;/***/}),(/* 30 *//***/function(__unused_webpack_module,exports){Object.defineProperty(exports,\"__esModule\",{value:true});exports.ColorConverters=void 0;function makeColorComp(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,\"0\");}function scaleAndClamp(x){return Math.max(0,Math.min(255,255*x));}var ColorConverters=/*#__PURE__*/function(){function ColorConverters(){_classCallCheck(this,ColorConverters);}return _createClass(ColorConverters,null,[{key:\"CMYK_G\",value:function CMYK_G(_ref79){var _ref80=_slicedToArray(_ref79,4),c=_ref80[0],y=_ref80[1],m=_ref80[2],k=_ref80[3];return[\"G\",1-Math.min(1,0.3*c+0.59*m+0.11*y+k)];}},{key:\"G_CMYK\",value:function G_CMYK(_ref81){var _ref82=_slicedToArray(_ref81,1),g=_ref82[0];return[\"CMYK\",0,0,0,1-g];}},{key:\"G_RGB\",value:function G_RGB(_ref83){var _ref84=_slicedToArray(_ref83,1),g=_ref84[0];return[\"RGB\",g,g,g];}},{key:\"G_rgb\",value:function G_rgb(_ref85){var _ref86=_slicedToArray(_ref85,1),g=_ref86[0];g=scaleAndClamp(g);return[g,g,g];}},{key:\"G_HTML\",value:function G_HTML(_ref87){var _ref88=_slicedToArray(_ref87,1),g=_ref88[0];var G=makeColorComp(g);return\"#\".concat(G).concat(G).concat(G);}},{key:\"RGB_G\",value:function RGB_G(_ref89){var _ref90=_slicedToArray(_ref89,3),r=_ref90[0],g=_ref90[1],b=_ref90[2];return[\"G\",0.3*r+0.59*g+0.11*b];}},{key:\"RGB_rgb\",value:function RGB_rgb(color){return color.map(scaleAndClamp);}},{key:\"RGB_HTML\",value:function RGB_HTML(color){return\"#\".concat(color.map(makeColorComp).join(\"\"));}},{key:\"T_HTML\",value:function T_HTML(){return\"#00000000\";}},{key:\"T_rgb\",value:function T_rgb(){return[null];}},{key:\"CMYK_RGB\",value:function CMYK_RGB(_ref91){var _ref92=_slicedToArray(_ref91,4),c=_ref92[0],y=_ref92[1],m=_ref92[2],k=_ref92[3];return[\"RGB\",1-Math.min(1,c+k),1-Math.min(1,m+k),1-Math.min(1,y+k)];}},{key:\"CMYK_rgb\",value:function CMYK_rgb(_ref93){var _ref94=_slicedToArray(_ref93,4),c=_ref94[0],y=_ref94[1],m=_ref94[2],k=_ref94[3];return[scaleAndClamp(1-Math.min(1,c+k)),scaleAndClamp(1-Math.min(1,m+k)),scaleAndClamp(1-Math.min(1,y+k))];}},{key:\"CMYK_HTML\",value:function CMYK_HTML(components){var rgb=this.CMYK_RGB(components).slice(1);return this.RGB_HTML(rgb);}},{key:\"RGB_CMYK\",value:function RGB_CMYK(_ref95){var _ref96=_slicedToArray(_ref95,3),r=_ref96[0],g=_ref96[1],b=_ref96[2];var c=1-r;var m=1-g;var y=1-b;var k=Math.min(c,m,y);return[\"CMYK\",c,m,y,k];}}]);}();exports.ColorConverters=ColorConverters;/***/}),(/* 31 *//***/function(__unused_webpack_module,exports){Object.defineProperty(exports,\"__esModule\",{value:true});exports.NullL10n=void 0;exports.getL10nFallback=getL10nFallback;var DEFAULT_L10N_STRINGS={of_pages:\"of {{pagesCount}}\",page_of_pages:\"({{pageNumber}} of {{pagesCount}})\",document_properties_kb:\"{{size_kb}} KB ({{size_b}} bytes)\",document_properties_mb:\"{{size_mb}} MB ({{size_b}} bytes)\",document_properties_date_string:\"{{date}}, {{time}}\",document_properties_page_size_unit_inches:\"in\",document_properties_page_size_unit_millimeters:\"mm\",document_properties_page_size_orientation_portrait:\"portrait\",document_properties_page_size_orientation_landscape:\"landscape\",document_properties_page_size_name_a3:\"A3\",document_properties_page_size_name_a4:\"A4\",document_properties_page_size_name_letter:\"Letter\",document_properties_page_size_name_legal:\"Legal\",document_properties_page_size_dimension_string:\"{{width}} × {{height}} {{unit}} ({{orientation}})\",document_properties_page_size_dimension_name_string:\"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})\",document_properties_linearized_yes:\"Yes\",document_properties_linearized_no:\"No\",additional_layers:\"Additional Layers\",page_landmark:\"Page {{page}}\",thumb_page_title:\"Page {{page}}\",thumb_page_canvas:\"Thumbnail of Page {{page}}\",find_reached_top:\"Reached top of document, continued from bottom\",find_reached_bottom:\"Reached end of document, continued from top\",\"find_match_count[one]\":\"{{current}} of {{total}} match\",\"find_match_count[other]\":\"{{current}} of {{total}} matches\",\"find_match_count_limit[one]\":\"More than {{limit}} match\",\"find_match_count_limit[other]\":\"More than {{limit}} matches\",find_not_found:\"Phrase not found\",page_scale_width:\"Page Width\",page_scale_fit:\"Page Fit\",page_scale_auto:\"Automatic Zoom\",page_scale_actual:\"Actual Size\",page_scale_percent:\"{{scale}}%\",loading_error:\"An error occurred while loading the PDF.\",invalid_file_error:\"Invalid or corrupted PDF file.\",missing_file_error:\"Missing PDF file.\",unexpected_response_error:\"Unexpected server response.\",rendering_error:\"An error occurred while rendering the page.\",annotation_date_string:\"{{date}}, {{time}}\",printing_not_supported:\"Warning: Printing is not fully supported by this browser.\",printing_not_ready:\"Warning: The PDF is not fully loaded for printing.\",web_fonts_disabled:\"Web fonts are disabled: unable to use embedded PDF fonts.\",free_text2_default_content:\"Start typing…\",editor_free_text2_aria_label:\"Text Editor\",editor_ink2_aria_label:\"Draw Editor\",editor_ink_canvas_aria_label:\"User-created image\",editor_alt_text_button_label:\"Alt text\",editor_alt_text_edit_button_label:\"Edit alt text\",editor_alt_text_decorative_tooltip:\"Marked as decorative\"};{DEFAULT_L10N_STRINGS.print_progress_percent=\"{{progress}}%\";}function getL10nFallback(key,args){switch(key){case\"find_match_count\":key=\"find_match_count[\".concat(args.total===1?\"one\":\"other\",\"]\");break;case\"find_match_count_limit\":key=\"find_match_count_limit[\".concat(args.limit===1?\"one\":\"other\",\"]\");break;}return DEFAULT_L10N_STRINGS[key]||\"\";}function formatL10nValue(text,args){if(!args){return text;}return text.replaceAll(/\\{\\{\\s*(\\w+)\\s*\\}\\}/g,function(all,name){return name in args?args[name]:\"{{\"+name+\"}}\";});}var NullL10n={getLanguage:function getLanguage(){return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee27(){return _regeneratorRuntime().wrap(function _callee27$(_context27){while(1)switch(_context27.prev=_context27.next){case 0:return _context27.abrupt(\"return\",\"en-us\");case 1:case\"end\":return _context27.stop();}},_callee27);}))();},getDirection:function getDirection(){return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee28(){return _regeneratorRuntime().wrap(function _callee28$(_context28){while(1)switch(_context28.prev=_context28.next){case 0:return _context28.abrupt(\"return\",\"ltr\");case 1:case\"end\":return _context28.stop();}},_callee28);}))();},get:function get(key){var _arguments=arguments;return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee29(){var args,fallback;return _regeneratorRuntime().wrap(function _callee29$(_context29){while(1)switch(_context29.prev=_context29.next){case 0:args=_arguments.length>1&&_arguments[1]!==undefined?_arguments[1]:null;fallback=_arguments.length>2&&_arguments[2]!==undefined?_arguments[2]:getL10nFallback(key,args);return _context29.abrupt(\"return\",formatL10nValue(fallback,args));case 3:case\"end\":return _context29.stop();}},_callee29);}))();},translate:function translate(element){return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee30(){return _regeneratorRuntime().wrap(function _callee30$(_context30){while(1)switch(_context30.prev=_context30.next){case 0:case\"end\":return _context30.stop();}},_callee30);}))();}};exports.NullL10n=NullL10n;/***/}),(/* 32 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,\"__esModule\",{value:true});exports.XfaLayer=void 0;var _xfa_text=__w_pdfjs_require__(25);var XfaLayer=/*#__PURE__*/function(){function XfaLayer(){_classCallCheck(this,XfaLayer);}return _createClass(XfaLayer,null,[{key:\"setupStorage\",value:function setupStorage(html,id,element,storage,intent){var storedData=storage.getValue(id,{value:null});switch(element.name){case\"textarea\":if(storedData.value!==null){html.textContent=storedData.value;}if(intent===\"print\"){break;}html.addEventListener(\"input\",function(event){storage.setValue(id,{value:event.target.value});});break;case\"input\":if(element.attributes.type===\"radio\"||element.attributes.type===\"checkbox\"){if(storedData.value===element.attributes.xfaOn){html.setAttribute(\"checked\",true);}else if(storedData.value===element.attributes.xfaOff){html.removeAttribute(\"checked\");}if(intent===\"print\"){break;}html.addEventListener(\"change\",function(event){storage.setValue(id,{value:event.target.checked?event.target.getAttribute(\"xfaOn\"):event.target.getAttribute(\"xfaOff\")});});}else{if(storedData.value!==null){html.setAttribute(\"value\",storedData.value);}if(intent===\"print\"){break;}html.addEventListener(\"input\",function(event){storage.setValue(id,{value:event.target.value});});}break;case\"select\":if(storedData.value!==null){html.setAttribute(\"value\",storedData.value);var _iterator143=_createForOfIteratorHelper(element.children),_step143;try{for(_iterator143.s();!(_step143=_iterator143.n()).done;){var option=_step143.value;if(option.attributes.value===storedData.value){option.attributes.selected=true;}else if(option.attributes.hasOwnProperty(\"selected\")){delete option.attributes.selected;}}}catch(err){_iterator143.e(err);}finally{_iterator143.f();}}html.addEventListener(\"input\",function(event){var options=event.target.options;var value=options.selectedIndex===-1?\"\":options[options.selectedIndex].value;storage.setValue(id,{value:value});});break;}}},{key:\"setAttributes\",value:function setAttributes(_ref97){var html=_ref97.html,element=_ref97.element,_ref97$storage=_ref97.storage,storage=_ref97$storage===void 0?null:_ref97$storage,intent=_ref97.intent,linkService=_ref97.linkService;var attributes=element.attributes;var isHTMLAnchorElement=html instanceof HTMLAnchorElement;if(attributes.type===\"radio\"){attributes.name=\"\".concat(attributes.name,\"-\").concat(intent);}for(var _i21=0,_Object$entries4=Object.entries(attributes);_i21<_Object$entries4.length;_i21++){var _Object$entries4$_i=_slicedToArray(_Object$entries4[_i21],2),key=_Object$entries4$_i[0],value=_Object$entries4$_i[1];if(value===null||value===undefined){continue;}switch(key){case\"class\":if(value.length){html.setAttribute(key,value.join(\" \"));}break;case\"dataId\":break;case\"id\":html.setAttribute(\"data-element-id\",value);break;case\"style\":Object.assign(html.style,value);break;case\"textContent\":html.textContent=value;break;default:if(!isHTMLAnchorElement||key!==\"href\"&&key!==\"newWindow\"){html.setAttribute(key,value);}}}if(isHTMLAnchorElement){linkService.addLinkAttributes(html,attributes.href,attributes.newWindow);}if(storage&&attributes.dataId){this.setupStorage(html,attributes.dataId,element,storage);}}},{key:\"render\",value:function render(parameters){var storage=parameters.annotationStorage;var linkService=parameters.linkService;var root=parameters.xfaHtml;var intent=parameters.intent||\"display\";var rootHtml=document.createElement(root.name);if(root.attributes){this.setAttributes({html:rootHtml,element:root,intent:intent,linkService:linkService});}var stack=[[root,-1,rootHtml]];var rootDiv=parameters.div;rootDiv.append(rootHtml);if(parameters.viewport){var transform=\"matrix(\".concat(parameters.viewport.transform.join(\",\"),\")\");rootDiv.style.transform=transform;}if(intent!==\"richText\"){rootDiv.setAttribute(\"class\",\"xfaLayer xfaFont\");}var textDivs=[];while(stack.length>0){var _child$attributes;var _stack$at=stack.at(-1),_stack$at2=_slicedToArray(_stack$at,3),parent=_stack$at2[0],i=_stack$at2[1],html=_stack$at2[2];if(i+1===parent.children.length){stack.pop();continue;}var child=parent.children[++stack.at(-1)[1]];if(child===null){continue;}var name=child.name;if(name===\"#text\"){var node=document.createTextNode(child.value);textDivs.push(node);html.append(node);continue;}var childHtml=child!==null&&child!==void 0&&(_child$attributes=child.attributes)!==null&&_child$attributes!==void 0&&_child$attributes.xmlns?document.createElementNS(child.attributes.xmlns,name):document.createElement(name);html.append(childHtml);if(child.attributes){this.setAttributes({html:childHtml,element:child,storage:storage,intent:intent,linkService:linkService});}if(child.children&&child.children.length>0){stack.push([child,-1,childHtml]);}else if(child.value){var _node=document.createTextNode(child.value);if(_xfa_text.XfaText.shouldBuildText(name)){textDivs.push(_node);}childHtml.append(_node);}}var _iterator144=_createForOfIteratorHelper(rootDiv.querySelectorAll(\".xfaNonInteractive input, .xfaNonInteractive textarea\")),_step144;try{for(_iterator144.s();!(_step144=_iterator144.n()).done;){var el=_step144.value;el.setAttribute(\"readOnly\",true);}}catch(err){_iterator144.e(err);}finally{_iterator144.f();}return{textDivs:textDivs};}},{key:\"update\",value:function update(parameters){var transform=\"matrix(\".concat(parameters.viewport.transform.join(\",\"),\")\");parameters.div.style.transform=transform;parameters.div.hidden=false;}}]);}();exports.XfaLayer=XfaLayer;/***/}),(/* 33 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){var _InkEditor;Object.defineProperty(exports,\"__esModule\",{value:true});exports.InkEditor=void 0;var _util=__w_pdfjs_require__(1);var _editor=__w_pdfjs_require__(4);var _annotation_layer=__w_pdfjs_require__(29);var _display_utils=__w_pdfjs_require__(6);var _tools=__w_pdfjs_require__(5);var _baseHeight=/*#__PURE__*/new WeakMap();var _baseWidth=/*#__PURE__*/new WeakMap();var _boundCanvasPointermove=/*#__PURE__*/new WeakMap();var _boundCanvasPointerleave=/*#__PURE__*/new WeakMap();var _boundCanvasPointerup=/*#__PURE__*/new WeakMap();var _boundCanvasPointerdown=/*#__PURE__*/new WeakMap();var _currentPath2D=/*#__PURE__*/new WeakMap();var _disableEditing=/*#__PURE__*/new WeakMap();var _hasSomethingToDraw=/*#__PURE__*/new WeakMap();var _isCanvasInitialized=/*#__PURE__*/new WeakMap();var _observer=/*#__PURE__*/new WeakMap();var _realWidth=/*#__PURE__*/new WeakMap();var _realHeight=/*#__PURE__*/new WeakMap();var _requestFrameCallback=/*#__PURE__*/new WeakMap();var _InkEditor_brand=/*#__PURE__*/new WeakSet();var InkEditor=/*#__PURE__*/function(_editor$AnnotationEdi2){function InkEditor(params){var _this89;_classCallCheck(this,InkEditor);_this89=_callSuper(this,InkEditor,[_objectSpread(_objectSpread({},params),{},{name:\"inkEditor\"})]);_classPrivateMethodInitSpec(_this89,_InkEditor_brand);_classPrivateFieldInitSpec(_this89,_baseHeight,0);_classPrivateFieldInitSpec(_this89,_baseWidth,0);_classPrivateFieldInitSpec(_this89,_boundCanvasPointermove,_this89.canvasPointermove.bind(_this89));_classPrivateFieldInitSpec(_this89,_boundCanvasPointerleave,_this89.canvasPointerleave.bind(_this89));_classPrivateFieldInitSpec(_this89,_boundCanvasPointerup,_this89.canvasPointerup.bind(_this89));_classPrivateFieldInitSpec(_this89,_boundCanvasPointerdown,_this89.canvasPointerdown.bind(_this89));_classPrivateFieldInitSpec(_this89,_currentPath2D,new Path2D());_classPrivateFieldInitSpec(_this89,_disableEditing,false);_classPrivateFieldInitSpec(_this89,_hasSomethingToDraw,false);_classPrivateFieldInitSpec(_this89,_isCanvasInitialized,false);_classPrivateFieldInitSpec(_this89,_observer,null);_classPrivateFieldInitSpec(_this89,_realWidth,0);_classPrivateFieldInitSpec(_this89,_realHeight,0);_classPrivateFieldInitSpec(_this89,_requestFrameCallback,null);_this89.color=params.color||null;_this89.thickness=params.thickness||null;_this89.opacity=params.opacity||null;_this89.paths=[];_this89.bezierPath2D=[];_this89.allRawPaths=[];_this89.currentPath=[];_this89.scaleFactor=1;_this89.translationX=_this89.translationY=0;_this89.x=0;_this89.y=0;_this89._willKeepAspectRatio=true;return _this89;}_inherits(InkEditor,_editor$AnnotationEdi2);return _createClass(InkEditor,[{key:\"updateParams\",value:function updateParams(type,value){switch(type){case _util.AnnotationEditorParamsType.INK_THICKNESS:_assertClassBrand(_InkEditor_brand,this,_updateThickness).call(this,value);break;case _util.AnnotationEditorParamsType.INK_COLOR:_assertClassBrand(_InkEditor_brand,this,_updateColor2).call(this,value);break;case _util.AnnotationEditorParamsType.INK_OPACITY:_assertClassBrand(_InkEditor_brand,this,_updateOpacity).call(this,value);break;}}},{key:\"propertiesToUpdate\",get:function get(){var _this$opacity;return[[_util.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||InkEditor._defaultThickness],[_util.AnnotationEditorParamsType.INK_COLOR,this.color||InkEditor._defaultColor||_editor.AnnotationEditor._defaultLineColor],[_util.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((_this$opacity=this.opacity)!==null&&_this$opacity!==void 0?_this$opacity:InkEditor._defaultOpacity))]];}},{key:\"rebuild\",value:function rebuild(){if(!this.parent){return;}_superPropGet(InkEditor,\"rebuild\",this,3)([]);if(this.div===null){return;}if(!this.canvas){_assertClassBrand(_InkEditor_brand,this,_createCanvas2).call(this);_assertClassBrand(_InkEditor_brand,this,_createObserver).call(this);}if(!this.isAttachedToDOM){this.parent.add(this);_assertClassBrand(_InkEditor_brand,this,_setCanvasDims).call(this);}_assertClassBrand(_InkEditor_brand,this,_fitToContent).call(this);}},{key:\"remove\",value:function remove(){if(this.canvas===null){return;}if(!this.isEmpty()){this.commit();}this.canvas.width=this.canvas.height=0;this.canvas.remove();this.canvas=null;_classPrivateFieldGet(_observer,this).disconnect();_classPrivateFieldSet(_observer,this,null);_superPropGet(InkEditor,\"remove\",this,3)([]);}},{key:\"setParent\",value:function setParent(parent){if(!this.parent&&parent){this._uiManager.removeShouldRescale(this);}else if(this.parent&&parent===null){this._uiManager.addShouldRescale(this);}_superPropGet(InkEditor,\"setParent\",this,3)([parent]);}},{key:\"onScaleChanging\",value:function onScaleChanging(){var _this$parentDimension1=_slicedToArray(this.parentDimensions,2),parentWidth=_this$parentDimension1[0],parentHeight=_this$parentDimension1[1];var width=this.width*parentWidth;var height=this.height*parentHeight;this.setDimensions(width,height);}},{key:\"enableEditMode\",value:function enableEditMode(){if(_classPrivateFieldGet(_disableEditing,this)||this.canvas===null){return;}_superPropGet(InkEditor,\"enableEditMode\",this,3)([]);this._isDraggable=false;this.canvas.addEventListener(\"pointerdown\",_classPrivateFieldGet(_boundCanvasPointerdown,this));}},{key:\"disableEditMode\",value:function disableEditMode(){if(!this.isInEditMode()||this.canvas===null){return;}_superPropGet(InkEditor,\"disableEditMode\",this,3)([]);this._isDraggable=!this.isEmpty();this.div.classList.remove(\"editing\");this.canvas.removeEventListener(\"pointerdown\",_classPrivateFieldGet(_boundCanvasPointerdown,this));}},{key:\"onceAdded\",value:function onceAdded(){this._isDraggable=!this.isEmpty();}},{key:\"isEmpty\",value:function isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0;}},{key:\"commit\",value:function commit(){if(_classPrivateFieldGet(_disableEditing,this)){return;}_superPropGet(InkEditor,\"commit\",this,3)([]);this.isEditing=false;this.disableEditMode();this.setInForeground();_classPrivateFieldSet(_disableEditing,this,true);this.div.classList.add(\"disabled\");_assertClassBrand(_InkEditor_brand,this,_fitToContent).call(this,true);this.makeResizable();this.parent.addInkEditorIfNeeded(true);this.moveInDOM();this.div.focus({preventScroll:true});}},{key:\"focusin\",value:function focusin(event){if(!this._focusEventsAllowed){return;}_superPropGet(InkEditor,\"focusin\",this,3)([event]);this.enableEditMode();}},{key:\"canvasPointerdown\",value:function canvasPointerdown(event){if(event.button!==0||!this.isInEditMode()||_classPrivateFieldGet(_disableEditing,this)){return;}this.setInForeground();event.preventDefault();if(event.type!==\"mouse\"){this.div.focus();}_assertClassBrand(_InkEditor_brand,this,_startDrawing).call(this,event.offsetX,event.offsetY);}},{key:\"canvasPointermove\",value:function canvasPointermove(event){event.preventDefault();_assertClassBrand(_InkEditor_brand,this,_draw).call(this,event.offsetX,event.offsetY);}},{key:\"canvasPointerup\",value:function canvasPointerup(event){event.preventDefault();_assertClassBrand(_InkEditor_brand,this,_endDrawing).call(this,event);}},{key:\"canvasPointerleave\",value:function canvasPointerleave(event){_assertClassBrand(_InkEditor_brand,this,_endDrawing).call(this,event);}},{key:\"isResizable\",get:function get(){return!this.isEmpty()&&_classPrivateFieldGet(_disableEditing,this);}},{key:\"render\",value:function render(){var _this90=this;if(this.div){return this.div;}var baseX,baseY;if(this.width){baseX=this.x;baseY=this.y;}_superPropGet(InkEditor,\"render\",this,3)([]);_editor.AnnotationEditor._l10nPromise.get(\"editor_ink2_aria_label\").then(function(msg){var _this90$div;return(_this90$div=_this90.div)===null||_this90$div===void 0?void 0:_this90$div.setAttribute(\"aria-label\",msg);});var _assertClassBrand$cal6=_assertClassBrand(_InkEditor_brand,this,_getInitialBBox).call(this),_assertClassBrand$cal7=_slicedToArray(_assertClassBrand$cal6,4),x=_assertClassBrand$cal7[0],y=_assertClassBrand$cal7[1],w=_assertClassBrand$cal7[2],h=_assertClassBrand$cal7[3];this.setAt(x,y,0,0);this.setDims(w,h);_assertClassBrand(_InkEditor_brand,this,_createCanvas2).call(this);if(this.width){var _this$parentDimension10=_slicedToArray(this.parentDimensions,2),parentWidth=_this$parentDimension10[0],parentHeight=_this$parentDimension10[1];this.setAspectRatio(this.width*parentWidth,this.height*parentHeight);this.setAt(baseX*parentWidth,baseY*parentHeight,this.width*parentWidth,this.height*parentHeight);_classPrivateFieldSet(_isCanvasInitialized,this,true);_assertClassBrand(_InkEditor_brand,this,_setCanvasDims).call(this);this.setDims(this.width*parentWidth,this.height*parentHeight);_assertClassBrand(_InkEditor_brand,this,_redraw).call(this);this.div.classList.add(\"disabled\");}else{this.div.classList.add(\"editing\");this.enableEditMode();}_assertClassBrand(_InkEditor_brand,this,_createObserver).call(this);return this.div;}},{key:\"setDimensions\",value:function setDimensions(width,height){var roundedWidth=Math.round(width);var roundedHeight=Math.round(height);if(_classPrivateFieldGet(_realWidth,this)===roundedWidth&&_classPrivateFieldGet(_realHeight,this)===roundedHeight){return;}_classPrivateFieldSet(_realWidth,this,roundedWidth);_classPrivateFieldSet(_realHeight,this,roundedHeight);this.canvas.style.visibility=\"hidden\";var _this$parentDimension11=_slicedToArray(this.parentDimensions,2),parentWidth=_this$parentDimension11[0],parentHeight=_this$parentDimension11[1];this.width=width/parentWidth;this.height=height/parentHeight;this.fixAndSetPosition();if(_classPrivateFieldGet(_disableEditing,this)){_assertClassBrand(_InkEditor_brand,this,_setScaleFactor).call(this,width,height);}_assertClassBrand(_InkEditor_brand,this,_setCanvasDims).call(this);_assertClassBrand(_InkEditor_brand,this,_redraw).call(this);this.canvas.style.visibility=\"visible\";this.fixDims();}},{key:\"serialize\",value:function serialize(){if(this.isEmpty()){return null;}var rect=this.getRect(0,0);var color=_editor.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:_util.AnnotationEditorType.INK,color:color,thickness:this.thickness,opacity:this.opacity,paths:_assertClassBrand(_InkEditor_brand,this,_serializePaths).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,rect),pageIndex:this.pageIndex,rect:rect,rotation:this.rotation,structTreeParentId:this._structTreeParentId};}}],[{key:\"initialize\",value:function initialize(l10n){_editor.AnnotationEditor.initialize(l10n,{strings:[\"editor_ink_canvas_aria_label\",\"editor_ink2_aria_label\"]});}},{key:\"updateDefaultParams\",value:function updateDefaultParams(type,value){switch(type){case _util.AnnotationEditorParamsType.INK_THICKNESS:InkEditor._defaultThickness=value;break;case _util.AnnotationEditorParamsType.INK_COLOR:InkEditor._defaultColor=value;break;case _util.AnnotationEditorParamsType.INK_OPACITY:InkEditor._defaultOpacity=value/100;break;}}},{key:\"defaultPropertiesToUpdate\",get:function get(){return[[_util.AnnotationEditorParamsType.INK_THICKNESS,InkEditor._defaultThickness],[_util.AnnotationEditorParamsType.INK_COLOR,InkEditor._defaultColor||_editor.AnnotationEditor._defaultLineColor],[_util.AnnotationEditorParamsType.INK_OPACITY,Math.round(InkEditor._defaultOpacity*100)]];}},{key:\"deserialize\",value:function deserialize(data,parent,uiManager){var _util$Util8;if(data instanceof _annotation_layer.InkAnnotationElement){return null;}var editor=_superPropGet(InkEditor,\"deserialize\",this,2)([data,parent,uiManager]);editor.thickness=data.thickness;editor.color=(_util$Util8=_util.Util).makeHexColor.apply(_util$Util8,_toConsumableArray(data.color));editor.opacity=data.opacity;var _editor$pageDimension2=_slicedToArray(editor.pageDimensions,2),pageWidth=_editor$pageDimension2[0],pageHeight=_editor$pageDimension2[1];var width=editor.width*pageWidth;var height=editor.height*pageHeight;var scaleFactor=editor.parentScale;var padding=data.thickness/2;_classPrivateFieldSet(_disableEditing,editor,true);_classPrivateFieldSet(_realWidth,editor,Math.round(width));_classPrivateFieldSet(_realHeight,editor,Math.round(height));var paths=data.paths,rect=data.rect,rotation=data.rotation;var _iterator145=_createForOfIteratorHelper(paths),_step145;try{for(_iterator145.s();!(_step145=_iterator145.n()).done;){var bezier=_step145.value.bezier;bezier=_fromPDFCoordinates.call(InkEditor,bezier,rect,rotation);var path=[];editor.paths.push(path);var p0=scaleFactor*(bezier[0]-padding);var p1=scaleFactor*(bezier[1]-padding);for(var i=2,ii=bezier.length;i<ii;i+=6){var p10=scaleFactor*(bezier[i]-padding);var p11=scaleFactor*(bezier[i+1]-padding);var p20=scaleFactor*(bezier[i+2]-padding);var p21=scaleFactor*(bezier[i+3]-padding);var p30=scaleFactor*(bezier[i+4]-padding);var p31=scaleFactor*(bezier[i+5]-padding);path.push([[p0,p1],[p10,p11],[p20,p21],[p30,p31]]);p0=p30;p1=p31;}var path2D=_assertClassBrand(InkEditor,this,_buildPath2D).call(this,path);editor.bezierPath2D.push(path2D);}}catch(err){_iterator145.e(err);}finally{_iterator145.f();}var bbox=_assertClassBrand(_InkEditor_brand,editor,_getBbox).call(editor);_classPrivateFieldSet(_baseWidth,editor,Math.max(_editor.AnnotationEditor.MIN_SIZE,bbox[2]-bbox[0]));_classPrivateFieldSet(_baseHeight,editor,Math.max(_editor.AnnotationEditor.MIN_SIZE,bbox[3]-bbox[1]));_assertClassBrand(_InkEditor_brand,editor,_setScaleFactor).call(editor,width,height);return editor;}}]);}(_editor.AnnotationEditor);_InkEditor=InkEditor;function _updateThickness(thickness){var _this91=this;var savedThickness=this.thickness;this.addCommands({cmd:function cmd(){_this91.thickness=thickness;_assertClassBrand(_InkEditor_brand,_this91,_fitToContent).call(_this91);},undo:function undo(){_this91.thickness=savedThickness;_assertClassBrand(_InkEditor_brand,_this91,_fitToContent).call(_this91);},mustExec:true,type:_util.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:true,keepUndo:true});}function _updateColor2(color){var _this92=this;var savedColor=this.color;this.addCommands({cmd:function cmd(){_this92.color=color;_assertClassBrand(_InkEditor_brand,_this92,_redraw).call(_this92);},undo:function undo(){_this92.color=savedColor;_assertClassBrand(_InkEditor_brand,_this92,_redraw).call(_this92);},mustExec:true,type:_util.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:true,keepUndo:true});}function _updateOpacity(opacity){var _this93=this;opacity/=100;var savedOpacity=this.opacity;this.addCommands({cmd:function cmd(){_this93.opacity=opacity;_assertClassBrand(_InkEditor_brand,_this93,_redraw).call(_this93);},undo:function undo(){_this93.opacity=savedOpacity;_assertClassBrand(_InkEditor_brand,_this93,_redraw).call(_this93);},mustExec:true,type:_util.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:true,keepUndo:true});}function _getInitialBBox(){var parentRotation=this.parentRotation,_this$parentDimension12=_slicedToArray(this.parentDimensions,2),width=_this$parentDimension12[0],height=_this$parentDimension12[1];switch(parentRotation){case 90:return[0,height,height,width];case 180:return[width,height,width,height];case 270:return[width,0,height,width];default:return[0,0,width,height];}}function _setStroke(){var ctx=this.ctx,color=this.color,opacity=this.opacity,thickness=this.thickness,parentScale=this.parentScale,scaleFactor=this.scaleFactor;ctx.lineWidth=thickness*parentScale/scaleFactor;ctx.lineCap=\"round\";ctx.lineJoin=\"round\";ctx.miterLimit=10;ctx.strokeStyle=\"\".concat(color).concat((0,_tools.opacityToHex)(opacity));}function _startDrawing(x,y){var _this94=this;this.canvas.addEventListener(\"contextmenu\",_display_utils.noContextMenu);this.canvas.addEventListener(\"pointerleave\",_classPrivateFieldGet(_boundCanvasPointerleave,this));this.canvas.addEventListener(\"pointermove\",_classPrivateFieldGet(_boundCanvasPointermove,this));this.canvas.addEventListener(\"pointerup\",_classPrivateFieldGet(_boundCanvasPointerup,this));this.canvas.removeEventListener(\"pointerdown\",_classPrivateFieldGet(_boundCanvasPointerdown,this));this.isEditing=true;if(!_classPrivateFieldGet(_isCanvasInitialized,this)){var _this$opacity2;_classPrivateFieldSet(_isCanvasInitialized,this,true);_assertClassBrand(_InkEditor_brand,this,_setCanvasDims).call(this);this.thickness||(this.thickness=_InkEditor._defaultThickness);this.color||(this.color=_InkEditor._defaultColor||_editor.AnnotationEditor._defaultLineColor);(_this$opacity2=this.opacity)!==null&&_this$opacity2!==void 0?_this$opacity2:this.opacity=_InkEditor._defaultOpacity;}this.currentPath.push([x,y]);_classPrivateFieldSet(_hasSomethingToDraw,this,false);_assertClassBrand(_InkEditor_brand,this,_setStroke).call(this);_classPrivateFieldSet(_requestFrameCallback,this,function(){_assertClassBrand(_InkEditor_brand,_this94,_drawPoints).call(_this94);if(_classPrivateFieldGet(_requestFrameCallback,_this94)){window.requestAnimationFrame(_classPrivateFieldGet(_requestFrameCallback,_this94));}});window.requestAnimationFrame(_classPrivateFieldGet(_requestFrameCallback,this));}function _draw(x,y){var _assertClassBrand2;var _this$currentPath$at=this.currentPath.at(-1),_this$currentPath$at2=_slicedToArray(_this$currentPath$at,2),lastX=_this$currentPath$at2[0],lastY=_this$currentPath$at2[1];if(this.currentPath.length>1&&x===lastX&&y===lastY){return;}var currentPath=this.currentPath;var path2D=_classPrivateFieldGet(_currentPath2D,this);currentPath.push([x,y]);_classPrivateFieldSet(_hasSomethingToDraw,this,true);if(currentPath.length<=2){var _path2D;(_path2D=path2D).moveTo.apply(_path2D,_toConsumableArray(currentPath[0]));path2D.lineTo(x,y);return;}if(currentPath.length===3){var _path2D2;_classPrivateFieldSet(_currentPath2D,this,path2D=new Path2D());(_path2D2=path2D).moveTo.apply(_path2D2,_toConsumableArray(currentPath[0]));}(_assertClassBrand2=_assertClassBrand(_InkEditor_brand,this,_makeBezierCurve)).call.apply(_assertClassBrand2,[this,path2D].concat(_toConsumableArray(currentPath.at(-3)),_toConsumableArray(currentPath.at(-2)),[x,y]));}function _endPath(){var _classPrivateFieldGet31;if(this.currentPath.length===0){return;}var lastPoint=this.currentPath.at(-1);(_classPrivateFieldGet31=_classPrivateFieldGet(_currentPath2D,this)).lineTo.apply(_classPrivateFieldGet31,_toConsumableArray(lastPoint));}function _stopDrawing(x,y){var _this95=this;_classPrivateFieldSet(_requestFrameCallback,this,null);x=Math.min(Math.max(x,0),this.canvas.width);y=Math.min(Math.max(y,0),this.canvas.height);_assertClassBrand(_InkEditor_brand,this,_draw).call(this,x,y);_assertClassBrand(_InkEditor_brand,this,_endPath).call(this);var bezier;if(this.currentPath.length!==1){bezier=_assertClassBrand(_InkEditor_brand,this,_generateBezierPoints).call(this);}else{var xy=[x,y];bezier=[[xy,xy.slice(),xy.slice(),xy]];}var path2D=_classPrivateFieldGet(_currentPath2D,this);var currentPath=this.currentPath;this.currentPath=[];_classPrivateFieldSet(_currentPath2D,this,new Path2D());var cmd=function cmd(){_this95.allRawPaths.push(currentPath);_this95.paths.push(bezier);_this95.bezierPath2D.push(path2D);_this95.rebuild();};var undo=function undo(){_this95.allRawPaths.pop();_this95.paths.pop();_this95.bezierPath2D.pop();if(_this95.paths.length===0){_this95.remove();}else{if(!_this95.canvas){_assertClassBrand(_InkEditor_brand,_this95,_createCanvas2).call(_this95);_assertClassBrand(_InkEditor_brand,_this95,_createObserver).call(_this95);}_assertClassBrand(_InkEditor_brand,_this95,_fitToContent).call(_this95);}};this.addCommands({cmd:cmd,undo:undo,mustExec:true});}function _drawPoints(){if(!_classPrivateFieldGet(_hasSomethingToDraw,this)){return;}_classPrivateFieldSet(_hasSomethingToDraw,this,false);var thickness=Math.ceil(this.thickness*this.parentScale);var lastPoints=this.currentPath.slice(-3);var x=lastPoints.map(function(xy){return xy[0];});var y=lastPoints.map(function(xy){return xy[1];});var xMin=Math.min.apply(Math,_toConsumableArray(x))-thickness;var xMax=Math.max.apply(Math,_toConsumableArray(x))+thickness;var yMin=Math.min.apply(Math,_toConsumableArray(y))-thickness;var yMax=Math.max.apply(Math,_toConsumableArray(y))+thickness;var ctx=this.ctx;ctx.save();ctx.clearRect(0,0,this.canvas.width,this.canvas.height);var _iterator146=_createForOfIteratorHelper(this.bezierPath2D),_step146;try{for(_iterator146.s();!(_step146=_iterator146.n()).done;){var path=_step146.value;ctx.stroke(path);}}catch(err){_iterator146.e(err);}finally{_iterator146.f();}ctx.stroke(_classPrivateFieldGet(_currentPath2D,this));ctx.restore();}function _makeBezierCurve(path2D,x0,y0,x1,y1,x2,y2){var prevX=(x0+x1)/2;var prevY=(y0+y1)/2;var x3=(x1+x2)/2;var y3=(y1+y2)/2;path2D.bezierCurveTo(prevX+2*(x1-prevX)/3,prevY+2*(y1-prevY)/3,x3+2*(x1-x3)/3,y3+2*(y1-y3)/3,x3,y3);}function _generateBezierPoints(){var path=this.currentPath;if(path.length<=2){return[[path[0],path[0],path.at(-1),path.at(-1)]];}var bezierPoints=[];var i;var _path$=_slicedToArray(path[0],2),x0=_path$[0],y0=_path$[1];for(i=1;i<path.length-2;i++){var _path$i=_slicedToArray(path[i],2),_x15=_path$i[0],_y3=_path$i[1];var _path=_slicedToArray(path[i+1],2),_x16=_path[0],_y4=_path[1];var x3=(_x15+_x16)/2;var y3=(_y3+_y4)/2;var _control=[x0+2*(_x15-x0)/3,y0+2*(_y3-y0)/3];var _control2=[x3+2*(_x15-x3)/3,y3+2*(_y3-y3)/3];bezierPoints.push([[x0,y0],_control,_control2,[x3,y3]]);x0=x3;y0=y3;}var _path$i2=_slicedToArray(path[i],2),x1=_path$i2[0],y1=_path$i2[1];var _path2=_slicedToArray(path[i+1],2),x2=_path2[0],y2=_path2[1];var control1=[x0+2*(x1-x0)/3,y0+2*(y1-y0)/3];var control2=[x2+2*(x1-x2)/3,y2+2*(y1-y2)/3];bezierPoints.push([[x0,y0],control1,control2,[x2,y2]]);return bezierPoints;}function _redraw(){if(this.isEmpty()){_assertClassBrand(_InkEditor_brand,this,_updateTransform).call(this);return;}_assertClassBrand(_InkEditor_brand,this,_setStroke).call(this);var canvas=this.canvas,ctx=this.ctx;ctx.setTransform(1,0,0,1,0,0);ctx.clearRect(0,0,canvas.width,canvas.height);_assertClassBrand(_InkEditor_brand,this,_updateTransform).call(this);var _iterator147=_createForOfIteratorHelper(this.bezierPath2D),_step147;try{for(_iterator147.s();!(_step147=_iterator147.n()).done;){var path=_step147.value;ctx.stroke(path);}}catch(err){_iterator147.e(err);}finally{_iterator147.f();}}function _endDrawing(event){var _this96=this;this.canvas.removeEventListener(\"pointerleave\",_classPrivateFieldGet(_boundCanvasPointerleave,this));this.canvas.removeEventListener(\"pointermove\",_classPrivateFieldGet(_boundCanvasPointermove,this));this.canvas.removeEventListener(\"pointerup\",_classPrivateFieldGet(_boundCanvasPointerup,this));this.canvas.addEventListener(\"pointerdown\",_classPrivateFieldGet(_boundCanvasPointerdown,this));setTimeout(function(){_this96.canvas.removeEventListener(\"contextmenu\",_display_utils.noContextMenu);},10);_assertClassBrand(_InkEditor_brand,this,_stopDrawing).call(this,event.offsetX,event.offsetY);this.addToAnnotationStorage();this.setInBackground();}function _createCanvas2(){var _this97=this;this.canvas=document.createElement(\"canvas\");this.canvas.width=this.canvas.height=0;this.canvas.className=\"inkEditorCanvas\";_editor.AnnotationEditor._l10nPromise.get(\"editor_ink_canvas_aria_label\").then(function(msg){var _this97$canvas;return(_this97$canvas=_this97.canvas)===null||_this97$canvas===void 0?void 0:_this97$canvas.setAttribute(\"aria-label\",msg);});this.div.append(this.canvas);this.ctx=this.canvas.getContext(\"2d\");}function _createObserver(){var _this98=this;_classPrivateFieldSet(_observer,this,new ResizeObserver(function(entries){var rect=entries[0].contentRect;if(rect.width&&rect.height){_this98.setDimensions(rect.width,rect.height);}}));_classPrivateFieldGet(_observer,this).observe(this.div);}function _setCanvasDims(){if(!_classPrivateFieldGet(_isCanvasInitialized,this)){return;}var _this$parentDimension13=_slicedToArray(this.parentDimensions,2),parentWidth=_this$parentDimension13[0],parentHeight=_this$parentDimension13[1];this.canvas.width=Math.ceil(this.width*parentWidth);this.canvas.height=Math.ceil(this.height*parentHeight);_assertClassBrand(_InkEditor_brand,this,_updateTransform).call(this);}function _setScaleFactor(width,height){var padding=_assertClassBrand(_InkEditor_brand,this,_getPadding).call(this);var scaleFactorW=(width-padding)/_classPrivateFieldGet(_baseWidth,this);var scaleFactorH=(height-padding)/_classPrivateFieldGet(_baseHeight,this);this.scaleFactor=Math.min(scaleFactorW,scaleFactorH);}function _updateTransform(){var padding=_assertClassBrand(_InkEditor_brand,this,_getPadding).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+padding,this.translationY*this.scaleFactor+padding);}function _buildPath2D(bezier){var path2D=new Path2D();for(var i=0,ii=bezier.length;i<ii;i++){var _bezier$i=_slicedToArray(bezier[i],4),first=_bezier$i[0],control1=_bezier$i[1],control2=_bezier$i[2],second=_bezier$i[3];if(i===0){path2D.moveTo.apply(path2D,_toConsumableArray(first));}path2D.bezierCurveTo(control1[0],control1[1],control2[0],control2[1],second[0],second[1]);}return path2D;}function _toPDFCoordinates(points,rect,rotation){var _rect3=_slicedToArray(rect,4),blX=_rect3[0],blY=_rect3[1],trX=_rect3[2],trY=_rect3[3];switch(rotation){case 0:for(var i=0,ii=points.length;i<ii;i+=2){points[i]+=blX;points[i+1]=trY-points[i+1];}break;case 90:for(var _i22=0,_ii2=points.length;_i22<_ii2;_i22+=2){var x=points[_i22];points[_i22]=points[_i22+1]+blX;points[_i22+1]=x+blY;}break;case 180:for(var _i23=0,_ii3=points.length;_i23<_ii3;_i23+=2){points[_i23]=trX-points[_i23];points[_i23+1]+=blY;}break;case 270:for(var _i24=0,_ii4=points.length;_i24<_ii4;_i24+=2){var _x17=points[_i24];points[_i24]=trX-points[_i24+1];points[_i24+1]=trY-_x17;}break;default:throw new Error(\"Invalid rotation\");}return points;}function _fromPDFCoordinates(points,rect,rotation){var _rect4=_slicedToArray(rect,4),blX=_rect4[0],blY=_rect4[1],trX=_rect4[2],trY=_rect4[3];switch(rotation){case 0:for(var i=0,ii=points.length;i<ii;i+=2){points[i]-=blX;points[i+1]=trY-points[i+1];}break;case 90:for(var _i25=0,_ii5=points.length;_i25<_ii5;_i25+=2){var x=points[_i25];points[_i25]=points[_i25+1]-blY;points[_i25+1]=x-blX;}break;case 180:for(var _i26=0,_ii6=points.length;_i26<_ii6;_i26+=2){points[_i26]=trX-points[_i26];points[_i26+1]-=blY;}break;case 270:for(var _i27=0,_ii7=points.length;_i27<_ii7;_i27+=2){var _x18=points[_i27];points[_i27]=trY-points[_i27+1];points[_i27+1]=trX-_x18;}break;default:throw new Error(\"Invalid rotation\");}return points;}function _serializePaths(s,tx,ty,rect){var paths=[];var padding=this.thickness/2;var shiftX=s*tx+padding;var shiftY=s*ty+padding;var _iterator148=_createForOfIteratorHelper(this.paths),_step148;try{for(_iterator148.s();!(_step148=_iterator148.n()).done;){var bezier=_step148.value;var buffer=[];var points=[];for(var j=0,jj=bezier.length;j<jj;j++){var _bezier$j=_slicedToArray(bezier[j],4),first=_bezier$j[0],control1=_bezier$j[1],control2=_bezier$j[2],second=_bezier$j[3];var p10=s*first[0]+shiftX;var p11=s*first[1]+shiftY;var p20=s*control1[0]+shiftX;var p21=s*control1[1]+shiftY;var p30=s*control2[0]+shiftX;var p31=s*control2[1]+shiftY;var p40=s*second[0]+shiftX;var p41=s*second[1]+shiftY;if(j===0){buffer.push(p10,p11);points.push(p10,p11);}buffer.push(p20,p21,p30,p31,p40,p41);points.push(p20,p21);if(j===jj-1){points.push(p40,p41);}}paths.push({bezier:_toPDFCoordinates.call(_InkEditor,buffer,rect,this.rotation),points:_toPDFCoordinates.call(_InkEditor,points,rect,this.rotation)});}}catch(err){_iterator148.e(err);}finally{_iterator148.f();}return paths;}function _getBbox(){var xMin=Infinity;var xMax=-Infinity;var yMin=Infinity;var yMax=-Infinity;var _iterator149=_createForOfIteratorHelper(this.paths),_step149;try{for(_iterator149.s();!(_step149=_iterator149.n()).done;){var path=_step149.value;var _iterator150=_createForOfIteratorHelper(path),_step150;try{for(_iterator150.s();!(_step150=_iterator150.n()).done;){var _util$Util9;var _step150$value=_slicedToArray(_step150.value,4),first=_step150$value[0],control1=_step150$value[1],control2=_step150$value[2],second=_step150$value[3];var bbox=(_util$Util9=_util.Util).bezierBoundingBox.apply(_util$Util9,_toConsumableArray(first).concat(_toConsumableArray(control1),_toConsumableArray(control2),_toConsumableArray(second)));xMin=Math.min(xMin,bbox[0]);yMin=Math.min(yMin,bbox[1]);xMax=Math.max(xMax,bbox[2]);yMax=Math.max(yMax,bbox[3]);}}catch(err){_iterator150.e(err);}finally{_iterator150.f();}}}catch(err){_iterator149.e(err);}finally{_iterator149.f();}return[xMin,yMin,xMax,yMax];}function _getPadding(){return _classPrivateFieldGet(_disableEditing,this)?Math.ceil(this.thickness*this.parentScale):0;}function _fitToContent(){var firstTime=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this.isEmpty()){return;}if(!_classPrivateFieldGet(_disableEditing,this)){_assertClassBrand(_InkEditor_brand,this,_redraw).call(this);return;}var bbox=_assertClassBrand(_InkEditor_brand,this,_getBbox).call(this);var padding=_assertClassBrand(_InkEditor_brand,this,_getPadding).call(this);_classPrivateFieldSet(_baseWidth,this,Math.max(_editor.AnnotationEditor.MIN_SIZE,bbox[2]-bbox[0]));_classPrivateFieldSet(_baseHeight,this,Math.max(_editor.AnnotationEditor.MIN_SIZE,bbox[3]-bbox[1]));var width=Math.ceil(padding+_classPrivateFieldGet(_baseWidth,this)*this.scaleFactor);var height=Math.ceil(padding+_classPrivateFieldGet(_baseHeight,this)*this.scaleFactor);var _this$parentDimension14=_slicedToArray(this.parentDimensions,2),parentWidth=_this$parentDimension14[0],parentHeight=_this$parentDimension14[1];this.width=width/parentWidth;this.height=height/parentHeight;this.setAspectRatio(width,height);var prevTranslationX=this.translationX;var prevTranslationY=this.translationY;this.translationX=-bbox[0];this.translationY=-bbox[1];_assertClassBrand(_InkEditor_brand,this,_setCanvasDims).call(this);_assertClassBrand(_InkEditor_brand,this,_redraw).call(this);_classPrivateFieldSet(_realWidth,this,width);_classPrivateFieldSet(_realHeight,this,height);this.setDims(width,height);var unscaledPadding=firstTime?padding/this.scaleFactor/2:0;this.translate(prevTranslationX-this.translationX-unscaledPadding,prevTranslationY-this.translationY-unscaledPadding);}_defineProperty(InkEditor,\"_defaultColor\",null);_defineProperty(InkEditor,\"_defaultOpacity\",1);_defineProperty(InkEditor,\"_defaultThickness\",1);_defineProperty(InkEditor,\"_type\",\"ink\");exports.InkEditor=InkEditor;/***/}),(/* 34 *//***/function(__unused_webpack_module,exports,__w_pdfjs_require__){var _StampEditor;Object.defineProperty(exports,\"__esModule\",{value:true});exports.StampEditor=void 0;var _util=__w_pdfjs_require__(1);var _editor=__w_pdfjs_require__(4);var _display_utils=__w_pdfjs_require__(6);var _annotation_layer=__w_pdfjs_require__(29);var _bitmap=/*#__PURE__*/new WeakMap();var _bitmapId=/*#__PURE__*/new WeakMap();var _bitmapPromise=/*#__PURE__*/new WeakMap();var _bitmapUrl=/*#__PURE__*/new WeakMap();var _bitmapFile=/*#__PURE__*/new WeakMap();var _canvas2=/*#__PURE__*/new WeakMap();var _observer2=/*#__PURE__*/new WeakMap();var _resizeTimeoutId=/*#__PURE__*/new WeakMap();var _isSvg=/*#__PURE__*/new WeakMap();var _hasBeenAddedInUndoStack=/*#__PURE__*/new WeakMap();var _StampEditor_brand=/*#__PURE__*/new WeakSet();var StampEditor=/*#__PURE__*/function(_editor$AnnotationEdi3){function StampEditor(params){var _this99;_classCallCheck(this,StampEditor);_this99=_callSuper(this,StampEditor,[_objectSpread(_objectSpread({},params),{},{name:\"stampEditor\"})]);_classPrivateMethodInitSpec(_this99,_StampEditor_brand);_classPrivateFieldInitSpec(_this99,_bitmap,null);_classPrivateFieldInitSpec(_this99,_bitmapId,null);_classPrivateFieldInitSpec(_this99,_bitmapPromise,null);_classPrivateFieldInitSpec(_this99,_bitmapUrl,null);_classPrivateFieldInitSpec(_this99,_bitmapFile,null);_classPrivateFieldInitSpec(_this99,_canvas2,null);_classPrivateFieldInitSpec(_this99,_observer2,null);_classPrivateFieldInitSpec(_this99,_resizeTimeoutId,null);_classPrivateFieldInitSpec(_this99,_isSvg,false);_classPrivateFieldInitSpec(_this99,_hasBeenAddedInUndoStack,false);_classPrivateFieldSet(_bitmapUrl,_this99,params.bitmapUrl);_classPrivateFieldSet(_bitmapFile,_this99,params.bitmapFile);return _this99;}_inherits(StampEditor,_editor$AnnotationEdi3);return _createClass(StampEditor,[{key:\"remove\",value:function remove(){if(_classPrivateFieldGet(_bitmapId,this)){var _classPrivateFieldGet32,_classPrivateFieldGet33;_classPrivateFieldSet(_bitmap,this,null);this._uiManager.imageManager.deleteId(_classPrivateFieldGet(_bitmapId,this));(_classPrivateFieldGet32=_classPrivateFieldGet(_canvas2,this))===null||_classPrivateFieldGet32===void 0||_classPrivateFieldGet32.remove();_classPrivateFieldSet(_canvas2,this,null);(_classPrivateFieldGet33=_classPrivateFieldGet(_observer2,this))===null||_classPrivateFieldGet33===void 0||_classPrivateFieldGet33.disconnect();_classPrivateFieldSet(_observer2,this,null);}_superPropGet(StampEditor,\"remove\",this,3)([]);}},{key:\"rebuild\",value:function rebuild(){if(!this.parent){if(_classPrivateFieldGet(_bitmapId,this)){_assertClassBrand(_StampEditor_brand,this,_getBitmap).call(this);}return;}_superPropGet(StampEditor,\"rebuild\",this,3)([]);if(this.div===null){return;}if(_classPrivateFieldGet(_bitmapId,this)){_assertClassBrand(_StampEditor_brand,this,_getBitmap).call(this);}if(!this.isAttachedToDOM){this.parent.add(this);}}},{key:\"onceAdded\",value:function onceAdded(){this._isDraggable=true;this.div.focus();}},{key:\"isEmpty\",value:function isEmpty(){return!(_classPrivateFieldGet(_bitmapPromise,this)||_classPrivateFieldGet(_bitmap,this)||_classPrivateFieldGet(_bitmapUrl,this)||_classPrivateFieldGet(_bitmapFile,this));}},{key:\"isResizable\",get:function get(){return true;}},{key:\"render\",value:function render(){if(this.div){return this.div;}var baseX,baseY;if(this.width){baseX=this.x;baseY=this.y;}_superPropGet(StampEditor,\"render\",this,3)([]);this.div.hidden=true;if(_classPrivateFieldGet(_bitmap,this)){_assertClassBrand(_StampEditor_brand,this,_createCanvas3).call(this);}else{_assertClassBrand(_StampEditor_brand,this,_getBitmap).call(this);}if(this.width){var _this$parentDimension15=_slicedToArray(this.parentDimensions,2),parentWidth=_this$parentDimension15[0],parentHeight=_this$parentDimension15[1];this.setAt(baseX*parentWidth,baseY*parentHeight,this.width*parentWidth,this.height*parentHeight);}return this.div;}},{key:\"serialize\",value:function serialize(){var isForCopying=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var context=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(this.isEmpty()){return null;}var serialized={annotationType:_util.AnnotationEditorType.STAMP,bitmapId:_classPrivateFieldGet(_bitmapId,this),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:_classPrivateFieldGet(_isSvg,this),structTreeParentId:this._structTreeParentId};if(isForCopying){serialized.bitmapUrl=_assertClassBrand(_StampEditor_brand,this,_serializeBitmap).call(this,true);serialized.accessibilityData=this.altTextData;return serialized;}var _this$altTextData=this.altTextData,decorative=_this$altTextData.decorative,altText=_this$altTextData.altText;if(!decorative&&altText){serialized.accessibilityData={type:\"Figure\",alt:altText};}if(context===null){return serialized;}context.stamps||(context.stamps=new Map());var area=_classPrivateFieldGet(_isSvg,this)?(serialized.rect[2]-serialized.rect[0])*(serialized.rect[3]-serialized.rect[1]):null;if(!context.stamps.has(_classPrivateFieldGet(_bitmapId,this))){context.stamps.set(_classPrivateFieldGet(_bitmapId,this),{area:area,serialized:serialized});serialized.bitmap=_assertClassBrand(_StampEditor_brand,this,_serializeBitmap).call(this,false);}else if(_classPrivateFieldGet(_isSvg,this)){var prevData=context.stamps.get(_classPrivateFieldGet(_bitmapId,this));if(area>prevData.area){prevData.area=area;prevData.serialized.bitmap.close();prevData.serialized.bitmap=_assertClassBrand(_StampEditor_brand,this,_serializeBitmap).call(this,false);}}return serialized;}}],[{key:\"initialize\",value:function initialize(l10n){_editor.AnnotationEditor.initialize(l10n);}},{key:\"supportedTypes\",get:function get(){var types=[\"apng\",\"avif\",\"bmp\",\"gif\",\"jpeg\",\"png\",\"svg+xml\",\"webp\",\"x-icon\"];return(0,_util.shadow)(this,\"supportedTypes\",types.map(function(type){return\"image/\".concat(type);}));}},{key:\"supportedTypesStr\",get:function get(){return(0,_util.shadow)(this,\"supportedTypesStr\",this.supportedTypes.join(\",\"));}},{key:\"isHandlingMimeForPasting\",value:function isHandlingMimeForPasting(mime){return this.supportedTypes.includes(mime);}},{key:\"paste\",value:function paste(item,parent){parent.pasteEditor(_util.AnnotationEditorType.STAMP,{bitmapFile:item.getAsFile()});}},{key:\"deserialize\",value:function deserialize(data,parent,uiManager){if(data instanceof _annotation_layer.StampAnnotationElement){return null;}var editor=_superPropGet(StampEditor,\"deserialize\",this,2)([data,parent,uiManager]);var rect=data.rect,bitmapUrl=data.bitmapUrl,bitmapId=data.bitmapId,isSvg=data.isSvg,accessibilityData=data.accessibilityData;if(bitmapId&&uiManager.imageManager.isValidId(bitmapId)){_classPrivateFieldSet(_bitmapId,editor,bitmapId);}else{_classPrivateFieldSet(_bitmapUrl,editor,bitmapUrl);}_classPrivateFieldSet(_isSvg,editor,isSvg);var _editor$pageDimension3=_slicedToArray(editor.pageDimensions,2),parentWidth=_editor$pageDimension3[0],parentHeight=_editor$pageDimension3[1];editor.width=(rect[2]-rect[0])/parentWidth;editor.height=(rect[3]-rect[1])/parentHeight;if(accessibilityData){editor.altTextData=accessibilityData;}return editor;}}]);}(_editor.AnnotationEditor);_StampEditor=StampEditor;function _getBitmapFetched(data){var fromId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!data){this.remove();return;}_classPrivateFieldSet(_bitmap,this,data.bitmap);if(!fromId){_classPrivateFieldSet(_bitmapId,this,data.id);_classPrivateFieldSet(_isSvg,this,data.isSvg);}_assertClassBrand(_StampEditor_brand,this,_createCanvas3).call(this);}function _getBitmapDone(){_classPrivateFieldSet(_bitmapPromise,this,null);this._uiManager.enableWaiting(false);if(_classPrivateFieldGet(_canvas2,this)){this.div.focus();}}function _getBitmap(){var _this100=this;if(_classPrivateFieldGet(_bitmapId,this)){this._uiManager.enableWaiting(true);this._uiManager.imageManager.getFromId(_classPrivateFieldGet(_bitmapId,this)).then(function(data){return _assertClassBrand(_StampEditor_brand,_this100,_getBitmapFetched).call(_this100,data,true);})[\"finally\"](function(){return _assertClassBrand(_StampEditor_brand,_this100,_getBitmapDone).call(_this100);});return;}if(_classPrivateFieldGet(_bitmapUrl,this)){var url=_classPrivateFieldGet(_bitmapUrl,this);_classPrivateFieldSet(_bitmapUrl,this,null);this._uiManager.enableWaiting(true);_classPrivateFieldSet(_bitmapPromise,this,this._uiManager.imageManager.getFromUrl(url).then(function(data){return _assertClassBrand(_StampEditor_brand,_this100,_getBitmapFetched).call(_this100,data);})[\"finally\"](function(){return _assertClassBrand(_StampEditor_brand,_this100,_getBitmapDone).call(_this100);}));return;}if(_classPrivateFieldGet(_bitmapFile,this)){var file=_classPrivateFieldGet(_bitmapFile,this);_classPrivateFieldSet(_bitmapFile,this,null);this._uiManager.enableWaiting(true);_classPrivateFieldSet(_bitmapPromise,this,this._uiManager.imageManager.getFromFile(file).then(function(data){return _assertClassBrand(_StampEditor_brand,_this100,_getBitmapFetched).call(_this100,data);})[\"finally\"](function(){return _assertClassBrand(_StampEditor_brand,_this100,_getBitmapDone).call(_this100);}));return;}var input=document.createElement(\"input\");input.type=\"file\";input.accept=_StampEditor.supportedTypesStr;_classPrivateFieldSet(_bitmapPromise,this,new Promise(function(resolve){input.addEventListener(\"change\",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee31(){var data;return _regeneratorRuntime().wrap(function _callee31$(_context31){while(1)switch(_context31.prev=_context31.next){case 0:if(!(!input.files||input.files.length===0)){_context31.next=4;break;}_this100.remove();_context31.next=9;break;case 4:_this100._uiManager.enableWaiting(true);_context31.next=7;return _this100._uiManager.imageManager.getFromFile(input.files[0]);case 7:data=_context31.sent;_assertClassBrand(_StampEditor_brand,_this100,_getBitmapFetched).call(_this100,data);case 9:resolve();case 10:case\"end\":return _context31.stop();}},_callee31);})));input.addEventListener(\"cancel\",function(){_this100.remove();resolve();});})[\"finally\"](function(){return _assertClassBrand(_StampEditor_brand,_this100,_getBitmapDone).call(_this100);}));input.click();}function _createCanvas3(){var div=this.div;var _classPrivateFieldGet34=_classPrivateFieldGet(_bitmap,this),width=_classPrivateFieldGet34.width,height=_classPrivateFieldGet34.height;var _this$pageDimensions8=_slicedToArray(this.pageDimensions,2),pageWidth=_this$pageDimensions8[0],pageHeight=_this$pageDimensions8[1];var MAX_RATIO=0.75;if(this.width){width=this.width*pageWidth;height=this.height*pageHeight;}else if(width>MAX_RATIO*pageWidth||height>MAX_RATIO*pageHeight){var factor=Math.min(MAX_RATIO*pageWidth/width,MAX_RATIO*pageHeight/height);width*=factor;height*=factor;}var _this$parentDimension16=_slicedToArray(this.parentDimensions,2),parentWidth=_this$parentDimension16[0],parentHeight=_this$parentDimension16[1];this.setDims(width*parentWidth/pageWidth,height*parentHeight/pageHeight);this._uiManager.enableWaiting(false);var canvas=_classPrivateFieldSet(_canvas2,this,document.createElement(\"canvas\"));div.append(canvas);div.hidden=false;_assertClassBrand(_StampEditor_brand,this,_drawBitmap).call(this,width,height);_assertClassBrand(_StampEditor_brand,this,_createObserver2).call(this);if(!_classPrivateFieldGet(_hasBeenAddedInUndoStack,this)){this.parent.addUndoableEditor(this);_classPrivateFieldSet(_hasBeenAddedInUndoStack,this,true);}this._uiManager._eventBus.dispatch(\"reporttelemetry\",{source:this,details:{type:\"editing\",subtype:this.editorType,data:{action:\"inserted_image\"}}});this.addAltTextButton();}function _setDimensions(width,height){var _this$_initialOptions2,_this101=this;var _this$parentDimension17=_slicedToArray(this.parentDimensions,2),parentWidth=_this$parentDimension17[0],parentHeight=_this$parentDimension17[1];this.width=width/parentWidth;this.height=height/parentHeight;this.setDims(width,height);if((_this$_initialOptions2=this._initialOptions)!==null&&_this$_initialOptions2!==void 0&&_this$_initialOptions2.isCentered){this.center();}else{this.fixAndSetPosition();}this._initialOptions=null;if(_classPrivateFieldGet(_resizeTimeoutId,this)!==null){clearTimeout(_classPrivateFieldGet(_resizeTimeoutId,this));}var TIME_TO_WAIT=200;_classPrivateFieldSet(_resizeTimeoutId,this,setTimeout(function(){_classPrivateFieldSet(_resizeTimeoutId,_this101,null);_assertClassBrand(_StampEditor_brand,_this101,_drawBitmap).call(_this101,width,height);},TIME_TO_WAIT));}function _scaleBitmap(width,height){var _classPrivateFieldGet35=_classPrivateFieldGet(_bitmap,this),bitmapWidth=_classPrivateFieldGet35.width,bitmapHeight=_classPrivateFieldGet35.height;var newWidth=bitmapWidth;var newHeight=bitmapHeight;var bitmap=_classPrivateFieldGet(_bitmap,this);while(newWidth>2*width||newHeight>2*height){var prevWidth=newWidth;var prevHeight=newHeight;if(newWidth>2*width){newWidth=newWidth>=16384?Math.floor(newWidth/2)-1:Math.ceil(newWidth/2);}if(newHeight>2*height){newHeight=newHeight>=16384?Math.floor(newHeight/2)-1:Math.ceil(newHeight/2);}var offscreen=new OffscreenCanvas(newWidth,newHeight);var ctx=offscreen.getContext(\"2d\");ctx.drawImage(bitmap,0,0,prevWidth,prevHeight,0,0,newWidth,newHeight);bitmap=offscreen.transferToImageBitmap();}return bitmap;}function _drawBitmap(width,height){width=Math.ceil(width);height=Math.ceil(height);var canvas=_classPrivateFieldGet(_canvas2,this);if(!canvas||canvas.width===width&&canvas.height===height){return;}canvas.width=width;canvas.height=height;var bitmap=_classPrivateFieldGet(_isSvg,this)?_classPrivateFieldGet(_bitmap,this):_assertClassBrand(_StampEditor_brand,this,_scaleBitmap).call(this,width,height);var ctx=canvas.getContext(\"2d\");ctx.filter=this._uiManager.hcmFilter;ctx.drawImage(bitmap,0,0,bitmap.width,bitmap.height,0,0,width,height);}function _serializeBitmap(toUrl){if(toUrl){if(_classPrivateFieldGet(_isSvg,this)){var url=this._uiManager.imageManager.getSvgUrl(_classPrivateFieldGet(_bitmapId,this));if(url){return url;}}var canvas=document.createElement(\"canvas\");var _classPrivateFieldGet36=_classPrivateFieldGet(_bitmap,this);canvas.width=_classPrivateFieldGet36.width;canvas.height=_classPrivateFieldGet36.height;var ctx=canvas.getContext(\"2d\");ctx.drawImage(_classPrivateFieldGet(_bitmap,this),0,0);return canvas.toDataURL();}if(_classPrivateFieldGet(_isSvg,this)){var _this$pageDimensions9=_slicedToArray(this.pageDimensions,2),pageWidth=_this$pageDimensions9[0],pageHeight=_this$pageDimensions9[1];var width=Math.round(this.width*pageWidth*_display_utils.PixelsPerInch.PDF_TO_CSS_UNITS);var height=Math.round(this.height*pageHeight*_display_utils.PixelsPerInch.PDF_TO_CSS_UNITS);var offscreen=new OffscreenCanvas(width,height);var _ctx=offscreen.getContext(\"2d\");_ctx.drawImage(_classPrivateFieldGet(_bitmap,this),0,0,_classPrivateFieldGet(_bitmap,this).width,_classPrivateFieldGet(_bitmap,this).height,0,0,width,height);return offscreen.transferToImageBitmap();}return structuredClone(_classPrivateFieldGet(_bitmap,this));}function _createObserver2(){var _this102=this;_classPrivateFieldSet(_observer2,this,new ResizeObserver(function(entries){var rect=entries[0].contentRect;if(rect.width&&rect.height){_assertClassBrand(_StampEditor_brand,_this102,_setDimensions).call(_this102,rect.width,rect.height);}}));_classPrivateFieldGet(_observer2,this).observe(this.div);}_defineProperty(StampEditor,\"_type\",\"stamp\");exports.StampEditor=StampEditor;/***/}/******/)];/************************************************************************//******/// The module cache\n/******/var __webpack_module_cache__={};/******//******/// The require function\n/******/function __w_pdfjs_require__(moduleId){/******/// Check if module is in cache\n/******/var cachedModule=__webpack_module_cache__[moduleId];/******/if(cachedModule!==undefined){/******/return cachedModule.exports;/******/}/******/// Create a new module (and put it into the cache)\n/******/var module=__webpack_module_cache__[moduleId]={/******/// no module.id needed\n/******/// no module.loaded needed\n/******/exports:{}/******/};/******//******/// Execute the module function\n/******/__webpack_modules__[moduleId](module,module.exports,__w_pdfjs_require__);/******//******/// Return the exports of the module\n/******/return module.exports;/******/}/******//************************************************************************/var __webpack_exports__={};// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.\n(function(){var exports=__webpack_exports__;Object.defineProperty(exports,\"__esModule\",{value:true});Object.defineProperty(exports,\"AbortException\",{enumerable:true,get:function get(){return _util.AbortException;}});Object.defineProperty(exports,\"AnnotationEditorLayer\",{enumerable:true,get:function get(){return _annotation_editor_layer.AnnotationEditorLayer;}});Object.defineProperty(exports,\"AnnotationEditorParamsType\",{enumerable:true,get:function get(){return _util.AnnotationEditorParamsType;}});Object.defineProperty(exports,\"AnnotationEditorType\",{enumerable:true,get:function get(){return _util.AnnotationEditorType;}});Object.defineProperty(exports,\"AnnotationEditorUIManager\",{enumerable:true,get:function get(){return _tools.AnnotationEditorUIManager;}});Object.defineProperty(exports,\"AnnotationLayer\",{enumerable:true,get:function get(){return _annotation_layer.AnnotationLayer;}});Object.defineProperty(exports,\"AnnotationMode\",{enumerable:true,get:function get(){return _util.AnnotationMode;}});Object.defineProperty(exports,\"CMapCompressionType\",{enumerable:true,get:function get(){return _util.CMapCompressionType;}});Object.defineProperty(exports,\"DOMSVGFactory\",{enumerable:true,get:function get(){return _display_utils.DOMSVGFactory;}});Object.defineProperty(exports,\"FeatureTest\",{enumerable:true,get:function get(){return _util.FeatureTest;}});Object.defineProperty(exports,\"GlobalWorkerOptions\",{enumerable:true,get:function get(){return _worker_options.GlobalWorkerOptions;}});Object.defineProperty(exports,\"ImageKind\",{enumerable:true,get:function get(){return _util.ImageKind;}});Object.defineProperty(exports,\"InvalidPDFException\",{enumerable:true,get:function get(){return _util.InvalidPDFException;}});Object.defineProperty(exports,\"MissingPDFException\",{enumerable:true,get:function get(){return _util.MissingPDFException;}});Object.defineProperty(exports,\"OPS\",{enumerable:true,get:function get(){return _util.OPS;}});Object.defineProperty(exports,\"PDFDataRangeTransport\",{enumerable:true,get:function get(){return _api.PDFDataRangeTransport;}});Object.defineProperty(exports,\"PDFDateString\",{enumerable:true,get:function get(){return _display_utils.PDFDateString;}});Object.defineProperty(exports,\"PDFWorker\",{enumerable:true,get:function get(){return _api.PDFWorker;}});Object.defineProperty(exports,\"PasswordResponses\",{enumerable:true,get:function get(){return _util.PasswordResponses;}});Object.defineProperty(exports,\"PermissionFlag\",{enumerable:true,get:function get(){return _util.PermissionFlag;}});Object.defineProperty(exports,\"PixelsPerInch\",{enumerable:true,get:function get(){return _display_utils.PixelsPerInch;}});Object.defineProperty(exports,\"PromiseCapability\",{enumerable:true,get:function get(){return _util.PromiseCapability;}});Object.defineProperty(exports,\"RenderingCancelledException\",{enumerable:true,get:function get(){return _display_utils.RenderingCancelledException;}});Object.defineProperty(exports,\"SVGGraphics\",{enumerable:true,get:function get(){return _api.SVGGraphics;}});Object.defineProperty(exports,\"UnexpectedResponseException\",{enumerable:true,get:function get(){return _util.UnexpectedResponseException;}});Object.defineProperty(exports,\"Util\",{enumerable:true,get:function get(){return _util.Util;}});Object.defineProperty(exports,\"VerbosityLevel\",{enumerable:true,get:function get(){return _util.VerbosityLevel;}});Object.defineProperty(exports,\"XfaLayer\",{enumerable:true,get:function get(){return _xfa_layer.XfaLayer;}});Object.defineProperty(exports,\"build\",{enumerable:true,get:function get(){return _api.build;}});Object.defineProperty(exports,\"createValidAbsoluteUrl\",{enumerable:true,get:function get(){return _util.createValidAbsoluteUrl;}});Object.defineProperty(exports,\"getDocument\",{enumerable:true,get:function get(){return _api.getDocument;}});Object.defineProperty(exports,\"getFilenameFromUrl\",{enumerable:true,get:function get(){return _display_utils.getFilenameFromUrl;}});Object.defineProperty(exports,\"getPdfFilenameFromUrl\",{enumerable:true,get:function get(){return _display_utils.getPdfFilenameFromUrl;}});Object.defineProperty(exports,\"getXfaPageViewport\",{enumerable:true,get:function get(){return _display_utils.getXfaPageViewport;}});Object.defineProperty(exports,\"isDataScheme\",{enumerable:true,get:function get(){return _display_utils.isDataScheme;}});Object.defineProperty(exports,\"isPdfFile\",{enumerable:true,get:function get(){return _display_utils.isPdfFile;}});Object.defineProperty(exports,\"loadScript\",{enumerable:true,get:function get(){return _display_utils.loadScript;}});Object.defineProperty(exports,\"noContextMenu\",{enumerable:true,get:function get(){return _display_utils.noContextMenu;}});Object.defineProperty(exports,\"normalizeUnicode\",{enumerable:true,get:function get(){return _util.normalizeUnicode;}});Object.defineProperty(exports,\"renderTextLayer\",{enumerable:true,get:function get(){return _text_layer.renderTextLayer;}});Object.defineProperty(exports,\"setLayerDimensions\",{enumerable:true,get:function get(){return _display_utils.setLayerDimensions;}});Object.defineProperty(exports,\"shadow\",{enumerable:true,get:function get(){return _util.shadow;}});Object.defineProperty(exports,\"updateTextLayer\",{enumerable:true,get:function get(){return _text_layer.updateTextLayer;}});Object.defineProperty(exports,\"version\",{enumerable:true,get:function get(){return _api.version;}});var _util=__w_pdfjs_require__(1);var _api=__w_pdfjs_require__(2);var _display_utils=__w_pdfjs_require__(6);var _text_layer=__w_pdfjs_require__(26);var _annotation_editor_layer=__w_pdfjs_require__(27);var _tools=__w_pdfjs_require__(5);var _annotation_layer=__w_pdfjs_require__(29);var _worker_options=__w_pdfjs_require__(14);var _xfa_layer=__w_pdfjs_require__(32);var pdfjsVersion='3.11.174';var pdfjsBuild='ce8716743';})();/******/return __webpack_exports__;/******/}();});","map":{"version":3,"names":["webpackUniversalModuleDefinition","root","factory","exports","_typeof","module","pdfjsLib","define","amd","globalThis","isNodeJS","process","versions","nw","electron","type","IDENTITY_MATRIX","FONT_IDENTITY_MATRIX","MAX_IMAGE_SIZE_TO_CACHE","LINE_FACTOR","LINE_DESCENT_FACTOR","BASELINE_FACTOR","RenderingIntentFlag","ANY","DISPLAY","PRINT","SAVE","ANNOTATIONS_FORMS","ANNOTATIONS_STORAGE","ANNOTATIONS_DISABLE","OPLIST","AnnotationMode","DISABLE","ENABLE","ENABLE_FORMS","ENABLE_STORAGE","AnnotationEditorPrefix","AnnotationEditorType","NONE","FREETEXT","STAMP","INK","AnnotationEditorParamsType","RESIZE","CREATE","FREETEXT_SIZE","FREETEXT_COLOR","FREETEXT_OPACITY","INK_COLOR","INK_THICKNESS","INK_OPACITY","PermissionFlag","MODIFY_CONTENTS","COPY","MODIFY_ANNOTATIONS","FILL_INTERACTIVE_FORMS","COPY_FOR_ACCESSIBILITY","ASSEMBLE","PRINT_HIGH_QUALITY","TextRenderingMode","FILL","STROKE","FILL_STROKE","INVISIBLE","FILL_ADD_TO_PATH","STROKE_ADD_TO_PATH","FILL_STROKE_ADD_TO_PATH","ADD_TO_PATH","FILL_STROKE_MASK","ADD_TO_PATH_FLAG","ImageKind","GRAYSCALE_1BPP","RGB_24BPP","RGBA_32BPP","AnnotationType","TEXT","LINK","LINE","SQUARE","CIRCLE","POLYGON","POLYLINE","HIGHLIGHT","UNDERLINE","SQUIGGLY","STRIKEOUT","CARET","POPUP","FILEATTACHMENT","SOUND","MOVIE","WIDGET","SCREEN","PRINTERMARK","TRAPNET","WATERMARK","THREED","REDACT","AnnotationReplyType","GROUP","REPLY","AnnotationFlag","HIDDEN","NOZOOM","NOROTATE","NOVIEW","READONLY","LOCKED","TOGGLENOVIEW","LOCKEDCONTENTS","AnnotationFieldFlag","REQUIRED","NOEXPORT","MULTILINE","PASSWORD","NOTOGGLETOOFF","RADIO","PUSHBUTTON","COMBO","EDIT","SORT","FILESELECT","MULTISELECT","DONOTSPELLCHECK","DONOTSCROLL","COMB","RICHTEXT","RADIOSINUNISON","COMMITONSELCHANGE","AnnotationBorderStyleType","SOLID","DASHED","BEVELED","INSET","AnnotationActionEventType","E","X","D","U","Fo","Bl","PO","PC","PV","PI","K","F","V","C","DocumentActionEventType","WC","WS","DS","WP","DP","PageActionEventType","O","VerbosityLevel","ERRORS","WARNINGS","INFOS","CMapCompressionType","BINARY","OPS","dependency","setLineWidth","setLineCap","setLineJoin","setMiterLimit","setDash","setRenderingIntent","setFlatness","setGState","save","restore","transform","moveTo","lineTo","curveTo","curveTo2","curveTo3","closePath","rectangle","stroke","closeStroke","fill","eoFill","fillStroke","eoFillStroke","closeFillStroke","closeEOFillStroke","endPath","clip","eoClip","beginText","endText","setCharSpacing","setWordSpacing","setHScale","setLeading","setFont","setTextRenderingMode","setTextRise","moveText","setLeadingMoveText","setTextMatrix","nextLine","showText","showSpacedText","nextLineShowText","nextLineSetSpacingShowText","setCharWidth","setCharWidthAndBounds","setStrokeColorSpace","setFillColorSpace","setStrokeColor","setStrokeColorN","setFillColor","setFillColorN","setStrokeGray","setFillGray","setStrokeRGBColor","setFillRGBColor","setStrokeCMYKColor","setFillCMYKColor","shadingFill","beginInlineImage","beginImageData","endInlineImage","paintXObject","markPoint","markPointProps","beginMarkedContent","beginMarkedContentProps","endMarkedContent","beginCompat","endCompat","paintFormXObjectBegin","paintFormXObjectEnd","beginGroup","endGroup","beginAnnotation","endAnnotation","paintImageMaskXObject","paintImageMaskXObjectGroup","paintImageXObject","paintInlineImageXObject","paintInlineImageXObjectGroup","paintImageXObjectRepeat","paintImageMaskXObjectRepeat","paintSolidColorImageMask","constructPath","PasswordResponses","NEED_PASSWORD","INCORRECT_PASSWORD","verbosity","setVerbosityLevel","level","Number","isInteger","getVerbosityLevel","info","msg","console","log","concat","warn","unreachable","Error","assert","cond","_isValidProtocol","url","protocol","createValidAbsoluteUrl","baseUrl","arguments","length","undefined","options","addDefaultProtocol","startsWith","dots","match","tryConvertEncoding","stringToUTF8String","_unused","absoluteUrl","URL","_unused2","shadow","obj","prop","value","nonSerializable","Object","defineProperty","enumerable","configurable","writable","BaseException","BaseExceptionClosure","message","name","constructor","prototype","PasswordException","_BaseException","code","_this","_classCallCheck","_callSuper","_inherits","_createClass","UnknownErrorException","_BaseException2","details","_this2","InvalidPDFException","_BaseException3","MissingPDFException","_BaseException4","UnexpectedResponseException","_BaseException5","status","_this3","FormatError","_BaseException6","AbortException","_BaseException7","bytesToString","bytes","MAX_ARGUMENT_COUNT","String","fromCharCode","apply","strBuf","i","chunkEnd","Math","min","chunk","subarray","push","join","stringToBytes","str","Uint8Array","charCodeAt","string32","objectSize","keys","objectFromMap","map","create","_iterator","_createForOfIteratorHelper","_step","s","n","done","_step$value","_slicedToArray","key","err","e","f","isLittleEndian","buffer8","view32","Uint32Array","buffer","isEvalSupported","Function","_unused3","FeatureTest","get","OffscreenCanvas","navigator","isWin","isMac","platform","includes","_globalThis$CSS","_globalThis$CSS$suppo","CSS","supports","call","hexNumbers","_toConsumableArray","Array","toString","padStart","Util","makeHexColor","r","g","b","scaleMinMax","minMax","temp","m1","m2","applyTransform","p","m","xt","yt","applyInverseTransform","d","getAxialAlignedBoundingBox","p1","p2","slice","p3","p4","max","inverseTransform","singularValueDecompose2dScale","transpose","a","c","first","second","sqrt","pow","sx","sy","normalizeRect","rect","intersect","rect1","rect2","xLow","xHigh","yLow","yHigh","bezierBoundingBox","x0","y0","x1","y1","x2","y2","x3","y3","tvalues","bounds","t","t1","t2","b2ac","sqrtb2ac","abs","j","mt","jlen","PDFStringTranslateTable","stringToPDFString","encoding","decoder","TextDecoder","fatal","decode","ex","ii","charAt","decodeURIComponent","escape","utf8StringToString","unescape","encodeURIComponent","isArrayBuffer","v","byteLength","isArrayEqual","arr1","arr2","getModificationDate","date","Date","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","_settled","WeakMap","PromiseCapability","_this4","_classPrivateFieldInitSpec","promise","Promise","resolve","reject","data","_classPrivateFieldSet","reason","_classPrivateFieldGet","NormalizeRegex","NormalizationMap","normalizeUnicode","Map","replaceAll","_","normalize","getUuid","_crypto","_crypto2","crypto","randomUUID","buf","getRandomValues","floor","random","AnnotationPrefix","_util","__w_pdfjs_require__","_annotation_storage","_display_utils","_font_loader","_displayNode_utils","_canvas","_worker_options","_message_handler","_metadata","_optional_content_config","_transport_stream","_displayFetch_stream","_displayNetwork","_displayNode_stream","_displaySvg","_xfa_text","DEFAULT_RANGE_CHUNK_SIZE","RENDERING_CANCELLED_TIMEOUT","DELAYED_CLEANUP_TIMEOUT","DefaultCanvasFactory","NodeCanvasFactory","DOMCanvasFactory","DefaultCMapReaderFactory","NodeCMapReaderFactory","DOMCMapReaderFactory","DefaultFilterFactory","NodeFilterFactory","DOMFilterFactory","DefaultStandardFontDataFactory","NodeStandardFontDataFactory","DOMStandardFontDataFactory","getDocument","src","_src$password","_src$length","range","task","PDFDocumentLoadingTask","docId","getUrlProp","getDataProp","httpHeaders","withCredentials","password","rangeTransport","PDFDataRangeTransport","rangeChunkSize","worker","PDFWorker","docBaseUrl","isDataScheme","cMapUrl","cMapPacked","CMapReaderFactory","standardFontDataUrl","StandardFontDataFactory","ignoreErrors","stopAtErrors","maxImageSize","isOffscreenCanvasSupported","canvasMaxAreaInBytes","disableFontFace","fontExtraProperties","enableXfa","ownerDocument","document","disableRange","disableStream","disableAutoFetch","pdfBug","NaN","useSystemFonts","useWorkerFetch","isValidFetchUrl","baseURI","canvasFactory","filterFactory","styleElement","transportFactory","cMapReaderFactory","isCompressed","standardFontDataFactory","workerParams","port","GlobalWorkerOptions","workerPort","fromPort","_worker","fetchDocParams","apiVersion","evaluatorOptions","transportParams","then","destroyed","workerIdPromise","_fetchDocument","networkStreamPromise","networkStream","PDFDataTransportStream","initialData","progressiveDone","contentDispositionFilename","createPDFNetworkStream","params","PDFNodeStream","PDFFetchStream","PDFNetworkStream","all","_ref","_ref2","workerId","messageHandler","MessageHandler","transport","WorkerTransport","_transport","send","_capability","_x","_x2","_fetchDocument2","_asyncToGenerator","_regeneratorRuntime","mark","_callee6","source","wrap","_callee6$","_context6","prev","next","sendWithPromise","sent","abrupt","stop","val","href","window","location","_unused4","Buffer","isNaN","_PDFDocumentLoadingTa","_PDFDocumentLoadingTa2","_docId","onPassword","onProgress","_destroy","_callee","_this$_worker","_this$_transport","_this$_worker2","_callee$","_context","_pendingDestroy","destroy","t0","_rangeListeners","_progressListeners","_progressiveReadListeners","_progressiveDoneListeners","_readyCapability","addRangeListener","listener","addProgressListener","addProgressiveReadListener","addProgressiveDoneListener","onDataRange","begin","_iterator2","_step2","onDataProgress","loaded","total","_this5","_iterator3","_step3","onDataProgressiveRead","_this6","_iterator4","_step4","onDataProgressiveDone","_this7","_iterator5","_step5","transportReady","requestDataRange","end","abort","PDFDocumentProxy","pdfInfo","_this8","_pdfInfo","deprecated","getJSActions","js","jsArr","annotationStorage","numPages","fingerprints","_htmlForXfa","getPage","pageNumber","getPageIndex","ref","getDestinations","getDestination","id","getPageLabels","getPageLayout","getPageMode","getViewerPreferences","getOpenAction","getAttachments","getDocJSActions","getOutline","getOptionalContentConfig","getPermissions","getMetadata","getMarkInfo","getData","saveDocument","getDownloadInfo","downloadInfoCapability","cleanup","keepLoadedFonts","startCleanup","isPureXfa","loadingTask","loadingParams","getFieldObjects","hasJSActions","getCalculationOrderIds","_delayedCleanupTimeout","_pendingCleanup","_PDFPageProxy_brand","WeakSet","PDFPageProxy","pageIndex","pageInfo","_classPrivateMethodInitSpec","_pageIndex","_pageInfo","_stats","StatTimer","_pdfBug","commonObjs","objs","PDFObjects","_maybeCleanupAfterRender","_intentStates","rotate","userUnit","view","getViewport","_ref3","scale","_ref3$rotation","rotation","_ref3$offsetX","offsetX","_ref3$offsetY","offsetY","_ref3$dontFlip","dontFlip","PageViewport","viewBox","getAnnotations","_ref4","_ref4$intent","intent","intentArgs","getRenderingIntent","renderingIntent","getPageJSActions","_getXfa","_callee2","_this$_transport$_htm","_callee2$","_context2","children","getXfa","render","_ref5","_this$_stats","_this9","_intentState","canvasContext","viewport","_ref5$intent","_ref5$annotationMode","annotationMode","_ref5$transform","_ref5$background","background","_ref5$optionalContent","optionalContentConfigPromise","_ref5$annotationCanva","annotationCanvasMap","_ref5$pageColors","pageColors","_ref5$printAnnotation","printAnnotationStorage","time","_assertClassBrand","_abortDelayedCleanup","intentState","cacheKey","set","streamReaderCancelTimeout","clearTimeout","intentPrint","displayReadyCapability","_this$_stats2","operatorList","fnArray","argsArray","lastChunk","separateAnnots","_pumpOperatorList","complete","error","_this9$_stats","_this9$_stats2","renderTasks","internalRenderTask","_tryCleanup","capability","_abortOperatorList","timeEnd","InternalRenderTask","callback","useRequestAnimationFrame","Set","add","renderTask","_ref6","_this9$_stats3","_ref7","transparency","optionalContentConfig","initializeGraphics","operatorListChanged","getOperatorList","_ref8","_ref8$intent","_ref8$annotationMode","_ref8$printAnnotation","opListReadCapability","opListTask","_intentState2","_this$_stats3","streamTextContent","_ref9","_ref9$includeMarkedCo","includeMarkedContent","_ref9$disableNormaliz","disableNormalization","TEXT_CONTENT_CHUNK_SIZE","sendWithStream","highWaterMark","size","textContent","items","getTextContent","xfa","XfaText","readableStream","pump","reader","read","_ref0","_textContent$items","assign","styles","getReader","getStructTree","waitOn","_iterator6","values","_step6","force","_iterator7","_step7","completed","cancel","clear","resetStats","success","_startRenderPage","_this$_stats4","_intentState$displayR","_renderPageChunk","operatorListChunk","_iterator8","_step8","_ref1","_this0","annotationStorageSerializable","transfers","streamReader","_ref10","_iterator9","_step9","_ref11","_this1","_ref11$force","RenderingCancelledException","delay","extraDelay","setTimeout","_iterator0","_step0","_step0$value","curCacheKey","curIntentState","_this20","delayed","_iterator12","_step12","_step12$value","_listeners","_deferred","LoopbackPort","postMessage","transfer","_this10","event","structuredClone","_iterator1","_step1","addEventListener","removeEventListener","terminate","PDFWorkerUtil","isWorkerDisabled","fallbackWorkerSrc","fakeWorkerId","require","_document","pdfjsFilePath","currentScript","replace","isSameOrigin","otherUrl","base","origin","_unused5","other","createCDNWrapper","wrapper","createObjectURL","Blob","_ref12","_ref12$name","_ref12$port","_ref12$verbosity","_port","_webWorker","_messageHandler","_workerPorts$_","_workerPorts","has","_initializeFromPort","_initialize","on","_this11","_mainThreadWorkerMessageHandler","workerSrc","Worker","terminateEarly","onWorkerError","_setupFakeWorker","sendTest","_unused6","testObj","_unused7","_this12","_setupFakeWorkerGlobal","WorkerMessageHandler","workerHandler","setup","_workerPorts$_2","_assertClassBrand$_","cachedPort","_globalThis$pdfjsWork","pdfjsWorker","_unused8","_this13","loader","_ref13","_callee3","mainWorkerMessageHandler","_callee3$","_context3","eval","loadScript","_methodPromises","_pageCache","_pagePromises","_passwordCapability","_WorkerTransport_brand","fontLoader","FontLoader","_params","destroyCapability","_networkStream","_fullReader","_lastProgress","setupMessageHandler","AnnotationStorage","isOpList","SerializableEmpty","PrintAnnotationStorage","serializable","hash","_classPrivateFieldGet2","_this14","_iterator10","_step10","page","hasOwnProperty","resetModified","terminated","_this14$_networkStrea","cancelAllRequests","_this15","sink","getFullReader","evt","onPull","_ref14","close","ArrayBuffer","enqueue","onCancel","ready","readyReason","headersCapability","fullReader","headersReady","isStreamingSupported","isRangeSupported","_loadingTask$onProgre","_loadingTask$onProgre2","contentLength","rangeReader","getRangeReader","_ref15","_ref16","_numPages","htmlForXfa","exception","updatePassword","_loadingTask$onProgre3","_ref17","_globalThis$FontInspe","_ref18","exportedData","exportedError","inspectFont","FontInspector","enabled","font","fontAdded","FontFaceObject","bind","_ref19","_ref20","imageData","pageProxy","bitmap","width","height","_imageData$data","_loadingTask$onProgre4","fetch","_this$_fullReader$fil","_this$_fullReader","_this16","_this$annotationStora","filename","_this17","cachedPromise","num","gen","_cacheSimpleMethod","results","OptionalContentConfig","_this18","_this18$_fullReader$f","_this18$_fullReader","_this18$_fullReader$c","_this18$_fullReader2","metadata","Metadata","_startCleanup","_callee4","_iterator11","_step11","cleanupSuccessful","_args4","_callee4$","_context4","finish","_this$_params","_objs","_PDFObjects_brand","objId","_ensureObj","settled","_data$bitmap","_classPrivateFieldGet4","_internalRenderTask","RenderTask","onContinue","_classPrivateFieldGet3","form","canvas","_ref21","_ref21$useRequestAnim","_ref21$pdfBug","_ref21$pageColors","operatorListIdx","running","graphicsReadyCallback","graphicsReady","_useRequestAnimationFrame","cancelled","_cancelBound","_continueBound","_continue","_scheduleNextBound","_scheduleNext","_nextBound","_next","_ref22","_globalThis$StepperMa","_this$graphicsReadyCa","_ref22$transparency","_canvasInUse","StepperManager","stepper","init","nextBreakPoint","getNextBreakPoint","_this$params","gfx","CanvasGraphics","beginDrawing","_this$gfx","endDrawing","_this$stepper","updateOperatorList","_this19","requestAnimationFrame","_next2","_callee5","_callee5$","_context5","executeOperatorList","version","build","_editor","_murmurhash","freeze","_modified","_storage","_AnnotationStorage_brand","onSetModified","onResetModified","onAnnotationEditor","getValue","defaultValue","getRawValue","remove","_iterator13","_step13","AnnotationEditor","setValue","modified","_i","_Object$entries","entries","_Object$entries$_i","entry","_setModified","_type","getAll","setAll","_i2","_Object$entries2","_Object$entries2$_i","MurmurHash3_64","context","hasBitmap","_iterator14","_step14","_step14$value","serialized","serialize","update","JSON","stringify","_iterator15","_step15","hexdigest","_serializable","_AnnotationStorage2","parent","_this21","_parent$serializable","clone","_tools","_altText","_altTextDecorative","_altTextButton","_altTextTooltip","_altTextTooltipTimeout","_keepAspectRatio","_resizersDiv","_boundFocusin","_boundFocusout","_hasBeenClicked","_isEditing","_isInEditMode","_isDraggable","_zIndex","_AnnotationEditor_brand","parameters","focusin","focusout","_defineProperty","div","_uiManager","uiManager","annotationElementId","_willKeepAspectRatio","_initialOptions","isCentered","_structTreeParentId","_this$parent$viewport","_this$parent$viewport2","rawDims","pageWidth","pageHeight","pageX","pageY","pageRotation","viewParameters","pageDimensions","pageTranslation","_this$parentDimension","parentDimensions","x","y","isAttachedToDOM","deleted","getPrototypeOf","_this$div","classList","toggle","center","_this$pageDimensions","parentRotation","fixAndSetPosition","addCommands","currentLayer","setInBackground","style","zIndex","setInForeground","setParent","_focusEventsAllowed","setSelected","_this$parent","target","relatedTarget","closest","preventDefault","isMultipleSelection","commitOrRemove","isEmpty","commit","addToAnnotationStorage","setAt","tx","ty","_this$parentDimension2","_this$screenToPageTra","screenToPageTranslation","_this$screenToPageTra2","translate","_translate","translateInPage","scrollIntoView","block","drag","_this$parentDimension3","parentWidth","parentHeight","_this$div$getBounding","getBoundingClientRect","findNewParent","_assertClassBrand$cal","_getBaseTranslation","_assertClassBrand$cal2","bx","by","left","toFixed","top","_this$pageDimensions2","_assertClassBrand$cal3","_assertClassBrand$cal4","moveInDOM","_rotatePoint","pageTranslationToScreen","realScale","parentScale","_this$pageDimensions3","scaledWidth","scaledHeight","isCSSRoundSupported","round","setDims","_classPrivateFieldGet5","_this$parentDimension4","SMALL_EDITOR_SIZE","fixDims","widthPercent","endsWith","heightPercent","_this$parentDimension5","parseFloat","getInitialTranslation","_addAltTextButton","_callee7","_this22","altText","PERCENT","_callee7$","_context7","createElement","className","_l10nPromise","setAttribute","tabIndex","noContextMenu","stopPropagation","editAltText","capture","_setAltTextButtonState","append","addAltTextButton","getClientDimensions","decorative","_ref23","_this$parentDimension6","maxWidth","maxHeight","_this$getInitialTrans","_this$getInitialTrans2","bindEvents","pointerdown","button","ctrlKey","_setUpDragSession","_this$parent2","moveEditorInDOM","_setParentAndPosition","changeParent","getRect","_this$pageDimensions4","_this$pageTranslation","shiftX","shiftY","getRectInCurrentCoords","_rect","onceAdded","enableEditMode","disableEditMode","isInEditMode","shouldGetKeyboardEvents","needsToBeRebuilt","rebuild","_this$div2","_this$div3","isForCopying","_classPrivateFieldGet6","removeEditor","makeResizable","isResizable","_createResizers","select","_this$div4","unselect","_classPrivateFieldGet7","_this$div5","_this$div6","contains","activeElement","focus","updateParams","disableEditing","hidden","enableEditing","enterInEditMode","setActiveEditor","setAspectRatio","aspectRatio","_colorManager","getHexCode","deleteAnnotationElement","editor","fakeEditor","FakeEditor","getNextId","initialize","l10n","strings","_iterator16","_step16","_borderLineWidth","getComputedStyle","documentElement","getPropertyValue","updateDefaultParams","_value","isHandlingMimeForPasting","mime","paste","item","deserialize","_editor$pageDimension","_editor$getRectInCurr","_editor$getRectInCurr2","_AnnotationEditor","_ref24","_ref25","_this$screenToPageTra3","_this$screenToPageTra4","_this$parentDimension7","angle","_getRotationMatrix","_this$pageDimensions5","_this$pageDimensions6","classes","_i3","_classes","_resizerPointerdown","prepend","_this24","boundResizerPointermove","_resizerPointermove","savedDraggable","pointerMoveOptions","passive","savedX","savedY","savedWidth","savedHeight","savedParentCursor","cursor","savedCursor","pointerUpCallback","newX","newY","newWidth","newHeight","cmd","_this24$parentDimensi","undo","_this24$parentDimensi2","mustExec","_this$parentDimension8","minWidth","MIN_SIZE","minHeight","rotationMatrix","transf","invRotationMatrix","invTransf","getPoint","getOpposite","isDiagonal","isHorizontal","w","h","point","oppositePoint","transfOppositePoint","oppositeX","oppositeY","ratioX","ratioY","_this$screenToPageTra5","movementX","movementY","_this$screenToPageTra6","deltaX","deltaY","_invTransf","_invTransf2","oldDiag","hypot","_setAltTextButtonState2","_callee8","_this26","_classPrivateFieldGet8","tooltip","DELAY_TO_SHOW_TOOLTIP","_callee8$","_context8","_eventBus","dispatch","subtype","editorType","action","_classPrivateFieldGet9","innerText","parentNode","_this25","isSelected","setUpDragSession","pointerMoveCallback","_this25$screenToPageT","_this25$screenToPageT2","dragSelectedEditors","endDragSession","shiftKey","metaKey","toggleSelected","ColorManager","_AnnotationEditor2","_this23","element","names","_iterator17","_step17","opacityToHex","opacity","_id","IdManager","getId","_this$id","_this$id2","_baseId","_id2","_cache","_ImageManager_brand","ImageManager","_getFromFile","_callee9","file","lastModified","_callee9$","_context9","_get","getFromFile","_x4","_getFromUrl","_callee0","_callee0$","_context0","getFromUrl","_x5","_getFromId","_callee1","_callee1$","_context1","refCounter","getFromId","_x6","getSvgUrl","isSvg","svgUrl","deleteId","isValidId","svg","ctx","getContext","image","Image","drawImage","getImageData","_ImageManager","_x7","_x8","_get2","_callee11","rawData","_data","_this$id3","_this$id4","response","mustRemoveAspectRatioPromise","fileReader","imageElement","imagePromise","_callee11$","_context11","ok","statusText","blob","_isSVGFittingCanvas","FileReader","onload","_callee10","_callee10$","_context10","result","onerror","readAsDataURL","createImageBitmap","_commands","_locked","_maxSize","_position","CommandManager","maxSize","_ref26","_ref26$type","_ref26$overwriteIfSam","overwriteIfSameType","_ref26$keepUndo","keepUndo","splice","redo","hasSomethingToUndo","hasSomethingToRedo","_KeyboardManager_brand","KeyboardManager","callbacks","allKeys","_iterator18","_step18","_step18$value","_step18$value$","_iterator19","_step19","isMacKey","split","at","exec","self","_serialize","_info$options","_info$options$bubbles","bubbles","_info$options$args","args","_info$options$checker","checker","altKey","colors","getColorValues","convert","color","rgb","getRGB","matchMedia","matches","_iterator20","_colors","_step20","_step20$value","RGB","every","_colorsMapping","_util$Util","_activeEditor","_allEditors","_allLayers","_altTextManager","_annotationStorage","_commandManager","_currentPageIndex","_deletedAnnotationsElementIds","_draggingEditors","_editorTypes","_editorsToRescale","_filterFactory","_idManager","_isEnabled","_isWaiting","_lastActiveElement","_mode","_selectedEditors","_pageColors","_boundBlur","_boundFocus","_boundCopy","_boundCut","_boundPaste","_boundKeydown","_boundOnEditingAction","_boundOnPageChanging","_boundOnScaleChanging","_boundOnRotationChanging","_previousStates","_translation","_translationTimeoutId","_container","_viewer","_AnnotationEditorUIManager_brand","AnnotationEditorUIManager","container","viewer","altTextManager","eventBus","pdfDocument","blur","copy","cut","keydown","onEditingAction","onPageChanging","onScaleChanging","onRotationChanging","isEditing","hasSelectedEditor","_on","PixelsPerInch","PDF_TO_CSS_UNITS","_removeKeyboardManager","_removeFocusManager","_off","_iterator21","_step21","layer","addHCMFilter","foreground","direction","_classPrivateFieldGet0","_ref27","focusMainContainer","findParent","_iterator22","_step22","_layer$div$getBoundin","layerX","layerY","disableUserSelect","addShouldRescale","removeShouldRescale","_ref28","_iterator23","_step23","_ref29","pagesRotation","hasSelection","_document2","_iterator24","_step24","_classPrivateFieldGet1","_classPrivateFieldGet10","lastEditor","lastActiveElement","once","addEditListeners","_addKeyboardManager","_addCopyPasteListeners","removeEditListeners","_removeCopyPasteListeners","_classPrivateFieldGet11","editors","_iterator25","_step25","clipboardData","setData","_this27","_iterator26","_step26","_iterator28","_step28","parse","isArray","unselectAll","newEditors","_iterator27","_step27","deserializedEditor","_i4","_newEditors","_addEditorToLayer","_selectEditors","_i5","_newEditors2","_this$getActive","getActive","_keyboardManager","setEditingState","_addFocusManager","_dispatchUpdateStates","_isEmpty","registerEditorTypes","types","_iterator29","_step29","_dispatchUpdateUI","defaultPropertiesToUpdate","getLayer","addLayer","enable","disable","removeLayer","updateMode","mode","editId","_disableAll","_enableAll","_iterator30","_step30","_iterator31","_step31","updateToolbar","addNewEditor","_iterator32","_step32","_iterator33","_step33","enableWaiting","mustWait","_iterator34","_step34","disableClick","enableClick","getEditors","_iterator35","_step35","getEditor","addEditor","_classPrivateFieldGet12","addDeletedAnnotationElement","isDeletedAnnotationElement","removeDeletedAnnotationElement","propertiesToUpdate","_iterator36","_step36","ed","delete","_this28","_iterator37","_step37","_iterator38","_step38","_classPrivateFieldGet13","hasSomethingToControl","selectAll","_iterator39","_step39","_iterator40","_step40","translateSelectedEditors","_this29","noCommit","_classPrivateFieldGet14","_classPrivateFieldGet15","totalX","totalY","TIME_TO_WAIT","_iterator41","_step41","_iterator42","_step42","_iterator43","_step43","_iterator44","_step44","savedPageIndex","newPageIndex","_this30","mustBeAddedInUndoStack","_iterator45","_step45","_step45$value","_step45$value$","move","_iterator46","_step46","_step46$value","_step46$value$","_iterator47","_step47","_step47$value","_step47$value$","_iterator48","_step48","addOrRebuild","isActive","getMode","proto","arrowChecker","_document3","small","TRANSLATE_SMALL","big","TRANSLATE_BIG","_this31","hasChanged","some","_ref30","_ref31","_iterator49","_step49","_iterator50","_step50","_iterator51","_step51","_iterator52","_step52","_base_factory","SVG_NS","_PixelsPerInch","PDF","_cache2","_defs","_docId2","_document4","_hcmFilter","_hcmKey","_hcmUrl","_hcmHighlightFilter","_hcmHighlightKey","_hcmHighlightUrl","_id3","_DOMFilterFactory_brand","_base_factory$BaseFil","_this34","_ref33","_ref33$ownerDocument","addFilter","maps","_this$id5","_this$id6","_classPrivateGetter","_get_cache","tableR","tableG","tableB","mapR","_maps","mapG","mapB","bufferR","bufferG","bufferB","filter","_createFilter","_addTransferMapConversion","fgColor","bgColor","_classPrivateFieldGet16","_util$Util2","_util$Util3","fgRGB","_getRGB","bgRGB","_get_defs","table","_addGrayConversion","getSteps","start","arr","addHighlightHCMFilter","newFgColor","newBgColor","_classPrivateFieldGet17","_map","_map2","fgGray","bgGray","_map3","_map4","newFgRGB","newBgRGB","_ref34","fg","bg","step","newStart","newStep","k","keepHCM","BaseFilterFactory","_this32","_this33","visibility","contain","position","createElementNS","body","feColorMatrix","_appendFeFunc","feComponentTransfer","func","feFunc","rTable","gTable","bTable","_base_factory$BaseCan","_this35","_ref35","_ref35$ownerDocument","_createCanvas","BaseCanvasFactory","fetchData","_x9","_fetchData","_callee12","asTypedArray","_args12","_callee12$","_context12","arrayBuffer","t3","text","t4","request","XMLHttpRequest","open","responseType","onreadystatechange","readyState","DONE","responseText","_base_factory$BaseCMa","compressionType","cMapData","BaseCMapReaderFactory","_base_factory$BaseSta","BaseStandardFontDataFactory","DOMSVGFactory","_base_factory$BaseSVG","_createSVG","BaseSVGFactory","_ref36","_ref36$offsetX","_ref36$offsetY","_ref36$dontFlip","centerX","centerY","rotateA","rotateB","rotateC","rotateD","offsetCanvasX","offsetCanvasY","_ref37","_ref37$scale","_ref37$rotation","_ref37$offsetX","_ref37$offsetY","_ref37$dontFlip","convertToViewportPoint","convertToViewportRectangle","topLeft","bottomRight","convertToPdfPoint","_util$BaseException","_this36","trim","substring","toLowerCase","isPdfFile","test","getFilenameFromUrl","onlyStripPath","_url$split","_url$split2","lastIndexOf","getPdfFilenameFromUrl","defaultFilename","reURI","reFilename","splitURI","suggestedFilename","_unused9","started","now","times","outBuf","longest","_iterator53","_step53","_iterator54","_step54","_step54$value","padEnd","_ref38","_unused0","removeScriptElement","script","head","pdfDateStringRegex","PDFDateString","toDateObject","input","RegExp","year","parseInt","month","day","hour","minute","universalTimeRelation","offsetHour","offsetMinute","UTC","getXfaPageViewport","xfaPage","_ref39","_ref39$scale","_ref39$rotation","_xfaPage$attributes$s","attributes","colorRGB","span","_iterator55","_step55","computedColor","getCurrentTransform","_ctx$getTransform","getTransform","getCurrentTransformInverse","_ctx$getTransform$inv","invertSelf","setLayerDimensions","mustFlip","mustRotate","_viewport$rawDims","useRound","widthStr","heightStr","reset","canvasAndContext","_ref40","_ref40$baseUrl","_ref40$isCompressed","_fetch","_callee13","_ref41","_this37","_callee13$","_context13","_x0","_ref42","_ref42$baseUrl","_fetch2","_callee14","_ref43","_callee14$","_context14","_x1","skipDimensions","SEED","MASK_HIGH","MASK_LOW","seed","h1","h2","blockCounts","tailLength","dataUint32","k1","k2","C1","C2","C1_LOW","C2_LOW","_systemFonts","_ref44","_ref44$ownerDocument","_ref44$styleElement","nativeFontFaces","loadingRequests","loadTestFontId","addNativeFontFace","nativeFontFace","fonts","removeNativeFontFace","insertRule","rule","getElementsByTagName","styleSheet","sheet","cssRules","_iterator56","_step56","_loadSystemFont","_callee15","loadedName","fontFace","_callee15$","_context15","isFontLoadingAPISupported","FontFace","load","baseFontName","loadSystemFont","_x10","_bind","_callee16","_this38","_callee16$","_context16","attached","missingFile","systemFontInfo","createNativeFontFace","family","createFontFaceRule","isSyncFontLoadingSupported","_queueLoadingCallback","_prepareFontLoadEvent","_x11","_this$_document","hasFonts","supported","userAgent","completeRequest","otherRequest","shift","testFont","atob","int32","offset","spliceString","insert","chunk1","chunk2","called","isFontReady","fillText","_loadTestFont","COMMENT_OFFSET","CFF_CHECKSUM_OFFSET","XXXX_VALUE","checksum","btoa","_i0","_arr","fontFamily","translatedData","_ref45","_ref45$isEvalSupporte","_ref45$disableFontFac","_ref45$ignoreErrors","_ref45$inspectFont","compiledGlyphs","_inspectFont","_this$_inspectFont","cssFontInfo","css","weight","fontWeight","italicAngle","_this$_inspectFont2","mimetype","getPathGenerator","character","cmds","jsBuf","_iterator57","_step57","current","_iterator58","_step58","fs","readFile","_base_factory$BaseFil2","_base_factory$BaseCan2","Canvas","createCanvas","_base_factory$BaseCMa2","_base_factory$BaseSta2","_pattern_helper","_image_utils","MIN_FONT_SIZE","MAX_FONT_SIZE","MAX_GROUP_SIZE","EXECUTION_TIME","EXECUTION_STEPS","MAX_SIZE_TO_COMPILE","FULL_CHUNK_HEIGHT","mirrorContextOperations","destCtx","_removeMirroring","__originalSave","__originalRestore","__originalRotate","__originalScale","__originalTranslate","__originalTransform","__originalSetTransform","setTransform","__originalResetTransform","resetTransform","__originalClip","__originalMoveTo","__originalLineTo","__originalBezierCurveTo","bezierCurveTo","__originalRect","__originalClosePath","__originalBeginPath","beginPath","ctxSave","ctxRestore","ctxTranslate","ctxScale","ctxTransform","ctxSetTransform","ctxResetTransform","ctxRotate","cp1x","cp1y","cp2x","cp2y","CachedCanvases","cache","getCanvas","canvasEntry","drawImageAtIntegerCoords","srcImg","srcX","srcY","srcW","srcH","destX","destY","destW","destH","_ref46","_ref47","tlX","rTlX","tlY","rTlY","brX","rWidth","brY","rHeight","sign","scaleX","scaleY","compileType3Glyph","imgData","POINT_TO_PROCESS_LIMIT","POINT_TYPES","width1","points","j0","lineSize","pos","_iterator59","_step59","elem","mask","count","sum","steps","Int32Array","path","Path2D","p0","pp","drawOutline","CanvasExtraState","alphaIsShape","fontSize","fontSizeScale","textMatrix","textMatrixScale","fontMatrix","leading","lineX","lineY","charSpacing","wordSpacing","textHScale","textRenderingMode","textRise","fillColor","strokeColor","patternFill","fillAlpha","strokeAlpha","lineWidth","activeSMask","transferMaps","startNewPathAndClipBox","clipBox","setCurrentPoint","updatePathMinMax","_util$Util$applyTrans","_util$Util$applyTrans2","minX","minY","maxX","maxY","updateRectMinMax","updateScalingPathMinMax","updateCurvePathMinMax","box","getPathBoundingBox","pathType","PathType","xStrokePad","yStrokePad","updateClipFromPath","isEmptyClip","Infinity","getClippedPathBoundingBox","putBinaryImageData","ImageData","putImageData","partialChunkHeight","fullChunks","totalChunks","chunkImgData","createImageData","srcPos","destPos","dest","thisChunkHeight","elemsInThisChunk","kind","srcLength","dest32","dest32DataLength","fullSrcDiff","white","black","srcDiff","kEnd","kEndUnrolled","srcByte","putBinaryImageMask","_ref48","convertBlackAndWhiteToRGBA","nonBlackColor","copyCtxState","sourceCtx","properties","_i1","_properties","property","setLineDash","getLineDash","lineDashOffset","resetCtxToDefault","strokeStyle","fillStyle","fillRule","globalAlpha","lineCap","lineJoin","miterLimit","globalCompositeOperation","composeSMaskBackdrop","r0","g0","b0","alpha","alpha_","composeSMaskAlpha","maskData","layerData","transferMap","composeSMaskLuminosity","genericComposeSMask","maskCtx","layerCtx","backdrop","layerOffsetX","layerOffsetY","maskOffsetX","maskOffsetY","hasBackdrop","composeFn","PIXELS_TO_PROCESS","chunkSize","ceil","row","chunkHeight","composeSMask","smask","layerBox","layerWidth","layerHeight","getImageSmoothingEnabled","interpolate","fround","actualScale","devicePixelRatio","LINE_CAP_STYLES","LINE_JOIN_STYLES","NORMAL_CLIP","EO_CLIP","_CanvasGraphics_brand","canvasCtx","_ref49","_ref49$markedContentS","markedContentStack","stateStack","pendingClip","pendingEOFill","res","xobjs","groupStack","processingType3","baseTransform","baseTransformStack","groupLevel","smaskStack","smaskCounter","tempSMask","suspendedCtx","contentVisible","cachedCanvases","cachedPatterns","viewportScale","outputScaleX","outputScaleY","_cachedScaleForStroking","_cachedGetSinglePixelWidth","_cachedBitmapsMap","getObject","fallback","_ref50","_this$ctx3","_ref50$transparency","_ref50$background","savedFillStyle","fillRect","_this$ctx","transparentCanvas","compositeCtx","_this$ctx2","executionStartIdx","continueCallback","argsArrayLen","chunkOperations","endTime","fnId","breakIt","_iterator60","_step60","depObjId","objsPool","_restoreInitialState","_iterator61","_step61","_iterator62","_step62","HTMLCanvasElement","_drawFilter","_scaleImage","img","widthScale","heightScale","paintWidth","paintHeight","tmpCanvasId","tmpCanvas","tmpCtx","clearRect","_createMaskCanvas","isPatternFill","currentTransform","scaled","maskCanvas","mainKey","cachedImage","maskToCanvas","cord1","cord2","drawnWidth","drawnHeight","fillCanvas","fillCtx","imageSmoothingEnabled","inverse","getPattern","limit","dashArray","dashPhase","flatness","states","_iterator63","_step63","_step63$value","checkSMaskState","inSMaskMode","beginSMaskMode","endSMaskMode","cacheId","scratchCanvas","compose","dirtyBox","old","pop","ops","startX","startY","isScalingMatrix","minMaxForBezier","xw","yh","consumePath","rescaleAndStroke","needRestore","paths","pendingTextPaths","_iterator64","_step64","addToPath","spacing","fontRefName","_fontObj$systemFontIn","fontObj","fontDirection","isType3Font","typeface","fallbackName","bold","italic","browserFontSize","rise","paintChar","patternTransform","fillStrokeMode","isAddToPathSet","strokeText","_this$cachedCanvases$","glyphs","showType3Text","glyphsLength","vertical","spacingDir","defaultVMetrics","widthAdvanceScale","simpleFillText","pattern","getSinglePixelWidth","isInvalidPDFjsFont","chars","_iterator65","_step65","glyph","unicode","restoreNeeded","isSpace","fontChar","accent","scaledX","scaledY","vmetric","vx","vy","remeasure","measuredWidth","measureText","isFontSubpixelAAEnabled","characterScaleX","isInFont","scaledAccentX","scaledAccentY","charWidth","isTextInvisible","spacingLength","charProcOperatorList","operatorListId","transformed","xWidth","yWidth","llx","lly","urx","ury","getColorN_Pattern","IR","_this39","canvasGraphicsFactory","createCanvasGraphics","TilingPattern","_getPattern","matrix","getShadingPattern","SHADING","inv","_ctx$canvas","_util$Util$getAxialAl","_util$Util$getAxialAl2","bbox","group","currentCtx","isolated","knockout","canvasBounds","groupCtx","startTransformInverse","_this$ctx4","currentMtx","hasOwnCanvas","_this$ctx5","_util$Util$singularVa","_util$Util$singularVa2","canvasWidth","canvasHeight","annotationCanvas","_this$annotationCanva","savedCtx","compiled","skewX","skewY","positions","trans","_util$Util$applyTrans3","_util$Util$applyTrans4","images","_iterator66","_step66","applyTransferMapsToCanvas","applyTransferMapsToBitmap","imgToPaint","HTMLElement","_iterator67","_step67","tag","visible","isVisible","isContentVisible","absDet","normX","normY","getScaleForStroking","_this$ctx$getTransfor","scaledLineWidth","scaledXLineWidth","scaledYLineWidth","baseArea","saveRestore","_this$getScaleForStro","_this$getScaleForStro2","dashes","hcmFilterId","savedFilter","op","applyBoundingBox","region","BaseShadingPattern","RadialAxialShadingPattern","_BaseShadingPattern","_this40","_bbox","_colorStops","_p0","_p1","_r0","_r1","_createGradient","grad","createLinearGradient","createRadialGradient","_iterator68","_step68","colorStop","addColorStop","owner","ownerBBox","createPattern","domMatrix","DOMMatrix","drawTriangle","c1","c2","c3","coords","rowSize","tmp","c1r","c1g","c1b","c2r","c2g","c2b","c3r","c3g","c3b","xa","car","cag","cab","xb","cbr","cbg","cbb","x1_","x2_","drawFigure","figure","ps","cs","verticesPerRow","rows","cols","q","MeshShadingPattern","_BaseShadingPattern2","_this41","_coords","_figures","_bounds","_background","_createMeshCanvas","combinedScale","backgroundColor","EXPECTED_SCALE","MAX_PATTERN_SIZE","BORDER_SIZE","boundsWidth","boundsHeight","paddedWidth","paddedHeight","_iterator69","_step69","matrixScale","temporaryPatternCanvas","DummyShadingPattern","_BaseShadingPattern3","PaintType","COLORED","UNCOLORED","xstep","ystep","paintType","tilingType","createPatternCanvas","curMatrixScale","dimx","getSizeAndScale","dimy","graphics","setFillAndStrokeStyleToContext","adjustedX0","adjustedY0","adjustedX1","adjustedY1","clipBbox","realOutputSize","bboxWidth","bboxHeight","cssColor","convertToRGBA","convertRGBToRGBA","_ref51","_ref51$srcPos","_ref51$nonBlackColor","_ref51$inverseDecode","inverseDecode","_ref52","_ref53","zeroMapping","oneMapping","widthInSource","widthRemainder","_ref54","_ref54$srcPos","_ref54$destPos","len32","src32","s1","s2","s3","jj","grayToRGBA","CallbackKind","UNKNOWN","DATA","ERROR","StreamKind","CANCEL","CANCEL_COMPLETE","CLOSE","ENQUEUE","PULL","PULL_COMPLETE","START_COMPLETE","wrapReason","_MessageHandler_brand","sourceName","targetName","comObj","_this42","callbackId","streamId","streamSinks","streamControllers","callbackCapabilities","actionHandler","_onComObjOnMessage","stream","_processStreamMessage","cbSourceName","cbTargetName","_createStreamSink","actionName","handler","ah","queueingStrategy","_this43","ReadableStream","controller","startCapability","startCall","pullCall","cancelCall","isClosed","desiredSize","pull","pullCapability","cancelCapability","streamSink","isCancelled","lastDesiredSize","sinkCapability","streamController","_streamSink$onPull","_deleteStreamController","_streamSink$onCancel","_x12","_x13","_deleteStreamController2","_callee17","_streamController$sta","_streamController$pul","_streamController$can","_callee17$","_context17","allSettled","_metadataMap","_data2","_ref55","parsedData","getRaw","_classPrivateFieldGet18","INTERNAL","Symbol","_visible","OptionalContentGroup","_setVisible","internal","_cachedGetHash","_groups","_initialHash","_order","_OptionalContentConfig_brand","creator","order","_iterator70","groups","_step70","baseState","_iterator71","_step71","_iterator72","_step72","_iterator73","off","_step73","getHash","expression","_evaluateVisibilityExpression","policy","_iterator74","ids","_step74","_iterator75","_step75","_iterator76","_step76","_iterator77","_step77","setVisibility","getOrder","getGroups","getGroup","_iterator78","_step78","_step78$value","array","operator","state","_ref56","pdfDataRangeTransport","_this44","_ref56$progressiveDon","_ref56$contentDisposi","_ref56$disableRange","_ref56$disableStream","_queuedChunks","_progressiveDone","_contentDispositionFilename","_pdfDataRangeTransport","_isStreamingSupported","_isRangeSupported","_contentLength","_fullRequestReader","_rangeReaders","_onReceiveData","_onProgress","_onProgressiveDone","_ref57","_enqueue","found","_begin","_this$_fullRequestRea","_this$_fullRequestRea2","_loaded","_this$_rangeReaders$","_this$_rangeReaders$$","_this$_fullRequestRea3","_this$_fullRequestRea4","_this$_fullRequestRea5","_removeRangeReader","indexOf","queuedChunks","PDFDataTransportStreamReader","_progressiveDataLength","PDFDataTransportStreamRangeReader","_this$_fullRequestRea6","_iterator79","_step79","_stream","_done","_filename","_iterator80","_step80","_requests","_headersReady","requestCapability","_read","_callee18","_callee18$","_context18","_iterator81","_step81","_end","_queuedChunk","requestsCapability","_iterator82","_step82","_read2","_callee19","_callee19$","_context19","_iterator83","_step83","_network_utils","createFetchOptions","headers","abortController","method","signal","credentials","redirect","createHeaders","Headers","getArrayBuffer","isHttp","_rangeRequestReaders","_this$_fullRequestRea7","_this$_fullRequestRea8","PDFFetchStreamReader","PDFFetchStreamRangeReader","_this$_fullRequestRea9","_iterator84","_step84","_this45","_reader","_withCredentials","_headersCapability","_disableRange","_rangeChunkSize","_abortController","AbortController","_headers","validateResponseStatus","createResponseStatusError","getResponseHeader","_ref58","validateRangeRequestCapabilities","allowRangeRequests","suggestedLength","extractFilenameFromHeader","_read3","_callee20","_this$onProgress","_yield$this$_reader$r","_callee20$","_context20","_this$_reader","_this46","_readCapability","_read4","_callee21","_this$onProgress2","_yield$this$_reader$r2","_callee21$","_context21","_this$_reader2","_content_disposition","_ref59","returnValues","contentEncoding","contentDisposition","getFilenameFromContentDispositionHeader","_unused10","needsEncodingFixup","toParamRegExp","rfc2616unquote","rfc5987decode","rfc2047decode","fixupEncoding","rfc2231getparam","attributePattern","flags","textdecode","_unused11","contentDispositionStr","iter","_match","_match2","quot","part","parts","_matches$_n","quotindex","extvalue","encodingend","langvalue","charset","hex","_unused12","OK_RESPONSE","PARTIAL_CONTENT_RESPONSE","xhr","NetworkManager","currXhrId","pendingRequests","requestRange","listeners","requestFull","xhrId","pendingRequest","setRequestHeader","expectedStatus","onError","onStateChange","onprogress","onHeadersReceived","onDone","_pendingRequest$onPro","_pendingRequest$onErr","xhrStatus","ok_response_on_range_request","_pendingRequest$onErr2","rangeHeader","_pendingRequest$onErr3","getRequestXhr","isPendingRequest","abortRequest","_source","_manager","_onRangeRequestReaderClosed","PDFNetworkStreamFullRequestReader","PDFNetworkStreamRangeRequestReader","onClosed","_this$_fullRequestRea0","_iterator85","_step85","manager","_onHeadersReceived","_onDone","_onError","_url","_fullRequestId","_headersReceivedCapability","_cachedChunks","_storedError","fullRequestXhrId","fullRequestXhr","_ref60","_iterator86","_step86","_iterator87","_step87","_this$onProgress3","lengthComputable","_read5","_callee22","_callee22$","_context22","_iterator88","_step88","_requestId","_close","_this$onClosed","_iterator89","_step89","_iterator90","_step90","_this$onProgress4","_read6","_callee23","_callee23$","_context23","_iterator91","_step91","fileUriRegex","parseUrl","sourceUrl","parsedUrl","host","isFsUrl","_this$_fullRequestRea1","_this$_fullRequestRea10","PDFNodeStreamFsFullReader","PDFNodeStreamFullReader","PDFNodeStreamFsRangeReader","PDFNodeStreamRangeReader","_this$_fullRequestRea11","_iterator92","_step92","BaseFullReader","_readableStream","_read7","_callee24","_this$onProgress5","_callee24$","_context24","_error","_setReadableStream","_this47","BaseRangeReader","_read8","_callee25","_this$onProgress6","_callee25$","_context25","_this48","createRequestOptions","auth","hostname","_BaseFullReader","_this49","handleResponse","statusCode","_ref61","_request","http","https","_BaseRangeReader","_this50","_httpHeaders","Range","_BaseFullReader2","_this51","lstat","stat","createReadStream","_BaseRangeReader2","_this52","SVG_DEFAULTS","fontStyle","XML_NS","XLINK_NS","contentType","forceDataSchema","digits","b1","b2","b3","d1","d2","d3","d4","convertImgDataToPng","PNG_HEADER","CHUNK_WRAPPER_SIZE","crcTable","crc32","crc","writePngChunk","len","adler32","deflateSync","literals","deflateSyncUncompressed","node","from","output","maxBlockLength","deflateBlocks","idat","pi","adler","encode","isMask","bitDepth","colorType","offsetLiterals","offsetBytes","ihdr","pngLength","SVGExtraState","dependencies","activeClipUrl","clipGroup","maskId","opListToTree","opList","opTree","_iterator93","_step93","opListElement","fn","pf","pm","acos","clipCount","maskCount","shadingCount","SVGGraphics","svgFactory","transformMatrix","transformStack","extraStack","embedFonts","embeddedFonts","cssStyle","_operatorIdMapping","tgrp","executeOpTree","loadDependencies","_this53","_iterator94","_step94","_loop","getSVG","_this54","svgElement","convertOpList","operatorIdMapping","_iterator95","_step95","opTreeElement","lineMatrix","xcoords","ycoords","tspan","setAttributeNS","txtElement","txtgrp","_iterator96","_step96","lineWidthScale","_setStrokeAttributes","_ensureTransformGroup","addFontStyle","defs","_current$txtElement","hasChildNodes","setStrokeAlpha","setFillAlpha","_makeColorN_Pattern","_this$viewport","_util$Util$getAxialAl3","_util$Util$getAxialAl4","_makeShadingPattern","_makeTilingPattern","_args$","tilingId","_util$Util$normalizeR","_util$Util$normalizeR2","tx0","ty0","tx1","ty1","_util$Util$singularVa3","_util$Util$singularVa4","xscale","yscale","txstep","tystep","tiling","_util$Util4","childNodes","shadingId","colorStops","gradient","point0","point1","focalPoint","circlePoint","focalRadius","circleRadius","_iterator97","_step97","_iterator98","_step98","getAttributeNS","clipId","clipPath","clipElement","cloneNode","_iterator99","_step99","_iterator100","_step100","_step100$value","_this$current$element","_this$current$element2","imgSrc","cliprect","imgEl","definitions","rootGroup","_ensureClipGroup","walk","_node$attributes","shouldBuildText","_iterator101","_step101","child","MAX_TEXT_DIVS_TO_RENDER","DEFAULT_FONT_SIZE","DEFAULT_FONT_ASCENT","ascentCache","getCtx","getAscent","cachedAscent","metrics","ascent","fontBoundingBoxAscent","descent","fontBoundingBoxDescent","ratio","pixels","appendText","geom","textDiv","textDivProperties","hasText","hasEOL","_textDivs","_transform","atan2","fontName","fontHeight","fontAscent","_isOffscreenCanvasSupported","sin","cos","scaleFactorStr","divStyle","_rootContainer","_pageWidth","_pageHeight","dir","_fontInspectorEnabled","dataset","shouldScaleText","absScaleX","absScaleY","_textDivProperties","_isReadableStream","_layoutText","layout","prevFontSize","prevFontFamily","_ctx$measureText","_canceled","textDivs","textDivsLength","_iterator102","_step102","TextLayerRenderTask","_ref62","_globalThis$FontInspe2","_this55","textContentSource","textContentItemsStr","_textContentSource","_textContentItemsStr","_layoutTextParams","_viewport$rawDims2","_processItems","styleCache","_iterator103","_step103","br","_render","_this56","_ref63","_this$_textContentSou","renderTextLayer","textContentStream","scaleFactor","updateTextLayer","_ref64","_ref64$mustRotate","_ref64$mustRescale","mustRescale","_iterator104","_step104","_freetext","_ink","_stamp","_accessibilityManager","_allowClick","_annotationLayer","_boundPointerup","_boundPointerdown","_editors","_hadPointerDown","_isCleaningUp","_isDisabling","_AnnotationEditorLayer_brand","AnnotationEditorLayer","_ref65","accessibilityManager","annotationLayer","pointerup","editorTypes","FreeTextEditor","InkEditor","StampEditor","_initialized","_iterator105","_step105","_cleanup","addInkEditorIfNeeded","isCommitting","_iterator106","_step106","_createAndAddNewEditor","pointerEvents","annotationElementIds","_iterator107","_step107","editables","getEditableAnnotations","_iterator108","_step108","editable","hide","hiddenAnnotationIds","_iterator109","_step109","_this$getEditableAnno","getEditableAnnotation","show","_iterator110","_step110","_classPrivateFieldGet19","currentActive","attach","detach","_classPrivateFieldGet20","removePointerInTextLayer","contentDiv","_this57","_editor$parent","_classPrivateFieldGet21","_document5","moveElementInDOM","addUndoableEditor","pasteEditor","_assertClassBrand$cal5","_getCenterPoint","_createNewEditor","_objectSpread","_data$annotationType","annotationType","annotationEditorType","_classPrivateFieldGet22","_iterator111","_step111","_classPrivateFieldGet23","_ref66","_iterator112","_step112","_ref67","_this$viewport$rawDim","_this$div$getBounding2","innerWidth","innerHeight","_ref68","_ref69","_iterator113","_step113","_annotation_layer","_boundEditorDivBlur","_boundEditorDivFocus","_boundEditorDivInput","_boundEditorDivKeydown","_color","_content","_editorDivId","_fontSize","_initialData","_FreeTextEditor_brand","_editor$AnnotationEdi","_this58","editorDivBlur","editorDivFocus","editorDivInput","editorDivKeydown","_defaultColor","_defaultLineColor","_defaultFontSize","_updateFontSize","_updateColor","_translateEmpty","_internalPadding","_superPropGet","overlayDiv","editorDiv","contentEditable","removeAttribute","preventScroll","_this$_initialOptions","_cheatInitialRect","_this59","savedText","newText","_extractText","trimEnd","setText","_setContent","_setEditorDimensions","dblclick","_this60","baseX","baseY","_this60$editorDiv","_this60$editorDiv2","_this$parentDimension9","_classPrivateFieldGet24","_this$getInitialTrans3","_this$getInitialTrans4","_this$pageTranslation2","_this$pageTranslation3","_this$pageDimensions7","_this$pageTranslation4","posX","posY","_ref70","_ref71","_ref72","padding","structTreeParentId","_hasElementChanged","_util$Util5","FreeTextAnnotationElement","_data3","_data3$data","_data3$data$defaultAp","defaultAppearanceData","fontColor","textPosition","_FreeTextEditor","_this61","setFontsize","savedFontsize","_this62","savedColor","divs","_iterator114","_step114","_this$parentDimension0","savedDisplay","display","replaceChildren","_iterator115","_step115","line","createTextNode","_classPrivateFieldGet25","_this63","_scripting_utils","_displayL10n_utils","_xfa_layer","DEFAULT_TAB_INDEX","GetElementsByNameSet","getRectDims","AnnotationElementFactory","LinkAnnotationElement","TextAnnotationElement","fieldType","TextWidgetAnnotationElement","radioButton","RadioButtonWidgetAnnotationElement","checkBox","CheckboxWidgetAnnotationElement","PushButtonWidgetAnnotationElement","ChoiceWidgetAnnotationElement","SignatureWidgetAnnotationElement","WidgetAnnotationElement","PopupAnnotationElement","LineAnnotationElement","SquareAnnotationElement","CircleAnnotationElement","PolylineAnnotationElement","CaretAnnotationElement","InkAnnotationElement","PolygonAnnotationElement","HighlightAnnotationElement","UnderlineAnnotationElement","SquigglyAnnotationElement","StrikeOutAnnotationElement","StampAnnotationElement","FileAttachmentAnnotationElement","AnnotationElement","_hasBorder","_ref73","_ref73$isRenderable","isRenderable","_ref73$ignoreBorder","ignoreBorder","_ref73$createQuadrila","createQuadrilaterals","linkService","downloadManager","imageResourcesPath","renderForms","enableScripting","_fieldObjects","fieldObjects","_createContainer","_createQuadrilaterals","_hasPopupData","_this$parent3","popupRef","noRotate","_viewport$rawDims3","setRotation","_getRectDims","borderStyle","borderWidth","horizontalRadius","horizontalCornerRadius","verticalRadius","verticalCornerRadius","radius","borderRadius","borderBottomStyle","borderColor","_this$parent$viewport3","_getRectDims2","elementWidth","elementHeight","_this64","setColor","jsName","styleName","detail","colorArray","ColorConverters","noView","noPrint","print","userName","title","readonly","disabled","required","_setRequired","textColor","_dispatchEventFromSandbox","actions","jsEvent","commonActions","_commonActions","_i15","_Object$keys","_setDefaultPropertiesFromJS","storedData","_i16","_Object$entries3","_Object$entries3$_i","eventProxy","quadPoints","_this$data$rect","rectBlX","rectBlY","rectTrX","rectTrY","_quadPoints$","_quadPoints$$","trX","trY","_quadPoints$$2","blX","blY","svgBuffer","_iterator116","_step116","_svgBuffer","_step116$value","_step116$value$","_step116$value$2","rectWidth","rectHeight","backgroundImage","_createPopup","popup","titleObj","modificationDate","contentsObj","richText","parentRect","elements","_getElementsByName","skipId","fields","fieldObj","_iterator117","_step117","_step117$value","exportValues","exportValue","domElement","querySelector","_iterator118","getElementsByName","_step118","getAttribute","_this$popup","maybeShow","_this$popup2","forceHide","getElementsToTriggerPopup","addHighlightArea","triggers","_iterator119","_step119","_editOnDoubleClick","_this65","_this65$linkService$e","_ref74","_LinkAnnotationElement_brand","_AnnotationElement2","_this66","isTooltipOnly","link","isBound","addLinkAttributes","newWindow","_bindNamedAction","attachment","_bindAttachment","setOCGState","_bindSetOCGState","_bindLink","Action","_bindJSAction","resetForm","_bindResetFormAction","destination","_this67","getDestinationHash","onclick","goToDestination","_setInternalLink","_this68","getAnchorUrl","executeNamedAction","_this69","_this69$downloadManag","openOrDownloadData","content","_this70","_loop2","_Object$keys2","_i17","_this70$linkService$e","_this71","otherClickAction","resetFormFields","resetFormRefs","refs","include","allFields","fieldIds","_iterator120","_step120","fieldName","_iterator122","_step122","_i18","_Object$values","_iterator121","_step121","field","_i19","_Object$values2","storage","allIds","_i20","_allFields","dispatchEvent","Event","_this71$linkService$e","_this88","executeSetOCGState","_AnnotationElement3","alt","l10nId","l10nArgs","hasPopupData","_AnnotationElement4","alternativeText","showElementAndHideCanvas","_element$previousSibl","previousSibling","nodeName","_getKeyModifier","_util$FeatureTest$pla","_setEventListener","elementData","baseName","eventName","valueGetter","_this72","_this72$linkService$e","modifier","_this72$linkService$e2","focused","_setEventListeners","getter","_iterator123","_step123","_this$data$actions","_step123$value","_this$data$actions2","_this$data$actions3","Blur","Focus","_setBackgroundColor","_setTextStyle","TEXT_ALIGNMENT","computedFontSize","roundToOneDecimal","multiLine","numberOfLines","lineHeight","textAlignment","textAlign","isRequired","_WidgetAnnotationElem","hasAppearance","fieldValue","setPropertyOnSiblings","keyInStorage","_iterator124","_step124","_this73","_this$data$textConten","maxLen","charLimit","fieldFormattedValues","formattedValue","comb","userValue","lastCommittedValue","commitKey","doNotScroll","overflowY","overflowX","readOnly","maxLength","_this73$data$defaultF","defaultFieldValue","blurListener","scrollLeft","_this$data$actions4","_event$detail$value","selRange","_event$target","setSelectionRange","_this73$linkService$e","willCommit","selStart","selectionStart","selEnd","selectionEnd","_this73$linkService$e2","_blurListener","_this73$linkService$e3","Keystroke","_this73$linkService$e4","inputType","change","fieldWidth","combWidth","letterSpacing","verticalAlign","_WidgetAnnotationElem2","_WidgetAnnotationElem3","_this74","_event$target2","checked","_iterator125","_step125","checkbox","curChecked","_WidgetAnnotationElem4","_this75","buttonValue","_event$target3","_iterator126","_step126","radio","pdfButtonValue","_iterator127","_step127","_LinkAnnotationElemen","_this76","linkElement","lastChild","_WidgetAnnotationElem5","_this77","selectElement","addAnEmptyEntry","combo","multiSelect","multiple","_iterator128","_step128","option","selected","_iterator129","_step129","optionElement","displayValue","removeEmptyEntry","noneOptionElement","isExport","selectedIndex","selectedValues","getItems","_removeEmptyEntry2","_iterator130","_step130","multipleSelection","index","findIndex","_event$detail$insert","selectChild","before","_iterator131","_step131","indices","_iterator132","_step132","_this77$linkService$e","changeEx","keyDown","_AnnotationElement5","_this78","PopupElement","elementIds","_iterator133","_step133","_dateTimePromise","_boundKeyDown","_boundHide","_boundShow","_boundToggle","_color2","_container2","_contentsObj","_elements","_parent","_parentRect","_pinned","_popup","_rect2","_richText","_titleObj","_wasVisible","_PopupElement_brand","_ref75","_keyDown","_hide","_show","_toggle","dateObject","toLocaleDateString","toLocaleTimeString","trigger","flatMap","_iterator134","_step134","_iterator135","_step135","_element$container","_classPrivateFieldGet26","_classPrivateFieldGet27","_util$Util6","baseColor","outlineColor","_util$Util7","BACKGROUND_ENLIGHT","header","_classPrivateFieldGet28","localized","XfaLayer","xfaHtml","html","contents","_formatContents","useParentRect","_iterator136","_step136","normalizedRect","HORIZONTAL_SPACE_AFTER_ANNOTATION","popupLeft","popupTop","_classPrivateFieldGet29","_ref76","lines","_AnnotationElement6","_this79","_iterator137","_step137","lineSpan","_line","_AnnotationElement7","_this80","_getRectDims3","lineCoordinates","_square","_AnnotationElement8","_this81","_getRectDims4","square","_circle","_AnnotationElement9","_this82","_getRectDims5","circle","_polyline","_AnnotationElement0","_this83","containerClassName","svgElementName","_getRectDims6","_iterator138","vertices","_step138","coordinate","polyline","_PolylineAnnotationEl","_this84","_AnnotationElement1","_polylines","_AnnotationElement10","_this85","_getRectDims7","_iterator139","inkLists","_step139","inkList","_iterator140","_step140","_AnnotationElement11","_AnnotationElement12","_AnnotationElement13","_AnnotationElement14","_AnnotationElement15","_trigger","_FileAttachmentAnnotationElement_brand","_AnnotationElement16","_this86$linkService$e","_this86","_this86$data$file","_this87","_download","_this$downloadManager","_accessibilityManager2","_annotationCanvasMap","_editableAnnotations","_AnnotationLayer_brand","AnnotationLayer","_ref77","NullL10n","_render2","_callee26","annotations","popupToElements","elementParams","_iterator141","_step141","isPopupAnnotation","_getRectDims8","_elements2","rendered","_callee26$","_context26","noHTML","_appendElement","_setAnnotationCanvasMap","_x14","_ref78","_classPrivateFieldGet30","contentElement","firstChild","_iterator142","_step142","_step142$value","replaceWith","makeColorComp","scaleAndClamp","CMYK_G","_ref79","_ref80","G_CMYK","_ref81","_ref82","G_RGB","_ref83","_ref84","G_rgb","_ref85","_ref86","G_HTML","_ref87","_ref88","G","RGB_G","_ref89","_ref90","RGB_rgb","RGB_HTML","T_HTML","T_rgb","CMYK_RGB","_ref91","_ref92","CMYK_rgb","_ref93","_ref94","CMYK_HTML","components","RGB_CMYK","_ref95","_ref96","DEFAULT_L10N_STRINGS","of_pages","page_of_pages","document_properties_kb","document_properties_mb","document_properties_date_string","document_properties_page_size_unit_inches","document_properties_page_size_unit_millimeters","document_properties_page_size_orientation_portrait","document_properties_page_size_orientation_landscape","document_properties_page_size_name_a3","document_properties_page_size_name_a4","document_properties_page_size_name_letter","document_properties_page_size_name_legal","document_properties_page_size_dimension_string","document_properties_page_size_dimension_name_string","document_properties_linearized_yes","document_properties_linearized_no","additional_layers","page_landmark","thumb_page_title","thumb_page_canvas","find_reached_top","find_reached_bottom","find_not_found","page_scale_width","page_scale_fit","page_scale_auto","page_scale_actual","page_scale_percent","loading_error","invalid_file_error","missing_file_error","unexpected_response_error","rendering_error","annotation_date_string","printing_not_supported","printing_not_ready","web_fonts_disabled","free_text2_default_content","editor_free_text2_aria_label","editor_ink2_aria_label","editor_ink_canvas_aria_label","editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip","print_progress_percent","getL10nFallback","formatL10nValue","getLanguage","_callee27","_callee27$","_context27","getDirection","_callee28","_callee28$","_context28","_arguments","_callee29","_callee29$","_context29","_callee30","_callee30$","_context30","setupStorage","xfaOn","xfaOff","_iterator143","_step143","setAttributes","_ref97","_ref97$storage","isHTMLAnchorElement","HTMLAnchorElement","_i21","_Object$entries4","_Object$entries4$_i","dataId","rootHtml","stack","rootDiv","_child$attributes","_stack$at","_stack$at2","childHtml","xmlns","_iterator144","querySelectorAll","_step144","el","_baseHeight","_baseWidth","_boundCanvasPointermove","_boundCanvasPointerleave","_boundCanvasPointerup","_boundCanvasPointerdown","_currentPath2D","_disableEditing","_hasSomethingToDraw","_isCanvasInitialized","_observer","_realWidth","_realHeight","_requestFrameCallback","_InkEditor_brand","_editor$AnnotationEdi2","_this89","canvasPointermove","canvasPointerleave","canvasPointerup","canvasPointerdown","thickness","bezierPath2D","allRawPaths","currentPath","translationX","translationY","_updateThickness","_updateColor2","_updateOpacity","_this$opacity","_defaultThickness","_defaultOpacity","_createCanvas2","_createObserver","_setCanvasDims","_fitToContent","disconnect","_this$parentDimension1","setDimensions","_startDrawing","_draw","_endDrawing","_this90","_this90$div","_assertClassBrand$cal6","_getInitialBBox","_assertClassBrand$cal7","_this$parentDimension10","_redraw","roundedWidth","roundedHeight","_this$parentDimension11","_setScaleFactor","_serializePaths","_util$Util8","_editor$pageDimension2","_iterator145","_step145","bezier","_fromPDFCoordinates","p10","p11","p20","p21","p30","p31","path2D","_buildPath2D","_getBbox","_InkEditor","_this91","savedThickness","_this92","_this93","savedOpacity","_this$parentDimension12","_setStroke","_this94","_this$opacity2","_drawPoints","_assertClassBrand2","_this$currentPath$at","_this$currentPath$at2","lastX","lastY","_path2D","_path2D2","_makeBezierCurve","_endPath","_classPrivateFieldGet31","lastPoint","_stopDrawing","_this95","_generateBezierPoints","xy","lastPoints","xMin","xMax","yMin","yMax","_iterator146","_step146","prevX","prevY","bezierPoints","_path$","_path$i","_path","control1","control2","_path$i2","_path2","_updateTransform","_iterator147","_step147","_this96","_this97","_this97$canvas","_this98","ResizeObserver","contentRect","observe","_this$parentDimension13","_getPadding","scaleFactorW","scaleFactorH","_bezier$i","_toPDFCoordinates","_rect3","_rect4","_iterator148","_step148","_bezier$j","p40","p41","_iterator149","_step149","_iterator150","_step150","_util$Util9","_step150$value","firstTime","_this$parentDimension14","prevTranslationX","prevTranslationY","unscaledPadding","_bitmap","_bitmapId","_bitmapPromise","_bitmapUrl","_bitmapFile","_canvas2","_observer2","_resizeTimeoutId","_isSvg","_hasBeenAddedInUndoStack","_StampEditor_brand","_editor$AnnotationEdi3","_this99","bitmapUrl","bitmapFile","_classPrivateFieldGet32","_classPrivateFieldGet33","imageManager","_getBitmap","_createCanvas3","_this$parentDimension15","bitmapId","_serializeBitmap","accessibilityData","altTextData","_this$altTextData","stamps","area","prevData","supportedTypes","getAsFile","_editor$pageDimension3","_StampEditor","_getBitmapFetched","fromId","_getBitmapDone","_this100","accept","supportedTypesStr","_callee31","_callee31$","_context31","files","click","_classPrivateFieldGet34","_this$pageDimensions8","MAX_RATIO","factor","_this$parentDimension16","_drawBitmap","_createObserver2","_setDimensions","_this$_initialOptions2","_this101","_this$parentDimension17","_scaleBitmap","_classPrivateFieldGet35","bitmapWidth","bitmapHeight","prevWidth","prevHeight","offscreen","transferToImageBitmap","hcmFilter","toUrl","_classPrivateFieldGet36","toDataURL","_this$pageDimensions9","_this102","__webpack_module_cache__","moduleId","cachedModule","__webpack_modules__","_api","_text_layer","_annotation_editor_layer","pdfjsVersion","pdfjsBuild"],"sources":["webpack://pdfjs-dist/build/pdf/webpack/universalModuleDefinition","webpack://pdfjs-dist/build/pdf/src/shared/util.js","webpack://pdfjs-dist/build/pdf/src/display/api.js","webpack://pdfjs-dist/build/pdf/src/display/annotation_storage.js","webpack://pdfjs-dist/build/pdf/src/display/editor/editor.js","webpack://pdfjs-dist/build/pdf/src/display/editor/tools.js","webpack://pdfjs-dist/build/pdf/src/display/display_utils.js","webpack://pdfjs-dist/build/pdf/src/display/base_factory.js","webpack://pdfjs-dist/build/pdf/src/shared/murmurhash3.js","webpack://pdfjs-dist/build/pdf/src/display/font_loader.js","webpack://pdfjs-dist/build/pdf/src/display/node_utils.js","webpack://pdfjs-dist/build/pdf/src/display/canvas.js","webpack://pdfjs-dist/build/pdf/src/display/pattern_helper.js","webpack://pdfjs-dist/build/pdf/src/shared/image_utils.js","webpack://pdfjs-dist/build/pdf/src/display/worker_options.js","webpack://pdfjs-dist/build/pdf/src/shared/message_handler.js","webpack://pdfjs-dist/build/pdf/src/display/metadata.js","webpack://pdfjs-dist/build/pdf/src/display/optional_content_config.js","webpack://pdfjs-dist/build/pdf/src/display/transport_stream.js","webpack://pdfjs-dist/build/pdf/src/display/fetch_stream.js","webpack://pdfjs-dist/build/pdf/src/display/network_utils.js","webpack://pdfjs-dist/build/pdf/src/display/content_disposition.js","webpack://pdfjs-dist/build/pdf/src/display/network.js","webpack://pdfjs-dist/build/pdf/src/display/node_stream.js","webpack://pdfjs-dist/build/pdf/src/display/svg.js","webpack://pdfjs-dist/build/pdf/src/display/xfa_text.js","webpack://pdfjs-dist/build/pdf/src/display/text_layer.js","webpack://pdfjs-dist/build/pdf/src/display/editor/annotation_editor_layer.js","webpack://pdfjs-dist/build/pdf/src/display/editor/freetext.js","webpack://pdfjs-dist/build/pdf/src/display/annotation_layer.js","webpack://pdfjs-dist/build/pdf/src/shared/scripting_utils.js","webpack://pdfjs-dist/build/pdf/web/l10n_utils.js","webpack://pdfjs-dist/build/pdf/src/display/xfa_layer.js","webpack://pdfjs-dist/build/pdf/src/display/editor/ink.js","webpack://pdfjs-dist/build/pdf/src/display/editor/stamp.js","webpack://pdfjs-dist/build/pdf/webpack/bootstrap","webpack://pdfjs-dist/build/pdf/src/pdf.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = root.pdfjsLib = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"pdfjs-dist/build/pdf\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pdfjs-dist/build/pdf\"] = factory();\n\telse\n\t\troot[\"pdfjs-dist/build/pdf\"] = factory();\n})(globalThis, () => {\nreturn ","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals process */\n\n// NW.js / Electron is a browser context, but copies some Node.js objects; see\n// http://docs.nwjs.io/en/latest/For%20Users/Advanced/JavaScript%20Contexts%20in%20NW.js/#access-nodejs-and-nwjs-api-in-browser-context\n// https://www.electronjs.org/docs/api/process#processversionselectron-readonly\n// https://www.electronjs.org/docs/api/process#processtype-readonly\nconst isNodeJS =\n  (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) &&\n  typeof process === \"object\" &&\n  process + \"\" === \"[object process]\" &&\n  !process.versions.nw &&\n  !(process.versions.electron && process.type && process.type !== \"browser\");\n\nconst IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\nconst FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\n\nconst MAX_IMAGE_SIZE_TO_CACHE = 10e6; // Ten megabytes.\n\n// Represent the percentage of the height of a single-line field over\n// the font size. Acrobat seems to use this value.\nconst LINE_FACTOR = 1.35;\nconst LINE_DESCENT_FACTOR = 0.35;\nconst BASELINE_FACTOR = LINE_DESCENT_FACTOR / LINE_FACTOR;\n\n/**\n * Refer to the `WorkerTransport.getRenderingIntent`-method in the API, to see\n * how these flags are being used:\n *  - ANY, DISPLAY, and PRINT are the normal rendering intents, note the\n *    `PDFPageProxy.{render, getOperatorList, getAnnotations}`-methods.\n *  - ANNOTATIONS_FORMS, ANNOTATIONS_STORAGE, ANNOTATIONS_DISABLE control which\n *    annotations are rendered onto the canvas (i.e. by being included in the\n *    operatorList), note the `PDFPageProxy.{render, getOperatorList}`-methods\n *    and their `annotationMode`-option.\n *  - OPLIST is used with the `PDFPageProxy.getOperatorList`-method, note the\n *    `OperatorList`-constructor (on the worker-thread).\n */\nconst RenderingIntentFlag = {\n  ANY: 0x01,\n  DISPLAY: 0x02,\n  PRINT: 0x04,\n  SAVE: 0x08,\n  ANNOTATIONS_FORMS: 0x10,\n  ANNOTATIONS_STORAGE: 0x20,\n  ANNOTATIONS_DISABLE: 0x40,\n  OPLIST: 0x100,\n};\n\nconst AnnotationMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_FORMS: 2,\n  ENABLE_STORAGE: 3,\n};\n\nconst AnnotationEditorPrefix = \"pdfjs_internal_editor_\";\n\nconst AnnotationEditorType = {\n  DISABLE: -1,\n  NONE: 0,\n  FREETEXT: 3,\n  STAMP: 13,\n  INK: 15,\n};\n\nconst AnnotationEditorParamsType = {\n  RESIZE: 1,\n  CREATE: 2,\n  FREETEXT_SIZE: 11,\n  FREETEXT_COLOR: 12,\n  FREETEXT_OPACITY: 13,\n  INK_COLOR: 21,\n  INK_THICKNESS: 22,\n  INK_OPACITY: 23,\n};\n\n// Permission flags from Table 22, Section 7.6.3.2 of the PDF specification.\nconst PermissionFlag = {\n  PRINT: 0x04,\n  MODIFY_CONTENTS: 0x08,\n  COPY: 0x10,\n  MODIFY_ANNOTATIONS: 0x20,\n  FILL_INTERACTIVE_FORMS: 0x100,\n  COPY_FOR_ACCESSIBILITY: 0x200,\n  ASSEMBLE: 0x400,\n  PRINT_HIGH_QUALITY: 0x800,\n};\n\nconst TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4,\n};\n\nconst ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3,\n};\n\nconst AnnotationType = {\n  TEXT: 1,\n  LINK: 2,\n  FREETEXT: 3,\n  LINE: 4,\n  SQUARE: 5,\n  CIRCLE: 6,\n  POLYGON: 7,\n  POLYLINE: 8,\n  HIGHLIGHT: 9,\n  UNDERLINE: 10,\n  SQUIGGLY: 11,\n  STRIKEOUT: 12,\n  STAMP: 13,\n  CARET: 14,\n  INK: 15,\n  POPUP: 16,\n  FILEATTACHMENT: 17,\n  SOUND: 18,\n  MOVIE: 19,\n  WIDGET: 20,\n  SCREEN: 21,\n  PRINTERMARK: 22,\n  TRAPNET: 23,\n  WATERMARK: 24,\n  THREED: 25,\n  REDACT: 26,\n};\n\nconst AnnotationReplyType = {\n  GROUP: \"Group\",\n  REPLY: \"R\",\n};\n\nconst AnnotationFlag = {\n  INVISIBLE: 0x01,\n  HIDDEN: 0x02,\n  PRINT: 0x04,\n  NOZOOM: 0x08,\n  NOROTATE: 0x10,\n  NOVIEW: 0x20,\n  READONLY: 0x40,\n  LOCKED: 0x80,\n  TOGGLENOVIEW: 0x100,\n  LOCKEDCONTENTS: 0x200,\n};\n\nconst AnnotationFieldFlag = {\n  READONLY: 0x0000001,\n  REQUIRED: 0x0000002,\n  NOEXPORT: 0x0000004,\n  MULTILINE: 0x0001000,\n  PASSWORD: 0x0002000,\n  NOTOGGLETOOFF: 0x0004000,\n  RADIO: 0x0008000,\n  PUSHBUTTON: 0x0010000,\n  COMBO: 0x0020000,\n  EDIT: 0x0040000,\n  SORT: 0x0080000,\n  FILESELECT: 0x0100000,\n  MULTISELECT: 0x0200000,\n  DONOTSPELLCHECK: 0x0400000,\n  DONOTSCROLL: 0x0800000,\n  COMB: 0x1000000,\n  RICHTEXT: 0x2000000,\n  RADIOSINUNISON: 0x2000000,\n  COMMITONSELCHANGE: 0x4000000,\n};\n\nconst AnnotationBorderStyleType = {\n  SOLID: 1,\n  DASHED: 2,\n  BEVELED: 3,\n  INSET: 4,\n  UNDERLINE: 5,\n};\n\nconst AnnotationActionEventType = {\n  E: \"Mouse Enter\",\n  X: \"Mouse Exit\",\n  D: \"Mouse Down\",\n  U: \"Mouse Up\",\n  Fo: \"Focus\",\n  Bl: \"Blur\",\n  PO: \"PageOpen\",\n  PC: \"PageClose\",\n  PV: \"PageVisible\",\n  PI: \"PageInvisible\",\n  K: \"Keystroke\",\n  F: \"Format\",\n  V: \"Validate\",\n  C: \"Calculate\",\n};\n\nconst DocumentActionEventType = {\n  WC: \"WillClose\",\n  WS: \"WillSave\",\n  DS: \"DidSave\",\n  WP: \"WillPrint\",\n  DP: \"DidPrint\",\n};\n\nconst PageActionEventType = {\n  O: \"PageOpen\",\n  C: \"PageClose\",\n};\n\nconst VerbosityLevel = {\n  ERRORS: 0,\n  WARNINGS: 1,\n  INFOS: 5,\n};\n\nconst CMapCompressionType = {\n  NONE: 0,\n  BINARY: 1,\n};\n\n// All the possible operations for an operator list.\nconst OPS = {\n  // Intentionally start from 1 so it is easy to spot bad operators that will be\n  // 0's.\n  // PLEASE NOTE: We purposely keep any removed operators commented out, since\n  //              re-numbering the list would risk breaking third-party users.\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  // beginAnnotations: 78,\n  // endAnnotations: 79,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  // paintJpegXObject: 82,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91,\n};\n\nconst PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2,\n};\n\nlet verbosity = VerbosityLevel.WARNINGS;\n\nfunction setVerbosityLevel(level) {\n  if (Number.isInteger(level)) {\n    verbosity = level;\n  }\n}\n\nfunction getVerbosityLevel() {\n  return verbosity;\n}\n\n// A notice for devs. These are good for things that are helpful to devs, such\n// as warning that Workers were disabled, which is important to devs but not\n// end users.\nfunction info(msg) {\n  if (verbosity >= VerbosityLevel.INFOS) {\n    console.log(`Info: ${msg}`);\n  }\n}\n\n// Non-fatal warnings.\nfunction warn(msg) {\n  if (verbosity >= VerbosityLevel.WARNINGS) {\n    console.log(`Warning: ${msg}`);\n  }\n}\n\nfunction unreachable(msg) {\n  throw new Error(msg);\n}\n\nfunction assert(cond, msg) {\n  if (!cond) {\n    unreachable(msg);\n  }\n}\n\n// Checks if URLs use one of the allowed protocols, e.g. to avoid XSS.\nfunction _isValidProtocol(url) {\n  switch (url?.protocol) {\n    case \"http:\":\n    case \"https:\":\n    case \"ftp:\":\n    case \"mailto:\":\n    case \"tel:\":\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Attempts to create a valid absolute URL.\n *\n * @param {URL|string} url - An absolute, or relative, URL.\n * @param {URL|string} [baseUrl] - An absolute URL.\n * @param {Object} [options]\n * @returns Either a valid {URL}, or `null` otherwise.\n */\nfunction createValidAbsoluteUrl(url, baseUrl = null, options = null) {\n  if (!url) {\n    return null;\n  }\n  try {\n    if (options && typeof url === \"string\") {\n      // Let URLs beginning with \"www.\" default to using the \"http://\" protocol.\n      if (options.addDefaultProtocol && url.startsWith(\"www.\")) {\n        const dots = url.match(/\\./g);\n        // Avoid accidentally matching a *relative* URL pointing to a file named\n        // e.g. \"www.pdf\" or similar.\n        if (dots?.length >= 2) {\n          url = `http://${url}`;\n        }\n      }\n\n      // According to ISO 32000-1:2008, section 12.6.4.7, URIs should be encoded\n      // in 7-bit ASCII. Some bad PDFs use UTF-8 encoding; see bug 1122280.\n      if (options.tryConvertEncoding) {\n        try {\n          url = stringToUTF8String(url);\n        } catch {}\n      }\n    }\n\n    const absoluteUrl = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    if (_isValidProtocol(absoluteUrl)) {\n      return absoluteUrl;\n    }\n  } catch {\n    /* `new URL()` will throw on incorrect data. */\n  }\n  return null;\n}\n\nfunction shadow(obj, prop, value, nonSerializable = false) {\n  if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n    assert(\n      prop in obj,\n      `shadow: Property \"${prop && prop.toString()}\" not found in object.`\n    );\n  }\n  Object.defineProperty(obj, prop, {\n    value,\n    enumerable: !nonSerializable,\n    configurable: true,\n    writable: false,\n  });\n  return value;\n}\n\n/**\n * @type {any}\n */\nconst BaseException = (function BaseExceptionClosure() {\n  // eslint-disable-next-line no-shadow\n  function BaseException(message, name) {\n    if (this.constructor === BaseException) {\n      unreachable(\"Cannot initialize BaseException.\");\n    }\n    this.message = message;\n    this.name = name;\n  }\n  BaseException.prototype = new Error();\n  BaseException.constructor = BaseException;\n\n  return BaseException;\n})();\n\nclass PasswordException extends BaseException {\n  constructor(msg, code) {\n    super(msg, \"PasswordException\");\n    this.code = code;\n  }\n}\n\nclass UnknownErrorException extends BaseException {\n  constructor(msg, details) {\n    super(msg, \"UnknownErrorException\");\n    this.details = details;\n  }\n}\n\nclass InvalidPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"InvalidPDFException\");\n  }\n}\n\nclass MissingPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"MissingPDFException\");\n  }\n}\n\nclass UnexpectedResponseException extends BaseException {\n  constructor(msg, status) {\n    super(msg, \"UnexpectedResponseException\");\n    this.status = status;\n  }\n}\n\n/**\n * Error caused during parsing PDF data.\n */\nclass FormatError extends BaseException {\n  constructor(msg) {\n    super(msg, \"FormatError\");\n  }\n}\n\n/**\n * Error used to indicate task cancellation.\n */\nclass AbortException extends BaseException {\n  constructor(msg) {\n    super(msg, \"AbortException\");\n  }\n}\n\nfunction bytesToString(bytes) {\n  if (typeof bytes !== \"object\" || bytes?.length === undefined) {\n    unreachable(\"Invalid argument for bytesToString\");\n  }\n  const length = bytes.length;\n  const MAX_ARGUMENT_COUNT = 8192;\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n  const strBuf = [];\n  for (let i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    const chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    const chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n  return strBuf.join(\"\");\n}\n\nfunction stringToBytes(str) {\n  if (typeof str !== \"string\") {\n    unreachable(\"Invalid argument for stringToBytes\");\n  }\n  const length = str.length;\n  const bytes = new Uint8Array(length);\n  for (let i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xff;\n  }\n  return bytes;\n}\n\nfunction string32(value) {\n  if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n    assert(\n      typeof value === \"number\" && Math.abs(value) < 2 ** 32,\n      `string32: Unexpected input \"${value}\".`\n    );\n  }\n  return String.fromCharCode(\n    (value >> 24) & 0xff,\n    (value >> 16) & 0xff,\n    (value >> 8) & 0xff,\n    value & 0xff\n  );\n}\n\nfunction objectSize(obj) {\n  return Object.keys(obj).length;\n}\n\n// Ensure that the returned Object has a `null` prototype; hence why\n// `Object.fromEntries(...)` is not used.\nfunction objectFromMap(map) {\n  const obj = Object.create(null);\n  for (const [key, value] of map) {\n    obj[key] = value;\n  }\n  return obj;\n}\n\n// Checks the endianness of the platform.\nfunction isLittleEndian() {\n  const buffer8 = new Uint8Array(4);\n  buffer8[0] = 1;\n  const view32 = new Uint32Array(buffer8.buffer, 0, 1);\n  return view32[0] === 1;\n}\n\n// Checks if it's possible to eval JS expressions.\nfunction isEvalSupported() {\n  try {\n    new Function(\"\"); // eslint-disable-line no-new, no-new-func\n    return true;\n  } catch {\n    return false;\n  }\n}\n\nclass FeatureTest {\n  static get isLittleEndian() {\n    return shadow(this, \"isLittleEndian\", isLittleEndian());\n  }\n\n  static get isEvalSupported() {\n    return shadow(this, \"isEvalSupported\", isEvalSupported());\n  }\n\n  static get isOffscreenCanvasSupported() {\n    return shadow(\n      this,\n      \"isOffscreenCanvasSupported\",\n      typeof OffscreenCanvas !== \"undefined\"\n    );\n  }\n\n  static get platform() {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) &&\n      typeof navigator === \"undefined\"\n    ) {\n      return shadow(this, \"platform\", { isWin: false, isMac: false });\n    }\n    return shadow(this, \"platform\", {\n      isWin: navigator.platform.includes(\"Win\"),\n      isMac: navigator.platform.includes(\"Mac\"),\n    });\n  }\n\n  static get isCSSRoundSupported() {\n    return shadow(\n      this,\n      \"isCSSRoundSupported\",\n      globalThis.CSS?.supports?.(\"width: round(1.5px, 1px)\")\n    );\n  }\n}\n\nconst hexNumbers = [...Array(256).keys()].map(n =>\n  n.toString(16).padStart(2, \"0\")\n);\n\nclass Util {\n  static makeHexColor(r, g, b) {\n    return `#${hexNumbers[r]}${hexNumbers[g]}${hexNumbers[b]}`;\n  }\n\n  // Apply a scaling matrix to some min/max values.\n  // If a scaling factor is negative then min and max must be\n  // swaped.\n  static scaleMinMax(transform, minMax) {\n    let temp;\n    if (transform[0]) {\n      if (transform[0] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[1];\n        minMax[1] = temp;\n      }\n      minMax[0] *= transform[0];\n      minMax[1] *= transform[0];\n\n      if (transform[3] < 0) {\n        temp = minMax[2];\n        minMax[2] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[2] *= transform[3];\n      minMax[3] *= transform[3];\n    } else {\n      temp = minMax[0];\n      minMax[0] = minMax[2];\n      minMax[2] = temp;\n      temp = minMax[1];\n      minMax[1] = minMax[3];\n      minMax[3] = temp;\n\n      if (transform[1] < 0) {\n        temp = minMax[2];\n        minMax[2] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[2] *= transform[1];\n      minMax[3] *= transform[1];\n\n      if (transform[2] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[1];\n        minMax[1] = temp;\n      }\n      minMax[0] *= transform[2];\n      minMax[1] *= transform[2];\n    }\n    minMax[0] += transform[4];\n    minMax[1] += transform[4];\n    minMax[2] += transform[5];\n    minMax[3] += transform[5];\n  }\n\n  // Concatenates two transformation matrices together and returns the result.\n  static transform(m1, m2) {\n    return [\n      m1[0] * m2[0] + m1[2] * m2[1],\n      m1[1] * m2[0] + m1[3] * m2[1],\n      m1[0] * m2[2] + m1[2] * m2[3],\n      m1[1] * m2[2] + m1[3] * m2[3],\n      m1[0] * m2[4] + m1[2] * m2[5] + m1[4],\n      m1[1] * m2[4] + m1[3] * m2[5] + m1[5],\n    ];\n  }\n\n  // For 2d affine transforms\n  static applyTransform(p, m) {\n    const xt = p[0] * m[0] + p[1] * m[2] + m[4];\n    const yt = p[0] * m[1] + p[1] * m[3] + m[5];\n    return [xt, yt];\n  }\n\n  static applyInverseTransform(p, m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    const xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    const yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n    return [xt, yt];\n  }\n\n  // Applies the transform to the rectangle and finds the minimum axially\n  // aligned bounding box.\n  static getAxialAlignedBoundingBox(r, m) {\n    const p1 = this.applyTransform(r, m);\n    const p2 = this.applyTransform(r.slice(2, 4), m);\n    const p3 = this.applyTransform([r[0], r[3]], m);\n    const p4 = this.applyTransform([r[2], r[1]], m);\n    return [\n      Math.min(p1[0], p2[0], p3[0], p4[0]),\n      Math.min(p1[1], p2[1], p3[1], p4[1]),\n      Math.max(p1[0], p2[0], p3[0], p4[0]),\n      Math.max(p1[1], p2[1], p3[1], p4[1]),\n    ];\n  }\n\n  static inverseTransform(m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    return [\n      m[3] / d,\n      -m[1] / d,\n      -m[2] / d,\n      m[0] / d,\n      (m[2] * m[5] - m[4] * m[3]) / d,\n      (m[4] * m[1] - m[5] * m[0]) / d,\n    ];\n  }\n\n  // This calculation uses Singular Value Decomposition.\n  // The SVD can be represented with formula A = USV. We are interested in the\n  // matrix S here because it represents the scale values.\n  static singularValueDecompose2dScale(m) {\n    const transpose = [m[0], m[2], m[1], m[3]];\n\n    // Multiply matrix m with its transpose.\n    const a = m[0] * transpose[0] + m[1] * transpose[2];\n    const b = m[0] * transpose[1] + m[1] * transpose[3];\n    const c = m[2] * transpose[0] + m[3] * transpose[2];\n    const d = m[2] * transpose[1] + m[3] * transpose[3];\n\n    // Solve the second degree polynomial to get roots.\n    const first = (a + d) / 2;\n    const second = Math.sqrt((a + d) ** 2 - 4 * (a * d - c * b)) / 2;\n    const sx = first + second || 1;\n    const sy = first - second || 1;\n\n    // Scale values are the square roots of the eigenvalues.\n    return [Math.sqrt(sx), Math.sqrt(sy)];\n  }\n\n  // Normalize rectangle rect=[x1, y1, x2, y2] so that (x1,y1) < (x2,y2)\n  // For coordinate systems whose origin lies in the bottom-left, this\n  // means normalization to (BL,TR) ordering. For systems with origin in the\n  // top-left, this means (TL,BR) ordering.\n  static normalizeRect(rect) {\n    const r = rect.slice(0); // clone rect\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n    return r;\n  }\n\n  // Returns a rectangle [x1, y1, x2, y2] corresponding to the\n  // intersection of rect1 and rect2. If no intersection, returns 'null'\n  // The rectangle coordinates of rect1, rect2 should be [x1, y1, x2, y2]\n  static intersect(rect1, rect2) {\n    const xLow = Math.max(\n      Math.min(rect1[0], rect1[2]),\n      Math.min(rect2[0], rect2[2])\n    );\n    const xHigh = Math.min(\n      Math.max(rect1[0], rect1[2]),\n      Math.max(rect2[0], rect2[2])\n    );\n    if (xLow > xHigh) {\n      return null;\n    }\n    const yLow = Math.max(\n      Math.min(rect1[1], rect1[3]),\n      Math.min(rect2[1], rect2[3])\n    );\n    const yHigh = Math.min(\n      Math.max(rect1[1], rect1[3]),\n      Math.max(rect2[1], rect2[3])\n    );\n    if (yLow > yHigh) {\n      return null;\n    }\n\n    return [xLow, yLow, xHigh, yHigh];\n  }\n\n  // From https://github.com/adobe-webplatform/Snap.svg/blob/b365287722a72526000ac4bfcf0ce4cac2faa015/src/path.js#L852\n  static bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3) {\n    const tvalues = [],\n      bounds = [[], []];\n    let a, b, c, t, t1, t2, b2ac, sqrtb2ac;\n    for (let i = 0; i < 2; ++i) {\n      if (i === 0) {\n        b = 6 * x0 - 12 * x1 + 6 * x2;\n        a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n        c = 3 * x1 - 3 * x0;\n      } else {\n        b = 6 * y0 - 12 * y1 + 6 * y2;\n        a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n        c = 3 * y1 - 3 * y0;\n      }\n      if (Math.abs(a) < 1e-12) {\n        if (Math.abs(b) < 1e-12) {\n          continue;\n        }\n        t = -c / b;\n        if (0 < t && t < 1) {\n          tvalues.push(t);\n        }\n        continue;\n      }\n      b2ac = b * b - 4 * c * a;\n      sqrtb2ac = Math.sqrt(b2ac);\n      if (b2ac < 0) {\n        continue;\n      }\n      t1 = (-b + sqrtb2ac) / (2 * a);\n      if (0 < t1 && t1 < 1) {\n        tvalues.push(t1);\n      }\n      t2 = (-b - sqrtb2ac) / (2 * a);\n      if (0 < t2 && t2 < 1) {\n        tvalues.push(t2);\n      }\n    }\n\n    let j = tvalues.length,\n      mt;\n    const jlen = j;\n    while (j--) {\n      t = tvalues[j];\n      mt = 1 - t;\n      bounds[0][j] =\n        mt * mt * mt * x0 +\n        3 * mt * mt * t * x1 +\n        3 * mt * t * t * x2 +\n        t * t * t * x3;\n      bounds[1][j] =\n        mt * mt * mt * y0 +\n        3 * mt * mt * t * y1 +\n        3 * mt * t * t * y2 +\n        t * t * t * y3;\n    }\n\n    bounds[0][jlen] = x0;\n    bounds[1][jlen] = y0;\n    bounds[0][jlen + 1] = x3;\n    bounds[1][jlen + 1] = y3;\n    bounds[0].length = bounds[1].length = jlen + 2;\n\n    return [\n      Math.min(...bounds[0]),\n      Math.min(...bounds[1]),\n      Math.max(...bounds[0]),\n      Math.max(...bounds[1]),\n    ];\n  }\n}\n\nconst PDFStringTranslateTable = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2d8,\n  0x2c7, 0x2c6, 0x2d9, 0x2dd, 0x2db, 0x2da, 0x2dc, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014, 0x2013, 0x192,\n  0x2044, 0x2039, 0x203a, 0x2212, 0x2030, 0x201e, 0x201c, 0x201d, 0x2018,\n  0x2019, 0x201a, 0x2122, 0xfb01, 0xfb02, 0x141, 0x152, 0x160, 0x178, 0x17d,\n  0x131, 0x142, 0x153, 0x161, 0x17e, 0, 0x20ac,\n];\n\nfunction stringToPDFString(str) {\n  if (str[0] >= \"\\xEF\") {\n    let encoding;\n    if (str[0] === \"\\xFE\" && str[1] === \"\\xFF\") {\n      encoding = \"utf-16be\";\n    } else if (str[0] === \"\\xFF\" && str[1] === \"\\xFE\") {\n      encoding = \"utf-16le\";\n    } else if (str[0] === \"\\xEF\" && str[1] === \"\\xBB\" && str[2] === \"\\xBF\") {\n      encoding = \"utf-8\";\n    }\n\n    if (encoding) {\n      try {\n        const decoder = new TextDecoder(encoding, { fatal: true });\n        const buffer = stringToBytes(str);\n        return decoder.decode(buffer);\n      } catch (ex) {\n        warn(`stringToPDFString: \"${ex}\".`);\n      }\n    }\n  }\n  // ISO Latin 1\n  const strBuf = [];\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const code = PDFStringTranslateTable[str.charCodeAt(i)];\n    strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n  }\n  return strBuf.join(\"\");\n}\n\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\n\nfunction utf8StringToString(str) {\n  return unescape(encodeURIComponent(str));\n}\n\nfunction isArrayBuffer(v) {\n  return typeof v === \"object\" && v?.byteLength !== undefined;\n}\n\nfunction isArrayEqual(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  for (let i = 0, ii = arr1.length; i < ii; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction getModificationDate(date = new Date()) {\n  const buffer = [\n    date.getUTCFullYear().toString(),\n    (date.getUTCMonth() + 1).toString().padStart(2, \"0\"),\n    date.getUTCDate().toString().padStart(2, \"0\"),\n    date.getUTCHours().toString().padStart(2, \"0\"),\n    date.getUTCMinutes().toString().padStart(2, \"0\"),\n    date.getUTCSeconds().toString().padStart(2, \"0\"),\n  ];\n\n  return buffer.join(\"\");\n}\n\nclass PromiseCapability {\n  #settled = false;\n\n  constructor() {\n    /**\n     * @type {Promise<any>} The Promise object.\n     */\n    this.promise = new Promise((resolve, reject) => {\n      /**\n       * @type {function} Fulfills the Promise.\n       */\n      this.resolve = data => {\n        this.#settled = true;\n        resolve(data);\n      };\n\n      /**\n       * @type {function} Rejects the Promise.\n       */\n      this.reject = reason => {\n        if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n          assert(reason instanceof Error, 'Expected valid \"reason\" argument.');\n        }\n        this.#settled = true;\n        reject(reason);\n      };\n    });\n  }\n\n  /**\n   * @type {boolean} If the Promise has been fulfilled/rejected.\n   */\n  get settled() {\n    return this.#settled;\n  }\n}\n\nlet NormalizeRegex = null;\nlet NormalizationMap = null;\nfunction normalizeUnicode(str) {\n  if (!NormalizeRegex) {\n    // In order to generate the following regex:\n    //  - create a PDF containing all the chars in the range 0000-FFFF with\n    //    a NFKC which is different of the char.\n    //  - copy and paste all those chars and get the ones where NFKC is\n    //    required.\n    // It appears that most the chars here contain some ligatures.\n    NormalizeRegex =\n      /([\\u00a0\\u00b5\\u037e\\u0eb3\\u2000-\\u200a\\u202f\\u2126\\ufb00-\\ufb04\\ufb06\\ufb20-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufba1\\ufba4-\\ufba9\\ufbae-\\ufbb1\\ufbd3-\\ufbdc\\ufbde-\\ufbe7\\ufbea-\\ufbf8\\ufbfc-\\ufbfd\\ufc00-\\ufc5d\\ufc64-\\ufcf1\\ufcf5-\\ufd3d\\ufd88\\ufdf4\\ufdfa-\\ufdfb\\ufe71\\ufe77\\ufe79\\ufe7b\\ufe7d]+)|(\\ufb05+)/gu;\n    NormalizationMap = new Map([[\"ﬅ\", \"ſt\"]]);\n  }\n  return str.replaceAll(NormalizeRegex, (_, p1, p2) => {\n    return p1 ? p1.normalize(\"NFKC\") : NormalizationMap.get(p2);\n  });\n}\n\nfunction getUuid() {\n  if (\n    (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n    (typeof crypto !== \"undefined\" && typeof crypto?.randomUUID === \"function\")\n  ) {\n    return crypto.randomUUID();\n  }\n  const buf = new Uint8Array(32);\n  if (\n    typeof crypto !== \"undefined\" &&\n    typeof crypto?.getRandomValues === \"function\"\n  ) {\n    crypto.getRandomValues(buf);\n  } else {\n    for (let i = 0; i < 32; i++) {\n      buf[i] = Math.floor(Math.random() * 255);\n    }\n  }\n  return bytesToString(buf);\n}\n\nconst AnnotationPrefix = \"pdfjs_internal_id_\";\n\nexport {\n  AbortException,\n  AnnotationActionEventType,\n  AnnotationBorderStyleType,\n  AnnotationEditorParamsType,\n  AnnotationEditorPrefix,\n  AnnotationEditorType,\n  AnnotationFieldFlag,\n  AnnotationFlag,\n  AnnotationMode,\n  AnnotationPrefix,\n  AnnotationReplyType,\n  AnnotationType,\n  assert,\n  BaseException,\n  BASELINE_FACTOR,\n  bytesToString,\n  CMapCompressionType,\n  createValidAbsoluteUrl,\n  DocumentActionEventType,\n  FeatureTest,\n  FONT_IDENTITY_MATRIX,\n  FormatError,\n  getModificationDate,\n  getUuid,\n  getVerbosityLevel,\n  IDENTITY_MATRIX,\n  ImageKind,\n  info,\n  InvalidPDFException,\n  isArrayBuffer,\n  isArrayEqual,\n  isNodeJS,\n  LINE_DESCENT_FACTOR,\n  LINE_FACTOR,\n  MAX_IMAGE_SIZE_TO_CACHE,\n  MissingPDFException,\n  normalizeUnicode,\n  objectFromMap,\n  objectSize,\n  OPS,\n  PageActionEventType,\n  PasswordException,\n  PasswordResponses,\n  PermissionFlag,\n  PromiseCapability,\n  RenderingIntentFlag,\n  setVerbosityLevel,\n  shadow,\n  string32,\n  stringToBytes,\n  stringToPDFString,\n  stringToUTF8String,\n  TextRenderingMode,\n  UnexpectedResponseException,\n  UnknownErrorException,\n  unreachable,\n  utf8StringToString,\n  Util,\n  VerbosityLevel,\n  warn,\n};\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @module pdfjsLib\n */\n\nimport {\n  AbortException,\n  AnnotationMode,\n  assert,\n  getVerbosityLevel,\n  info,\n  InvalidPDFException,\n  isArrayBuffer,\n  isNodeJS,\n  MAX_IMAGE_SIZE_TO_CACHE,\n  MissingPDFException,\n  PasswordException,\n  PromiseCapability,\n  RenderingIntentFlag,\n  setVerbosityLevel,\n  shadow,\n  stringToBytes,\n  UnexpectedResponseException,\n  UnknownErrorException,\n  unreachable,\n  warn,\n} from \"../shared/util.js\";\nimport {\n  AnnotationStorage,\n  PrintAnnotationStorage,\n  SerializableEmpty,\n} from \"./annotation_storage.js\";\nimport {\n  deprecated,\n  DOMCanvasFactory,\n  DOMCMapReaderFactory,\n  DOMFilterFactory,\n  DOMStandardFontDataFactory,\n  isDataScheme,\n  isValidFetchUrl,\n  loadScript,\n  PageViewport,\n  RenderingCancelledException,\n  StatTimer,\n} from \"./display_utils.js\";\nimport { FontFaceObject, FontLoader } from \"./font_loader.js\";\nimport {\n  NodeCanvasFactory,\n  NodeCMapReaderFactory,\n  NodeFilterFactory,\n  NodeStandardFontDataFactory,\n} from \"display-node_utils\";\nimport { CanvasGraphics } from \"./canvas.js\";\nimport { GlobalWorkerOptions } from \"./worker_options.js\";\nimport { MessageHandler } from \"../shared/message_handler.js\";\nimport { Metadata } from \"./metadata.js\";\nimport { OptionalContentConfig } from \"./optional_content_config.js\";\nimport { PDFDataTransportStream } from \"./transport_stream.js\";\nimport { PDFFetchStream } from \"display-fetch_stream\";\nimport { PDFNetworkStream } from \"display-network\";\nimport { PDFNodeStream } from \"display-node_stream\";\nimport { SVGGraphics } from \"display-svg\";\nimport { XfaText } from \"./xfa_text.js\";\n\nconst DEFAULT_RANGE_CHUNK_SIZE = 65536; // 2^16 = 65536\nconst RENDERING_CANCELLED_TIMEOUT = 100; // ms\nconst DELAYED_CLEANUP_TIMEOUT = 5000; // ms\n\nconst DefaultCanvasFactory =\n  typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC\") && isNodeJS\n    ? NodeCanvasFactory\n    : DOMCanvasFactory;\nconst DefaultCMapReaderFactory =\n  typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC\") && isNodeJS\n    ? NodeCMapReaderFactory\n    : DOMCMapReaderFactory;\nconst DefaultFilterFactory =\n  typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC\") && isNodeJS\n    ? NodeFilterFactory\n    : DOMFilterFactory;\nconst DefaultStandardFontDataFactory =\n  typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC\") && isNodeJS\n    ? NodeStandardFontDataFactory\n    : DOMStandardFontDataFactory;\n\n/**\n * @typedef { Int8Array | Uint8Array | Uint8ClampedArray |\n *            Int16Array | Uint16Array |\n *            Int32Array | Uint32Array | Float32Array |\n *            Float64Array\n * } TypedArray\n */\n\n/**\n * @typedef { TypedArray | ArrayBuffer | Array<number> | string } BinaryData\n */\n\n/**\n * @typedef {Object} RefProxy\n * @property {number} num\n * @property {number} gen\n */\n\n/**\n * Document initialization / loading parameters object.\n *\n * @typedef {Object} DocumentInitParameters\n * @property {string | URL} [url] - The URL of the PDF.\n * @property {BinaryData} [data] - Binary PDF data.\n *   Use TypedArrays (Uint8Array) to improve the memory usage. If PDF data is\n *   BASE64-encoded, use `atob()` to convert it to a binary string first.\n *\n *   NOTE: If TypedArrays are used they will generally be transferred to the\n *   worker-thread. This will help reduce main-thread memory usage, however\n *   it will take ownership of the TypedArrays.\n * @property {Object} [httpHeaders] - Basic authentication headers.\n * @property {boolean} [withCredentials] - Indicates whether or not\n *   cross-site Access-Control requests should be made using credentials such\n *   as cookies or authorization headers. The default is `false`.\n * @property {string} [password] - For decrypting password-protected PDFs.\n * @property {number} [length] - The PDF file length. It's used for progress\n *   reports and range requests operations.\n * @property {PDFDataRangeTransport} [range] - Allows for using a custom range\n *   transport implementation.\n * @property {number} [rangeChunkSize] - Specify maximum number of bytes fetched\n *   per range request. The default value is {@link DEFAULT_RANGE_CHUNK_SIZE}.\n * @property {PDFWorker} [worker] - The worker that will be used for loading and\n *   parsing the PDF data.\n * @property {number} [verbosity] - Controls the logging level; the constants\n *   from {@link VerbosityLevel} should be used.\n * @property {string} [docBaseUrl] - The base URL of the document, used when\n *   attempting to recover valid absolute URLs for annotations, and outline\n *   items, that (incorrectly) only specify relative URLs.\n * @property {string} [cMapUrl] - The URL where the predefined Adobe CMaps are\n *   located. Include the trailing slash.\n * @property {boolean} [cMapPacked] - Specifies if the Adobe CMaps are binary\n *   packed or not. The default value is `true`.\n * @property {Object} [CMapReaderFactory] - The factory that will be used when\n *   reading built-in CMap files. Providing a custom factory is useful for\n *   environments without Fetch API or `XMLHttpRequest` support, such as\n *   Node.js. The default value is {DOMCMapReaderFactory}.\n * @property {boolean} [useSystemFonts] - When `true`, fonts that aren't\n *   embedded in the PDF document will fallback to a system font.\n *   The default value is `true` in web environments and `false` in Node.js;\n *   unless `disableFontFace === true` in which case this defaults to `false`\n *   regardless of the environment (to prevent completely broken fonts).\n * @property {string} [standardFontDataUrl] - The URL where the standard font\n *   files are located. Include the trailing slash.\n * @property {Object} [StandardFontDataFactory] - The factory that will be used\n *   when reading the standard font files. Providing a custom factory is useful\n *   for environments without Fetch API or `XMLHttpRequest` support, such as\n *   Node.js. The default value is {DOMStandardFontDataFactory}.\n * @property {boolean} [useWorkerFetch] - Enable using the Fetch API in the\n *   worker-thread when reading CMap and standard font files. When `true`,\n *   the `CMapReaderFactory` and `StandardFontDataFactory` options are ignored.\n *   The default value is `true` in web environments and `false` in Node.js.\n * @property {boolean} [stopAtErrors] - Reject certain promises, e.g.\n *   `getOperatorList`, `getTextContent`, and `RenderTask`, when the associated\n *   PDF data cannot be successfully parsed, instead of attempting to recover\n *   whatever possible of the data. The default value is `false`.\n * @property {number} [maxImageSize] - The maximum allowed image size in total\n *   pixels, i.e. width * height. Images above this value will not be rendered.\n *   Use -1 for no limit, which is also the default value.\n * @property {boolean} [isEvalSupported] - Determines if we can evaluate strings\n *   as JavaScript. Primarily used to improve performance of font rendering, and\n *   when parsing PDF functions. The default value is `true`.\n * @property {boolean} [isOffscreenCanvasSupported] - Determines if we can use\n *   `OffscreenCanvas` in the worker. Primarily used to improve performance of\n *   image conversion/rendering.\n *   The default value is `true` in web environments and `false` in Node.js.\n * @property {number} [canvasMaxAreaInBytes] - The integer value is used to\n *   know when an image must be resized (uses `OffscreenCanvas` in the worker).\n *   If it's -1 then a possibly slow algorithm is used to guess the max value.\n * @property {boolean} [disableFontFace] - By default fonts are converted to\n *   OpenType fonts and loaded via the Font Loading API or `@font-face` rules.\n *   If disabled, fonts will be rendered using a built-in font renderer that\n *   constructs the glyphs with primitive path commands.\n *   The default value is `false` in web environments and `true` in Node.js.\n * @property {boolean} [fontExtraProperties] - Include additional properties,\n *   which are unused during rendering of PDF documents, when exporting the\n *   parsed font data from the worker-thread. This may be useful for debugging\n *   purposes (and backwards compatibility), but note that it will lead to\n *   increased memory usage. The default value is `false`.\n * @property {boolean} [enableXfa] - Render Xfa forms if any.\n *   The default value is `false`.\n * @property {HTMLDocument} [ownerDocument] - Specify an explicit document\n *   context to create elements with and to load resources, such as fonts,\n *   into. Defaults to the current document.\n * @property {boolean} [disableRange] - Disable range request loading of PDF\n *   files. When enabled, and if the server supports partial content requests,\n *   then the PDF will be fetched in chunks. The default value is `false`.\n * @property {boolean} [disableStream] - Disable streaming of PDF file data.\n *   By default PDF.js attempts to load PDF files in chunks. The default value\n *   is `false`.\n * @property {boolean} [disableAutoFetch] - Disable pre-fetching of PDF file\n *   data. When range requests are enabled PDF.js will automatically keep\n *   fetching more data even if it isn't needed to display the current page.\n *   The default value is `false`.\n *\n *   NOTE: It is also necessary to disable streaming, see above, in order for\n *   disabling of pre-fetching to work correctly.\n * @property {boolean} [pdfBug] - Enables special hooks for debugging PDF.js\n *   (see `web/debugger.js`). The default value is `false`.\n * @property {Object} [canvasFactory] - The factory instance that will be used\n *   when creating canvases. The default value is {new DOMCanvasFactory()}.\n * @property {Object} [filterFactory] - A factory instance that will be used\n *   to create SVG filters when rendering some images on the main canvas.\n */\n\n/**\n * This is the main entry point for loading a PDF and interacting with it.\n *\n * NOTE: If a URL is used to fetch the PDF data a standard Fetch API call (or\n * XHR as fallback) is used, which means it must follow same origin rules,\n * e.g. no cross-domain requests without CORS.\n *\n * @param {string | URL | TypedArray | ArrayBuffer | DocumentInitParameters}\n *   src - Can be a URL where a PDF file is located, a typed array (Uint8Array)\n *         already populated with data, or a parameter object.\n * @returns {PDFDocumentLoadingTask}\n */\nfunction getDocument(src) {\n  if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) {\n    if (typeof src === \"string\" || src instanceof URL) {\n      src = { url: src };\n    } else if (isArrayBuffer(src)) {\n      src = { data: src };\n    }\n  }\n  if (typeof src !== \"object\") {\n    throw new Error(\"Invalid parameter in getDocument, need parameter object.\");\n  }\n  if (!src.url && !src.data && !src.range) {\n    throw new Error(\n      \"Invalid parameter object: need either .data, .range or .url\"\n    );\n  }\n  const task = new PDFDocumentLoadingTask();\n  const { docId } = task;\n\n  const url = src.url ? getUrlProp(src.url) : null;\n  const data = src.data ? getDataProp(src.data) : null;\n  const httpHeaders = src.httpHeaders || null;\n  const withCredentials = src.withCredentials === true;\n  const password = src.password ?? null;\n  const rangeTransport =\n    src.range instanceof PDFDataRangeTransport ? src.range : null;\n  const rangeChunkSize =\n    Number.isInteger(src.rangeChunkSize) && src.rangeChunkSize > 0\n      ? src.rangeChunkSize\n      : DEFAULT_RANGE_CHUNK_SIZE;\n  let worker = src.worker instanceof PDFWorker ? src.worker : null;\n  const verbosity = src.verbosity;\n  // Ignore \"data:\"-URLs, since they can't be used to recover valid absolute\n  // URLs anyway. We want to avoid sending them to the worker-thread, since\n  // they contain the *entire* PDF document and can thus be arbitrarily long.\n  const docBaseUrl =\n    typeof src.docBaseUrl === \"string\" && !isDataScheme(src.docBaseUrl)\n      ? src.docBaseUrl\n      : null;\n  const cMapUrl = typeof src.cMapUrl === \"string\" ? src.cMapUrl : null;\n  const cMapPacked = src.cMapPacked !== false;\n  const CMapReaderFactory = src.CMapReaderFactory || DefaultCMapReaderFactory;\n  const standardFontDataUrl =\n    typeof src.standardFontDataUrl === \"string\"\n      ? src.standardFontDataUrl\n      : null;\n  const StandardFontDataFactory =\n    src.StandardFontDataFactory || DefaultStandardFontDataFactory;\n  const ignoreErrors = src.stopAtErrors !== true;\n  const maxImageSize =\n    Number.isInteger(src.maxImageSize) && src.maxImageSize > -1\n      ? src.maxImageSize\n      : -1;\n  const isEvalSupported = src.isEvalSupported !== false;\n  const isOffscreenCanvasSupported =\n    typeof src.isOffscreenCanvasSupported === \"boolean\"\n      ? src.isOffscreenCanvasSupported\n      : !isNodeJS;\n  const canvasMaxAreaInBytes = Number.isInteger(src.canvasMaxAreaInBytes)\n    ? src.canvasMaxAreaInBytes\n    : -1;\n  const disableFontFace =\n    typeof src.disableFontFace === \"boolean\" ? src.disableFontFace : isNodeJS;\n  const fontExtraProperties = src.fontExtraProperties === true;\n  const enableXfa = src.enableXfa === true;\n  const ownerDocument = src.ownerDocument || globalThis.document;\n  const disableRange = src.disableRange === true;\n  const disableStream = src.disableStream === true;\n  const disableAutoFetch = src.disableAutoFetch === true;\n  const pdfBug = src.pdfBug === true;\n\n  // Parameters whose default values depend on other parameters.\n  const length = rangeTransport ? rangeTransport.length : src.length ?? NaN;\n  const useSystemFonts =\n    typeof src.useSystemFonts === \"boolean\"\n      ? src.useSystemFonts\n      : !isNodeJS && !disableFontFace;\n  const useWorkerFetch =\n    typeof src.useWorkerFetch === \"boolean\"\n      ? src.useWorkerFetch\n      : (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n        (CMapReaderFactory === DOMCMapReaderFactory &&\n          StandardFontDataFactory === DOMStandardFontDataFactory &&\n          cMapUrl &&\n          standardFontDataUrl &&\n          isValidFetchUrl(cMapUrl, document.baseURI) &&\n          isValidFetchUrl(standardFontDataUrl, document.baseURI));\n  const canvasFactory =\n    src.canvasFactory || new DefaultCanvasFactory({ ownerDocument });\n  const filterFactory =\n    src.filterFactory || new DefaultFilterFactory({ docId, ownerDocument });\n\n  // Parameters only intended for development/testing purposes.\n  const styleElement =\n    typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")\n      ? src.styleElement\n      : null;\n\n  // Set the main-thread verbosity level.\n  setVerbosityLevel(verbosity);\n\n  // Ensure that the various factories can be initialized, when necessary,\n  // since the user may provide *custom* ones.\n  const transportFactory = {\n    canvasFactory,\n    filterFactory,\n  };\n  if (!useWorkerFetch) {\n    transportFactory.cMapReaderFactory = new CMapReaderFactory({\n      baseUrl: cMapUrl,\n      isCompressed: cMapPacked,\n    });\n    transportFactory.standardFontDataFactory = new StandardFontDataFactory({\n      baseUrl: standardFontDataUrl,\n    });\n  }\n\n  if (!worker) {\n    const workerParams = {\n      verbosity,\n      port: GlobalWorkerOptions.workerPort,\n    };\n    // Worker was not provided -- creating and owning our own. If message port\n    // is specified in global worker options, using it.\n    worker = workerParams.port\n      ? PDFWorker.fromPort(workerParams)\n      : new PDFWorker(workerParams);\n    task._worker = worker;\n  }\n\n  const fetchDocParams = {\n    docId,\n    apiVersion:\n      typeof PDFJSDev !== \"undefined\" && !PDFJSDev.test(\"TESTING\")\n        ? PDFJSDev.eval(\"BUNDLE_VERSION\")\n        : null,\n    data,\n    password,\n    disableAutoFetch,\n    rangeChunkSize,\n    length,\n    docBaseUrl,\n    enableXfa,\n    evaluatorOptions: {\n      maxImageSize,\n      disableFontFace,\n      ignoreErrors,\n      isEvalSupported,\n      isOffscreenCanvasSupported,\n      canvasMaxAreaInBytes,\n      fontExtraProperties,\n      useSystemFonts,\n      cMapUrl: useWorkerFetch ? cMapUrl : null,\n      standardFontDataUrl: useWorkerFetch ? standardFontDataUrl : null,\n    },\n  };\n  const transportParams = {\n    ignoreErrors,\n    isEvalSupported,\n    disableFontFace,\n    fontExtraProperties,\n    enableXfa,\n    ownerDocument,\n    disableAutoFetch,\n    pdfBug,\n    styleElement,\n  };\n\n  worker.promise\n    .then(function () {\n      if (task.destroyed) {\n        throw new Error(\"Loading aborted\");\n      }\n\n      const workerIdPromise = _fetchDocument(worker, fetchDocParams);\n      const networkStreamPromise = new Promise(function (resolve) {\n        let networkStream;\n        if (rangeTransport) {\n          networkStream = new PDFDataTransportStream(\n            {\n              length,\n              initialData: rangeTransport.initialData,\n              progressiveDone: rangeTransport.progressiveDone,\n              contentDispositionFilename:\n                rangeTransport.contentDispositionFilename,\n              disableRange,\n              disableStream,\n            },\n            rangeTransport\n          );\n        } else if (!data) {\n          if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n            throw new Error(\"Not implemented: createPDFNetworkStream\");\n          }\n          const createPDFNetworkStream = params => {\n            if (\n              typeof PDFJSDev !== \"undefined\" &&\n              PDFJSDev.test(\"GENERIC\") &&\n              isNodeJS\n            ) {\n              return new PDFNodeStream(params);\n            }\n            return isValidFetchUrl(params.url)\n              ? new PDFFetchStream(params)\n              : new PDFNetworkStream(params);\n          };\n\n          networkStream = createPDFNetworkStream({\n            url,\n            length,\n            httpHeaders,\n            withCredentials,\n            rangeChunkSize,\n            disableRange,\n            disableStream,\n          });\n        }\n        resolve(networkStream);\n      });\n\n      return Promise.all([workerIdPromise, networkStreamPromise]).then(\n        function ([workerId, networkStream]) {\n          if (task.destroyed) {\n            throw new Error(\"Loading aborted\");\n          }\n\n          const messageHandler = new MessageHandler(\n            docId,\n            workerId,\n            worker.port\n          );\n          const transport = new WorkerTransport(\n            messageHandler,\n            task,\n            networkStream,\n            transportParams,\n            transportFactory\n          );\n          task._transport = transport;\n          messageHandler.send(\"Ready\", null);\n        }\n      );\n    })\n    .catch(task._capability.reject);\n\n  return task;\n}\n\n/**\n * Starts fetching of specified PDF document/data.\n *\n * @param {PDFWorker} worker\n * @param {Object} source\n * @returns {Promise<string>} A promise that is resolved when the worker ID of\n *   the `MessageHandler` is known.\n * @private\n */\nasync function _fetchDocument(worker, source) {\n  if (worker.destroyed) {\n    throw new Error(\"Worker was destroyed\");\n  }\n  const workerId = await worker.messageHandler.sendWithPromise(\n    \"GetDocRequest\",\n    source,\n    source.data ? [source.data.buffer] : null\n  );\n\n  if (worker.destroyed) {\n    throw new Error(\"Worker was destroyed\");\n  }\n  return workerId;\n}\n\nfunction getUrlProp(val) {\n  if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n    return null; // The 'url' is unused with `PDFDataRangeTransport`.\n  }\n  if (val instanceof URL) {\n    return val.href;\n  }\n  try {\n    // The full path is required in the 'url' field.\n    return new URL(val, window.location).href;\n  } catch {\n    if (\n      typeof PDFJSDev !== \"undefined\" &&\n      PDFJSDev.test(\"GENERIC\") &&\n      isNodeJS &&\n      typeof val === \"string\"\n    ) {\n      return val; // Use the url as-is in Node.js environments.\n    }\n  }\n  throw new Error(\n    \"Invalid PDF url data: \" +\n      \"either string or URL-object is expected in the url property.\"\n  );\n}\n\nfunction getDataProp(val) {\n  // Converting string or array-like data to Uint8Array.\n  if (\n    typeof PDFJSDev !== \"undefined\" &&\n    PDFJSDev.test(\"GENERIC\") &&\n    isNodeJS &&\n    typeof Buffer !== \"undefined\" && // eslint-disable-line no-undef\n    val instanceof Buffer // eslint-disable-line no-undef\n  ) {\n    throw new Error(\n      \"Please provide binary data as `Uint8Array`, rather than `Buffer`.\"\n    );\n  }\n  if (val instanceof Uint8Array && val.byteLength === val.buffer.byteLength) {\n    // Use the data as-is when it's already a Uint8Array that completely\n    // \"utilizes\" its underlying ArrayBuffer, to prevent any possible\n    // issues when transferring it to the worker-thread.\n    return val;\n  }\n  if (typeof val === \"string\") {\n    return stringToBytes(val);\n  }\n  if ((typeof val === \"object\" && !isNaN(val?.length)) || isArrayBuffer(val)) {\n    return new Uint8Array(val);\n  }\n  throw new Error(\n    \"Invalid PDF binary data: either TypedArray, \" +\n      \"string, or array-like object is expected in the data property.\"\n  );\n}\n\n/**\n * @typedef {Object} OnProgressParameters\n * @property {number} loaded - Currently loaded number of bytes.\n * @property {number} total - Total number of bytes in the PDF file.\n */\n\n/**\n * The loading task controls the operations required to load a PDF document\n * (such as network requests) and provides a way to listen for completion,\n * after which individual pages can be rendered.\n */\nclass PDFDocumentLoadingTask {\n  static #docId = 0;\n\n  constructor() {\n    this._capability = new PromiseCapability();\n    this._transport = null;\n    this._worker = null;\n\n    /**\n     * Unique identifier for the document loading task.\n     * @type {string}\n     */\n    this.docId = `d${PDFDocumentLoadingTask.#docId++}`;\n\n    /**\n     * Whether the loading task is destroyed or not.\n     * @type {boolean}\n     */\n    this.destroyed = false;\n\n    /**\n     * Callback to request a password if a wrong or no password was provided.\n     * The callback receives two parameters: a function that should be called\n     * with the new password, and a reason (see {@link PasswordResponses}).\n     * @type {function}\n     */\n    this.onPassword = null;\n\n    /**\n     * Callback to be able to monitor the loading progress of the PDF file\n     * (necessary to implement e.g. a loading bar).\n     * The callback receives an {@link OnProgressParameters} argument.\n     * @type {function}\n     */\n    this.onProgress = null;\n  }\n\n  /**\n   * Promise for document loading task completion.\n   * @type {Promise<PDFDocumentProxy>}\n   */\n  get promise() {\n    return this._capability.promise;\n  }\n\n  /**\n   * Abort all network requests and destroy the worker.\n   * @returns {Promise<void>} A promise that is resolved when destruction is\n   *   completed.\n   */\n  async destroy() {\n    this.destroyed = true;\n    try {\n      if (this._worker?.port) {\n        this._worker._pendingDestroy = true;\n      }\n      await this._transport?.destroy();\n    } catch (ex) {\n      if (this._worker?.port) {\n        delete this._worker._pendingDestroy;\n      }\n      throw ex;\n    }\n\n    this._transport = null;\n    if (this._worker) {\n      this._worker.destroy();\n      this._worker = null;\n    }\n  }\n}\n\n/**\n * Abstract class to support range requests file loading.\n *\n * NOTE: The TypedArrays passed to the constructor and relevant methods below\n * will generally be transferred to the worker-thread. This will help reduce\n * main-thread memory usage, however it will take ownership of the TypedArrays.\n */\nclass PDFDataRangeTransport {\n  /**\n   * @param {number} length\n   * @param {Uint8Array|null} initialData\n   * @param {boolean} [progressiveDone]\n   * @param {string} [contentDispositionFilename]\n   */\n  constructor(\n    length,\n    initialData,\n    progressiveDone = false,\n    contentDispositionFilename = null\n  ) {\n    this.length = length;\n    this.initialData = initialData;\n    this.progressiveDone = progressiveDone;\n    this.contentDispositionFilename = contentDispositionFilename;\n\n    this._rangeListeners = [];\n    this._progressListeners = [];\n    this._progressiveReadListeners = [];\n    this._progressiveDoneListeners = [];\n    this._readyCapability = new PromiseCapability();\n  }\n\n  /**\n   * @param {function} listener\n   */\n  addRangeListener(listener) {\n    this._rangeListeners.push(listener);\n  }\n\n  /**\n   * @param {function} listener\n   */\n  addProgressListener(listener) {\n    this._progressListeners.push(listener);\n  }\n\n  /**\n   * @param {function} listener\n   */\n  addProgressiveReadListener(listener) {\n    this._progressiveReadListeners.push(listener);\n  }\n\n  /**\n   * @param {function} listener\n   */\n  addProgressiveDoneListener(listener) {\n    this._progressiveDoneListeners.push(listener);\n  }\n\n  /**\n   * @param {number} begin\n   * @param {Uint8Array|null} chunk\n   */\n  onDataRange(begin, chunk) {\n    for (const listener of this._rangeListeners) {\n      listener(begin, chunk);\n    }\n  }\n\n  /**\n   * @param {number} loaded\n   * @param {number|undefined} total\n   */\n  onDataProgress(loaded, total) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressListeners) {\n        listener(loaded, total);\n      }\n    });\n  }\n\n  /**\n   * @param {Uint8Array|null} chunk\n   */\n  onDataProgressiveRead(chunk) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveReadListeners) {\n        listener(chunk);\n      }\n    });\n  }\n\n  onDataProgressiveDone() {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveDoneListeners) {\n        listener();\n      }\n    });\n  }\n\n  transportReady() {\n    this._readyCapability.resolve();\n  }\n\n  /**\n   * @param {number} begin\n   * @param {number} end\n   */\n  requestDataRange(begin, end) {\n    unreachable(\"Abstract method PDFDataRangeTransport.requestDataRange\");\n  }\n\n  abort() {}\n}\n\n/**\n * Proxy to a `PDFDocument` in the worker thread.\n */\nclass PDFDocumentProxy {\n  constructor(pdfInfo, transport) {\n    this._pdfInfo = pdfInfo;\n    this._transport = transport;\n\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) {\n      Object.defineProperty(this, \"getJavaScript\", {\n        value: () => {\n          deprecated(\n            \"`PDFDocumentProxy.getJavaScript`, \" +\n              \"please use `PDFDocumentProxy.getJSActions` instead.\"\n          );\n          return this.getJSActions().then(js => {\n            if (!js) {\n              return js;\n            }\n            const jsArr = [];\n            for (const name in js) {\n              jsArr.push(...js[name]);\n            }\n            return jsArr;\n          });\n        },\n      });\n    }\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      // For testing purposes.\n      Object.defineProperty(this, \"getXFADatasets\", {\n        value: () => {\n          return this._transport.getXFADatasets();\n        },\n      });\n      Object.defineProperty(this, \"getXRefPrevValue\", {\n        value: () => {\n          return this._transport.getXRefPrevValue();\n        },\n      });\n      Object.defineProperty(this, \"getAnnotArray\", {\n        value: pageIndex => {\n          return this._transport.getAnnotArray(pageIndex);\n        },\n      });\n    }\n  }\n\n  /**\n   * @type {AnnotationStorage} Storage for annotation data in forms.\n   */\n  get annotationStorage() {\n    return this._transport.annotationStorage;\n  }\n\n  /**\n   * @type {Object} The filter factory instance.\n   */\n  get filterFactory() {\n    return this._transport.filterFactory;\n  }\n\n  /**\n   * @type {number} Total number of pages in the PDF file.\n   */\n  get numPages() {\n    return this._pdfInfo.numPages;\n  }\n\n  /**\n   * @type {Array<string, string|null>} A (not guaranteed to be) unique ID to\n   *   identify the PDF document.\n   *   NOTE: The first element will always be defined for all PDF documents,\n   *   whereas the second element is only defined for *modified* PDF documents.\n   */\n  get fingerprints() {\n    return this._pdfInfo.fingerprints;\n  }\n\n  /**\n   * @type {boolean} True if only XFA form.\n   */\n  get isPureXfa() {\n    return shadow(this, \"isPureXfa\", !!this._transport._htmlForXfa);\n  }\n\n  /**\n   * NOTE: This is (mostly) intended to support printing of XFA forms.\n   *\n   * @type {Object | null} An object representing a HTML tree structure\n   *   to render the XFA, or `null` when no XFA form exists.\n   */\n  get allXfaHtml() {\n    return this._transport._htmlForXfa;\n  }\n\n  /**\n   * @param {number} pageNumber - The page number to get. The first page is 1.\n   * @returns {Promise<PDFPageProxy>} A promise that is resolved with\n   *   a {@link PDFPageProxy} object.\n   */\n  getPage(pageNumber) {\n    return this._transport.getPage(pageNumber);\n  }\n\n  /**\n   * @param {RefProxy} ref - The page reference.\n   * @returns {Promise<number>} A promise that is resolved with the page index,\n   *   starting from zero, that is associated with the reference.\n   */\n  getPageIndex(ref) {\n    return this._transport.getPageIndex(ref);\n  }\n\n  /**\n   * @returns {Promise<Object<string, Array<any>>>} A promise that is resolved\n   *   with a mapping from named destinations to references.\n   *\n   * This can be slow for large documents. Use `getDestination` instead.\n   */\n  getDestinations() {\n    return this._transport.getDestinations();\n  }\n\n  /**\n   * @param {string} id - The named destination to get.\n   * @returns {Promise<Array<any> | null>} A promise that is resolved with all\n   *   information of the given named destination, or `null` when the named\n   *   destination is not present in the PDF file.\n   */\n  getDestination(id) {\n    return this._transport.getDestination(id);\n  }\n\n  /**\n   * @returns {Promise<Array<string> | null>} A promise that is resolved with\n   *   an {Array} containing the page labels that correspond to the page\n   *   indexes, or `null` when no page labels are present in the PDF file.\n   */\n  getPageLabels() {\n    return this._transport.getPageLabels();\n  }\n\n  /**\n   * @returns {Promise<string>} A promise that is resolved with a {string}\n   *   containing the page layout name.\n   */\n  getPageLayout() {\n    return this._transport.getPageLayout();\n  }\n\n  /**\n   * @returns {Promise<string>} A promise that is resolved with a {string}\n   *   containing the page mode name.\n   */\n  getPageMode() {\n    return this._transport.getPageMode();\n  }\n\n  /**\n   * @returns {Promise<Object | null>} A promise that is resolved with an\n   *   {Object} containing the viewer preferences, or `null` when no viewer\n   *   preferences are present in the PDF file.\n   */\n  getViewerPreferences() {\n    return this._transport.getViewerPreferences();\n  }\n\n  /**\n   * @returns {Promise<any | null>} A promise that is resolved with an {Array}\n   *   containing the destination, or `null` when no open action is present\n   *   in the PDF.\n   */\n  getOpenAction() {\n    return this._transport.getOpenAction();\n  }\n\n  /**\n   * @returns {Promise<any>} A promise that is resolved with a lookup table\n   *   for mapping named attachments to their content.\n   */\n  getAttachments() {\n    return this._transport.getAttachments();\n  }\n\n  /**\n   * @returns {Promise<Object | null>} A promise that is resolved with\n   *   an {Object} with the JavaScript actions:\n   *     - from the name tree.\n   *     - from A or AA entries in the catalog dictionary.\n   *   , or `null` if no JavaScript exists.\n   */\n  getJSActions() {\n    return this._transport.getDocJSActions();\n  }\n\n  /**\n   * @typedef {Object} OutlineNode\n   * @property {string} title\n   * @property {boolean} bold\n   * @property {boolean} italic\n   * @property {Uint8ClampedArray} color - The color in RGB format to use for\n   *   display purposes.\n   * @property {string | Array<any> | null} dest\n   * @property {string | null} url\n   * @property {string | undefined} unsafeUrl\n   * @property {boolean | undefined} newWindow\n   * @property {number | undefined} count\n   * @property {Array<OutlineNode>} items\n   */\n\n  /**\n   * @returns {Promise<Array<OutlineNode>>} A promise that is resolved with an\n   *   {Array} that is a tree outline (if it has one) of the PDF file.\n   */\n  getOutline() {\n    return this._transport.getOutline();\n  }\n\n  /**\n   * @returns {Promise<OptionalContentConfig>} A promise that is resolved with\n   *   an {@link OptionalContentConfig} that contains all the optional content\n   *   groups (assuming that the document has any).\n   */\n  getOptionalContentConfig() {\n    return this._transport.getOptionalContentConfig();\n  }\n\n  /**\n   * @returns {Promise<Array<number> | null>} A promise that is resolved with\n   *   an {Array} that contains the permission flags for the PDF document, or\n   *   `null` when no permissions are present in the PDF file.\n   */\n  getPermissions() {\n    return this._transport.getPermissions();\n  }\n\n  /**\n   * @returns {Promise<{ info: Object, metadata: Metadata }>} A promise that is\n   *   resolved with an {Object} that has `info` and `metadata` properties.\n   *   `info` is an {Object} filled with anything available in the information\n   *   dictionary and similarly `metadata` is a {Metadata} object with\n   *   information from the metadata section of the PDF.\n   */\n  getMetadata() {\n    return this._transport.getMetadata();\n  }\n\n  /**\n   * @typedef {Object} MarkInfo\n   * Properties correspond to Table 321 of the PDF 32000-1:2008 spec.\n   * @property {boolean} Marked\n   * @property {boolean} UserProperties\n   * @property {boolean} Suspects\n   */\n\n  /**\n   * @returns {Promise<MarkInfo | null>} A promise that is resolved with\n   *   a {MarkInfo} object that contains the MarkInfo flags for the PDF\n   *   document, or `null` when no MarkInfo values are present in the PDF file.\n   */\n  getMarkInfo() {\n    return this._transport.getMarkInfo();\n  }\n\n  /**\n   * @returns {Promise<Uint8Array>} A promise that is resolved with a\n   *   {Uint8Array} containing the raw data of the PDF document.\n   */\n  getData() {\n    return this._transport.getData();\n  }\n\n  /**\n   * @returns {Promise<Uint8Array>} A promise that is resolved with a\n   *   {Uint8Array} containing the full data of the saved document.\n   */\n  saveDocument() {\n    return this._transport.saveDocument();\n  }\n\n  /**\n   * @returns {Promise<{ length: number }>} A promise that is resolved when the\n   *   document's data is loaded. It is resolved with an {Object} that contains\n   *   the `length` property that indicates size of the PDF data in bytes.\n   */\n  getDownloadInfo() {\n    return this._transport.downloadInfoCapability.promise;\n  }\n\n  /**\n   * Cleans up resources allocated by the document on both the main and worker\n   * threads.\n   *\n   * NOTE: Do not, under any circumstances, call this method when rendering is\n   * currently ongoing since that may lead to rendering errors.\n   *\n   * @param {boolean} [keepLoadedFonts] - Let fonts remain attached to the DOM.\n   *   NOTE: This will increase persistent memory usage, hence don't use this\n   *   option unless absolutely necessary. The default value is `false`.\n   * @returns {Promise} A promise that is resolved when clean-up has finished.\n   */\n  cleanup(keepLoadedFonts = false) {\n    return this._transport.startCleanup(keepLoadedFonts || this.isPureXfa);\n  }\n\n  /**\n   * Destroys the current document instance and terminates the worker.\n   */\n  destroy() {\n    return this.loadingTask.destroy();\n  }\n\n  /**\n   * @type {DocumentInitParameters} A subset of the current\n   *   {DocumentInitParameters}, which are needed in the viewer.\n   */\n  get loadingParams() {\n    return this._transport.loadingParams;\n  }\n\n  /**\n   * @type {PDFDocumentLoadingTask} The loadingTask for the current document.\n   */\n  get loadingTask() {\n    return this._transport.loadingTask;\n  }\n\n  /**\n   * @returns {Promise<Object<string, Array<Object>> | null>} A promise that is\n   *   resolved with an {Object} containing /AcroForm field data for the JS\n   *   sandbox, or `null` when no field data is present in the PDF file.\n   */\n  getFieldObjects() {\n    return this._transport.getFieldObjects();\n  }\n\n  /**\n   * @returns {Promise<boolean>} A promise that is resolved with `true`\n   *   if some /AcroForm fields have JavaScript actions.\n   */\n  hasJSActions() {\n    return this._transport.hasJSActions();\n  }\n\n  /**\n   * @returns {Promise<Array<string> | null>} A promise that is resolved with an\n   *   {Array<string>} containing IDs of annotations that have a calculation\n   *   action, or `null` when no such annotations are present in the PDF file.\n   */\n  getCalculationOrderIds() {\n    return this._transport.getCalculationOrderIds();\n  }\n}\n\n/**\n * Page getViewport parameters.\n *\n * @typedef {Object} GetViewportParameters\n * @property {number} scale - The desired scale of the viewport.\n * @property {number} [rotation] - The desired rotation, in degrees, of\n *   the viewport. If omitted it defaults to the page rotation.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset.\n *   The default value is `0`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset.\n *   The default value is `0`.\n * @property {boolean} [dontFlip] - If true, the y-axis will not be\n *   flipped. The default value is `false`.\n */\n\n/**\n * Page getTextContent parameters.\n *\n * @typedef {Object} getTextContentParameters\n * @property {boolean} [includeMarkedContent] - When true include marked\n *   content items in the items array of TextContent. The default is `false`.\n * @property {boolean} [disableNormalization] - When true the text is *not*\n *   normalized in the worker-thread. The default is `false`.\n */\n\n/**\n * Page text content.\n *\n * @typedef {Object} TextContent\n * @property {Array<TextItem | TextMarkedContent>} items - Array of\n *   {@link TextItem} and {@link TextMarkedContent} objects. TextMarkedContent\n *   items are included when includeMarkedContent is true.\n * @property {Object<string, TextStyle>} styles - {@link TextStyle} objects,\n *   indexed by font name.\n */\n\n/**\n * Page text content part.\n *\n * @typedef {Object} TextItem\n * @property {string} str - Text content.\n * @property {string} dir - Text direction: 'ttb', 'ltr' or 'rtl'.\n * @property {Array<any>} transform - Transformation matrix.\n * @property {number} width - Width in device space.\n * @property {number} height - Height in device space.\n * @property {string} fontName - Font name used by PDF.js for converted font.\n * @property {boolean} hasEOL - Indicating if the text content is followed by a\n *   line-break.\n */\n\n/**\n * Page text marked content part.\n *\n * @typedef {Object} TextMarkedContent\n * @property {string} type - Either 'beginMarkedContent',\n *   'beginMarkedContentProps', or 'endMarkedContent'.\n * @property {string} id - The marked content identifier. Only used for type\n *   'beginMarkedContentProps'.\n */\n\n/**\n * Text style.\n *\n * @typedef {Object} TextStyle\n * @property {number} ascent - Font ascent.\n * @property {number} descent - Font descent.\n * @property {boolean} vertical - Whether or not the text is in vertical mode.\n * @property {string} fontFamily - The possible font family.\n */\n\n/**\n * Page annotation parameters.\n *\n * @typedef {Object} GetAnnotationsParameters\n * @property {string} [intent] - Determines the annotations that are fetched,\n *   can be 'display' (viewable annotations), 'print' (printable annotations),\n *   or 'any' (all annotations). The default value is 'display'.\n */\n\n/**\n * Page render parameters.\n *\n * @typedef {Object} RenderParameters\n * @property {CanvasRenderingContext2D} canvasContext - A 2D context of a DOM\n *   Canvas object.\n * @property {PageViewport} viewport - Rendering viewport obtained by calling\n *   the `PDFPageProxy.getViewport` method.\n * @property {string} [intent] - Rendering intent, can be 'display', 'print',\n *   or 'any'. The default value is 'display'.\n * @property {number} [annotationMode] Controls which annotations are rendered\n *   onto the canvas, for annotations with appearance-data; the values from\n *   {@link AnnotationMode} should be used. The following values are supported:\n *    - `AnnotationMode.DISABLE`, which disables all annotations.\n *    - `AnnotationMode.ENABLE`, which includes all possible annotations (thus\n *      it also depends on the `intent`-option, see above).\n *    - `AnnotationMode.ENABLE_FORMS`, which excludes annotations that contain\n *      interactive form elements (those will be rendered in the display layer).\n *    - `AnnotationMode.ENABLE_STORAGE`, which includes all possible annotations\n *      (as above) but where interactive form elements are updated with data\n *      from the {@link AnnotationStorage}-instance; useful e.g. for printing.\n *   The default value is `AnnotationMode.ENABLE`.\n * @property {Array<any>} [transform] - Additional transform, applied just\n *   before viewport transform.\n * @property {CanvasGradient | CanvasPattern | string} [background] - Background\n *   to use for the canvas.\n *   Any valid `canvas.fillStyle` can be used: a `DOMString` parsed as CSS\n *   <color> value, a `CanvasGradient` object (a linear or radial gradient) or\n *   a `CanvasPattern` object (a repetitive image). The default value is\n *   'rgb(255,255,255)'.\n *\n *   NOTE: This option may be partially, or completely, ignored when the\n *   `pageColors`-option is used.\n * @property {Object} [pageColors] - Overwrites background and foreground colors\n *   with user defined ones in order to improve readability in high contrast\n *   mode.\n * @property {Promise<OptionalContentConfig>} [optionalContentConfigPromise] -\n *   A promise that should resolve with an {@link OptionalContentConfig}\n *   created from `PDFDocumentProxy.getOptionalContentConfig`. If `null`,\n *   the configuration will be fetched automatically with the default visibility\n *   states set.\n * @property {Map<string, HTMLCanvasElement>} [annotationCanvasMap] - Map some\n *   annotation ids with canvases used to render them.\n * @property {PrintAnnotationStorage} [printAnnotationStorage]\n */\n\n/**\n * Page getOperatorList parameters.\n *\n * @typedef {Object} GetOperatorListParameters\n * @property {string} [intent] - Rendering intent, can be 'display', 'print',\n *   or 'any'. The default value is 'display'.\n * @property {number} [annotationMode] Controls which annotations are included\n *   in the operatorList, for annotations with appearance-data; the values from\n *   {@link AnnotationMode} should be used. The following values are supported:\n *    - `AnnotationMode.DISABLE`, which disables all annotations.\n *    - `AnnotationMode.ENABLE`, which includes all possible annotations (thus\n *      it also depends on the `intent`-option, see above).\n *    - `AnnotationMode.ENABLE_FORMS`, which excludes annotations that contain\n *      interactive form elements (those will be rendered in the display layer).\n *    - `AnnotationMode.ENABLE_STORAGE`, which includes all possible annotations\n *      (as above) but where interactive form elements are updated with data\n *      from the {@link AnnotationStorage}-instance; useful e.g. for printing.\n *   The default value is `AnnotationMode.ENABLE`.\n * @property {PrintAnnotationStorage} [printAnnotationStorage]\n */\n\n/**\n * Structure tree node. The root node will have a role \"Root\".\n *\n * @typedef {Object} StructTreeNode\n * @property {Array<StructTreeNode | StructTreeContent>} children - Array of\n *   {@link StructTreeNode} and {@link StructTreeContent} objects.\n * @property {string} role - element's role, already mapped if a role map exists\n * in the PDF.\n */\n\n/**\n * Structure tree content.\n *\n * @typedef {Object} StructTreeContent\n * @property {string} type - either \"content\" for page and stream structure\n *   elements or \"object\" for object references.\n * @property {string} id - unique id that will map to the text layer.\n */\n\n/**\n * PDF page operator list.\n *\n * @typedef {Object} PDFOperatorList\n * @property {Array<number>} fnArray - Array containing the operator functions.\n * @property {Array<any>} argsArray - Array containing the arguments of the\n *   functions.\n */\n\n/**\n * Proxy to a `PDFPage` in the worker thread.\n */\nclass PDFPageProxy {\n  #delayedCleanupTimeout = null;\n\n  #pendingCleanup = false;\n\n  constructor(pageIndex, pageInfo, transport, pdfBug = false) {\n    this._pageIndex = pageIndex;\n    this._pageInfo = pageInfo;\n    this._transport = transport;\n    this._stats = pdfBug ? new StatTimer() : null;\n    this._pdfBug = pdfBug;\n    /** @type {PDFObjects} */\n    this.commonObjs = transport.commonObjs;\n    this.objs = new PDFObjects();\n\n    this._maybeCleanupAfterRender = false;\n    this._intentStates = new Map();\n    this.destroyed = false;\n  }\n\n  /**\n   * @type {number} Page number of the page. First page is 1.\n   */\n  get pageNumber() {\n    return this._pageIndex + 1;\n  }\n\n  /**\n   * @type {number} The number of degrees the page is rotated clockwise.\n   */\n  get rotate() {\n    return this._pageInfo.rotate;\n  }\n\n  /**\n   * @type {RefProxy | null} The reference that points to this page.\n   */\n  get ref() {\n    return this._pageInfo.ref;\n  }\n\n  /**\n   * @type {number} The default size of units in 1/72nds of an inch.\n   */\n  get userUnit() {\n    return this._pageInfo.userUnit;\n  }\n\n  /**\n   * @type {Array<number>} An array of the visible portion of the PDF page in\n   *   user space units [x1, y1, x2, y2].\n   */\n  get view() {\n    return this._pageInfo.view;\n  }\n\n  /**\n   * @param {GetViewportParameters} params - Viewport parameters.\n   * @returns {PageViewport} Contains 'width' and 'height' properties\n   *   along with transforms required for rendering.\n   */\n  getViewport({\n    scale,\n    rotation = this.rotate,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false,\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.view,\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip,\n    });\n  }\n\n  /**\n   * @param {GetAnnotationsParameters} params - Annotation parameters.\n   * @returns {Promise<Array<any>>} A promise that is resolved with an\n   *   {Array} of the annotation objects.\n   */\n  getAnnotations({ intent = \"display\" } = {}) {\n    const intentArgs = this._transport.getRenderingIntent(intent);\n\n    return this._transport.getAnnotations(\n      this._pageIndex,\n      intentArgs.renderingIntent\n    );\n  }\n\n  /**\n   * @returns {Promise<Object>} A promise that is resolved with an\n   *   {Object} with JS actions.\n   */\n  getJSActions() {\n    return this._transport.getPageJSActions(this._pageIndex);\n  }\n\n  /**\n   * @type {Object} The filter factory instance.\n   */\n  get filterFactory() {\n    return this._transport.filterFactory;\n  }\n\n  /**\n   * @type {boolean} True if only XFA form.\n   */\n  get isPureXfa() {\n    return shadow(this, \"isPureXfa\", !!this._transport._htmlForXfa);\n  }\n\n  /**\n   * @returns {Promise<Object | null>} A promise that is resolved with\n   *   an {Object} with a fake DOM object (a tree structure where elements\n   *   are {Object} with a name, attributes (class, style, ...), value and\n   *   children, very similar to a HTML DOM tree), or `null` if no XFA exists.\n   */\n  async getXfa() {\n    return this._transport._htmlForXfa?.children[this._pageIndex] || null;\n  }\n\n  /**\n   * Begins the process of rendering a page to the desired context.\n   *\n   * @param {RenderParameters} params - Page render parameters.\n   * @returns {RenderTask} An object that contains a promise that is\n   *   resolved when the page finishes rendering.\n   */\n  render({\n    canvasContext,\n    viewport,\n    intent = \"display\",\n    annotationMode = AnnotationMode.ENABLE,\n    transform = null,\n    background = null,\n    optionalContentConfigPromise = null,\n    annotationCanvasMap = null,\n    pageColors = null,\n    printAnnotationStorage = null,\n  }) {\n    this._stats?.time(\"Overall\");\n\n    const intentArgs = this._transport.getRenderingIntent(\n      intent,\n      annotationMode,\n      printAnnotationStorage\n    );\n    // If there was a pending destroy, cancel it so no cleanup happens during\n    // this call to render...\n    this.#pendingCleanup = false;\n    // ... and ensure that a delayed cleanup is always aborted.\n    this.#abortDelayedCleanup();\n\n    if (!optionalContentConfigPromise) {\n      optionalContentConfigPromise = this._transport.getOptionalContentConfig();\n    }\n\n    let intentState = this._intentStates.get(intentArgs.cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(intentArgs.cacheKey, intentState);\n    }\n\n    // Ensure that a pending `streamReader` cancel timeout is always aborted.\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n\n    const intentPrint = !!(\n      intentArgs.renderingIntent & RenderingIntentFlag.PRINT\n    );\n\n    // If there's no displayReadyCapability yet, then the operatorList\n    // was never requested before. Make the request and create the promise.\n    if (!intentState.displayReadyCapability) {\n      intentState.displayReadyCapability = new PromiseCapability();\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n        separateAnnots: null,\n      };\n\n      this._stats?.time(\"Page Request\");\n      this._pumpOperatorList(intentArgs);\n    }\n\n    const complete = error => {\n      intentState.renderTasks.delete(internalRenderTask);\n\n      // Attempt to reduce memory usage during *printing*, by always running\n      // cleanup immediately once rendering has finished.\n      if (this._maybeCleanupAfterRender || intentPrint) {\n        this.#pendingCleanup = true;\n      }\n      this.#tryCleanup(/* delayed = */ !intentPrint);\n\n      if (error) {\n        internalRenderTask.capability.reject(error);\n\n        this._abortOperatorList({\n          intentState,\n          reason: error instanceof Error ? error : new Error(error),\n        });\n      } else {\n        internalRenderTask.capability.resolve();\n      }\n\n      this._stats?.timeEnd(\"Rendering\");\n      this._stats?.timeEnd(\"Overall\");\n    };\n\n    const internalRenderTask = new InternalRenderTask({\n      callback: complete,\n      // Only include the required properties, and *not* the entire object.\n      params: {\n        canvasContext,\n        viewport,\n        transform,\n        background,\n      },\n      objs: this.objs,\n      commonObjs: this.commonObjs,\n      annotationCanvasMap,\n      operatorList: intentState.operatorList,\n      pageIndex: this._pageIndex,\n      canvasFactory: this._transport.canvasFactory,\n      filterFactory: this._transport.filterFactory,\n      useRequestAnimationFrame: !intentPrint,\n      pdfBug: this._pdfBug,\n      pageColors,\n    });\n\n    (intentState.renderTasks ||= new Set()).add(internalRenderTask);\n    const renderTask = internalRenderTask.task;\n\n    Promise.all([\n      intentState.displayReadyCapability.promise,\n      optionalContentConfigPromise,\n    ])\n      .then(([transparency, optionalContentConfig]) => {\n        if (this.destroyed) {\n          complete();\n          return;\n        }\n        this._stats?.time(\"Rendering\");\n\n        internalRenderTask.initializeGraphics({\n          transparency,\n          optionalContentConfig,\n        });\n        internalRenderTask.operatorListChanged();\n      })\n      .catch(complete);\n\n    return renderTask;\n  }\n\n  /**\n   * @param {GetOperatorListParameters} params - Page getOperatorList\n   *   parameters.\n   * @returns {Promise<PDFOperatorList>} A promise resolved with an\n   *   {@link PDFOperatorList} object that represents the page's operator list.\n   */\n  getOperatorList({\n    intent = \"display\",\n    annotationMode = AnnotationMode.ENABLE,\n    printAnnotationStorage = null,\n  } = {}) {\n    if (typeof PDFJSDev !== \"undefined\" && !PDFJSDev.test(\"GENERIC\")) {\n      throw new Error(\"Not implemented: getOperatorList\");\n    }\n    function operatorListChanged() {\n      if (intentState.operatorList.lastChunk) {\n        intentState.opListReadCapability.resolve(intentState.operatorList);\n\n        intentState.renderTasks.delete(opListTask);\n      }\n    }\n\n    const intentArgs = this._transport.getRenderingIntent(\n      intent,\n      annotationMode,\n      printAnnotationStorage,\n      /* isOpList = */ true\n    );\n    let intentState = this._intentStates.get(intentArgs.cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(intentArgs.cacheKey, intentState);\n    }\n    let opListTask;\n\n    if (!intentState.opListReadCapability) {\n      opListTask = Object.create(null);\n      opListTask.operatorListChanged = operatorListChanged;\n      intentState.opListReadCapability = new PromiseCapability();\n      (intentState.renderTasks ||= new Set()).add(opListTask);\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n        separateAnnots: null,\n      };\n\n      this._stats?.time(\"Page Request\");\n      this._pumpOperatorList(intentArgs);\n    }\n    return intentState.opListReadCapability.promise;\n  }\n\n  /**\n   * NOTE: All occurrences of whitespace will be replaced by\n   * standard spaces (0x20).\n   *\n   * @param {getTextContentParameters} params - getTextContent parameters.\n   * @returns {ReadableStream} Stream for reading text content chunks.\n   */\n  streamTextContent({\n    includeMarkedContent = false,\n    disableNormalization = false,\n  } = {}) {\n    const TEXT_CONTENT_CHUNK_SIZE = 100;\n\n    return this._transport.messageHandler.sendWithStream(\n      \"GetTextContent\",\n      {\n        pageIndex: this._pageIndex,\n        includeMarkedContent: includeMarkedContent === true,\n        disableNormalization: disableNormalization === true,\n      },\n      {\n        highWaterMark: TEXT_CONTENT_CHUNK_SIZE,\n        size(textContent) {\n          return textContent.items.length;\n        },\n      }\n    );\n  }\n\n  /**\n   * NOTE: All occurrences of whitespace will be replaced by\n   * standard spaces (0x20).\n   *\n   * @param {getTextContentParameters} params - getTextContent parameters.\n   * @returns {Promise<TextContent>} A promise that is resolved with a\n   *   {@link TextContent} object that represents the page's text content.\n   */\n  getTextContent(params = {}) {\n    if (this._transport._htmlForXfa) {\n      // TODO: We need to revisit this once the XFA foreground patch lands and\n      // only do this for non-foreground XFA.\n      return this.getXfa().then(xfa => {\n        return XfaText.textContent(xfa);\n      });\n    }\n    const readableStream = this.streamTextContent(params);\n\n    return new Promise(function (resolve, reject) {\n      function pump() {\n        reader.read().then(function ({ value, done }) {\n          if (done) {\n            resolve(textContent);\n            return;\n          }\n          Object.assign(textContent.styles, value.styles);\n          textContent.items.push(...value.items);\n          pump();\n        }, reject);\n      }\n\n      const reader = readableStream.getReader();\n      const textContent = {\n        items: [],\n        styles: Object.create(null),\n      };\n      pump();\n    });\n  }\n\n  /**\n   * @returns {Promise<StructTreeNode>} A promise that is resolved with a\n   *   {@link StructTreeNode} object that represents the page's structure tree,\n   *   or `null` when no structure tree is present for the current page.\n   */\n  getStructTree() {\n    return this._transport.getStructTree(this._pageIndex);\n  }\n\n  /**\n   * Destroys the page object.\n   * @private\n   */\n  _destroy() {\n    this.destroyed = true;\n\n    const waitOn = [];\n    for (const intentState of this._intentStates.values()) {\n      this._abortOperatorList({\n        intentState,\n        reason: new Error(\"Page was destroyed.\"),\n        force: true,\n      });\n\n      if (intentState.opListReadCapability) {\n        // Avoid errors below, since the renderTasks are just stubs.\n        continue;\n      }\n      for (const internalRenderTask of intentState.renderTasks) {\n        waitOn.push(internalRenderTask.completed);\n        internalRenderTask.cancel();\n      }\n    }\n    this.objs.clear();\n    this.#pendingCleanup = false;\n    this.#abortDelayedCleanup();\n\n    return Promise.all(waitOn);\n  }\n\n  /**\n   * Cleans up resources allocated by the page.\n   *\n   * @param {boolean} [resetStats] - Reset page stats, if enabled.\n   *   The default value is `false`.\n   * @returns {boolean} Indicates if clean-up was successfully run.\n   */\n  cleanup(resetStats = false) {\n    this.#pendingCleanup = true;\n    const success = this.#tryCleanup(/* delayed = */ false);\n\n    if (resetStats && success) {\n      this._stats &&= new StatTimer();\n    }\n    return success;\n  }\n\n  /**\n   * Attempts to clean up if rendering is in a state where that's possible.\n   * @param {boolean} [delayed] - Delay the cleanup, to e.g. improve zooming\n   *   performance in documents with large images.\n   *   The default value is `false`.\n   * @returns {boolean} Indicates if clean-up was successfully run.\n   */\n  #tryCleanup(delayed = false) {\n    this.#abortDelayedCleanup();\n\n    if (!this.#pendingCleanup || this.destroyed) {\n      return false;\n    }\n    if (delayed) {\n      this.#delayedCleanupTimeout = setTimeout(() => {\n        this.#delayedCleanupTimeout = null;\n        this.#tryCleanup(/* delayed = */ false);\n      }, DELAYED_CLEANUP_TIMEOUT);\n\n      return false;\n    }\n    for (const { renderTasks, operatorList } of this._intentStates.values()) {\n      if (renderTasks.size > 0 || !operatorList.lastChunk) {\n        return false;\n      }\n    }\n    this._intentStates.clear();\n    this.objs.clear();\n    this.#pendingCleanup = false;\n    return true;\n  }\n\n  #abortDelayedCleanup() {\n    if (this.#delayedCleanupTimeout) {\n      clearTimeout(this.#delayedCleanupTimeout);\n      this.#delayedCleanupTimeout = null;\n    }\n  }\n\n  /**\n   * @private\n   */\n  _startRenderPage(transparency, cacheKey) {\n    const intentState = this._intentStates.get(cacheKey);\n    if (!intentState) {\n      return; // Rendering was cancelled.\n    }\n    this._stats?.timeEnd(\"Page Request\");\n\n    // TODO Refactor RenderPageRequest to separate rendering\n    // and operator list logic\n    intentState.displayReadyCapability?.resolve(transparency);\n  }\n\n  /**\n   * @private\n   */\n  _renderPageChunk(operatorListChunk, intentState) {\n    // Add the new chunk to the current operator list.\n    for (let i = 0, ii = operatorListChunk.length; i < ii; i++) {\n      intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n      intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);\n    }\n    intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n    intentState.operatorList.separateAnnots = operatorListChunk.separateAnnots;\n\n    // Notify all the rendering tasks there are more operators to be consumed.\n    for (const internalRenderTask of intentState.renderTasks) {\n      internalRenderTask.operatorListChanged();\n    }\n\n    if (operatorListChunk.lastChunk) {\n      this.#tryCleanup(/* delayed = */ true);\n    }\n  }\n\n  /**\n   * @private\n   */\n  _pumpOperatorList({\n    renderingIntent,\n    cacheKey,\n    annotationStorageSerializable,\n  }) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        Number.isInteger(renderingIntent) && renderingIntent > 0,\n        '_pumpOperatorList: Expected valid \"renderingIntent\" argument.'\n      );\n    }\n    const { map, transfers } = annotationStorageSerializable;\n\n    const readableStream = this._transport.messageHandler.sendWithStream(\n      \"GetOperatorList\",\n      {\n        pageIndex: this._pageIndex,\n        intent: renderingIntent,\n        cacheKey,\n        annotationStorage: map,\n      },\n      transfers\n    );\n    const reader = readableStream.getReader();\n\n    const intentState = this._intentStates.get(cacheKey);\n    intentState.streamReader = reader;\n\n    const pump = () => {\n      reader.read().then(\n        ({ value, done }) => {\n          if (done) {\n            intentState.streamReader = null;\n            return;\n          }\n          if (this._transport.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          this._renderPageChunk(value, intentState);\n          pump();\n        },\n        reason => {\n          intentState.streamReader = null;\n\n          if (this._transport.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          if (intentState.operatorList) {\n            // Mark operator list as complete.\n            intentState.operatorList.lastChunk = true;\n\n            for (const internalRenderTask of intentState.renderTasks) {\n              internalRenderTask.operatorListChanged();\n            }\n            this.#tryCleanup(/* delayed = */ true);\n          }\n\n          if (intentState.displayReadyCapability) {\n            intentState.displayReadyCapability.reject(reason);\n          } else if (intentState.opListReadCapability) {\n            intentState.opListReadCapability.reject(reason);\n          } else {\n            throw reason;\n          }\n        }\n      );\n    };\n    pump();\n  }\n\n  /**\n   * @private\n   */\n  _abortOperatorList({ intentState, reason, force = false }) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        reason instanceof Error,\n        '_abortOperatorList: Expected valid \"reason\" argument.'\n      );\n    }\n\n    if (!intentState.streamReader) {\n      return;\n    }\n    // Ensure that a pending `streamReader` cancel timeout is always aborted.\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n\n    if (!force) {\n      // Ensure that an Error occurring in *only* one `InternalRenderTask`, e.g.\n      // multiple render() calls on the same canvas, won't break all rendering.\n      if (intentState.renderTasks.size > 0) {\n        return;\n      }\n      // Don't immediately abort parsing on the worker-thread when rendering is\n      // cancelled, since that will unnecessarily delay re-rendering when (for\n      // partially parsed pages) e.g. zooming/rotation occurs in the viewer.\n      if (reason instanceof RenderingCancelledException) {\n        let delay = RENDERING_CANCELLED_TIMEOUT;\n        if (reason.extraDelay > 0 && reason.extraDelay < /* ms = */ 1000) {\n          // Above, we prevent the total delay from becoming arbitrarily large.\n          delay += reason.extraDelay;\n        }\n\n        intentState.streamReaderCancelTimeout = setTimeout(() => {\n          intentState.streamReaderCancelTimeout = null;\n          this._abortOperatorList({ intentState, reason, force: true });\n        }, delay);\n        return;\n      }\n    }\n    intentState.streamReader\n      .cancel(new AbortException(reason.message))\n      .catch(() => {\n        // Avoid \"Uncaught promise\" messages in the console.\n      });\n    intentState.streamReader = null;\n\n    if (this._transport.destroyed) {\n      return; // Ignore any pending requests if the worker was terminated.\n    }\n    // Remove the current `intentState`, since a cancelled `getOperatorList`\n    // call on the worker-thread cannot be re-started...\n    for (const [curCacheKey, curIntentState] of this._intentStates) {\n      if (curIntentState === intentState) {\n        this._intentStates.delete(curCacheKey);\n        break;\n      }\n    }\n    // ... and force clean-up to ensure that any old state is always removed.\n    this.cleanup();\n  }\n\n  /**\n   * @type {StatTimer | null} Returns page stats, if enabled; returns `null`\n   *   otherwise.\n   */\n  get stats() {\n    return this._stats;\n  }\n}\n\nclass LoopbackPort {\n  #listeners = new Set();\n\n  #deferred = Promise.resolve();\n\n  postMessage(obj, transfer) {\n    const event = {\n      data: structuredClone(\n        obj,\n        (typeof PDFJSDev === \"undefined\" ||\n          PDFJSDev.test(\"SKIP_BABEL || TESTING\")) &&\n          transfer\n          ? { transfer }\n          : null\n      ),\n    };\n\n    this.#deferred.then(() => {\n      for (const listener of this.#listeners) {\n        listener.call(this, event);\n      }\n    });\n  }\n\n  addEventListener(name, listener) {\n    this.#listeners.add(listener);\n  }\n\n  removeEventListener(name, listener) {\n    this.#listeners.delete(listener);\n  }\n\n  terminate() {\n    this.#listeners.clear();\n  }\n}\n\n/**\n * @typedef {Object} PDFWorkerParameters\n * @property {string} [name] - The name of the worker.\n * @property {Worker} [port] - The `workerPort` object.\n * @property {number} [verbosity] - Controls the logging level;\n *   the constants from {@link VerbosityLevel} should be used.\n */\n\nconst PDFWorkerUtil = {\n  isWorkerDisabled: false,\n  fallbackWorkerSrc: null,\n  fakeWorkerId: 0,\n};\nif (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) {\n  // eslint-disable-next-line no-undef\n  if (isNodeJS && typeof __non_webpack_require__ === \"function\") {\n    // Workers aren't supported in Node.js, force-disabling them there.\n    PDFWorkerUtil.isWorkerDisabled = true;\n\n    PDFWorkerUtil.fallbackWorkerSrc = PDFJSDev.test(\"LIB\")\n      ? \"../pdf.worker.js\"\n      : \"./pdf.worker.js\";\n  } else if (typeof document === \"object\") {\n    const pdfjsFilePath = document?.currentScript?.src;\n    if (pdfjsFilePath) {\n      PDFWorkerUtil.fallbackWorkerSrc = pdfjsFilePath.replace(\n        /(\\.(?:min\\.)?js)(\\?.*)?$/i,\n        \".worker$1$2\"\n      );\n    }\n  }\n\n  // Check if URLs have the same origin. For non-HTTP based URLs, returns false.\n  PDFWorkerUtil.isSameOrigin = function (baseUrl, otherUrl) {\n    let base;\n    try {\n      base = new URL(baseUrl);\n      if (!base.origin || base.origin === \"null\") {\n        return false; // non-HTTP url\n      }\n    } catch {\n      return false;\n    }\n\n    const other = new URL(otherUrl, base);\n    return base.origin === other.origin;\n  };\n\n  PDFWorkerUtil.createCDNWrapper = function (url) {\n    // We will rely on blob URL's property to specify origin.\n    // We want this function to fail in case if createObjectURL or Blob do not\n    // exist or fail for some reason -- our Worker creation will fail anyway.\n    const wrapper = `importScripts(\"${url}\");`;\n    return URL.createObjectURL(new Blob([wrapper]));\n  };\n}\n\n/**\n * PDF.js web worker abstraction that controls the instantiation of PDF\n * documents. Message handlers are used to pass information from the main\n * thread to the worker thread and vice versa. If the creation of a web\n * worker is not possible, a \"fake\" worker will be used instead.\n *\n * @param {PDFWorkerParameters} params - The worker initialization parameters.\n */\nclass PDFWorker {\n  static #workerPorts;\n\n  constructor({\n    name = null,\n    port = null,\n    verbosity = getVerbosityLevel(),\n  } = {}) {\n    this.name = name;\n    this.destroyed = false;\n    this.verbosity = verbosity;\n\n    this._readyCapability = new PromiseCapability();\n    this._port = null;\n    this._webWorker = null;\n    this._messageHandler = null;\n\n    if (\n      (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"MOZCENTRAL\")) &&\n      port\n    ) {\n      if (PDFWorker.#workerPorts?.has(port)) {\n        throw new Error(\"Cannot use more than one PDFWorker per port.\");\n      }\n      (PDFWorker.#workerPorts ||= new WeakMap()).set(port, this);\n      this._initializeFromPort(port);\n      return;\n    }\n    this._initialize();\n  }\n\n  /**\n   * Promise for worker initialization completion.\n   * @type {Promise<void>}\n   */\n  get promise() {\n    return this._readyCapability.promise;\n  }\n\n  /**\n   * The current `workerPort`, when it exists.\n   * @type {Worker}\n   */\n  get port() {\n    return this._port;\n  }\n\n  /**\n   * The current MessageHandler-instance.\n   * @type {MessageHandler}\n   */\n  get messageHandler() {\n    return this._messageHandler;\n  }\n\n  _initializeFromPort(port) {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n      throw new Error(\"Not implemented: _initializeFromPort\");\n    }\n    this._port = port;\n    this._messageHandler = new MessageHandler(\"main\", \"worker\", port);\n    this._messageHandler.on(\"ready\", function () {\n      // Ignoring \"ready\" event -- MessageHandler should already be initialized\n      // and ready to accept messages.\n    });\n    this._readyCapability.resolve();\n    // Send global setting, e.g. verbosity level.\n    this._messageHandler.send(\"configure\", {\n      verbosity: this.verbosity,\n    });\n  }\n\n  _initialize() {\n    // If worker support isn't disabled explicit and the browser has worker\n    // support, create a new web worker and test if it/the browser fulfills\n    // all requirements to run parts of pdf.js in a web worker.\n    // Right now, the requirement is, that an Uint8Array is still an\n    // Uint8Array as it arrives on the worker. (Chrome added this with v.15.)\n    if (\n      !PDFWorkerUtil.isWorkerDisabled &&\n      !PDFWorker._mainThreadWorkerMessageHandler\n    ) {\n      let { workerSrc } = PDFWorker;\n\n      try {\n        // Wraps workerSrc path into blob URL, if the former does not belong\n        // to the same origin.\n        if (\n          typeof PDFJSDev !== \"undefined\" &&\n          PDFJSDev.test(\"GENERIC\") &&\n          !PDFWorkerUtil.isSameOrigin(window.location.href, workerSrc)\n        ) {\n          workerSrc = PDFWorkerUtil.createCDNWrapper(\n            new URL(workerSrc, window.location).href\n          );\n        }\n\n        const worker =\n          typeof PDFJSDev === \"undefined\" &&\n          !workerSrc.endsWith(\"/build/pdf.worker.js\")\n            ? new Worker(workerSrc, { type: \"module\" })\n            : new Worker(workerSrc);\n        const messageHandler = new MessageHandler(\"main\", \"worker\", worker);\n        const terminateEarly = () => {\n          worker.removeEventListener(\"error\", onWorkerError);\n          messageHandler.destroy();\n          worker.terminate();\n          if (this.destroyed) {\n            this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n          } else {\n            // Fall back to fake worker if the termination is caused by an\n            // error (e.g. NetworkError / SecurityError).\n            this._setupFakeWorker();\n          }\n        };\n\n        const onWorkerError = () => {\n          if (!this._webWorker) {\n            // Worker failed to initialize due to an error. Clean up and fall\n            // back to the fake worker.\n            terminateEarly();\n          }\n        };\n        worker.addEventListener(\"error\", onWorkerError);\n\n        messageHandler.on(\"test\", data => {\n          worker.removeEventListener(\"error\", onWorkerError);\n          if (this.destroyed) {\n            terminateEarly();\n            return; // worker was destroyed\n          }\n          if (data) {\n            this._messageHandler = messageHandler;\n            this._port = worker;\n            this._webWorker = worker;\n\n            this._readyCapability.resolve();\n            // Send global setting, e.g. verbosity level.\n            messageHandler.send(\"configure\", {\n              verbosity: this.verbosity,\n            });\n          } else {\n            this._setupFakeWorker();\n            messageHandler.destroy();\n            worker.terminate();\n          }\n        });\n\n        messageHandler.on(\"ready\", data => {\n          worker.removeEventListener(\"error\", onWorkerError);\n          if (this.destroyed) {\n            terminateEarly();\n            return; // worker was destroyed\n          }\n          try {\n            sendTest();\n          } catch {\n            // We need fallback to a faked worker.\n            this._setupFakeWorker();\n          }\n        });\n\n        const sendTest = () => {\n          const testObj = new Uint8Array();\n          // Ensure that we can use `postMessage` transfers.\n          messageHandler.send(\"test\", testObj, [testObj.buffer]);\n        };\n\n        // It might take time for the worker to initialize. We will try to send\n        // the \"test\" message immediately, and once the \"ready\" message arrives.\n        // The worker shall process only the first received \"test\" message.\n        sendTest();\n        return;\n      } catch {\n        info(\"The worker has been disabled.\");\n      }\n    }\n    // Either workers are disabled, not supported or have thrown an exception.\n    // Thus, we fallback to a faked worker.\n    this._setupFakeWorker();\n  }\n\n  _setupFakeWorker() {\n    if (!PDFWorkerUtil.isWorkerDisabled) {\n      warn(\"Setting up fake worker.\");\n      PDFWorkerUtil.isWorkerDisabled = true;\n    }\n\n    PDFWorker._setupFakeWorkerGlobal\n      .then(WorkerMessageHandler => {\n        if (this.destroyed) {\n          this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n          return;\n        }\n        const port = new LoopbackPort();\n        this._port = port;\n\n        // All fake workers use the same port, making id unique.\n        const id = `fake${PDFWorkerUtil.fakeWorkerId++}`;\n\n        // If the main thread is our worker, setup the handling for the\n        // messages -- the main thread sends to it self.\n        const workerHandler = new MessageHandler(id + \"_worker\", id, port);\n        WorkerMessageHandler.setup(workerHandler, port);\n\n        const messageHandler = new MessageHandler(id, id + \"_worker\", port);\n        this._messageHandler = messageHandler;\n        this._readyCapability.resolve();\n        // Send global setting, e.g. verbosity level.\n        messageHandler.send(\"configure\", {\n          verbosity: this.verbosity,\n        });\n      })\n      .catch(reason => {\n        this._readyCapability.reject(\n          new Error(`Setting up fake worker failed: \"${reason.message}\".`)\n        );\n      });\n  }\n\n  /**\n   * Destroys the worker instance.\n   */\n  destroy() {\n    this.destroyed = true;\n    if (this._webWorker) {\n      // We need to terminate only web worker created resource.\n      this._webWorker.terminate();\n      this._webWorker = null;\n    }\n    PDFWorker.#workerPorts?.delete(this._port);\n    this._port = null;\n    if (this._messageHandler) {\n      this._messageHandler.destroy();\n      this._messageHandler = null;\n    }\n  }\n\n  /**\n   * @param {PDFWorkerParameters} params - The worker initialization parameters.\n   */\n  static fromPort(params) {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n      throw new Error(\"Not implemented: fromPort\");\n    }\n    if (!params?.port) {\n      throw new Error(\"PDFWorker.fromPort - invalid method signature.\");\n    }\n    const cachedPort = this.#workerPorts?.get(params.port);\n    if (cachedPort) {\n      if (cachedPort._pendingDestroy) {\n        throw new Error(\n          \"PDFWorker.fromPort - the worker is being destroyed.\\n\" +\n            \"Please remember to await `PDFDocumentLoadingTask.destroy()`-calls.\"\n        );\n      }\n      return cachedPort;\n    }\n    return new PDFWorker(params);\n  }\n\n  /**\n   * The current `workerSrc`, when it exists.\n   * @type {string}\n   */\n  static get workerSrc() {\n    if (GlobalWorkerOptions.workerSrc) {\n      return GlobalWorkerOptions.workerSrc;\n    }\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) &&\n      PDFWorkerUtil.fallbackWorkerSrc !== null\n    ) {\n      if (!isNodeJS) {\n        deprecated('No \"GlobalWorkerOptions.workerSrc\" specified.');\n      }\n      return PDFWorkerUtil.fallbackWorkerSrc;\n    }\n    throw new Error('No \"GlobalWorkerOptions.workerSrc\" specified.');\n  }\n\n  static get _mainThreadWorkerMessageHandler() {\n    try {\n      return globalThis.pdfjsWorker?.WorkerMessageHandler || null;\n    } catch {\n      return null;\n    }\n  }\n\n  // Loads worker code into the main-thread.\n  static get _setupFakeWorkerGlobal() {\n    const loader = async () => {\n      const mainWorkerMessageHandler = this._mainThreadWorkerMessageHandler;\n\n      if (mainWorkerMessageHandler) {\n        // The worker was already loaded using e.g. a `<script>` tag.\n        return mainWorkerMessageHandler;\n      }\n      if (typeof PDFJSDev === \"undefined\") {\n        const worker = await import(\"pdfjs/pdf.worker.js\");\n        return worker.WorkerMessageHandler;\n      }\n      if (\n        PDFJSDev.test(\"GENERIC\") &&\n        isNodeJS &&\n        // eslint-disable-next-line no-undef\n        typeof __non_webpack_require__ === \"function\"\n      ) {\n        // Since bundlers, such as Webpack, cannot be told to leave `require`\n        // statements alone we are thus forced to jump through hoops in order\n        // to prevent `Critical dependency: ...` warnings in third-party\n        // deployments of the built `pdf.js`/`pdf.worker.js` files; see\n        // https://github.com/webpack/webpack/issues/8826\n        //\n        // The following hack is based on the assumption that code running in\n        // Node.js won't ever be affected by e.g. Content Security Policies that\n        // prevent the use of `eval`. If that ever occurs, we should revert this\n        // to a normal `__non_webpack_require__` statement and simply document\n        // the Webpack warnings instead (telling users to ignore them).\n        //\n        // eslint-disable-next-line no-eval\n        const worker = eval(\"require\")(this.workerSrc);\n        return worker.WorkerMessageHandler;\n      }\n      await loadScript(this.workerSrc);\n      return window.pdfjsWorker.WorkerMessageHandler;\n    };\n\n    return shadow(this, \"_setupFakeWorkerGlobal\", loader());\n  }\n}\n\n/**\n * For internal use only.\n * @ignore\n */\nclass WorkerTransport {\n  #methodPromises = new Map();\n\n  #pageCache = new Map();\n\n  #pagePromises = new Map();\n\n  #passwordCapability = null;\n\n  constructor(messageHandler, loadingTask, networkStream, params, factory) {\n    this.messageHandler = messageHandler;\n    this.loadingTask = loadingTask;\n    this.commonObjs = new PDFObjects();\n    this.fontLoader = new FontLoader({\n      ownerDocument: params.ownerDocument,\n      styleElement: params.styleElement,\n    });\n    this._params = params;\n\n    this.canvasFactory = factory.canvasFactory;\n    this.filterFactory = factory.filterFactory;\n    this.cMapReaderFactory = factory.cMapReaderFactory;\n    this.standardFontDataFactory = factory.standardFontDataFactory;\n\n    this.destroyed = false;\n    this.destroyCapability = null;\n\n    this._networkStream = networkStream;\n    this._fullReader = null;\n    this._lastProgress = null;\n    this.downloadInfoCapability = new PromiseCapability();\n\n    this.setupMessageHandler();\n\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      // For testing purposes.\n      Object.defineProperty(this, \"getXFADatasets\", {\n        value: () => {\n          return this.messageHandler.sendWithPromise(\"GetXFADatasets\", null);\n        },\n      });\n      Object.defineProperty(this, \"getXRefPrevValue\", {\n        value: () => {\n          return this.messageHandler.sendWithPromise(\"GetXRefPrevValue\", null);\n        },\n      });\n      Object.defineProperty(this, \"getAnnotArray\", {\n        value: pageIndex => {\n          return this.messageHandler.sendWithPromise(\"GetAnnotArray\", {\n            pageIndex,\n          });\n        },\n      });\n    }\n  }\n\n  #cacheSimpleMethod(name, data = null) {\n    const cachedPromise = this.#methodPromises.get(name);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(name, data);\n\n    this.#methodPromises.set(name, promise);\n    return promise;\n  }\n\n  get annotationStorage() {\n    return shadow(this, \"annotationStorage\", new AnnotationStorage());\n  }\n\n  getRenderingIntent(\n    intent,\n    annotationMode = AnnotationMode.ENABLE,\n    printAnnotationStorage = null,\n    isOpList = false\n  ) {\n    let renderingIntent = RenderingIntentFlag.DISPLAY; // Default value.\n    let annotationStorageSerializable = SerializableEmpty;\n\n    switch (intent) {\n      case \"any\":\n        renderingIntent = RenderingIntentFlag.ANY;\n        break;\n      case \"display\":\n        break;\n      case \"print\":\n        renderingIntent = RenderingIntentFlag.PRINT;\n        break;\n      default:\n        warn(`getRenderingIntent - invalid intent: ${intent}`);\n    }\n\n    switch (annotationMode) {\n      case AnnotationMode.DISABLE:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_DISABLE;\n        break;\n      case AnnotationMode.ENABLE:\n        break;\n      case AnnotationMode.ENABLE_FORMS:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_FORMS;\n        break;\n      case AnnotationMode.ENABLE_STORAGE:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_STORAGE;\n\n        const annotationStorage =\n          renderingIntent & RenderingIntentFlag.PRINT &&\n          printAnnotationStorage instanceof PrintAnnotationStorage\n            ? printAnnotationStorage\n            : this.annotationStorage;\n\n        annotationStorageSerializable = annotationStorage.serializable;\n        break;\n      default:\n        warn(`getRenderingIntent - invalid annotationMode: ${annotationMode}`);\n    }\n\n    if (isOpList) {\n      renderingIntent += RenderingIntentFlag.OPLIST;\n    }\n\n    return {\n      renderingIntent,\n      cacheKey: `${renderingIntent}_${annotationStorageSerializable.hash}`,\n      annotationStorageSerializable,\n    };\n  }\n\n  destroy() {\n    if (this.destroyCapability) {\n      return this.destroyCapability.promise;\n    }\n\n    this.destroyed = true;\n    this.destroyCapability = new PromiseCapability();\n\n    this.#passwordCapability?.reject(\n      new Error(\"Worker was destroyed during onPassword callback\")\n    );\n\n    const waitOn = [];\n    // We need to wait for all renderings to be completed, e.g.\n    // timeout/rAF can take a long time.\n    for (const page of this.#pageCache.values()) {\n      waitOn.push(page._destroy());\n    }\n    this.#pageCache.clear();\n    this.#pagePromises.clear();\n    // Allow `AnnotationStorage`-related clean-up when destroying the document.\n    if (this.hasOwnProperty(\"annotationStorage\")) {\n      this.annotationStorage.resetModified();\n    }\n    // We also need to wait for the worker to finish its long running tasks.\n    const terminated = this.messageHandler.sendWithPromise(\"Terminate\", null);\n    waitOn.push(terminated);\n\n    Promise.all(waitOn).then(() => {\n      this.commonObjs.clear();\n      this.fontLoader.clear();\n      this.#methodPromises.clear();\n      this.filterFactory.destroy();\n\n      this._networkStream?.cancelAllRequests(\n        new AbortException(\"Worker was terminated.\")\n      );\n\n      if (this.messageHandler) {\n        this.messageHandler.destroy();\n        this.messageHandler = null;\n      }\n      this.destroyCapability.resolve();\n    }, this.destroyCapability.reject);\n    return this.destroyCapability.promise;\n  }\n\n  setupMessageHandler() {\n    const { messageHandler, loadingTask } = this;\n\n    messageHandler.on(\"GetReader\", (data, sink) => {\n      assert(\n        this._networkStream,\n        \"GetReader - no `IPDFStream` instance available.\"\n      );\n      this._fullReader = this._networkStream.getFullReader();\n      this._fullReader.onProgress = evt => {\n        this._lastProgress = {\n          loaded: evt.loaded,\n          total: evt.total,\n        };\n      };\n      sink.onPull = () => {\n        this._fullReader\n          .read()\n          .then(function ({ value, done }) {\n            if (done) {\n              sink.close();\n              return;\n            }\n            assert(\n              value instanceof ArrayBuffer,\n              \"GetReader - expected an ArrayBuffer.\"\n            );\n            // Enqueue data chunk into sink, and transfer it\n            // to other side as `Transferable` object.\n            sink.enqueue(new Uint8Array(value), 1, [value]);\n          })\n          .catch(reason => {\n            sink.error(reason);\n          });\n      };\n\n      sink.onCancel = reason => {\n        this._fullReader.cancel(reason);\n\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          throw readyReason;\n        });\n      };\n    });\n\n    messageHandler.on(\"ReaderHeadersReady\", data => {\n      const headersCapability = new PromiseCapability();\n      const fullReader = this._fullReader;\n      fullReader.headersReady.then(() => {\n        // If stream or range are disabled, it's our only way to report\n        // loading progress.\n        if (!fullReader.isStreamingSupported || !fullReader.isRangeSupported) {\n          if (this._lastProgress) {\n            loadingTask.onProgress?.(this._lastProgress);\n          }\n          fullReader.onProgress = evt => {\n            loadingTask.onProgress?.({\n              loaded: evt.loaded,\n              total: evt.total,\n            });\n          };\n        }\n\n        headersCapability.resolve({\n          isStreamingSupported: fullReader.isStreamingSupported,\n          isRangeSupported: fullReader.isRangeSupported,\n          contentLength: fullReader.contentLength,\n        });\n      }, headersCapability.reject);\n\n      return headersCapability.promise;\n    });\n\n    messageHandler.on(\"GetRangeReader\", (data, sink) => {\n      assert(\n        this._networkStream,\n        \"GetRangeReader - no `IPDFStream` instance available.\"\n      );\n      const rangeReader = this._networkStream.getRangeReader(\n        data.begin,\n        data.end\n      );\n\n      // When streaming is enabled, it's possible that the data requested here\n      // has already been fetched via the `_fullRequestReader` implementation.\n      // However, given that the PDF data is loaded asynchronously on the\n      // main-thread and then sent via `postMessage` to the worker-thread,\n      // it may not have been available during parsing (hence the attempt to\n      // use range requests here).\n      //\n      // To avoid wasting time and resources here, we'll thus *not* dispatch\n      // range requests if the data was already loaded but has not been sent to\n      // the worker-thread yet (which will happen via the `_fullRequestReader`).\n      if (!rangeReader) {\n        sink.close();\n        return;\n      }\n\n      sink.onPull = () => {\n        rangeReader\n          .read()\n          .then(function ({ value, done }) {\n            if (done) {\n              sink.close();\n              return;\n            }\n            assert(\n              value instanceof ArrayBuffer,\n              \"GetRangeReader - expected an ArrayBuffer.\"\n            );\n            sink.enqueue(new Uint8Array(value), 1, [value]);\n          })\n          .catch(reason => {\n            sink.error(reason);\n          });\n      };\n\n      sink.onCancel = reason => {\n        rangeReader.cancel(reason);\n\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          throw readyReason;\n        });\n      };\n    });\n\n    messageHandler.on(\"GetDoc\", ({ pdfInfo }) => {\n      this._numPages = pdfInfo.numPages;\n      this._htmlForXfa = pdfInfo.htmlForXfa;\n      delete pdfInfo.htmlForXfa;\n      loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo, this));\n    });\n\n    messageHandler.on(\"DocException\", function (ex) {\n      let reason;\n      switch (ex.name) {\n        case \"PasswordException\":\n          reason = new PasswordException(ex.message, ex.code);\n          break;\n        case \"InvalidPDFException\":\n          reason = new InvalidPDFException(ex.message);\n          break;\n        case \"MissingPDFException\":\n          reason = new MissingPDFException(ex.message);\n          break;\n        case \"UnexpectedResponseException\":\n          reason = new UnexpectedResponseException(ex.message, ex.status);\n          break;\n        case \"UnknownErrorException\":\n          reason = new UnknownErrorException(ex.message, ex.details);\n          break;\n        default:\n          unreachable(\"DocException - expected a valid Error.\");\n      }\n      loadingTask._capability.reject(reason);\n    });\n\n    messageHandler.on(\"PasswordRequest\", exception => {\n      this.#passwordCapability = new PromiseCapability();\n\n      if (loadingTask.onPassword) {\n        const updatePassword = password => {\n          if (password instanceof Error) {\n            this.#passwordCapability.reject(password);\n          } else {\n            this.#passwordCapability.resolve({ password });\n          }\n        };\n        try {\n          loadingTask.onPassword(updatePassword, exception.code);\n        } catch (ex) {\n          this.#passwordCapability.reject(ex);\n        }\n      } else {\n        this.#passwordCapability.reject(\n          new PasswordException(exception.message, exception.code)\n        );\n      }\n      return this.#passwordCapability.promise;\n    });\n\n    messageHandler.on(\"DataLoaded\", data => {\n      // For consistency: Ensure that progress is always reported when the\n      // entire PDF file has been loaded, regardless of how it was fetched.\n      loadingTask.onProgress?.({\n        loaded: data.length,\n        total: data.length,\n      });\n\n      this.downloadInfoCapability.resolve(data);\n    });\n\n    messageHandler.on(\"StartRenderPage\", data => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n\n      const page = this.#pageCache.get(data.pageIndex);\n      page._startRenderPage(data.transparency, data.cacheKey);\n    });\n\n    messageHandler.on(\"commonobj\", ([id, type, exportedData]) => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n\n      if (this.commonObjs.has(id)) {\n        return;\n      }\n\n      switch (type) {\n        case \"Font\":\n          const params = this._params;\n\n          if (\"error\" in exportedData) {\n            const exportedError = exportedData.error;\n            warn(`Error during font loading: ${exportedError}`);\n            this.commonObjs.resolve(id, exportedError);\n            break;\n          }\n\n          const inspectFont =\n            params.pdfBug && globalThis.FontInspector?.enabled\n              ? (font, url) => globalThis.FontInspector.fontAdded(font, url)\n              : null;\n          const font = new FontFaceObject(exportedData, {\n            isEvalSupported: params.isEvalSupported,\n            disableFontFace: params.disableFontFace,\n            ignoreErrors: params.ignoreErrors,\n            inspectFont,\n          });\n\n          this.fontLoader\n            .bind(font)\n            .catch(reason => {\n              return messageHandler.sendWithPromise(\"FontFallback\", { id });\n            })\n            .finally(() => {\n              if (!params.fontExtraProperties && font.data) {\n                // Immediately release the `font.data` property once the font\n                // has been attached to the DOM, since it's no longer needed,\n                // rather than waiting for a `PDFDocumentProxy.cleanup` call.\n                // Since `font.data` could be very large, e.g. in some cases\n                // multiple megabytes, this will help reduce memory usage.\n                font.data = null;\n              }\n              this.commonObjs.resolve(id, font);\n            });\n          break;\n        case \"FontPath\":\n        case \"Image\":\n        case \"Pattern\":\n          this.commonObjs.resolve(id, exportedData);\n          break;\n        default:\n          throw new Error(`Got unknown common object type ${type}`);\n      }\n    });\n\n    messageHandler.on(\"obj\", ([id, pageIndex, type, imageData]) => {\n      if (this.destroyed) {\n        // Ignore any pending requests if the worker was terminated.\n        return;\n      }\n\n      const pageProxy = this.#pageCache.get(pageIndex);\n      if (pageProxy.objs.has(id)) {\n        return;\n      }\n\n      switch (type) {\n        case \"Image\":\n          pageProxy.objs.resolve(id, imageData);\n\n          // Heuristic that will allow us not to store large data.\n          if (imageData) {\n            let length;\n            if (imageData.bitmap) {\n              const { width, height } = imageData;\n              length = width * height * 4;\n            } else {\n              length = imageData.data?.length || 0;\n            }\n\n            if (length > MAX_IMAGE_SIZE_TO_CACHE) {\n              pageProxy._maybeCleanupAfterRender = true;\n            }\n          }\n          break;\n        case \"Pattern\":\n          pageProxy.objs.resolve(id, imageData);\n          break;\n        default:\n          throw new Error(`Got unknown object type ${type}`);\n      }\n    });\n\n    messageHandler.on(\"DocProgress\", data => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n      loadingTask.onProgress?.({\n        loaded: data.loaded,\n        total: data.total,\n      });\n    });\n\n    messageHandler.on(\"FetchBuiltInCMap\", data => {\n      if (this.destroyed) {\n        return Promise.reject(new Error(\"Worker was destroyed.\"));\n      }\n      if (!this.cMapReaderFactory) {\n        return Promise.reject(\n          new Error(\n            \"CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.\"\n          )\n        );\n      }\n      return this.cMapReaderFactory.fetch(data);\n    });\n\n    messageHandler.on(\"FetchStandardFontData\", data => {\n      if (this.destroyed) {\n        return Promise.reject(new Error(\"Worker was destroyed.\"));\n      }\n      if (!this.standardFontDataFactory) {\n        return Promise.reject(\n          new Error(\n            \"StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.\"\n          )\n        );\n      }\n      return this.standardFontDataFactory.fetch(data);\n    });\n  }\n\n  getData() {\n    return this.messageHandler.sendWithPromise(\"GetData\", null);\n  }\n\n  saveDocument() {\n    if (this.annotationStorage.size <= 0) {\n      warn(\n        \"saveDocument called while `annotationStorage` is empty, \" +\n          \"please use the getData-method instead.\"\n      );\n    }\n    const { map, transfers } = this.annotationStorage.serializable;\n\n    return this.messageHandler\n      .sendWithPromise(\n        \"SaveDocument\",\n        {\n          isPureXfa: !!this._htmlForXfa,\n          numPages: this._numPages,\n          annotationStorage: map,\n          filename: this._fullReader?.filename ?? null,\n        },\n        transfers\n      )\n      .finally(() => {\n        this.annotationStorage.resetModified();\n      });\n  }\n\n  getPage(pageNumber) {\n    if (\n      !Number.isInteger(pageNumber) ||\n      pageNumber <= 0 ||\n      pageNumber > this._numPages\n    ) {\n      return Promise.reject(new Error(\"Invalid page request.\"));\n    }\n\n    const pageIndex = pageNumber - 1,\n      cachedPromise = this.#pagePromises.get(pageIndex);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler\n      .sendWithPromise(\"GetPage\", {\n        pageIndex,\n      })\n      .then(pageInfo => {\n        if (this.destroyed) {\n          throw new Error(\"Transport destroyed\");\n        }\n        const page = new PDFPageProxy(\n          pageIndex,\n          pageInfo,\n          this,\n          this._params.pdfBug\n        );\n        this.#pageCache.set(pageIndex, page);\n        return page;\n      });\n    this.#pagePromises.set(pageIndex, promise);\n    return promise;\n  }\n\n  getPageIndex(ref) {\n    if (\n      typeof ref !== \"object\" ||\n      ref === null ||\n      !Number.isInteger(ref.num) ||\n      ref.num < 0 ||\n      !Number.isInteger(ref.gen) ||\n      ref.gen < 0\n    ) {\n      return Promise.reject(new Error(\"Invalid pageIndex request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetPageIndex\", {\n      num: ref.num,\n      gen: ref.gen,\n    });\n  }\n\n  getAnnotations(pageIndex, intent) {\n    return this.messageHandler.sendWithPromise(\"GetAnnotations\", {\n      pageIndex,\n      intent,\n    });\n  }\n\n  getFieldObjects() {\n    return this.#cacheSimpleMethod(\"GetFieldObjects\");\n  }\n\n  hasJSActions() {\n    return this.#cacheSimpleMethod(\"HasJSActions\");\n  }\n\n  getCalculationOrderIds() {\n    return this.messageHandler.sendWithPromise(\"GetCalculationOrderIds\", null);\n  }\n\n  getDestinations() {\n    return this.messageHandler.sendWithPromise(\"GetDestinations\", null);\n  }\n\n  getDestination(id) {\n    if (typeof id !== \"string\") {\n      return Promise.reject(new Error(\"Invalid destination request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetDestination\", {\n      id,\n    });\n  }\n\n  getPageLabels() {\n    return this.messageHandler.sendWithPromise(\"GetPageLabels\", null);\n  }\n\n  getPageLayout() {\n    return this.messageHandler.sendWithPromise(\"GetPageLayout\", null);\n  }\n\n  getPageMode() {\n    return this.messageHandler.sendWithPromise(\"GetPageMode\", null);\n  }\n\n  getViewerPreferences() {\n    return this.messageHandler.sendWithPromise(\"GetViewerPreferences\", null);\n  }\n\n  getOpenAction() {\n    return this.messageHandler.sendWithPromise(\"GetOpenAction\", null);\n  }\n\n  getAttachments() {\n    return this.messageHandler.sendWithPromise(\"GetAttachments\", null);\n  }\n\n  getDocJSActions() {\n    return this.#cacheSimpleMethod(\"GetDocJSActions\");\n  }\n\n  getPageJSActions(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetPageJSActions\", {\n      pageIndex,\n    });\n  }\n\n  getStructTree(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetStructTree\", {\n      pageIndex,\n    });\n  }\n\n  getOutline() {\n    return this.messageHandler.sendWithPromise(\"GetOutline\", null);\n  }\n\n  getOptionalContentConfig() {\n    return this.messageHandler\n      .sendWithPromise(\"GetOptionalContentConfig\", null)\n      .then(results => {\n        return new OptionalContentConfig(results);\n      });\n  }\n\n  getPermissions() {\n    return this.messageHandler.sendWithPromise(\"GetPermissions\", null);\n  }\n\n  getMetadata() {\n    const name = \"GetMetadata\",\n      cachedPromise = this.#methodPromises.get(name);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler\n      .sendWithPromise(name, null)\n      .then(results => {\n        return {\n          info: results[0],\n          metadata: results[1] ? new Metadata(results[1]) : null,\n          contentDispositionFilename: this._fullReader?.filename ?? null,\n          contentLength: this._fullReader?.contentLength ?? null,\n        };\n      });\n    this.#methodPromises.set(name, promise);\n    return promise;\n  }\n\n  getMarkInfo() {\n    return this.messageHandler.sendWithPromise(\"GetMarkInfo\", null);\n  }\n\n  async startCleanup(keepLoadedFonts = false) {\n    if (this.destroyed) {\n      return; // No need to manually clean-up when destruction has started.\n    }\n    await this.messageHandler.sendWithPromise(\"Cleanup\", null);\n\n    for (const page of this.#pageCache.values()) {\n      const cleanupSuccessful = page.cleanup();\n\n      if (!cleanupSuccessful) {\n        throw new Error(\n          `startCleanup: Page ${page.pageNumber} is currently rendering.`\n        );\n      }\n    }\n    this.commonObjs.clear();\n    if (!keepLoadedFonts) {\n      this.fontLoader.clear();\n    }\n    this.#methodPromises.clear();\n    this.filterFactory.destroy(/* keepHCM = */ true);\n  }\n\n  get loadingParams() {\n    const { disableAutoFetch, enableXfa } = this._params;\n    return shadow(this, \"loadingParams\", {\n      disableAutoFetch,\n      enableXfa,\n    });\n  }\n}\n\n/**\n * A PDF document and page is built of many objects. E.g. there are objects for\n * fonts, images, rendering code, etc. These objects may get processed inside of\n * a worker. This class implements some basic methods to manage these objects.\n */\nclass PDFObjects {\n  #objs = Object.create(null);\n\n  /**\n   * Ensures there is an object defined for `objId`.\n   *\n   * @param {string} objId\n   * @returns {Object}\n   */\n  #ensureObj(objId) {\n    return (this.#objs[objId] ||= {\n      capability: new PromiseCapability(),\n      data: null,\n    });\n  }\n\n  /**\n   * If called *without* callback, this returns the data of `objId` but the\n   * object needs to be resolved. If it isn't, this method throws.\n   *\n   * If called *with* a callback, the callback is called with the data of the\n   * object once the object is resolved. That means, if you call this method\n   * and the object is already resolved, the callback gets called right away.\n   *\n   * @param {string} objId\n   * @param {function} [callback]\n   * @returns {any}\n   */\n  get(objId, callback = null) {\n    // If there is a callback, then the get can be async and the object is\n    // not required to be resolved right now.\n    if (callback) {\n      const obj = this.#ensureObj(objId);\n      obj.capability.promise.then(() => callback(obj.data));\n      return null;\n    }\n    // If there isn't a callback, the user expects to get the resolved data\n    // directly.\n    const obj = this.#objs[objId];\n    // If there isn't an object yet or the object isn't resolved, then the\n    // data isn't ready yet!\n    if (!obj?.capability.settled) {\n      throw new Error(`Requesting object that isn't resolved yet ${objId}.`);\n    }\n    return obj.data;\n  }\n\n  /**\n   * @param {string} objId\n   * @returns {boolean}\n   */\n  has(objId) {\n    const obj = this.#objs[objId];\n    return obj?.capability.settled || false;\n  }\n\n  /**\n   * Resolves the object `objId` with optional `data`.\n   *\n   * @param {string} objId\n   * @param {any} [data]\n   */\n  resolve(objId, data = null) {\n    const obj = this.#ensureObj(objId);\n    obj.data = data;\n    obj.capability.resolve();\n  }\n\n  clear() {\n    for (const objId in this.#objs) {\n      const { data } = this.#objs[objId];\n      data?.bitmap?.close(); // Release any `ImageBitmap` data.\n    }\n    this.#objs = Object.create(null);\n  }\n}\n\n/**\n * Allows controlling of the rendering tasks.\n */\nclass RenderTask {\n  #internalRenderTask = null;\n\n  constructor(internalRenderTask) {\n    this.#internalRenderTask = internalRenderTask;\n\n    /**\n     * Callback for incremental rendering -- a function that will be called\n     * each time the rendering is paused.  To continue rendering call the\n     * function that is the first argument to the callback.\n     * @type {function}\n     */\n    this.onContinue = null;\n  }\n\n  /**\n   * Promise for rendering task completion.\n   * @type {Promise<void>}\n   */\n  get promise() {\n    return this.#internalRenderTask.capability.promise;\n  }\n\n  /**\n   * Cancels the rendering task. If the task is currently rendering it will\n   * not be cancelled until graphics pauses with a timeout. The promise that\n   * this object extends will be rejected when cancelled.\n   *\n   * @param {number} [extraDelay]\n   */\n  cancel(extraDelay = 0) {\n    this.#internalRenderTask.cancel(/* error = */ null, extraDelay);\n  }\n\n  /**\n   * Whether form fields are rendered separately from the main operatorList.\n   * @type {boolean}\n   */\n  get separateAnnots() {\n    const { separateAnnots } = this.#internalRenderTask.operatorList;\n    if (!separateAnnots) {\n      return false;\n    }\n    const { annotationCanvasMap } = this.#internalRenderTask;\n    return (\n      separateAnnots.form ||\n      (separateAnnots.canvas && annotationCanvasMap?.size > 0)\n    );\n  }\n}\n\n/**\n * For internal use only.\n * @ignore\n */\nclass InternalRenderTask {\n  static #canvasInUse = new WeakSet();\n\n  constructor({\n    callback,\n    params,\n    objs,\n    commonObjs,\n    annotationCanvasMap,\n    operatorList,\n    pageIndex,\n    canvasFactory,\n    filterFactory,\n    useRequestAnimationFrame = false,\n    pdfBug = false,\n    pageColors = null,\n  }) {\n    this.callback = callback;\n    this.params = params;\n    this.objs = objs;\n    this.commonObjs = commonObjs;\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.operatorListIdx = null;\n    this.operatorList = operatorList;\n    this._pageIndex = pageIndex;\n    this.canvasFactory = canvasFactory;\n    this.filterFactory = filterFactory;\n    this._pdfBug = pdfBug;\n    this.pageColors = pageColors;\n\n    this.running = false;\n    this.graphicsReadyCallback = null;\n    this.graphicsReady = false;\n    this._useRequestAnimationFrame =\n      useRequestAnimationFrame === true && typeof window !== \"undefined\";\n    this.cancelled = false;\n    this.capability = new PromiseCapability();\n    this.task = new RenderTask(this);\n    // caching this-bound methods\n    this._cancelBound = this.cancel.bind(this);\n    this._continueBound = this._continue.bind(this);\n    this._scheduleNextBound = this._scheduleNext.bind(this);\n    this._nextBound = this._next.bind(this);\n    this._canvas = params.canvasContext.canvas;\n  }\n\n  get completed() {\n    return this.capability.promise.catch(function () {\n      // Ignoring errors, since we only want to know when rendering is\n      // no longer pending.\n    });\n  }\n\n  initializeGraphics({ transparency = false, optionalContentConfig }) {\n    if (this.cancelled) {\n      return;\n    }\n    if (this._canvas) {\n      if (InternalRenderTask.#canvasInUse.has(this._canvas)) {\n        throw new Error(\n          \"Cannot use the same canvas during multiple render() operations. \" +\n            \"Use different canvas or ensure previous operations were \" +\n            \"cancelled or completed.\"\n        );\n      }\n      InternalRenderTask.#canvasInUse.add(this._canvas);\n    }\n\n    if (this._pdfBug && globalThis.StepperManager?.enabled) {\n      this.stepper = globalThis.StepperManager.create(this._pageIndex);\n      this.stepper.init(this.operatorList);\n      this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n    }\n    const { canvasContext, viewport, transform, background } = this.params;\n\n    this.gfx = new CanvasGraphics(\n      canvasContext,\n      this.commonObjs,\n      this.objs,\n      this.canvasFactory,\n      this.filterFactory,\n      { optionalContentConfig },\n      this.annotationCanvasMap,\n      this.pageColors\n    );\n    this.gfx.beginDrawing({\n      transform,\n      viewport,\n      transparency,\n      background,\n    });\n    this.operatorListIdx = 0;\n    this.graphicsReady = true;\n    this.graphicsReadyCallback?.();\n  }\n\n  cancel(error = null, extraDelay = 0) {\n    this.running = false;\n    this.cancelled = true;\n    this.gfx?.endDrawing();\n    InternalRenderTask.#canvasInUse.delete(this._canvas);\n\n    this.callback(\n      error ||\n        new RenderingCancelledException(\n          `Rendering cancelled, page ${this._pageIndex + 1}`,\n          extraDelay\n        )\n    );\n  }\n\n  operatorListChanged() {\n    if (!this.graphicsReady) {\n      this.graphicsReadyCallback ||= this._continueBound;\n      return;\n    }\n    this.stepper?.updateOperatorList(this.operatorList);\n\n    if (this.running) {\n      return;\n    }\n    this._continue();\n  }\n\n  _continue() {\n    this.running = true;\n    if (this.cancelled) {\n      return;\n    }\n    if (this.task.onContinue) {\n      this.task.onContinue(this._scheduleNextBound);\n    } else {\n      this._scheduleNext();\n    }\n  }\n\n  _scheduleNext() {\n    if (this._useRequestAnimationFrame) {\n      window.requestAnimationFrame(() => {\n        this._nextBound().catch(this._cancelBound);\n      });\n    } else {\n      Promise.resolve().then(this._nextBound).catch(this._cancelBound);\n    }\n  }\n\n  async _next() {\n    if (this.cancelled) {\n      return;\n    }\n    this.operatorListIdx = this.gfx.executeOperatorList(\n      this.operatorList,\n      this.operatorListIdx,\n      this._continueBound,\n      this.stepper\n    );\n    if (this.operatorListIdx === this.operatorList.argsArray.length) {\n      this.running = false;\n      if (this.operatorList.lastChunk) {\n        this.gfx.endDrawing();\n        InternalRenderTask.#canvasInUse.delete(this._canvas);\n\n        this.callback();\n      }\n    }\n  }\n}\n\n/** @type {string} */\nconst version =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_VERSION\") : null;\n/** @type {string} */\nconst build =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_BUILD\") : null;\n\nexport {\n  build,\n  DefaultCanvasFactory,\n  DefaultCMapReaderFactory,\n  DefaultFilterFactory,\n  DefaultStandardFontDataFactory,\n  getDocument,\n  LoopbackPort,\n  PDFDataRangeTransport,\n  PDFDocumentLoadingTask,\n  PDFDocumentProxy,\n  PDFPageProxy,\n  PDFWorker,\n  PDFWorkerUtil,\n  RenderTask,\n  SVGGraphics,\n  version,\n};\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { objectFromMap, unreachable } from \"../shared/util.js\";\nimport { AnnotationEditor } from \"./editor/editor.js\";\nimport { MurmurHash3_64 } from \"../shared/murmurhash3.js\";\n\nconst SerializableEmpty = Object.freeze({\n  map: null,\n  hash: \"\",\n  transfers: undefined,\n});\n\n/**\n * Key/value storage for annotation data in forms.\n */\nclass AnnotationStorage {\n  #modified = false;\n\n  #storage = new Map();\n\n  constructor() {\n    // Callbacks to signal when the modification state is set or reset.\n    // This is used by the viewer to only bind on `beforeunload` if forms\n    // are actually edited to prevent doing so unconditionally since that\n    // can have undesirable effects.\n    this.onSetModified = null;\n    this.onResetModified = null;\n    this.onAnnotationEditor = null;\n  }\n\n  /**\n   * Get the value for a given key if it exists, or return the default value.\n   * @param {string} key\n   * @param {Object} defaultValue\n   * @returns {Object}\n   */\n  getValue(key, defaultValue) {\n    const value = this.#storage.get(key);\n    if (value === undefined) {\n      return defaultValue;\n    }\n\n    return Object.assign(defaultValue, value);\n  }\n\n  /**\n   * Get the value for a given key.\n   * @param {string} key\n   * @returns {Object}\n   */\n  getRawValue(key) {\n    return this.#storage.get(key);\n  }\n\n  /**\n   * Remove a value from the storage.\n   * @param {string} key\n   */\n  remove(key) {\n    this.#storage.delete(key);\n\n    if (this.#storage.size === 0) {\n      this.resetModified();\n    }\n\n    if (typeof this.onAnnotationEditor === \"function\") {\n      for (const value of this.#storage.values()) {\n        if (value instanceof AnnotationEditor) {\n          return;\n        }\n      }\n      this.onAnnotationEditor(null);\n    }\n  }\n\n  /**\n   * Set the value for a given key\n   * @param {string} key\n   * @param {Object} value\n   */\n  setValue(key, value) {\n    const obj = this.#storage.get(key);\n    let modified = false;\n    if (obj !== undefined) {\n      for (const [entry, val] of Object.entries(value)) {\n        if (obj[entry] !== val) {\n          modified = true;\n          obj[entry] = val;\n        }\n      }\n    } else {\n      modified = true;\n      this.#storage.set(key, value);\n    }\n    if (modified) {\n      this.#setModified();\n    }\n\n    if (\n      value instanceof AnnotationEditor &&\n      typeof this.onAnnotationEditor === \"function\"\n    ) {\n      this.onAnnotationEditor(value.constructor._type);\n    }\n  }\n\n  /**\n   * Check if the storage contains the given key.\n   * @param {string} key\n   * @returns {boolean}\n   */\n  has(key) {\n    return this.#storage.has(key);\n  }\n\n  /**\n   * @returns {Object | null}\n   */\n  getAll() {\n    return this.#storage.size > 0 ? objectFromMap(this.#storage) : null;\n  }\n\n  /**\n   * @param {Object} obj\n   */\n  setAll(obj) {\n    for (const [key, val] of Object.entries(obj)) {\n      this.setValue(key, val);\n    }\n  }\n\n  get size() {\n    return this.#storage.size;\n  }\n\n  #setModified() {\n    if (!this.#modified) {\n      this.#modified = true;\n      if (typeof this.onSetModified === \"function\") {\n        this.onSetModified();\n      }\n    }\n  }\n\n  resetModified() {\n    if (this.#modified) {\n      this.#modified = false;\n      if (typeof this.onResetModified === \"function\") {\n        this.onResetModified();\n      }\n    }\n  }\n\n  /**\n   * @returns {PrintAnnotationStorage}\n   */\n  get print() {\n    return new PrintAnnotationStorage(this);\n  }\n\n  /**\n   * PLEASE NOTE: Only intended for usage within the API itself.\n   * @ignore\n   */\n  get serializable() {\n    if (this.#storage.size === 0) {\n      return SerializableEmpty;\n    }\n    const map = new Map(),\n      hash = new MurmurHash3_64(),\n      transfers = [];\n    const context = Object.create(null);\n    let hasBitmap = false;\n\n    for (const [key, val] of this.#storage) {\n      const serialized =\n        val instanceof AnnotationEditor\n          ? val.serialize(/* isForCopying = */ false, context)\n          : val;\n      if (serialized) {\n        map.set(key, serialized);\n\n        hash.update(`${key}:${JSON.stringify(serialized)}`);\n        hasBitmap ||= !!serialized.bitmap;\n      }\n    }\n\n    if (hasBitmap) {\n      // We must transfer the bitmap data separately, since it can be changed\n      // during serialization with SVG images.\n      for (const value of map.values()) {\n        if (value.bitmap) {\n          transfers.push(value.bitmap);\n        }\n      }\n    }\n\n    return map.size > 0\n      ? { map, hash: hash.hexdigest(), transfers }\n      : SerializableEmpty;\n  }\n}\n\n/**\n * A special `AnnotationStorage` for use during printing, where the serializable\n * data is *frozen* upon initialization, to prevent scripting from modifying its\n * contents. (Necessary since printing is triggered synchronously in browsers.)\n */\nclass PrintAnnotationStorage extends AnnotationStorage {\n  #serializable;\n\n  constructor(parent) {\n    super();\n    const { map, hash, transfers } = parent.serializable;\n    // Create a *copy* of the data, since Objects are passed by reference in JS.\n    const clone = structuredClone(\n      map,\n      (typeof PDFJSDev === \"undefined\" ||\n        PDFJSDev.test(\"SKIP_BABEL || TESTING\")) &&\n        transfers\n        ? { transfer: transfers }\n        : null\n    );\n    this.#serializable = { map: clone, hash, transfers };\n  }\n\n  /**\n   * @returns {PrintAnnotationStorage}\n   */\n  // eslint-disable-next-line getter-return\n  get print() {\n    unreachable(\"Should not call PrintAnnotationStorage.print\");\n  }\n\n  /**\n   * PLEASE NOTE: Only intended for usage within the API itself.\n   * @ignore\n   */\n  get serializable() {\n    return this.#serializable;\n  }\n}\n\nexport { AnnotationStorage, PrintAnnotationStorage, SerializableEmpty };\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// eslint-disable-next-line max-len\n/** @typedef {import(\"./annotation_editor_layer.js\").AnnotationEditorLayer} AnnotationEditorLayer */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"./tools.js\").AnnotationEditorUIManager} AnnotationEditorUIManager */\n\nimport { bindEvents, ColorManager } from \"./tools.js\";\nimport { FeatureTest, shadow, unreachable } from \"../../shared/util.js\";\nimport { noContextMenu } from \"../display_utils.js\";\n\n/**\n * @typedef {Object} AnnotationEditorParameters\n * @property {AnnotationEditorUIManager} uiManager - the global manager\n * @property {AnnotationEditorLayer} parent - the layer containing this editor\n * @property {string} id - editor id\n * @property {number} x - x-coordinate\n * @property {number} y - y-coordinate\n */\n\n/**\n * Base class for editors.\n */\nclass AnnotationEditor {\n  #altText = \"\";\n\n  #altTextDecorative = false;\n\n  #altTextButton = null;\n\n  #altTextTooltip = null;\n\n  #altTextTooltipTimeout = null;\n\n  #keepAspectRatio = false;\n\n  #resizersDiv = null;\n\n  #boundFocusin = this.focusin.bind(this);\n\n  #boundFocusout = this.focusout.bind(this);\n\n  #hasBeenClicked = false;\n\n  #isEditing = false;\n\n  #isInEditMode = false;\n\n  _initialOptions = Object.create(null);\n\n  _uiManager = null;\n\n  _focusEventsAllowed = true;\n\n  _l10nPromise = null;\n\n  #isDraggable = false;\n\n  #zIndex = AnnotationEditor._zIndex++;\n\n  static _borderLineWidth = -1;\n\n  static _colorManager = new ColorManager();\n\n  static _zIndex = 1;\n\n  // When one of the dimensions of an editor is smaller than this value, the\n  // button to edit the alt text is visually moved outside of the editor.\n  static SMALL_EDITOR_SIZE = 0;\n\n  /**\n   * @param {AnnotationEditorParameters} parameters\n   */\n  constructor(parameters) {\n    if (this.constructor === AnnotationEditor) {\n      unreachable(\"Cannot initialize AnnotationEditor.\");\n    }\n\n    this.parent = parameters.parent;\n    this.id = parameters.id;\n    this.width = this.height = null;\n    this.pageIndex = parameters.parent.pageIndex;\n    this.name = parameters.name;\n    this.div = null;\n    this._uiManager = parameters.uiManager;\n    this.annotationElementId = null;\n    this._willKeepAspectRatio = false;\n    this._initialOptions.isCentered = parameters.isCentered;\n    this._structTreeParentId = null;\n\n    const {\n      rotation,\n      rawDims: { pageWidth, pageHeight, pageX, pageY },\n    } = this.parent.viewport;\n\n    this.rotation = rotation;\n    this.pageRotation =\n      (360 + rotation - this._uiManager.viewParameters.rotation) % 360;\n    this.pageDimensions = [pageWidth, pageHeight];\n    this.pageTranslation = [pageX, pageY];\n\n    const [width, height] = this.parentDimensions;\n    this.x = parameters.x / width;\n    this.y = parameters.y / height;\n\n    this.isAttachedToDOM = false;\n    this.deleted = false;\n  }\n\n  get editorType() {\n    return Object.getPrototypeOf(this).constructor._type;\n  }\n\n  static get _defaultLineColor() {\n    return shadow(\n      this,\n      \"_defaultLineColor\",\n      this._colorManager.getHexCode(\"CanvasText\")\n    );\n  }\n\n  static deleteAnnotationElement(editor) {\n    const fakeEditor = new FakeEditor({\n      id: editor.parent.getNextId(),\n      parent: editor.parent,\n      uiManager: editor._uiManager,\n    });\n    fakeEditor.annotationElementId = editor.annotationElementId;\n    fakeEditor.deleted = true;\n    fakeEditor._uiManager.addToAnnotationStorage(fakeEditor);\n  }\n\n  /**\n   * Initialize the l10n stuff for this type of editor.\n   * @param {Object} l10n\n   */\n  static initialize(l10n, options = null) {\n    AnnotationEditor._l10nPromise ||= new Map(\n      [\n        \"editor_alt_text_button_label\",\n        \"editor_alt_text_edit_button_label\",\n        \"editor_alt_text_decorative_tooltip\",\n      ].map(str => [str, l10n.get(str)])\n    );\n    if (options?.strings) {\n      for (const str of options.strings) {\n        AnnotationEditor._l10nPromise.set(str, l10n.get(str));\n      }\n    }\n    if (AnnotationEditor._borderLineWidth !== -1) {\n      return;\n    }\n    const style = getComputedStyle(document.documentElement);\n    AnnotationEditor._borderLineWidth =\n      parseFloat(style.getPropertyValue(\"--outline-width\")) || 0;\n  }\n\n  /**\n   * Update the default parameters for this type of editor.\n   * @param {number} _type\n   * @param {*} _value\n   */\n  static updateDefaultParams(_type, _value) {}\n\n  /**\n   * Get the default properties to set in the UI for this type of editor.\n   * @returns {Array}\n   */\n  static get defaultPropertiesToUpdate() {\n    return [];\n  }\n\n  /**\n   * Check if this kind of editor is able to handle the given mime type for\n   * pasting.\n   * @param {string} mime\n   * @returns {boolean}\n   */\n  static isHandlingMimeForPasting(mime) {\n    return false;\n  }\n\n  /**\n   * Extract the data from the clipboard item and delegate the creation of the\n   * editor to the parent.\n   * @param {DataTransferItem} item\n   * @param {AnnotationEditorLayer} parent\n   */\n  static paste(item, parent) {\n    unreachable(\"Not implemented\");\n  }\n\n  /**\n   * Get the properties to update in the UI for this editor.\n   * @returns {Array}\n   */\n  get propertiesToUpdate() {\n    return [];\n  }\n\n  get _isDraggable() {\n    return this.#isDraggable;\n  }\n\n  set _isDraggable(value) {\n    this.#isDraggable = value;\n    this.div?.classList.toggle(\"draggable\", value);\n  }\n\n  center() {\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    switch (this.parentRotation) {\n      case 90:\n        this.x -= (this.height * pageHeight) / (pageWidth * 2);\n        this.y += (this.width * pageWidth) / (pageHeight * 2);\n        break;\n      case 180:\n        this.x += this.width / 2;\n        this.y += this.height / 2;\n        break;\n      case 270:\n        this.x += (this.height * pageHeight) / (pageWidth * 2);\n        this.y -= (this.width * pageWidth) / (pageHeight * 2);\n        break;\n      default:\n        this.x -= this.width / 2;\n        this.y -= this.height / 2;\n        break;\n    }\n    this.fixAndSetPosition();\n  }\n\n  /**\n   * Add some commands into the CommandManager (undo/redo stuff).\n   * @param {Object} params\n   */\n  addCommands(params) {\n    this._uiManager.addCommands(params);\n  }\n\n  get currentLayer() {\n    return this._uiManager.currentLayer;\n  }\n\n  /**\n   * This editor will be behind the others.\n   */\n  setInBackground() {\n    this.div.style.zIndex = 0;\n  }\n\n  /**\n   * This editor will be in the foreground.\n   */\n  setInForeground() {\n    this.div.style.zIndex = this.#zIndex;\n  }\n\n  setParent(parent) {\n    if (parent !== null) {\n      this.pageIndex = parent.pageIndex;\n      this.pageDimensions = parent.pageDimensions;\n    }\n    this.parent = parent;\n  }\n\n  /**\n   * onfocus callback.\n   */\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    if (!this.#hasBeenClicked) {\n      this.parent.setSelected(this);\n    } else {\n      this.#hasBeenClicked = false;\n    }\n  }\n\n  /**\n   * onblur callback.\n   * @param {FocusEvent} event\n   */\n  focusout(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n\n    if (!this.isAttachedToDOM) {\n      return;\n    }\n\n    // In case of focusout, the relatedTarget is the element which\n    // is grabbing the focus.\n    // So if the related target is an element under the div for this\n    // editor, then the editor isn't unactive.\n    const target = event.relatedTarget;\n    if (target?.closest(`#${this.id}`)) {\n      return;\n    }\n\n    event.preventDefault();\n\n    if (!this.parent?.isMultipleSelection) {\n      this.commitOrRemove();\n    }\n  }\n\n  commitOrRemove() {\n    if (this.isEmpty()) {\n      this.remove();\n    } else {\n      this.commit();\n    }\n  }\n\n  /**\n   * Commit the data contained in this editor.\n   */\n  commit() {\n    this.addToAnnotationStorage();\n  }\n\n  addToAnnotationStorage() {\n    this._uiManager.addToAnnotationStorage(this);\n  }\n\n  /**\n   * Set the editor position within its parent.\n   * @param {number} x\n   * @param {number} y\n   * @param {number} tx - x-translation in screen coordinates.\n   * @param {number} ty - y-translation in screen coordinates.\n   */\n  setAt(x, y, tx, ty) {\n    const [width, height] = this.parentDimensions;\n    [tx, ty] = this.screenToPageTranslation(tx, ty);\n\n    this.x = (x + tx) / width;\n    this.y = (y + ty) / height;\n\n    this.fixAndSetPosition();\n  }\n\n  #translate([width, height], x, y) {\n    [x, y] = this.screenToPageTranslation(x, y);\n\n    this.x += x / width;\n    this.y += y / height;\n\n    this.fixAndSetPosition();\n  }\n\n  /**\n   * Translate the editor position within its parent.\n   * @param {number} x - x-translation in screen coordinates.\n   * @param {number} y - y-translation in screen coordinates.\n   */\n  translate(x, y) {\n    this.#translate(this.parentDimensions, x, y);\n  }\n\n  /**\n   * Translate the editor position within its page and adjust the scroll\n   * in order to have the editor in the view.\n   * @param {number} x - x-translation in page coordinates.\n   * @param {number} y - y-translation in page coordinates.\n   */\n  translateInPage(x, y) {\n    this.#translate(this.pageDimensions, x, y);\n    this.div.scrollIntoView({ block: \"nearest\" });\n  }\n\n  drag(tx, ty) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.x += tx / parentWidth;\n    this.y += ty / parentHeight;\n    if (this.parent && (this.x < 0 || this.x > 1 || this.y < 0 || this.y > 1)) {\n      // It's possible to not have a parent: for example, when the user is\n      // dragging all the selected editors but this one on a page which has been\n      // destroyed.\n      // It's why we need to check for it. In such a situation, it isn't really\n      // a problem to not find a new parent: it's something which is related to\n      // what the user is seeing, hence it depends on how pages are layed out.\n\n      // The element will be outside of its parent so change the parent.\n      const { x, y } = this.div.getBoundingClientRect();\n      if (this.parent.findNewParent(this, x, y)) {\n        this.x -= Math.floor(this.x);\n        this.y -= Math.floor(this.y);\n      }\n    }\n\n    // The editor can be moved wherever the user wants, so we don't need to fix\n    // the position: it'll be done when the user will release the mouse button.\n\n    let { x, y } = this;\n    const [bx, by] = this.#getBaseTranslation();\n    x += bx;\n    y += by;\n\n    this.div.style.left = `${(100 * x).toFixed(2)}%`;\n    this.div.style.top = `${(100 * y).toFixed(2)}%`;\n    this.div.scrollIntoView({ block: \"nearest\" });\n  }\n\n  #getBaseTranslation() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const { _borderLineWidth } = AnnotationEditor;\n    const x = _borderLineWidth / parentWidth;\n    const y = _borderLineWidth / parentHeight;\n    switch (this.rotation) {\n      case 90:\n        return [-x, y];\n      case 180:\n        return [x, y];\n      case 270:\n        return [x, -y];\n      default:\n        return [-x, -y];\n    }\n  }\n\n  fixAndSetPosition() {\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    let { x, y, width, height } = this;\n    width *= pageWidth;\n    height *= pageHeight;\n    x *= pageWidth;\n    y *= pageHeight;\n\n    switch (this.rotation) {\n      case 0:\n        x = Math.max(0, Math.min(pageWidth - width, x));\n        y = Math.max(0, Math.min(pageHeight - height, y));\n        break;\n      case 90:\n        x = Math.max(0, Math.min(pageWidth - height, x));\n        y = Math.min(pageHeight, Math.max(width, y));\n        break;\n      case 180:\n        x = Math.min(pageWidth, Math.max(width, x));\n        y = Math.min(pageHeight, Math.max(height, y));\n        break;\n      case 270:\n        x = Math.min(pageWidth, Math.max(height, x));\n        y = Math.max(0, Math.min(pageHeight - width, y));\n        break;\n    }\n\n    this.x = x /= pageWidth;\n    this.y = y /= pageHeight;\n\n    const [bx, by] = this.#getBaseTranslation();\n    x += bx;\n    y += by;\n\n    const { style } = this.div;\n    style.left = `${(100 * x).toFixed(2)}%`;\n    style.top = `${(100 * y).toFixed(2)}%`;\n\n    this.moveInDOM();\n  }\n\n  static #rotatePoint(x, y, angle) {\n    switch (angle) {\n      case 90:\n        return [y, -x];\n      case 180:\n        return [-x, -y];\n      case 270:\n        return [-y, x];\n      default:\n        return [x, y];\n    }\n  }\n\n  /**\n   * Convert a screen translation into a page one.\n   * @param {number} x\n   * @param {number} y\n   */\n  screenToPageTranslation(x, y) {\n    return AnnotationEditor.#rotatePoint(x, y, this.parentRotation);\n  }\n\n  /**\n   * Convert a page translation into a screen one.\n   * @param {number} x\n   * @param {number} y\n   */\n  pageTranslationToScreen(x, y) {\n    return AnnotationEditor.#rotatePoint(x, y, 360 - this.parentRotation);\n  }\n\n  #getRotationMatrix(rotation) {\n    switch (rotation) {\n      case 90: {\n        const [pageWidth, pageHeight] = this.pageDimensions;\n        return [0, -pageWidth / pageHeight, pageHeight / pageWidth, 0];\n      }\n      case 180:\n        return [-1, 0, 0, -1];\n      case 270: {\n        const [pageWidth, pageHeight] = this.pageDimensions;\n        return [0, pageWidth / pageHeight, -pageHeight / pageWidth, 0];\n      }\n      default:\n        return [1, 0, 0, 1];\n    }\n  }\n\n  get parentScale() {\n    return this._uiManager.viewParameters.realScale;\n  }\n\n  get parentRotation() {\n    return (this._uiManager.viewParameters.rotation + this.pageRotation) % 360;\n  }\n\n  get parentDimensions() {\n    const {\n      parentScale,\n      pageDimensions: [pageWidth, pageHeight],\n    } = this;\n    const scaledWidth = pageWidth * parentScale;\n    const scaledHeight = pageHeight * parentScale;\n    return FeatureTest.isCSSRoundSupported\n      ? [Math.round(scaledWidth), Math.round(scaledHeight)]\n      : [scaledWidth, scaledHeight];\n  }\n\n  /**\n   * Set the dimensions of this editor.\n   * @param {number} width\n   * @param {number} height\n   */\n  setDims(width, height) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.div.style.width = `${((100 * width) / parentWidth).toFixed(2)}%`;\n    if (!this.#keepAspectRatio) {\n      this.div.style.height = `${((100 * height) / parentHeight).toFixed(2)}%`;\n    }\n    this.#altTextButton?.classList.toggle(\n      \"small\",\n      width < AnnotationEditor.SMALL_EDITOR_SIZE ||\n        height < AnnotationEditor.SMALL_EDITOR_SIZE\n    );\n  }\n\n  fixDims() {\n    const { style } = this.div;\n    const { height, width } = style;\n    const widthPercent = width.endsWith(\"%\");\n    const heightPercent = !this.#keepAspectRatio && height.endsWith(\"%\");\n    if (widthPercent && heightPercent) {\n      return;\n    }\n\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    if (!widthPercent) {\n      style.width = `${((100 * parseFloat(width)) / parentWidth).toFixed(2)}%`;\n    }\n    if (!this.#keepAspectRatio && !heightPercent) {\n      style.height = `${((100 * parseFloat(height)) / parentHeight).toFixed(\n        2\n      )}%`;\n    }\n  }\n\n  /**\n   * Get the translation used to position this editor when it's created.\n   * @returns {Array<number>}\n   */\n  getInitialTranslation() {\n    return [0, 0];\n  }\n\n  #createResizers() {\n    if (this.#resizersDiv) {\n      return;\n    }\n    this.#resizersDiv = document.createElement(\"div\");\n    this.#resizersDiv.classList.add(\"resizers\");\n    const classes = [\"topLeft\", \"topRight\", \"bottomRight\", \"bottomLeft\"];\n    if (!this._willKeepAspectRatio) {\n      classes.push(\"topMiddle\", \"middleRight\", \"bottomMiddle\", \"middleLeft\");\n    }\n    for (const name of classes) {\n      const div = document.createElement(\"div\");\n      this.#resizersDiv.append(div);\n      div.classList.add(\"resizer\", name);\n      div.addEventListener(\n        \"pointerdown\",\n        this.#resizerPointerdown.bind(this, name)\n      );\n      div.addEventListener(\"contextmenu\", noContextMenu);\n    }\n    this.div.prepend(this.#resizersDiv);\n  }\n\n  #resizerPointerdown(name, event) {\n    event.preventDefault();\n    const { isMac } = FeatureTest.platform;\n    if (event.button !== 0 || (event.ctrlKey && isMac)) {\n      return;\n    }\n\n    const boundResizerPointermove = this.#resizerPointermove.bind(this, name);\n    const savedDraggable = this._isDraggable;\n    this._isDraggable = false;\n    const pointerMoveOptions = { passive: true, capture: true };\n    window.addEventListener(\n      \"pointermove\",\n      boundResizerPointermove,\n      pointerMoveOptions\n    );\n    const savedX = this.x;\n    const savedY = this.y;\n    const savedWidth = this.width;\n    const savedHeight = this.height;\n    const savedParentCursor = this.parent.div.style.cursor;\n    const savedCursor = this.div.style.cursor;\n    this.div.style.cursor = this.parent.div.style.cursor =\n      window.getComputedStyle(event.target).cursor;\n\n    const pointerUpCallback = () => {\n      this._isDraggable = savedDraggable;\n      window.removeEventListener(\"pointerup\", pointerUpCallback);\n      window.removeEventListener(\"blur\", pointerUpCallback);\n      window.removeEventListener(\n        \"pointermove\",\n        boundResizerPointermove,\n        pointerMoveOptions\n      );\n      this.parent.div.style.cursor = savedParentCursor;\n      this.div.style.cursor = savedCursor;\n\n      const newX = this.x;\n      const newY = this.y;\n      const newWidth = this.width;\n      const newHeight = this.height;\n      if (\n        newX === savedX &&\n        newY === savedY &&\n        newWidth === savedWidth &&\n        newHeight === savedHeight\n      ) {\n        return;\n      }\n\n      this.addCommands({\n        cmd: () => {\n          this.width = newWidth;\n          this.height = newHeight;\n          this.x = newX;\n          this.y = newY;\n          const [parentWidth, parentHeight] = this.parentDimensions;\n          this.setDims(parentWidth * newWidth, parentHeight * newHeight);\n          this.fixAndSetPosition();\n        },\n        undo: () => {\n          this.width = savedWidth;\n          this.height = savedHeight;\n          this.x = savedX;\n          this.y = savedY;\n          const [parentWidth, parentHeight] = this.parentDimensions;\n          this.setDims(parentWidth * savedWidth, parentHeight * savedHeight);\n          this.fixAndSetPosition();\n        },\n        mustExec: true,\n      });\n    };\n    window.addEventListener(\"pointerup\", pointerUpCallback);\n    // If the user switches to another window (with alt+tab), then we end the\n    // resize session.\n    window.addEventListener(\"blur\", pointerUpCallback);\n  }\n\n  #resizerPointermove(name, event) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const savedX = this.x;\n    const savedY = this.y;\n    const savedWidth = this.width;\n    const savedHeight = this.height;\n    const minWidth = AnnotationEditor.MIN_SIZE / parentWidth;\n    const minHeight = AnnotationEditor.MIN_SIZE / parentHeight;\n\n    // 10000 because we multiply by 100 and use toFixed(2) in fixAndSetPosition.\n    // Without rounding, the positions of the corners other than the top left\n    // one can be slightly wrong.\n    const round = x => Math.round(x * 10000) / 10000;\n    const rotationMatrix = this.#getRotationMatrix(this.rotation);\n    const transf = (x, y) => [\n      rotationMatrix[0] * x + rotationMatrix[2] * y,\n      rotationMatrix[1] * x + rotationMatrix[3] * y,\n    ];\n    const invRotationMatrix = this.#getRotationMatrix(360 - this.rotation);\n    const invTransf = (x, y) => [\n      invRotationMatrix[0] * x + invRotationMatrix[2] * y,\n      invRotationMatrix[1] * x + invRotationMatrix[3] * y,\n    ];\n    let getPoint;\n    let getOpposite;\n    let isDiagonal = false;\n    let isHorizontal = false;\n\n    switch (name) {\n      case \"topLeft\":\n        isDiagonal = true;\n        getPoint = (w, h) => [0, 0];\n        getOpposite = (w, h) => [w, h];\n        break;\n      case \"topMiddle\":\n        getPoint = (w, h) => [w / 2, 0];\n        getOpposite = (w, h) => [w / 2, h];\n        break;\n      case \"topRight\":\n        isDiagonal = true;\n        getPoint = (w, h) => [w, 0];\n        getOpposite = (w, h) => [0, h];\n        break;\n      case \"middleRight\":\n        isHorizontal = true;\n        getPoint = (w, h) => [w, h / 2];\n        getOpposite = (w, h) => [0, h / 2];\n        break;\n      case \"bottomRight\":\n        isDiagonal = true;\n        getPoint = (w, h) => [w, h];\n        getOpposite = (w, h) => [0, 0];\n        break;\n      case \"bottomMiddle\":\n        getPoint = (w, h) => [w / 2, h];\n        getOpposite = (w, h) => [w / 2, 0];\n        break;\n      case \"bottomLeft\":\n        isDiagonal = true;\n        getPoint = (w, h) => [0, h];\n        getOpposite = (w, h) => [w, 0];\n        break;\n      case \"middleLeft\":\n        isHorizontal = true;\n        getPoint = (w, h) => [0, h / 2];\n        getOpposite = (w, h) => [w, h / 2];\n        break;\n    }\n\n    const point = getPoint(savedWidth, savedHeight);\n    const oppositePoint = getOpposite(savedWidth, savedHeight);\n    let transfOppositePoint = transf(...oppositePoint);\n    const oppositeX = round(savedX + transfOppositePoint[0]);\n    const oppositeY = round(savedY + transfOppositePoint[1]);\n    let ratioX = 1;\n    let ratioY = 1;\n\n    let [deltaX, deltaY] = this.screenToPageTranslation(\n      event.movementX,\n      event.movementY\n    );\n    [deltaX, deltaY] = invTransf(deltaX / parentWidth, deltaY / parentHeight);\n\n    if (isDiagonal) {\n      const oldDiag = Math.hypot(savedWidth, savedHeight);\n      ratioX = ratioY = Math.max(\n        Math.min(\n          Math.hypot(\n            oppositePoint[0] - point[0] - deltaX,\n            oppositePoint[1] - point[1] - deltaY\n          ) / oldDiag,\n          // Avoid the editor to be larger than the page.\n          1 / savedWidth,\n          1 / savedHeight\n        ),\n        // Avoid the editor to be smaller than the minimum size.\n        minWidth / savedWidth,\n        minHeight / savedHeight\n      );\n    } else if (isHorizontal) {\n      ratioX =\n        Math.max(\n          minWidth,\n          Math.min(1, Math.abs(oppositePoint[0] - point[0] - deltaX))\n        ) / savedWidth;\n    } else {\n      ratioY =\n        Math.max(\n          minHeight,\n          Math.min(1, Math.abs(oppositePoint[1] - point[1] - deltaY))\n        ) / savedHeight;\n    }\n\n    const newWidth = round(savedWidth * ratioX);\n    const newHeight = round(savedHeight * ratioY);\n    transfOppositePoint = transf(...getOpposite(newWidth, newHeight));\n    const newX = oppositeX - transfOppositePoint[0];\n    const newY = oppositeY - transfOppositePoint[1];\n\n    this.width = newWidth;\n    this.height = newHeight;\n    this.x = newX;\n    this.y = newY;\n\n    this.setDims(parentWidth * newWidth, parentHeight * newHeight);\n    this.fixAndSetPosition();\n  }\n\n  async addAltTextButton() {\n    if (this.#altTextButton) {\n      return;\n    }\n    const altText = (this.#altTextButton = document.createElement(\"button\"));\n    altText.className = \"altText\";\n    const msg = await AnnotationEditor._l10nPromise.get(\n      \"editor_alt_text_button_label\"\n    );\n    altText.textContent = msg;\n    altText.setAttribute(\"aria-label\", msg);\n    altText.tabIndex = \"0\";\n    altText.addEventListener(\"contextmenu\", noContextMenu);\n    altText.addEventListener(\"pointerdown\", event => event.stopPropagation());\n    altText.addEventListener(\n      \"click\",\n      event => {\n        event.preventDefault();\n        this._uiManager.editAltText(this);\n      },\n      { capture: true }\n    );\n    altText.addEventListener(\"keydown\", event => {\n      if (event.target === altText && event.key === \"Enter\") {\n        event.preventDefault();\n        this._uiManager.editAltText(this);\n      }\n    });\n    this.#setAltTextButtonState();\n    this.div.append(altText);\n    if (!AnnotationEditor.SMALL_EDITOR_SIZE) {\n      // We take the width of the alt text button and we add 40% to it to be\n      // sure to have enough space for it.\n      const PERCENT = 40;\n      AnnotationEditor.SMALL_EDITOR_SIZE = Math.min(\n        128,\n        Math.round(altText.getBoundingClientRect().width * (1 + PERCENT / 100))\n      );\n    }\n  }\n\n  async #setAltTextButtonState() {\n    const button = this.#altTextButton;\n    if (!button) {\n      return;\n    }\n    if (!this.#altText && !this.#altTextDecorative) {\n      button.classList.remove(\"done\");\n      this.#altTextTooltip?.remove();\n      return;\n    }\n    AnnotationEditor._l10nPromise\n      .get(\"editor_alt_text_edit_button_label\")\n      .then(msg => {\n        button.setAttribute(\"aria-label\", msg);\n      });\n\n    let tooltip = this.#altTextTooltip;\n    if (!tooltip) {\n      this.#altTextTooltip = tooltip = document.createElement(\"span\");\n      tooltip.className = \"tooltip\";\n      tooltip.setAttribute(\"role\", \"tooltip\");\n      const id = (tooltip.id = `alt-text-tooltip-${this.id}`);\n      button.setAttribute(\"aria-describedby\", id);\n\n      const DELAY_TO_SHOW_TOOLTIP = 100;\n      button.addEventListener(\"mouseenter\", () => {\n        this.#altTextTooltipTimeout = setTimeout(() => {\n          this.#altTextTooltipTimeout = null;\n          this.#altTextTooltip.classList.add(\"show\");\n          this._uiManager._eventBus.dispatch(\"reporttelemetry\", {\n            source: this,\n            details: {\n              type: \"editing\",\n              subtype: this.editorType,\n              data: {\n                action: \"alt_text_tooltip\",\n              },\n            },\n          });\n        }, DELAY_TO_SHOW_TOOLTIP);\n      });\n      button.addEventListener(\"mouseleave\", () => {\n        clearTimeout(this.#altTextTooltipTimeout);\n        this.#altTextTooltipTimeout = null;\n        this.#altTextTooltip?.classList.remove(\"show\");\n      });\n    }\n    button.classList.add(\"done\");\n    tooltip.innerText = this.#altTextDecorative\n      ? await AnnotationEditor._l10nPromise.get(\n          \"editor_alt_text_decorative_tooltip\"\n        )\n      : this.#altText;\n\n    if (!tooltip.parentNode) {\n      button.append(tooltip);\n    }\n  }\n\n  getClientDimensions() {\n    return this.div.getBoundingClientRect();\n  }\n\n  get altTextData() {\n    return {\n      altText: this.#altText,\n      decorative: this.#altTextDecorative,\n    };\n  }\n\n  set altTextData({ altText, decorative }) {\n    if (this.#altText === altText && this.#altTextDecorative === decorative) {\n      return;\n    }\n    this.#altText = altText;\n    this.#altTextDecorative = decorative;\n    this.#setAltTextButtonState();\n  }\n\n  /**\n   * Render this editor in a div.\n   * @returns {HTMLDivElement}\n   */\n  render() {\n    this.div = document.createElement(\"div\");\n    this.div.setAttribute(\"data-editor-rotation\", (360 - this.rotation) % 360);\n    this.div.className = this.name;\n    this.div.setAttribute(\"id\", this.id);\n    this.div.setAttribute(\"tabIndex\", 0);\n\n    this.setInForeground();\n\n    this.div.addEventListener(\"focusin\", this.#boundFocusin);\n    this.div.addEventListener(\"focusout\", this.#boundFocusout);\n\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    if (this.parentRotation % 180 !== 0) {\n      this.div.style.maxWidth = `${((100 * parentHeight) / parentWidth).toFixed(\n        2\n      )}%`;\n      this.div.style.maxHeight = `${(\n        (100 * parentWidth) /\n        parentHeight\n      ).toFixed(2)}%`;\n    }\n\n    const [tx, ty] = this.getInitialTranslation();\n    this.translate(tx, ty);\n\n    bindEvents(this, this.div, [\"pointerdown\"]);\n\n    return this.div;\n  }\n\n  /**\n   * Onpointerdown callback.\n   * @param {PointerEvent} event\n   */\n  pointerdown(event) {\n    const { isMac } = FeatureTest.platform;\n    if (event.button !== 0 || (event.ctrlKey && isMac)) {\n      // Avoid to focus this editor because of a non-left click.\n      event.preventDefault();\n      return;\n    }\n\n    this.#hasBeenClicked = true;\n\n    this.#setUpDragSession(event);\n  }\n\n  #setUpDragSession(event) {\n    if (!this._isDraggable) {\n      return;\n    }\n\n    const isSelected = this._uiManager.isSelected(this);\n    this._uiManager.setUpDragSession();\n\n    let pointerMoveOptions, pointerMoveCallback;\n    if (isSelected) {\n      pointerMoveOptions = { passive: true, capture: true };\n      pointerMoveCallback = e => {\n        const [tx, ty] = this.screenToPageTranslation(e.movementX, e.movementY);\n        this._uiManager.dragSelectedEditors(tx, ty);\n      };\n      window.addEventListener(\n        \"pointermove\",\n        pointerMoveCallback,\n        pointerMoveOptions\n      );\n    }\n\n    const pointerUpCallback = () => {\n      window.removeEventListener(\"pointerup\", pointerUpCallback);\n      window.removeEventListener(\"blur\", pointerUpCallback);\n      if (isSelected) {\n        window.removeEventListener(\n          \"pointermove\",\n          pointerMoveCallback,\n          pointerMoveOptions\n        );\n      }\n\n      this.#hasBeenClicked = false;\n      if (!this._uiManager.endDragSession()) {\n        const { isMac } = FeatureTest.platform;\n        if (\n          (event.ctrlKey && !isMac) ||\n          event.shiftKey ||\n          (event.metaKey && isMac)\n        ) {\n          this.parent.toggleSelected(this);\n        } else {\n          this.parent.setSelected(this);\n        }\n      }\n    };\n    window.addEventListener(\"pointerup\", pointerUpCallback);\n    // If the user is using alt+tab during the dragging session, the pointerup\n    // event could be not fired, but a blur event is fired so we can use it in\n    // order to interrupt the dragging session.\n    window.addEventListener(\"blur\", pointerUpCallback);\n  }\n\n  moveInDOM() {\n    this.parent?.moveEditorInDOM(this);\n  }\n\n  _setParentAndPosition(parent, x, y) {\n    parent.changeParent(this);\n    this.x = x;\n    this.y = y;\n    this.fixAndSetPosition();\n  }\n\n  /**\n   * Convert the current rect into a page one.\n   */\n  getRect(tx, ty) {\n    const scale = this.parentScale;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const [pageX, pageY] = this.pageTranslation;\n    const shiftX = tx / scale;\n    const shiftY = ty / scale;\n    const x = this.x * pageWidth;\n    const y = this.y * pageHeight;\n    const width = this.width * pageWidth;\n    const height = this.height * pageHeight;\n\n    switch (this.rotation) {\n      case 0:\n        return [\n          x + shiftX + pageX,\n          pageHeight - y - shiftY - height + pageY,\n          x + shiftX + width + pageX,\n          pageHeight - y - shiftY + pageY,\n        ];\n      case 90:\n        return [\n          x + shiftY + pageX,\n          pageHeight - y + shiftX + pageY,\n          x + shiftY + height + pageX,\n          pageHeight - y + shiftX + width + pageY,\n        ];\n      case 180:\n        return [\n          x - shiftX - width + pageX,\n          pageHeight - y + shiftY + pageY,\n          x - shiftX + pageX,\n          pageHeight - y + shiftY + height + pageY,\n        ];\n      case 270:\n        return [\n          x - shiftY - height + pageX,\n          pageHeight - y - shiftX - width + pageY,\n          x - shiftY + pageX,\n          pageHeight - y - shiftX + pageY,\n        ];\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n  }\n\n  getRectInCurrentCoords(rect, pageHeight) {\n    const [x1, y1, x2, y2] = rect;\n\n    const width = x2 - x1;\n    const height = y2 - y1;\n\n    switch (this.rotation) {\n      case 0:\n        return [x1, pageHeight - y2, width, height];\n      case 90:\n        return [x1, pageHeight - y1, height, width];\n      case 180:\n        return [x2, pageHeight - y1, width, height];\n      case 270:\n        return [x2, pageHeight - y2, height, width];\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n  }\n\n  /**\n   * Executed once this editor has been rendered.\n   */\n  onceAdded() {}\n\n  /**\n   * Check if the editor contains something.\n   * @returns {boolean}\n   */\n  isEmpty() {\n    return false;\n  }\n\n  /**\n   * Enable edit mode.\n   */\n  enableEditMode() {\n    this.#isInEditMode = true;\n  }\n\n  /**\n   * Disable edit mode.\n   */\n  disableEditMode() {\n    this.#isInEditMode = false;\n  }\n\n  /**\n   * Check if the editor is edited.\n   * @returns {boolean}\n   */\n  isInEditMode() {\n    return this.#isInEditMode;\n  }\n\n  /**\n   * If it returns true, then this editor handle the keyboard\n   * events itself.\n   * @returns {boolean}\n   */\n  shouldGetKeyboardEvents() {\n    return false;\n  }\n\n  /**\n   * Check if this editor needs to be rebuilt or not.\n   * @returns {boolean}\n   */\n  needsToBeRebuilt() {\n    return this.div && !this.isAttachedToDOM;\n  }\n\n  /**\n   * Rebuild the editor in case it has been removed on undo.\n   *\n   * To implement in subclasses.\n   */\n  rebuild() {\n    this.div?.addEventListener(\"focusin\", this.#boundFocusin);\n    this.div?.addEventListener(\"focusout\", this.#boundFocusout);\n  }\n\n  /**\n   * Serialize the editor.\n   * The result of the serialization will be used to construct a\n   * new annotation to add to the pdf document.\n   *\n   * To implement in subclasses.\n   * @param {boolean} isForCopying\n   * @param {Object} [context]\n   */\n  serialize(isForCopying = false, context = null) {\n    unreachable(\"An editor must be serializable\");\n  }\n\n  /**\n   * Deserialize the editor.\n   * The result of the deserialization is a new editor.\n   *\n   * @param {Object} data\n   * @param {AnnotationEditorLayer} parent\n   * @param {AnnotationEditorUIManager} uiManager\n   * @returns {AnnotationEditor}\n   */\n  static deserialize(data, parent, uiManager) {\n    const editor = new this.prototype.constructor({\n      parent,\n      id: parent.getNextId(),\n      uiManager,\n    });\n    editor.rotation = data.rotation;\n\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const [x, y, width, height] = editor.getRectInCurrentCoords(\n      data.rect,\n      pageHeight\n    );\n    editor.x = x / pageWidth;\n    editor.y = y / pageHeight;\n    editor.width = width / pageWidth;\n    editor.height = height / pageHeight;\n\n    return editor;\n  }\n\n  /**\n   * Remove this editor.\n   * It's used on ctrl+backspace action.\n   */\n  remove() {\n    this.div.removeEventListener(\"focusin\", this.#boundFocusin);\n    this.div.removeEventListener(\"focusout\", this.#boundFocusout);\n\n    if (!this.isEmpty()) {\n      // The editor is removed but it can be back at some point thanks to\n      // undo/redo so we must commit it before.\n      this.commit();\n    }\n    if (this.parent) {\n      this.parent.remove(this);\n    } else {\n      this._uiManager.removeEditor(this);\n    }\n\n    // The editor is removed so we can remove the alt text button and if it's\n    // restored then it's up to the subclass to add it back.\n    this.#altTextButton?.remove();\n    this.#altTextButton = null;\n    this.#altTextTooltip = null;\n  }\n\n  /**\n   * @returns {boolean} true if this editor can be resized.\n   */\n  get isResizable() {\n    return false;\n  }\n\n  /**\n   * Add the resizers to this editor.\n   */\n  makeResizable() {\n    if (this.isResizable) {\n      this.#createResizers();\n      this.#resizersDiv.classList.remove(\"hidden\");\n    }\n  }\n\n  /**\n   * Select this editor.\n   */\n  select() {\n    this.makeResizable();\n    this.div?.classList.add(\"selectedEditor\");\n  }\n\n  /**\n   * Unselect this editor.\n   */\n  unselect() {\n    this.#resizersDiv?.classList.add(\"hidden\");\n    this.div?.classList.remove(\"selectedEditor\");\n    if (this.div?.contains(document.activeElement)) {\n      // Don't use this.div.blur() because we don't know where the focus will\n      // go.\n      this._uiManager.currentLayer.div.focus();\n    }\n  }\n\n  /**\n   * Update some parameters which have been changed through the UI.\n   * @param {number} type\n   * @param {*} value\n   */\n  updateParams(type, value) {}\n\n  /**\n   * When the user disables the editing mode some editors can change some of\n   * their properties.\n   */\n  disableEditing() {\n    if (this.#altTextButton) {\n      this.#altTextButton.hidden = true;\n    }\n  }\n\n  /**\n   * When the user enables the editing mode some editors can change some of\n   * their properties.\n   */\n  enableEditing() {\n    if (this.#altTextButton) {\n      this.#altTextButton.hidden = false;\n    }\n  }\n\n  /**\n   * The editor is about to be edited.\n   */\n  enterInEditMode() {}\n\n  /**\n   * Get the div which really contains the displayed content.\n   */\n  get contentDiv() {\n    return this.div;\n  }\n\n  /**\n   * If true then the editor is currently edited.\n   * @type {boolean}\n   */\n  get isEditing() {\n    return this.#isEditing;\n  }\n\n  /**\n   * When set to true, it means that this editor is currently edited.\n   * @param {boolean} value\n   */\n  set isEditing(value) {\n    this.#isEditing = value;\n    if (!this.parent) {\n      return;\n    }\n    if (value) {\n      this.parent.setSelected(this);\n      this.parent.setActiveEditor(this);\n    } else {\n      this.parent.setActiveEditor(null);\n    }\n  }\n\n  /**\n   * Set the aspect ratio to use when resizing.\n   * @param {number} width\n   * @param {number} height\n   */\n  setAspectRatio(width, height) {\n    this.#keepAspectRatio = true;\n    const aspectRatio = width / height;\n    const { style } = this.div;\n    style.aspectRatio = aspectRatio;\n    style.height = \"auto\";\n  }\n\n  static get MIN_SIZE() {\n    return 16;\n  }\n}\n\n// This class is used to fake an editor which has been deleted.\nclass FakeEditor extends AnnotationEditor {\n  constructor(params) {\n    super(params);\n    this.annotationElementId = params.annotationElementId;\n    this.deleted = true;\n  }\n\n  serialize() {\n    return {\n      id: this.annotationElementId,\n      deleted: true,\n      pageIndex: this.pageIndex,\n    };\n  }\n}\n\nexport { AnnotationEditor };\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @typedef {import(\"./editor.js\").AnnotationEditor} AnnotationEditor */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"./annotation_editor_layer.js\").AnnotationEditorLayer} AnnotationEditorLayer */\n\nimport {\n  AnnotationEditorParamsType,\n  AnnotationEditorPrefix,\n  AnnotationEditorType,\n  FeatureTest,\n  getUuid,\n  shadow,\n  Util,\n  warn,\n} from \"../../shared/util.js\";\nimport { getColorValues, getRGB, PixelsPerInch } from \"../display_utils.js\";\n\nfunction bindEvents(obj, element, names) {\n  for (const name of names) {\n    element.addEventListener(name, obj[name].bind(obj));\n  }\n}\n\n/**\n * Convert a number between 0 and 100 into an hex number between 0 and 255.\n * @param {number} opacity\n * @return {string}\n */\nfunction opacityToHex(opacity) {\n  return Math.round(Math.min(255, Math.max(1, 255 * opacity)))\n    .toString(16)\n    .padStart(2, \"0\");\n}\n\n/**\n * Class to create some unique ids for the different editors.\n */\nclass IdManager {\n  #id = 0;\n\n  /**\n   * Get a unique id.\n   * @returns {string}\n   */\n  getId() {\n    return `${AnnotationEditorPrefix}${this.#id++}`;\n  }\n}\n\n/**\n * Class to manage the images used by the editors.\n * The main idea is to try to minimize the memory used by the images.\n * The images are cached and reused when possible\n * We use a refCounter to know when an image is not used anymore but we need to\n * be able to restore an image after a remove+undo, so we keep a file reference\n * or an url one.\n */\nclass ImageManager {\n  #baseId = getUuid();\n\n  #id = 0;\n\n  #cache = null;\n\n  static get _isSVGFittingCanvas() {\n    // By default, Firefox doesn't rescale without preserving the aspect ratio\n    // when drawing an SVG image on a canvas, see https://bugzilla.mozilla.org/1547776.\n    // The \"workaround\" is to append \"svgView(preserveAspectRatio(none))\" to the\n    // url, but according to comment #15, it seems that it leads to unexpected\n    // behavior in Safari.\n    const svg = `data:image/svg+xml;charset=UTF-8,<svg viewBox=\"0 0 1 1\" width=\"1\" height=\"1\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"1\" height=\"1\" style=\"fill:red;\"/></svg>`;\n    const canvas = new OffscreenCanvas(1, 3);\n    const ctx = canvas.getContext(\"2d\");\n    const image = new Image();\n    image.src = svg;\n    const promise = image.decode().then(() => {\n      ctx.drawImage(image, 0, 0, 1, 1, 0, 0, 1, 3);\n      return new Uint32Array(ctx.getImageData(0, 0, 1, 1).data.buffer)[0] === 0;\n    });\n\n    return shadow(this, \"_isSVGFittingCanvas\", promise);\n  }\n\n  async #get(key, rawData) {\n    this.#cache ||= new Map();\n    let data = this.#cache.get(key);\n    if (data === null) {\n      // We already tried to load the image but it failed.\n      return null;\n    }\n    if (data?.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    try {\n      data ||= {\n        bitmap: null,\n        id: `image_${this.#baseId}_${this.#id++}`,\n        refCounter: 0,\n        isSvg: false,\n      };\n      let image;\n      if (typeof rawData === \"string\") {\n        data.url = rawData;\n\n        const response = await fetch(rawData);\n        if (!response.ok) {\n          throw new Error(response.statusText);\n        }\n        image = await response.blob();\n      } else {\n        image = data.file = rawData;\n      }\n\n      if (image.type === \"image/svg+xml\") {\n        // Unfortunately, createImageBitmap doesn't work with SVG images.\n        // (see https://bugzilla.mozilla.org/1841972).\n        const mustRemoveAspectRatioPromise = ImageManager._isSVGFittingCanvas;\n        const fileReader = new FileReader();\n        const imageElement = new Image();\n        const imagePromise = new Promise((resolve, reject) => {\n          imageElement.onload = () => {\n            data.bitmap = imageElement;\n            data.isSvg = true;\n            resolve();\n          };\n          fileReader.onload = async () => {\n            const url = (data.svgUrl = fileReader.result);\n            // We need to set the preserveAspectRatio to none in order to let\n            // the image fits the canvas when resizing.\n            imageElement.src = (await mustRemoveAspectRatioPromise)\n              ? `${url}#svgView(preserveAspectRatio(none))`\n              : url;\n          };\n          imageElement.onerror = fileReader.onerror = reject;\n        });\n        fileReader.readAsDataURL(image);\n        await imagePromise;\n      } else {\n        data.bitmap = await createImageBitmap(image);\n      }\n      data.refCounter = 1;\n    } catch (e) {\n      console.error(e);\n      data = null;\n    }\n    this.#cache.set(key, data);\n    if (data) {\n      this.#cache.set(data.id, data);\n    }\n    return data;\n  }\n\n  async getFromFile(file) {\n    const { lastModified, name, size, type } = file;\n    return this.#get(`${lastModified}_${name}_${size}_${type}`, file);\n  }\n\n  async getFromUrl(url) {\n    return this.#get(url, url);\n  }\n\n  async getFromId(id) {\n    this.#cache ||= new Map();\n    const data = this.#cache.get(id);\n    if (!data) {\n      return null;\n    }\n    if (data.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n\n    if (data.file) {\n      return this.getFromFile(data.file);\n    }\n    return this.getFromUrl(data.url);\n  }\n\n  getSvgUrl(id) {\n    const data = this.#cache.get(id);\n    if (!data?.isSvg) {\n      return null;\n    }\n    return data.svgUrl;\n  }\n\n  deleteId(id) {\n    this.#cache ||= new Map();\n    const data = this.#cache.get(id);\n    if (!data) {\n      return;\n    }\n    data.refCounter -= 1;\n    if (data.refCounter !== 0) {\n      return;\n    }\n    data.bitmap = null;\n  }\n\n  // We can use the id only if it belongs this manager.\n  // We must take care of having the right manager because we can copy/paste\n  // some images from other documents, hence it'd be a pity to use an id from an\n  // other manager.\n  isValidId(id) {\n    return id.startsWith(`image_${this.#baseId}_`);\n  }\n}\n\n/**\n * Class to handle undo/redo.\n * Commands are just saved in a buffer.\n * If we hit some memory issues we could likely use a circular buffer.\n * It has to be used as a singleton.\n */\nclass CommandManager {\n  #commands = [];\n\n  #locked = false;\n\n  #maxSize;\n\n  #position = -1;\n\n  constructor(maxSize = 128) {\n    this.#maxSize = maxSize;\n  }\n\n  /**\n   * @typedef {Object} addOptions\n   * @property {function} cmd\n   * @property {function} undo\n   * @property {boolean} mustExec\n   * @property {number} type\n   * @property {boolean} overwriteIfSameType\n   * @property {boolean} keepUndo\n   */\n\n  /**\n   * Add a new couple of commands to be used in case of redo/undo.\n   * @param {addOptions} options\n   */\n  add({\n    cmd,\n    undo,\n    mustExec,\n    type = NaN,\n    overwriteIfSameType = false,\n    keepUndo = false,\n  }) {\n    if (mustExec) {\n      cmd();\n    }\n\n    if (this.#locked) {\n      return;\n    }\n\n    const save = { cmd, undo, type };\n    if (this.#position === -1) {\n      if (this.#commands.length > 0) {\n        // All the commands have been undone and then a new one is added\n        // hence we clear the queue.\n        this.#commands.length = 0;\n      }\n      this.#position = 0;\n      this.#commands.push(save);\n      return;\n    }\n\n    if (overwriteIfSameType && this.#commands[this.#position].type === type) {\n      // For example when we change a color we don't want to\n      // be able to undo all the steps, hence we only want to\n      // keep the last undoable action in this sequence of actions.\n      if (keepUndo) {\n        save.undo = this.#commands[this.#position].undo;\n      }\n      this.#commands[this.#position] = save;\n      return;\n    }\n\n    const next = this.#position + 1;\n    if (next === this.#maxSize) {\n      this.#commands.splice(0, 1);\n    } else {\n      this.#position = next;\n      if (next < this.#commands.length) {\n        this.#commands.splice(next);\n      }\n    }\n\n    this.#commands.push(save);\n  }\n\n  /**\n   * Undo the last command.\n   */\n  undo() {\n    if (this.#position === -1) {\n      // Nothing to undo.\n      return;\n    }\n\n    // Avoid to insert something during the undo execution.\n    this.#locked = true;\n    this.#commands[this.#position].undo();\n    this.#locked = false;\n\n    this.#position -= 1;\n  }\n\n  /**\n   * Redo the last command.\n   */\n  redo() {\n    if (this.#position < this.#commands.length - 1) {\n      this.#position += 1;\n\n      // Avoid to insert something during the redo execution.\n      this.#locked = true;\n      this.#commands[this.#position].cmd();\n      this.#locked = false;\n    }\n  }\n\n  /**\n   * Check if there is something to undo.\n   * @returns {boolean}\n   */\n  hasSomethingToUndo() {\n    return this.#position !== -1;\n  }\n\n  /**\n   * Check if there is something to redo.\n   * @returns {boolean}\n   */\n  hasSomethingToRedo() {\n    return this.#position < this.#commands.length - 1;\n  }\n\n  destroy() {\n    this.#commands = null;\n  }\n}\n\n/**\n * Class to handle the different keyboards shortcuts we can have on mac or\n * non-mac OSes.\n */\nclass KeyboardManager {\n  /**\n   * Create a new keyboard manager class.\n   * @param {Array<Array>} callbacks - an array containing an array of shortcuts\n   * and a callback to call.\n   * A shortcut is a string like `ctrl+c` or `mac+ctrl+c` for mac OS.\n   */\n  constructor(callbacks) {\n    this.buffer = [];\n    this.callbacks = new Map();\n    this.allKeys = new Set();\n\n    const { isMac } = FeatureTest.platform;\n    for (const [keys, callback, options = {}] of callbacks) {\n      for (const key of keys) {\n        const isMacKey = key.startsWith(\"mac+\");\n        if (isMac && isMacKey) {\n          this.callbacks.set(key.slice(4), { callback, options });\n          this.allKeys.add(key.split(\"+\").at(-1));\n        } else if (!isMac && !isMacKey) {\n          this.callbacks.set(key, { callback, options });\n          this.allKeys.add(key.split(\"+\").at(-1));\n        }\n      }\n    }\n  }\n\n  /**\n   * Serialize an event into a string in order to match a\n   * potential key for a callback.\n   * @param {KeyboardEvent} event\n   * @returns {string}\n   */\n  #serialize(event) {\n    if (event.altKey) {\n      this.buffer.push(\"alt\");\n    }\n    if (event.ctrlKey) {\n      this.buffer.push(\"ctrl\");\n    }\n    if (event.metaKey) {\n      this.buffer.push(\"meta\");\n    }\n    if (event.shiftKey) {\n      this.buffer.push(\"shift\");\n    }\n    this.buffer.push(event.key);\n    const str = this.buffer.join(\"+\");\n    this.buffer.length = 0;\n\n    return str;\n  }\n\n  /**\n   * Execute a callback, if any, for a given keyboard event.\n   * The self is used as `this` in the callback.\n   * @param {Object} self\n   * @param {KeyboardEvent} event\n   * @returns\n   */\n  exec(self, event) {\n    if (!this.allKeys.has(event.key)) {\n      return;\n    }\n    const info = this.callbacks.get(this.#serialize(event));\n    if (!info) {\n      return;\n    }\n    const {\n      callback,\n      options: { bubbles = false, args = [], checker = null },\n    } = info;\n\n    if (checker && !checker(self, event)) {\n      return;\n    }\n    callback.bind(self, ...args)();\n\n    // For example, ctrl+s in a FreeText must be handled by the viewer, hence\n    // the event must bubble.\n    if (!bubbles) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  }\n}\n\nclass ColorManager {\n  static _colorsMapping = new Map([\n    [\"CanvasText\", [0, 0, 0]],\n    [\"Canvas\", [255, 255, 255]],\n  ]);\n\n  get _colors() {\n    if (\n      typeof PDFJSDev !== \"undefined\" &&\n      PDFJSDev.test(\"LIB\") &&\n      typeof document === \"undefined\"\n    ) {\n      return shadow(this, \"_colors\", ColorManager._colorsMapping);\n    }\n\n    const colors = new Map([\n      [\"CanvasText\", null],\n      [\"Canvas\", null],\n    ]);\n    getColorValues(colors);\n    return shadow(this, \"_colors\", colors);\n  }\n\n  /**\n   * In High Contrast Mode, the color on the screen is not always the\n   * real color used in the pdf.\n   * For example in some cases white can appear to be black but when saving\n   * we want to have white.\n   * @param {string} color\n   * @returns {Array<number>}\n   */\n  convert(color) {\n    const rgb = getRGB(color);\n    if (!window.matchMedia(\"(forced-colors: active)\").matches) {\n      return rgb;\n    }\n\n    for (const [name, RGB] of this._colors) {\n      if (RGB.every((x, i) => x === rgb[i])) {\n        return ColorManager._colorsMapping.get(name);\n      }\n    }\n    return rgb;\n  }\n\n  /**\n   * An input element must have its color value as a hex string\n   * and not as color name.\n   * So this function converts a name into an hex string.\n   * @param {string} name\n   * @returns {string}\n   */\n  getHexCode(name) {\n    const rgb = this._colors.get(name);\n    if (!rgb) {\n      return name;\n    }\n    return Util.makeHexColor(...rgb);\n  }\n}\n\n/**\n * A pdf has several pages and each of them when it will rendered\n * will have an AnnotationEditorLayer which will contain the some\n * new Annotations associated to an editor in order to modify them.\n *\n * This class is used to manage all the different layers, editors and\n * some action like copy/paste, undo/redo, ...\n */\nclass AnnotationEditorUIManager {\n  #activeEditor = null;\n\n  #allEditors = new Map();\n\n  #allLayers = new Map();\n\n  #altTextManager = null;\n\n  #annotationStorage = null;\n\n  #commandManager = new CommandManager();\n\n  #currentPageIndex = 0;\n\n  #deletedAnnotationsElementIds = new Set();\n\n  #draggingEditors = null;\n\n  #editorTypes = null;\n\n  #editorsToRescale = new Set();\n\n  #filterFactory = null;\n\n  #idManager = new IdManager();\n\n  #isEnabled = false;\n\n  #isWaiting = false;\n\n  #lastActiveElement = null;\n\n  #mode = AnnotationEditorType.NONE;\n\n  #selectedEditors = new Set();\n\n  #pageColors = null;\n\n  #boundBlur = this.blur.bind(this);\n\n  #boundFocus = this.focus.bind(this);\n\n  #boundCopy = this.copy.bind(this);\n\n  #boundCut = this.cut.bind(this);\n\n  #boundPaste = this.paste.bind(this);\n\n  #boundKeydown = this.keydown.bind(this);\n\n  #boundOnEditingAction = this.onEditingAction.bind(this);\n\n  #boundOnPageChanging = this.onPageChanging.bind(this);\n\n  #boundOnScaleChanging = this.onScaleChanging.bind(this);\n\n  #boundOnRotationChanging = this.onRotationChanging.bind(this);\n\n  #previousStates = {\n    isEditing: false,\n    isEmpty: true,\n    hasSomethingToUndo: false,\n    hasSomethingToRedo: false,\n    hasSelectedEditor: false,\n  };\n\n  #translation = [0, 0];\n\n  #translationTimeoutId = null;\n\n  #container = null;\n\n  #viewer = null;\n\n  static TRANSLATE_SMALL = 1; // page units.\n\n  static TRANSLATE_BIG = 10; // page units.\n\n  static get _keyboardManager() {\n    const proto = AnnotationEditorUIManager.prototype;\n\n    const arrowChecker = self => {\n      // If the focused element is an input, we don't want to handle the arrow.\n      // For example, sliders can be controlled with the arrow keys.\n      const { activeElement } = document;\n      return (\n        activeElement &&\n        self.#container.contains(activeElement) &&\n        self.hasSomethingToControl()\n      );\n    };\n\n    const small = this.TRANSLATE_SMALL;\n    const big = this.TRANSLATE_BIG;\n\n    return shadow(\n      this,\n      \"_keyboardManager\",\n      new KeyboardManager([\n        [[\"ctrl+a\", \"mac+meta+a\"], proto.selectAll],\n        [[\"ctrl+z\", \"mac+meta+z\"], proto.undo],\n        [\n          // On mac, depending of the OS version, the event.key is either \"z\" or\n          // \"Z\" when the user presses \"meta+shift+z\".\n          [\n            \"ctrl+y\",\n            \"ctrl+shift+z\",\n            \"mac+meta+shift+z\",\n            \"ctrl+shift+Z\",\n            \"mac+meta+shift+Z\",\n          ],\n          proto.redo,\n        ],\n        [\n          [\n            \"Backspace\",\n            \"alt+Backspace\",\n            \"ctrl+Backspace\",\n            \"shift+Backspace\",\n            \"mac+Backspace\",\n            \"mac+alt+Backspace\",\n            \"mac+ctrl+Backspace\",\n            \"Delete\",\n            \"ctrl+Delete\",\n            \"shift+Delete\",\n            \"mac+Delete\",\n          ],\n          proto.delete,\n        ],\n        [[\"Escape\", \"mac+Escape\"], proto.unselectAll],\n        [\n          [\"ArrowLeft\", \"mac+ArrowLeft\"],\n          proto.translateSelectedEditors,\n          { args: [-small, 0], checker: arrowChecker },\n        ],\n        [\n          [\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"],\n          proto.translateSelectedEditors,\n          { args: [-big, 0], checker: arrowChecker },\n        ],\n        [\n          [\"ArrowRight\", \"mac+ArrowRight\"],\n          proto.translateSelectedEditors,\n          { args: [small, 0], checker: arrowChecker },\n        ],\n        [\n          [\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"],\n          proto.translateSelectedEditors,\n          { args: [big, 0], checker: arrowChecker },\n        ],\n        [\n          [\"ArrowUp\", \"mac+ArrowUp\"],\n          proto.translateSelectedEditors,\n          { args: [0, -small], checker: arrowChecker },\n        ],\n        [\n          [\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"],\n          proto.translateSelectedEditors,\n          { args: [0, -big], checker: arrowChecker },\n        ],\n        [\n          [\"ArrowDown\", \"mac+ArrowDown\"],\n          proto.translateSelectedEditors,\n          { args: [0, small], checker: arrowChecker },\n        ],\n        [\n          [\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"],\n          proto.translateSelectedEditors,\n          { args: [0, big], checker: arrowChecker },\n        ],\n      ])\n    );\n  }\n\n  constructor(\n    container,\n    viewer,\n    altTextManager,\n    eventBus,\n    pdfDocument,\n    pageColors\n  ) {\n    this.#container = container;\n    this.#viewer = viewer;\n    this.#altTextManager = altTextManager;\n    this._eventBus = eventBus;\n    this._eventBus._on(\"editingaction\", this.#boundOnEditingAction);\n    this._eventBus._on(\"pagechanging\", this.#boundOnPageChanging);\n    this._eventBus._on(\"scalechanging\", this.#boundOnScaleChanging);\n    this._eventBus._on(\"rotationchanging\", this.#boundOnRotationChanging);\n    this.#annotationStorage = pdfDocument.annotationStorage;\n    this.#filterFactory = pdfDocument.filterFactory;\n    this.#pageColors = pageColors;\n    this.viewParameters = {\n      realScale: PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: 0,\n    };\n  }\n\n  destroy() {\n    this.#removeKeyboardManager();\n    this.#removeFocusManager();\n    this._eventBus._off(\"editingaction\", this.#boundOnEditingAction);\n    this._eventBus._off(\"pagechanging\", this.#boundOnPageChanging);\n    this._eventBus._off(\"scalechanging\", this.#boundOnScaleChanging);\n    this._eventBus._off(\"rotationchanging\", this.#boundOnRotationChanging);\n    for (const layer of this.#allLayers.values()) {\n      layer.destroy();\n    }\n    this.#allLayers.clear();\n    this.#allEditors.clear();\n    this.#editorsToRescale.clear();\n    this.#activeEditor = null;\n    this.#selectedEditors.clear();\n    this.#commandManager.destroy();\n    this.#altTextManager.destroy();\n  }\n\n  get hcmFilter() {\n    return shadow(\n      this,\n      \"hcmFilter\",\n      this.#pageColors\n        ? this.#filterFactory.addHCMFilter(\n            this.#pageColors.foreground,\n            this.#pageColors.background\n          )\n        : \"none\"\n    );\n  }\n\n  get direction() {\n    return shadow(\n      this,\n      \"direction\",\n      getComputedStyle(this.#container).direction\n    );\n  }\n\n  editAltText(editor) {\n    this.#altTextManager?.editAltText(this, editor);\n  }\n\n  onPageChanging({ pageNumber }) {\n    this.#currentPageIndex = pageNumber - 1;\n  }\n\n  focusMainContainer() {\n    this.#container.focus();\n  }\n\n  findParent(x, y) {\n    for (const layer of this.#allLayers.values()) {\n      const {\n        x: layerX,\n        y: layerY,\n        width,\n        height,\n      } = layer.div.getBoundingClientRect();\n      if (\n        x >= layerX &&\n        x <= layerX + width &&\n        y >= layerY &&\n        y <= layerY + height\n      ) {\n        return layer;\n      }\n    }\n    return null;\n  }\n\n  disableUserSelect(value = false) {\n    this.#viewer.classList.toggle(\"noUserSelect\", value);\n  }\n\n  addShouldRescale(editor) {\n    this.#editorsToRescale.add(editor);\n  }\n\n  removeShouldRescale(editor) {\n    this.#editorsToRescale.delete(editor);\n  }\n\n  onScaleChanging({ scale }) {\n    this.commitOrRemove();\n    this.viewParameters.realScale = scale * PixelsPerInch.PDF_TO_CSS_UNITS;\n    for (const editor of this.#editorsToRescale) {\n      editor.onScaleChanging();\n    }\n  }\n\n  onRotationChanging({ pagesRotation }) {\n    this.commitOrRemove();\n    this.viewParameters.rotation = pagesRotation;\n  }\n\n  /**\n   * Add an editor in the annotation storage.\n   * @param {AnnotationEditor} editor\n   */\n  addToAnnotationStorage(editor) {\n    if (\n      !editor.isEmpty() &&\n      this.#annotationStorage &&\n      !this.#annotationStorage.has(editor.id)\n    ) {\n      this.#annotationStorage.setValue(editor.id, editor);\n    }\n  }\n\n  #addFocusManager() {\n    window.addEventListener(\"focus\", this.#boundFocus);\n    window.addEventListener(\"blur\", this.#boundBlur);\n  }\n\n  #removeFocusManager() {\n    window.removeEventListener(\"focus\", this.#boundFocus);\n    window.removeEventListener(\"blur\", this.#boundBlur);\n  }\n\n  blur() {\n    if (!this.hasSelection) {\n      return;\n    }\n    // When several editors are selected and the window loses focus, we want to\n    // keep the last active element in order to be able to focus it again when\n    // the window gets the focus back but we don't want to trigger any focus\n    // callbacks else only one editor will be selected.\n    const { activeElement } = document;\n    for (const editor of this.#selectedEditors) {\n      if (editor.div.contains(activeElement)) {\n        this.#lastActiveElement = [editor, activeElement];\n        editor._focusEventsAllowed = false;\n        break;\n      }\n    }\n  }\n\n  focus() {\n    if (!this.#lastActiveElement) {\n      return;\n    }\n    const [lastEditor, lastActiveElement] = this.#lastActiveElement;\n    this.#lastActiveElement = null;\n    lastActiveElement.addEventListener(\n      \"focusin\",\n      () => {\n        lastEditor._focusEventsAllowed = true;\n      },\n      { once: true }\n    );\n    lastActiveElement.focus();\n  }\n\n  #addKeyboardManager() {\n    // The keyboard events are caught at the container level in order to be able\n    // to execute some callbacks even if the current page doesn't have focus.\n    window.addEventListener(\"keydown\", this.#boundKeydown, { capture: true });\n  }\n\n  #removeKeyboardManager() {\n    window.removeEventListener(\"keydown\", this.#boundKeydown, {\n      capture: true,\n    });\n  }\n\n  #addCopyPasteListeners() {\n    document.addEventListener(\"copy\", this.#boundCopy);\n    document.addEventListener(\"cut\", this.#boundCut);\n    document.addEventListener(\"paste\", this.#boundPaste);\n  }\n\n  #removeCopyPasteListeners() {\n    document.removeEventListener(\"copy\", this.#boundCopy);\n    document.removeEventListener(\"cut\", this.#boundCut);\n    document.removeEventListener(\"paste\", this.#boundPaste);\n  }\n\n  addEditListeners() {\n    this.#addKeyboardManager();\n    this.#addCopyPasteListeners();\n  }\n\n  removeEditListeners() {\n    this.#removeKeyboardManager();\n    this.#removeCopyPasteListeners();\n  }\n\n  /**\n   * Copy callback.\n   * @param {ClipboardEvent} event\n   */\n  copy(event) {\n    event.preventDefault();\n\n    // An editor is being edited so just commit it.\n    this.#activeEditor?.commitOrRemove();\n\n    if (!this.hasSelection) {\n      return;\n    }\n\n    const editors = [];\n    for (const editor of this.#selectedEditors) {\n      const serialized = editor.serialize(/* isForCopying = */ true);\n      if (serialized) {\n        editors.push(serialized);\n      }\n    }\n    if (editors.length === 0) {\n      return;\n    }\n\n    event.clipboardData.setData(\"application/pdfjs\", JSON.stringify(editors));\n  }\n\n  /**\n   * Cut callback.\n   * @param {ClipboardEvent} event\n   */\n  cut(event) {\n    this.copy(event);\n    this.delete();\n  }\n\n  /**\n   * Paste callback.\n   * @param {ClipboardEvent} event\n   */\n  paste(event) {\n    event.preventDefault();\n    const { clipboardData } = event;\n    for (const item of clipboardData.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(item.type)) {\n          editorType.paste(item, this.currentLayer);\n          return;\n        }\n      }\n    }\n\n    let data = clipboardData.getData(\"application/pdfjs\");\n    if (!data) {\n      return;\n    }\n\n    try {\n      data = JSON.parse(data);\n    } catch (ex) {\n      warn(`paste: \"${ex.message}\".`);\n      return;\n    }\n\n    if (!Array.isArray(data)) {\n      return;\n    }\n\n    this.unselectAll();\n    const layer = this.currentLayer;\n\n    try {\n      const newEditors = [];\n      for (const editor of data) {\n        const deserializedEditor = layer.deserialize(editor);\n        if (!deserializedEditor) {\n          return;\n        }\n        newEditors.push(deserializedEditor);\n      }\n\n      const cmd = () => {\n        for (const editor of newEditors) {\n          this.#addEditorToLayer(editor);\n        }\n        this.#selectEditors(newEditors);\n      };\n      const undo = () => {\n        for (const editor of newEditors) {\n          editor.remove();\n        }\n      };\n      this.addCommands({ cmd, undo, mustExec: true });\n    } catch (ex) {\n      warn(`paste: \"${ex.message}\".`);\n    }\n  }\n\n  /**\n   * Keydown callback.\n   * @param {KeyboardEvent} event\n   */\n  keydown(event) {\n    if (!this.getActive()?.shouldGetKeyboardEvents()) {\n      AnnotationEditorUIManager._keyboardManager.exec(this, event);\n    }\n  }\n\n  /**\n   * Execute an action for a given name.\n   * For example, the user can click on the \"Undo\" entry in the context menu\n   * and it'll trigger the undo action.\n   * @param {Object} details\n   */\n  onEditingAction(details) {\n    if ([\"undo\", \"redo\", \"delete\", \"selectAll\"].includes(details.name)) {\n      this[details.name]();\n    }\n  }\n\n  /**\n   * Update the different possible states of this manager, e.g. is there\n   * something to undo, redo, ...\n   * @param {Object} details\n   */\n  #dispatchUpdateStates(details) {\n    const hasChanged = Object.entries(details).some(\n      ([key, value]) => this.#previousStates[key] !== value\n    );\n\n    if (hasChanged) {\n      this._eventBus.dispatch(\"annotationeditorstateschanged\", {\n        source: this,\n        details: Object.assign(this.#previousStates, details),\n      });\n    }\n  }\n\n  #dispatchUpdateUI(details) {\n    this._eventBus.dispatch(\"annotationeditorparamschanged\", {\n      source: this,\n      details,\n    });\n  }\n\n  /**\n   * Set the editing state.\n   * It can be useful to temporarily disable it when the user is editing a\n   * FreeText annotation.\n   * @param {boolean} isEditing\n   */\n  setEditingState(isEditing) {\n    if (isEditing) {\n      this.#addFocusManager();\n      this.#addKeyboardManager();\n      this.#addCopyPasteListeners();\n      this.#dispatchUpdateStates({\n        isEditing: this.#mode !== AnnotationEditorType.NONE,\n        isEmpty: this.#isEmpty(),\n        hasSomethingToUndo: this.#commandManager.hasSomethingToUndo(),\n        hasSomethingToRedo: this.#commandManager.hasSomethingToRedo(),\n        hasSelectedEditor: false,\n      });\n    } else {\n      this.#removeFocusManager();\n      this.#removeKeyboardManager();\n      this.#removeCopyPasteListeners();\n      this.#dispatchUpdateStates({\n        isEditing: false,\n      });\n      this.disableUserSelect(false);\n    }\n  }\n\n  registerEditorTypes(types) {\n    if (this.#editorTypes) {\n      return;\n    }\n    this.#editorTypes = types;\n    for (const editorType of this.#editorTypes) {\n      this.#dispatchUpdateUI(editorType.defaultPropertiesToUpdate);\n    }\n  }\n\n  /**\n   * Get an id.\n   * @returns {string}\n   */\n  getId() {\n    return this.#idManager.getId();\n  }\n\n  get currentLayer() {\n    return this.#allLayers.get(this.#currentPageIndex);\n  }\n\n  getLayer(pageIndex) {\n    return this.#allLayers.get(pageIndex);\n  }\n\n  get currentPageIndex() {\n    return this.#currentPageIndex;\n  }\n\n  /**\n   * Add a new layer for a page which will contains the editors.\n   * @param {AnnotationEditorLayer} layer\n   */\n  addLayer(layer) {\n    this.#allLayers.set(layer.pageIndex, layer);\n    if (this.#isEnabled) {\n      layer.enable();\n    } else {\n      layer.disable();\n    }\n  }\n\n  /**\n   * Remove a layer.\n   * @param {AnnotationEditorLayer} layer\n   */\n  removeLayer(layer) {\n    this.#allLayers.delete(layer.pageIndex);\n  }\n\n  /**\n   * Change the editor mode (None, FreeText, Ink, ...)\n   * @param {number} mode\n   * @param {string|null} editId\n   */\n  updateMode(mode, editId = null) {\n    if (this.#mode === mode) {\n      return;\n    }\n    this.#mode = mode;\n    if (mode === AnnotationEditorType.NONE) {\n      this.setEditingState(false);\n      this.#disableAll();\n      return;\n    }\n    this.setEditingState(true);\n    this.#enableAll();\n    this.unselectAll();\n    for (const layer of this.#allLayers.values()) {\n      layer.updateMode(mode);\n    }\n    if (!editId) {\n      return;\n    }\n    for (const editor of this.#allEditors.values()) {\n      if (editor.annotationElementId === editId) {\n        this.setSelected(editor);\n        editor.enterInEditMode();\n        break;\n      }\n    }\n  }\n\n  /**\n   * Update the toolbar if it's required to reflect the tool currently used.\n   * @param {number} mode\n   * @returns {undefined}\n   */\n  updateToolbar(mode) {\n    if (mode === this.#mode) {\n      return;\n    }\n    this._eventBus.dispatch(\"switchannotationeditormode\", {\n      source: this,\n      mode,\n    });\n  }\n\n  /**\n   * Update a parameter in the current editor or globally.\n   * @param {number} type\n   * @param {*} value\n   */\n  updateParams(type, value) {\n    if (!this.#editorTypes) {\n      return;\n    }\n    if (type === AnnotationEditorParamsType.CREATE) {\n      this.currentLayer.addNewEditor(type);\n      return;\n    }\n\n    for (const editor of this.#selectedEditors) {\n      editor.updateParams(type, value);\n    }\n\n    for (const editorType of this.#editorTypes) {\n      editorType.updateDefaultParams(type, value);\n    }\n  }\n\n  enableWaiting(mustWait = false) {\n    if (this.#isWaiting === mustWait) {\n      return;\n    }\n    this.#isWaiting = mustWait;\n    for (const layer of this.#allLayers.values()) {\n      if (mustWait) {\n        layer.disableClick();\n      } else {\n        layer.enableClick();\n      }\n      layer.div.classList.toggle(\"waiting\", mustWait);\n    }\n  }\n\n  /**\n   * Enable all the layers.\n   */\n  #enableAll() {\n    if (!this.#isEnabled) {\n      this.#isEnabled = true;\n      for (const layer of this.#allLayers.values()) {\n        layer.enable();\n      }\n    }\n  }\n\n  /**\n   * Disable all the layers.\n   */\n  #disableAll() {\n    this.unselectAll();\n    if (this.#isEnabled) {\n      this.#isEnabled = false;\n      for (const layer of this.#allLayers.values()) {\n        layer.disable();\n      }\n    }\n  }\n\n  /**\n   * Get all the editors belonging to a given page.\n   * @param {number} pageIndex\n   * @returns {Array<AnnotationEditor>}\n   */\n  getEditors(pageIndex) {\n    const editors = [];\n    for (const editor of this.#allEditors.values()) {\n      if (editor.pageIndex === pageIndex) {\n        editors.push(editor);\n      }\n    }\n    return editors;\n  }\n\n  /**\n   * Get an editor with the given id.\n   * @param {string} id\n   * @returns {AnnotationEditor}\n   */\n  getEditor(id) {\n    return this.#allEditors.get(id);\n  }\n\n  /**\n   * Add a new editor.\n   * @param {AnnotationEditor} editor\n   */\n  addEditor(editor) {\n    this.#allEditors.set(editor.id, editor);\n  }\n\n  /**\n   * Remove an editor.\n   * @param {AnnotationEditor} editor\n   */\n  removeEditor(editor) {\n    this.#allEditors.delete(editor.id);\n    this.unselect(editor);\n    if (\n      !editor.annotationElementId ||\n      !this.#deletedAnnotationsElementIds.has(editor.annotationElementId)\n    ) {\n      this.#annotationStorage?.remove(editor.id);\n    }\n  }\n\n  /**\n   * The annotation element with the given id has been deleted.\n   * @param {AnnotationEditor} editor\n   */\n  addDeletedAnnotationElement(editor) {\n    this.#deletedAnnotationsElementIds.add(editor.annotationElementId);\n    editor.deleted = true;\n  }\n\n  /**\n   * Check if the annotation element with the given id has been deleted.\n   * @param {string} annotationElementId\n   * @returns {boolean}\n   */\n  isDeletedAnnotationElement(annotationElementId) {\n    return this.#deletedAnnotationsElementIds.has(annotationElementId);\n  }\n\n  /**\n   * The annotation element with the given id have been restored.\n   * @param {AnnotationEditor} editor\n   */\n  removeDeletedAnnotationElement(editor) {\n    this.#deletedAnnotationsElementIds.delete(editor.annotationElementId);\n    editor.deleted = false;\n  }\n\n  /**\n   * Add an editor to the layer it belongs to or add it to the global map.\n   * @param {AnnotationEditor} editor\n   */\n  #addEditorToLayer(editor) {\n    const layer = this.#allLayers.get(editor.pageIndex);\n    if (layer) {\n      layer.addOrRebuild(editor);\n    } else {\n      this.addEditor(editor);\n    }\n  }\n\n  /**\n   * Set the given editor as the active one.\n   * @param {AnnotationEditor} editor\n   */\n  setActiveEditor(editor) {\n    if (this.#activeEditor === editor) {\n      return;\n    }\n\n    this.#activeEditor = editor;\n    if (editor) {\n      this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    }\n  }\n\n  /**\n   * Add or remove an editor the current selection.\n   * @param {AnnotationEditor} editor\n   */\n  toggleSelected(editor) {\n    if (this.#selectedEditors.has(editor)) {\n      this.#selectedEditors.delete(editor);\n      editor.unselect();\n      this.#dispatchUpdateStates({\n        hasSelectedEditor: this.hasSelection,\n      });\n      return;\n    }\n    this.#selectedEditors.add(editor);\n    editor.select();\n    this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: true,\n    });\n  }\n\n  /**\n   * Set the last selected editor.\n   * @param {AnnotationEditor} editor\n   */\n  setSelected(editor) {\n    for (const ed of this.#selectedEditors) {\n      if (ed !== editor) {\n        ed.unselect();\n      }\n    }\n    this.#selectedEditors.clear();\n\n    this.#selectedEditors.add(editor);\n    editor.select();\n    this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: true,\n    });\n  }\n\n  /**\n   * Check if the editor is selected.\n   * @param {AnnotationEditor} editor\n   */\n  isSelected(editor) {\n    return this.#selectedEditors.has(editor);\n  }\n\n  /**\n   * Unselect an editor.\n   * @param {AnnotationEditor} editor\n   */\n  unselect(editor) {\n    editor.unselect();\n    this.#selectedEditors.delete(editor);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: this.hasSelection,\n    });\n  }\n\n  get hasSelection() {\n    return this.#selectedEditors.size !== 0;\n  }\n\n  /**\n   * Undo the last command.\n   */\n  undo() {\n    this.#commandManager.undo();\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: this.#commandManager.hasSomethingToUndo(),\n      hasSomethingToRedo: true,\n      isEmpty: this.#isEmpty(),\n    });\n  }\n\n  /**\n   * Redo the last undoed command.\n   */\n  redo() {\n    this.#commandManager.redo();\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: true,\n      hasSomethingToRedo: this.#commandManager.hasSomethingToRedo(),\n      isEmpty: this.#isEmpty(),\n    });\n  }\n\n  /**\n   * Add a command to execute (cmd) and another one to undo it.\n   * @param {Object} params\n   */\n  addCommands(params) {\n    this.#commandManager.add(params);\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: true,\n      hasSomethingToRedo: false,\n      isEmpty: this.#isEmpty(),\n    });\n  }\n\n  #isEmpty() {\n    if (this.#allEditors.size === 0) {\n      return true;\n    }\n\n    if (this.#allEditors.size === 1) {\n      for (const editor of this.#allEditors.values()) {\n        return editor.isEmpty();\n      }\n    }\n\n    return false;\n  }\n\n  /**\n   * Delete the current editor or all.\n   */\n  delete() {\n    this.commitOrRemove();\n    if (!this.hasSelection) {\n      return;\n    }\n\n    const editors = [...this.#selectedEditors];\n    const cmd = () => {\n      for (const editor of editors) {\n        editor.remove();\n      }\n    };\n    const undo = () => {\n      for (const editor of editors) {\n        this.#addEditorToLayer(editor);\n      }\n    };\n\n    this.addCommands({ cmd, undo, mustExec: true });\n  }\n\n  commitOrRemove() {\n    // An editor is being edited so just commit it.\n    this.#activeEditor?.commitOrRemove();\n  }\n\n  hasSomethingToControl() {\n    return this.#activeEditor || this.hasSelection;\n  }\n\n  /**\n   * Select the editors.\n   * @param {Array<AnnotationEditor>} editors\n   */\n  #selectEditors(editors) {\n    this.#selectedEditors.clear();\n    for (const editor of editors) {\n      if (editor.isEmpty()) {\n        continue;\n      }\n      this.#selectedEditors.add(editor);\n      editor.select();\n    }\n    this.#dispatchUpdateStates({ hasSelectedEditor: true });\n  }\n\n  /**\n   * Select all the editors.\n   */\n  selectAll() {\n    for (const editor of this.#selectedEditors) {\n      editor.commit();\n    }\n    this.#selectEditors(this.#allEditors.values());\n  }\n\n  /**\n   * Unselect all the selected editors.\n   */\n  unselectAll() {\n    if (this.#activeEditor) {\n      // An editor is being edited so just commit it.\n      this.#activeEditor.commitOrRemove();\n      return;\n    }\n\n    if (!this.hasSelection) {\n      return;\n    }\n    for (const editor of this.#selectedEditors) {\n      editor.unselect();\n    }\n    this.#selectedEditors.clear();\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: false,\n    });\n  }\n\n  translateSelectedEditors(x, y, noCommit = false) {\n    if (!noCommit) {\n      this.commitOrRemove();\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n\n    this.#translation[0] += x;\n    this.#translation[1] += y;\n    const [totalX, totalY] = this.#translation;\n    const editors = [...this.#selectedEditors];\n\n    // We don't want to have an undo/redo for each translation so we wait a bit\n    // before adding the command to the command manager.\n    const TIME_TO_WAIT = 1000;\n\n    if (this.#translationTimeoutId) {\n      clearTimeout(this.#translationTimeoutId);\n    }\n\n    this.#translationTimeoutId = setTimeout(() => {\n      this.#translationTimeoutId = null;\n      this.#translation[0] = this.#translation[1] = 0;\n\n      this.addCommands({\n        cmd: () => {\n          for (const editor of editors) {\n            if (this.#allEditors.has(editor.id)) {\n              editor.translateInPage(totalX, totalY);\n            }\n          }\n        },\n        undo: () => {\n          for (const editor of editors) {\n            if (this.#allEditors.has(editor.id)) {\n              editor.translateInPage(-totalX, -totalY);\n            }\n          }\n        },\n        mustExec: false,\n      });\n    }, TIME_TO_WAIT);\n\n    for (const editor of editors) {\n      editor.translateInPage(x, y);\n    }\n  }\n\n  /**\n   * Set up the drag session for moving the selected editors.\n   */\n  setUpDragSession() {\n    // Note: don't use any references to the editor's parent which can be null\n    // if the editor belongs to a destroyed page.\n    if (!this.hasSelection) {\n      return;\n    }\n    // Avoid to have spurious text selection in the text layer when dragging.\n    this.disableUserSelect(true);\n    this.#draggingEditors = new Map();\n    for (const editor of this.#selectedEditors) {\n      this.#draggingEditors.set(editor, {\n        savedX: editor.x,\n        savedY: editor.y,\n        savedPageIndex: editor.pageIndex,\n        newX: 0,\n        newY: 0,\n        newPageIndex: -1,\n      });\n    }\n  }\n\n  /**\n   * Ends the drag session.\n   * @returns {boolean} true if at least one editor has been moved.\n   */\n  endDragSession() {\n    if (!this.#draggingEditors) {\n      return false;\n    }\n    this.disableUserSelect(false);\n    const map = this.#draggingEditors;\n    this.#draggingEditors = null;\n    let mustBeAddedInUndoStack = false;\n\n    for (const [{ x, y, pageIndex }, value] of map) {\n      value.newX = x;\n      value.newY = y;\n      value.newPageIndex = pageIndex;\n      mustBeAddedInUndoStack ||=\n        x !== value.savedX ||\n        y !== value.savedY ||\n        pageIndex !== value.savedPageIndex;\n    }\n\n    if (!mustBeAddedInUndoStack) {\n      return false;\n    }\n\n    const move = (editor, x, y, pageIndex) => {\n      if (this.#allEditors.has(editor.id)) {\n        // The editor can be undone/redone on a page which is not visible (and\n        // which potentially has no annotation editor layer), hence we need to\n        // use the pageIndex instead of the parent.\n        const parent = this.#allLayers.get(pageIndex);\n        if (parent) {\n          editor._setParentAndPosition(parent, x, y);\n        } else {\n          editor.pageIndex = pageIndex;\n          editor.x = x;\n          editor.y = y;\n        }\n      }\n    };\n\n    this.addCommands({\n      cmd: () => {\n        for (const [editor, { newX, newY, newPageIndex }] of map) {\n          move(editor, newX, newY, newPageIndex);\n        }\n      },\n      undo: () => {\n        for (const [editor, { savedX, savedY, savedPageIndex }] of map) {\n          move(editor, savedX, savedY, savedPageIndex);\n        }\n      },\n      mustExec: true,\n    });\n\n    return true;\n  }\n\n  /**\n   * Drag the set of selected editors.\n   * @param {number} tx\n   * @param {number} ty\n   */\n  dragSelectedEditors(tx, ty) {\n    if (!this.#draggingEditors) {\n      return;\n    }\n    for (const editor of this.#draggingEditors.keys()) {\n      editor.drag(tx, ty);\n    }\n  }\n\n  /**\n   * Rebuild the editor (usually on undo/redo actions) on a potentially\n   * non-rendered page.\n   * @param {AnnotationEditor} editor\n   */\n  rebuild(editor) {\n    if (editor.parent === null) {\n      const parent = this.getLayer(editor.pageIndex);\n      if (parent) {\n        parent.changeParent(editor);\n        parent.addOrRebuild(editor);\n      } else {\n        this.addEditor(editor);\n        this.addToAnnotationStorage(editor);\n        editor.rebuild();\n      }\n    } else {\n      editor.parent.addOrRebuild(editor);\n    }\n  }\n\n  /**\n   * Is the current editor the one passed as argument?\n   * @param {AnnotationEditor} editor\n   * @returns\n   */\n  isActive(editor) {\n    return this.#activeEditor === editor;\n  }\n\n  /**\n   * Get the current active editor.\n   * @returns {AnnotationEditor|null}\n   */\n  getActive() {\n    return this.#activeEditor;\n  }\n\n  /**\n   * Get the current editor mode.\n   * @returns {number}\n   */\n  getMode() {\n    return this.#mode;\n  }\n\n  get imageManager() {\n    return shadow(this, \"imageManager\", new ImageManager());\n  }\n}\n\nexport {\n  AnnotationEditorUIManager,\n  bindEvents,\n  ColorManager,\n  CommandManager,\n  KeyboardManager,\n  opacityToHex,\n};\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  BaseCanvasFactory,\n  BaseCMapReaderFactory,\n  BaseFilterFactory,\n  BaseStandardFontDataFactory,\n  BaseSVGFactory,\n} from \"./base_factory.js\";\nimport {\n  BaseException,\n  FeatureTest,\n  shadow,\n  stringToBytes,\n  Util,\n  warn,\n} from \"../shared/util.js\";\n\nconst SVG_NS = \"http://www.w3.org/2000/svg\";\n\nclass PixelsPerInch {\n  static CSS = 96.0;\n\n  static PDF = 72.0;\n\n  static PDF_TO_CSS_UNITS = this.CSS / this.PDF;\n}\n\n/**\n * FilterFactory aims to create some SVG filters we can use when drawing an\n * image (or whatever) on a canvas.\n * Filters aren't applied with ctx.putImageData because it just overwrites the\n * underlying pixels.\n * With these filters, it's possible for example to apply some transfer maps on\n * an image without the need to apply them on the pixel arrays: the renderer\n * does the magic for us.\n */\nclass DOMFilterFactory extends BaseFilterFactory {\n  #_cache;\n\n  #_defs;\n\n  #docId;\n\n  #document;\n\n  #hcmFilter;\n\n  #hcmKey;\n\n  #hcmUrl;\n\n  #hcmHighlightFilter;\n\n  #hcmHighlightKey;\n\n  #hcmHighlightUrl;\n\n  #id = 0;\n\n  constructor({ docId, ownerDocument = globalThis.document } = {}) {\n    super();\n    this.#docId = docId;\n    this.#document = ownerDocument;\n  }\n\n  get #cache() {\n    return (this.#_cache ||= new Map());\n  }\n\n  get #defs() {\n    if (!this.#_defs) {\n      const div = this.#document.createElement(\"div\");\n      const { style } = div;\n      style.visibility = \"hidden\";\n      style.contain = \"strict\";\n      style.width = style.height = 0;\n      style.position = \"absolute\";\n      style.top = style.left = 0;\n      style.zIndex = -1;\n\n      const svg = this.#document.createElementNS(SVG_NS, \"svg\");\n      svg.setAttribute(\"width\", 0);\n      svg.setAttribute(\"height\", 0);\n      this.#_defs = this.#document.createElementNS(SVG_NS, \"defs\");\n      div.append(svg);\n      svg.append(this.#_defs);\n      this.#document.body.append(div);\n    }\n    return this.#_defs;\n  }\n\n  addFilter(maps) {\n    if (!maps) {\n      return \"none\";\n    }\n\n    // When a page is zoomed the page is re-drawn but the maps are likely\n    // the same.\n    let value = this.#cache.get(maps);\n    if (value) {\n      return value;\n    }\n\n    let tableR, tableG, tableB, key;\n    if (maps.length === 1) {\n      const mapR = maps[0];\n      const buffer = new Array(256);\n      for (let i = 0; i < 256; i++) {\n        buffer[i] = mapR[i] / 255;\n      }\n      key = tableR = tableG = tableB = buffer.join(\",\");\n    } else {\n      const [mapR, mapG, mapB] = maps;\n      const bufferR = new Array(256);\n      const bufferG = new Array(256);\n      const bufferB = new Array(256);\n      for (let i = 0; i < 256; i++) {\n        bufferR[i] = mapR[i] / 255;\n        bufferG[i] = mapG[i] / 255;\n        bufferB[i] = mapB[i] / 255;\n      }\n      tableR = bufferR.join(\",\");\n      tableG = bufferG.join(\",\");\n      tableB = bufferB.join(\",\");\n      key = `${tableR}${tableG}${tableB}`;\n    }\n\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(maps, value);\n      return value;\n    }\n\n    // We create a SVG filter: feComponentTransferElement\n    //  https://www.w3.org/TR/SVG11/filters.html#feComponentTransferElement\n\n    const id = `g_${this.#docId}_transfer_map_${this.#id++}`;\n    const url = `url(#${id})`;\n    this.#cache.set(maps, url);\n    this.#cache.set(key, url);\n\n    const filter = this.#createFilter(id);\n    this.#addTransferMapConversion(tableR, tableG, tableB, filter);\n\n    return url;\n  }\n\n  addHCMFilter(fgColor, bgColor) {\n    const key = `${fgColor}-${bgColor}`;\n    if (this.#hcmKey === key) {\n      return this.#hcmUrl;\n    }\n\n    this.#hcmKey = key;\n    this.#hcmUrl = \"none\";\n    this.#hcmFilter?.remove();\n\n    if (!fgColor || !bgColor) {\n      return this.#hcmUrl;\n    }\n\n    const fgRGB = this.#getRGB(fgColor);\n    fgColor = Util.makeHexColor(...fgRGB);\n    const bgRGB = this.#getRGB(bgColor);\n    bgColor = Util.makeHexColor(...bgRGB);\n    this.#defs.style.color = \"\";\n\n    if (\n      (fgColor === \"#000000\" && bgColor === \"#ffffff\") ||\n      fgColor === bgColor\n    ) {\n      return this.#hcmUrl;\n    }\n\n    // https://developer.mozilla.org/en-US/docs/Web/Accessibility/Understanding_Colors_and_Luminance\n    //\n    // Relative luminance:\n    // https://www.w3.org/TR/WCAG20/#relativeluminancedef\n    //\n    // We compute the rounded luminance of the default background color.\n    // Then for every color in the pdf, if its rounded luminance is the\n    // same as the background one then it's replaced by the new\n    // background color else by the foreground one.\n    const map = new Array(256);\n    for (let i = 0; i <= 255; i++) {\n      const x = i / 255;\n      map[i] = x <= 0.03928 ? x / 12.92 : ((x + 0.055) / 1.055) ** 2.4;\n    }\n    const table = map.join(\",\");\n\n    const id = `g_${this.#docId}_hcm_filter`;\n    const filter = (this.#hcmHighlightFilter = this.#createFilter(id));\n    this.#addTransferMapConversion(table, table, table, filter);\n    this.#addGrayConversion(filter);\n\n    const getSteps = (c, n) => {\n      const start = fgRGB[c] / 255;\n      const end = bgRGB[c] / 255;\n      const arr = new Array(n + 1);\n      for (let i = 0; i <= n; i++) {\n        arr[i] = start + (i / n) * (end - start);\n      }\n      return arr.join(\",\");\n    };\n    this.#addTransferMapConversion(\n      getSteps(0, 5),\n      getSteps(1, 5),\n      getSteps(2, 5),\n      filter\n    );\n\n    this.#hcmUrl = `url(#${id})`;\n    return this.#hcmUrl;\n  }\n\n  addHighlightHCMFilter(fgColor, bgColor, newFgColor, newBgColor) {\n    const key = `${fgColor}-${bgColor}-${newFgColor}-${newBgColor}`;\n    if (this.#hcmHighlightKey === key) {\n      return this.#hcmHighlightUrl;\n    }\n\n    this.#hcmHighlightKey = key;\n    this.#hcmHighlightUrl = \"none\";\n    this.#hcmHighlightFilter?.remove();\n\n    if (!fgColor || !bgColor) {\n      return this.#hcmHighlightUrl;\n    }\n\n    const [fgRGB, bgRGB] = [fgColor, bgColor].map(this.#getRGB.bind(this));\n    let fgGray = Math.round(\n      0.2126 * fgRGB[0] + 0.7152 * fgRGB[1] + 0.0722 * fgRGB[2]\n    );\n    let bgGray = Math.round(\n      0.2126 * bgRGB[0] + 0.7152 * bgRGB[1] + 0.0722 * bgRGB[2]\n    );\n    let [newFgRGB, newBgRGB] = [newFgColor, newBgColor].map(\n      this.#getRGB.bind(this)\n    );\n    if (bgGray < fgGray) {\n      [fgGray, bgGray, newFgRGB, newBgRGB] = [\n        bgGray,\n        fgGray,\n        newBgRGB,\n        newFgRGB,\n      ];\n    }\n    this.#defs.style.color = \"\";\n\n    // Now we can create the filters to highlight some canvas parts.\n    // The colors in the pdf will almost be Canvas and CanvasText, hence we\n    // want to filter them to finally get Highlight and HighlightText.\n    // Since we're in HCM the background color and the foreground color should\n    // be really different when converted to grayscale (if they're not then it\n    // means that we've a poor contrast). Once the canvas colors are converted\n    // to grayscale we can easily map them on their new colors.\n    // The grayscale step is important because if we've something like:\n    //   fgColor = #FF....\n    //   bgColor = #FF....\n    //   then we are enable to map the red component on the new red components\n    //   which can be different.\n\n    const getSteps = (fg, bg, n) => {\n      const arr = new Array(256);\n      const step = (bgGray - fgGray) / n;\n      const newStart = fg / 255;\n      const newStep = (bg - fg) / (255 * n);\n      let prev = 0;\n      for (let i = 0; i <= n; i++) {\n        const k = Math.round(fgGray + i * step);\n        const value = newStart + i * newStep;\n        for (let j = prev; j <= k; j++) {\n          arr[j] = value;\n        }\n        prev = k + 1;\n      }\n      for (let i = prev; i < 256; i++) {\n        arr[i] = arr[prev - 1];\n      }\n      return arr.join(\",\");\n    };\n\n    const id = `g_${this.#docId}_hcm_highlight_filter`;\n    const filter = (this.#hcmHighlightFilter = this.#createFilter(id));\n\n    this.#addGrayConversion(filter);\n    this.#addTransferMapConversion(\n      getSteps(newFgRGB[0], newBgRGB[0], 5),\n      getSteps(newFgRGB[1], newBgRGB[1], 5),\n      getSteps(newFgRGB[2], newBgRGB[2], 5),\n      filter\n    );\n\n    this.#hcmHighlightUrl = `url(#${id})`;\n    return this.#hcmHighlightUrl;\n  }\n\n  destroy(keepHCM = false) {\n    if (keepHCM && (this.#hcmUrl || this.#hcmHighlightUrl)) {\n      return;\n    }\n    if (this.#_defs) {\n      this.#_defs.parentNode.parentNode.remove();\n      this.#_defs = null;\n    }\n    if (this.#_cache) {\n      this.#_cache.clear();\n      this.#_cache = null;\n    }\n    this.#id = 0;\n  }\n\n  #addGrayConversion(filter) {\n    const feColorMatrix = this.#document.createElementNS(\n      SVG_NS,\n      \"feColorMatrix\"\n    );\n    feColorMatrix.setAttribute(\"type\", \"matrix\");\n    feColorMatrix.setAttribute(\n      \"values\",\n      \"0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0\"\n    );\n    filter.append(feColorMatrix);\n  }\n\n  #createFilter(id) {\n    const filter = this.#document.createElementNS(SVG_NS, \"filter\");\n    filter.setAttribute(\"color-interpolation-filters\", \"sRGB\");\n    filter.setAttribute(\"id\", id);\n    this.#defs.append(filter);\n\n    return filter;\n  }\n\n  #appendFeFunc(feComponentTransfer, func, table) {\n    const feFunc = this.#document.createElementNS(SVG_NS, func);\n    feFunc.setAttribute(\"type\", \"discrete\");\n    feFunc.setAttribute(\"tableValues\", table);\n    feComponentTransfer.append(feFunc);\n  }\n\n  #addTransferMapConversion(rTable, gTable, bTable, filter) {\n    const feComponentTransfer = this.#document.createElementNS(\n      SVG_NS,\n      \"feComponentTransfer\"\n    );\n    filter.append(feComponentTransfer);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncR\", rTable);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncG\", gTable);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncB\", bTable);\n  }\n\n  #getRGB(color) {\n    this.#defs.style.color = color;\n    return getRGB(getComputedStyle(this.#defs).getPropertyValue(\"color\"));\n  }\n}\n\nclass DOMCanvasFactory extends BaseCanvasFactory {\n  constructor({ ownerDocument = globalThis.document } = {}) {\n    super();\n    this._document = ownerDocument;\n  }\n\n  /**\n   * @ignore\n   */\n  _createCanvas(width, height) {\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  }\n}\n\nasync function fetchData(url, asTypedArray = false) {\n  if (\n    (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n    isValidFetchUrl(url, document.baseURI)\n  ) {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return asTypedArray\n      ? new Uint8Array(await response.arrayBuffer())\n      : stringToBytes(await response.text());\n  }\n\n  // The Fetch API is not supported.\n  return new Promise((resolve, reject) => {\n    const request = new XMLHttpRequest();\n    request.open(\"GET\", url, /* asTypedArray = */ true);\n\n    if (asTypedArray) {\n      request.responseType = \"arraybuffer\";\n    }\n    request.onreadystatechange = () => {\n      if (request.readyState !== XMLHttpRequest.DONE) {\n        return;\n      }\n      if (request.status === 200 || request.status === 0) {\n        let data;\n        if (asTypedArray && request.response) {\n          data = new Uint8Array(request.response);\n        } else if (!asTypedArray && request.responseText) {\n          data = stringToBytes(request.responseText);\n        }\n        if (data) {\n          resolve(data);\n          return;\n        }\n      }\n      reject(new Error(request.statusText));\n    };\n\n    request.send(null);\n  });\n}\n\nclass DOMCMapReaderFactory extends BaseCMapReaderFactory {\n  /**\n   * @ignore\n   */\n  _fetchData(url, compressionType) {\n    return fetchData(url, /* asTypedArray = */ this.isCompressed).then(data => {\n      return { cMapData: data, compressionType };\n    });\n  }\n}\n\nclass DOMStandardFontDataFactory extends BaseStandardFontDataFactory {\n  /**\n   * @ignore\n   */\n  _fetchData(url) {\n    return fetchData(url, /* asTypedArray = */ true);\n  }\n}\n\nclass DOMSVGFactory extends BaseSVGFactory {\n  /**\n   * @ignore\n   */\n  _createSVG(type) {\n    return document.createElementNS(SVG_NS, type);\n  }\n}\n\n/**\n * @typedef {Object} PageViewportParameters\n * @property {Array<number>} viewBox - The xMin, yMin, xMax and\n *   yMax coordinates.\n * @property {number} scale - The scale of the viewport.\n * @property {number} rotation - The rotation, in degrees, of the viewport.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset. The\n *   default value is `0`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset. The\n *   default value is `0`.\n * @property {boolean} [dontFlip] - If true, the y-axis will not be flipped.\n *   The default value is `false`.\n */\n\n/**\n * @typedef {Object} PageViewportCloneParameters\n * @property {number} [scale] - The scale, overriding the one in the cloned\n *   viewport. The default value is `this.scale`.\n * @property {number} [rotation] - The rotation, in degrees, overriding the one\n *   in the cloned viewport. The default value is `this.rotation`.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset.\n *   The default value is `this.offsetX`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset.\n *   The default value is `this.offsetY`.\n * @property {boolean} [dontFlip] - If true, the x-axis will not be flipped.\n *   The default value is `false`.\n */\n\n/**\n * PDF page viewport created based on scale, rotation and offset.\n */\nclass PageViewport {\n  /**\n   * @param {PageViewportParameters}\n   */\n  constructor({\n    viewBox,\n    scale,\n    rotation,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false,\n  }) {\n    this.viewBox = viewBox;\n    this.scale = scale;\n    this.rotation = rotation;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n\n    // creating transform to convert pdf coordinate system to the normal\n    // canvas like coordinates taking in account scale and rotation\n    const centerX = (viewBox[2] + viewBox[0]) / 2;\n    const centerY = (viewBox[3] + viewBox[1]) / 2;\n    let rotateA, rotateB, rotateC, rotateD;\n    // Normalize the rotation, by clamping it to the [0, 360) range.\n    rotation %= 360;\n    if (rotation < 0) {\n      rotation += 360;\n    }\n    switch (rotation) {\n      case 180:\n        rotateA = -1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = 1;\n        break;\n      case 90:\n        rotateA = 0;\n        rotateB = 1;\n        rotateC = 1;\n        rotateD = 0;\n        break;\n      case 270:\n        rotateA = 0;\n        rotateB = -1;\n        rotateC = -1;\n        rotateD = 0;\n        break;\n      case 0:\n        rotateA = 1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = -1;\n        break;\n      default:\n        throw new Error(\n          \"PageViewport: Invalid rotation, must be a multiple of 90 degrees.\"\n        );\n    }\n\n    if (dontFlip) {\n      rotateC = -rotateC;\n      rotateD = -rotateD;\n    }\n\n    let offsetCanvasX, offsetCanvasY;\n    let width, height;\n    if (rotateA === 0) {\n      offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n      width = (viewBox[3] - viewBox[1]) * scale;\n      height = (viewBox[2] - viewBox[0]) * scale;\n    } else {\n      offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n      width = (viewBox[2] - viewBox[0]) * scale;\n      height = (viewBox[3] - viewBox[1]) * scale;\n    }\n    // creating transform for the following operations:\n    // translate(-centerX, -centerY), rotate and flip vertically,\n    // scale, and translate(offsetCanvasX, offsetCanvasY)\n    this.transform = [\n      rotateA * scale,\n      rotateB * scale,\n      rotateC * scale,\n      rotateD * scale,\n      offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY,\n      offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY,\n    ];\n\n    this.width = width;\n    this.height = height;\n  }\n\n  /**\n   * The original, un-scaled, viewport dimensions.\n   * @type {Object}\n   */\n  get rawDims() {\n    const { viewBox } = this;\n    return shadow(this, \"rawDims\", {\n      pageWidth: viewBox[2] - viewBox[0],\n      pageHeight: viewBox[3] - viewBox[1],\n      pageX: viewBox[0],\n      pageY: viewBox[1],\n    });\n  }\n\n  /**\n   * Clones viewport, with optional additional properties.\n   * @param {PageViewportCloneParameters} [params]\n   * @returns {PageViewport} Cloned viewport.\n   */\n  clone({\n    scale = this.scale,\n    rotation = this.rotation,\n    offsetX = this.offsetX,\n    offsetY = this.offsetY,\n    dontFlip = false,\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.viewBox.slice(),\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip,\n    });\n  }\n\n  /**\n   * Converts PDF point to the viewport coordinates. For examples, useful for\n   * converting PDF location into canvas pixel coordinates.\n   * @param {number} x - The x-coordinate.\n   * @param {number} y - The y-coordinate.\n   * @returns {Array} Array containing `x`- and `y`-coordinates of the\n   *   point in the viewport coordinate space.\n   * @see {@link convertToPdfPoint}\n   * @see {@link convertToViewportRectangle}\n   */\n  convertToViewportPoint(x, y) {\n    return Util.applyTransform([x, y], this.transform);\n  }\n\n  /**\n   * Converts PDF rectangle to the viewport coordinates.\n   * @param {Array} rect - The xMin, yMin, xMax and yMax coordinates.\n   * @returns {Array} Array containing corresponding coordinates of the\n   *   rectangle in the viewport coordinate space.\n   * @see {@link convertToViewportPoint}\n   */\n  convertToViewportRectangle(rect) {\n    const topLeft = Util.applyTransform([rect[0], rect[1]], this.transform);\n    const bottomRight = Util.applyTransform([rect[2], rect[3]], this.transform);\n    return [topLeft[0], topLeft[1], bottomRight[0], bottomRight[1]];\n  }\n\n  /**\n   * Converts viewport coordinates to the PDF location. For examples, useful\n   * for converting canvas pixel location into PDF one.\n   * @param {number} x - The x-coordinate.\n   * @param {number} y - The y-coordinate.\n   * @returns {Array} Array containing `x`- and `y`-coordinates of the\n   *   point in the PDF coordinate space.\n   * @see {@link convertToViewportPoint}\n   */\n  convertToPdfPoint(x, y) {\n    return Util.applyInverseTransform([x, y], this.transform);\n  }\n}\n\nclass RenderingCancelledException extends BaseException {\n  constructor(msg, extraDelay = 0) {\n    super(msg, \"RenderingCancelledException\");\n    this.extraDelay = extraDelay;\n  }\n}\n\nfunction isDataScheme(url) {\n  const ii = url.length;\n  let i = 0;\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\n\nfunction isPdfFile(filename) {\n  return typeof filename === \"string\" && /\\.pdf$/i.test(filename);\n}\n\n/**\n * Gets the filename from a given URL.\n * @param {string} url\n * @param {boolean} [onlyStripPath]\n * @returns {string}\n */\nfunction getFilenameFromUrl(url, onlyStripPath = false) {\n  if (!onlyStripPath) {\n    [url] = url.split(/[#?]/, 1);\n  }\n  return url.substring(url.lastIndexOf(\"/\") + 1);\n}\n\n/**\n * Returns the filename or guessed filename from the url (see issue 3455).\n * @param {string} url - The original PDF location.\n * @param {string} defaultFilename - The value returned if the filename is\n *   unknown, or the protocol is unsupported.\n * @returns {string} Guessed PDF filename.\n */\nfunction getPdfFilenameFromUrl(url, defaultFilename = \"document.pdf\") {\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n  if (isDataScheme(url)) {\n    warn('getPdfFilenameFromUrl: ignore \"data:\"-URL for performance reasons.');\n    return defaultFilename;\n  }\n  const reURI = /^(?:(?:[^:]+:)?\\/\\/[^/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n  //              SCHEME        HOST        1.PATH  2.QUERY   3.REF\n  // Pattern to get last matching NAME.pdf\n  const reFilename = /[^/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n  const splitURI = reURI.exec(url);\n  let suggestedFilename =\n    reFilename.exec(splitURI[1]) ||\n    reFilename.exec(splitURI[2]) ||\n    reFilename.exec(splitURI[3]);\n  if (suggestedFilename) {\n    suggestedFilename = suggestedFilename[0];\n    if (suggestedFilename.includes(\"%\")) {\n      // URL-encoded %2Fpath%2Fto%2Ffile.pdf should be file.pdf\n      try {\n        suggestedFilename = reFilename.exec(\n          decodeURIComponent(suggestedFilename)\n        )[0];\n      } catch {\n        // Possible (extremely rare) errors:\n        // URIError \"Malformed URI\", e.g. for \"%AA.pdf\"\n        // TypeError \"null has no properties\", e.g. for \"%2F.pdf\"\n      }\n    }\n  }\n  return suggestedFilename || defaultFilename;\n}\n\nclass StatTimer {\n  started = Object.create(null);\n\n  times = [];\n\n  time(name) {\n    if (name in this.started) {\n      warn(`Timer is already running for ${name}`);\n    }\n    this.started[name] = Date.now();\n  }\n\n  timeEnd(name) {\n    if (!(name in this.started)) {\n      warn(`Timer has not been started for ${name}`);\n    }\n    this.times.push({\n      name,\n      start: this.started[name],\n      end: Date.now(),\n    });\n    // Remove timer from started so it can be called again.\n    delete this.started[name];\n  }\n\n  toString() {\n    // Find the longest name for padding purposes.\n    const outBuf = [];\n    let longest = 0;\n    for (const { name } of this.times) {\n      longest = Math.max(name.length, longest);\n    }\n    for (const { name, start, end } of this.times) {\n      outBuf.push(`${name.padEnd(longest)} ${end - start}ms\\n`);\n    }\n    return outBuf.join(\"\");\n  }\n}\n\nfunction isValidFetchUrl(url, baseUrl) {\n  if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n    throw new Error(\"Not implemented: isValidFetchUrl\");\n  }\n  try {\n    const { protocol } = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    // The Fetch API only supports the http/https protocols, and not file/ftp.\n    return protocol === \"http:\" || protocol === \"https:\";\n  } catch {\n    return false; // `new URL()` will throw on incorrect data.\n  }\n}\n\n/**\n * Event handler to suppress context menu.\n */\nfunction noContextMenu(e) {\n  e.preventDefault();\n}\n\n/**\n * @param {string} src\n * @param {boolean} [removeScriptElement]\n * @returns {Promise<void>}\n */\nfunction loadScript(src, removeScriptElement = false) {\n  return new Promise((resolve, reject) => {\n    const script = document.createElement(\"script\");\n    script.src = src;\n\n    script.onload = function (evt) {\n      if (removeScriptElement) {\n        script.remove();\n      }\n      resolve(evt);\n    };\n    script.onerror = function () {\n      reject(new Error(`Cannot load script at: ${script.src}`));\n    };\n    (document.head || document.documentElement).append(script);\n  });\n}\n\n// Deprecated API function -- display regardless of the `verbosity` setting.\nfunction deprecated(details) {\n  console.log(\"Deprecated API usage: \" + details);\n}\n\nlet pdfDateStringRegex;\n\nclass PDFDateString {\n  /**\n   * Convert a PDF date string to a JavaScript `Date` object.\n   *\n   * The PDF date string format is described in section 7.9.4 of the official\n   * PDF 32000-1:2008 specification. However, in the PDF 1.7 reference (sixth\n   * edition) Adobe describes the same format including a trailing apostrophe.\n   * This syntax in incorrect, but Adobe Acrobat creates PDF files that contain\n   * them. We ignore all apostrophes as they are not necessary for date parsing.\n   *\n   * Moreover, Adobe Acrobat doesn't handle changing the date to universal time\n   * and doesn't use the user's time zone (effectively ignoring the HH' and mm'\n   * parts of the date string).\n   *\n   * @param {string} input\n   * @returns {Date|null}\n   */\n  static toDateObject(input) {\n    if (!input || typeof input !== \"string\") {\n      return null;\n    }\n\n    // Lazily initialize the regular expression.\n    pdfDateStringRegex ||= new RegExp(\n      \"^D:\" + // Prefix (required)\n        \"(\\\\d{4})\" + // Year (required)\n        \"(\\\\d{2})?\" + // Month (optional)\n        \"(\\\\d{2})?\" + // Day (optional)\n        \"(\\\\d{2})?\" + // Hour (optional)\n        \"(\\\\d{2})?\" + // Minute (optional)\n        \"(\\\\d{2})?\" + // Second (optional)\n        \"([Z|+|-])?\" + // Universal time relation (optional)\n        \"(\\\\d{2})?\" + // Offset hour (optional)\n        \"'?\" + // Splitting apostrophe (optional)\n        \"(\\\\d{2})?\" + // Offset minute (optional)\n        \"'?\" // Trailing apostrophe (optional)\n    );\n\n    // Optional fields that don't satisfy the requirements from the regular\n    // expression (such as incorrect digit counts or numbers that are out of\n    // range) will fall back the defaults from the specification.\n    const matches = pdfDateStringRegex.exec(input);\n    if (!matches) {\n      return null;\n    }\n\n    // JavaScript's `Date` object expects the month to be between 0 and 11\n    // instead of 1 and 12, so we have to correct for that.\n    const year = parseInt(matches[1], 10);\n    let month = parseInt(matches[2], 10);\n    month = month >= 1 && month <= 12 ? month - 1 : 0;\n    let day = parseInt(matches[3], 10);\n    day = day >= 1 && day <= 31 ? day : 1;\n    let hour = parseInt(matches[4], 10);\n    hour = hour >= 0 && hour <= 23 ? hour : 0;\n    let minute = parseInt(matches[5], 10);\n    minute = minute >= 0 && minute <= 59 ? minute : 0;\n    let second = parseInt(matches[6], 10);\n    second = second >= 0 && second <= 59 ? second : 0;\n    const universalTimeRelation = matches[7] || \"Z\";\n    let offsetHour = parseInt(matches[8], 10);\n    offsetHour = offsetHour >= 0 && offsetHour <= 23 ? offsetHour : 0;\n    let offsetMinute = parseInt(matches[9], 10) || 0;\n    offsetMinute = offsetMinute >= 0 && offsetMinute <= 59 ? offsetMinute : 0;\n\n    // Universal time relation 'Z' means that the local time is equal to the\n    // universal time, whereas the relations '+'/'-' indicate that the local\n    // time is later respectively earlier than the universal time. Every date\n    // is normalized to universal time.\n    if (universalTimeRelation === \"-\") {\n      hour += offsetHour;\n      minute += offsetMinute;\n    } else if (universalTimeRelation === \"+\") {\n      hour -= offsetHour;\n      minute -= offsetMinute;\n    }\n\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\n  }\n}\n\n/**\n * NOTE: This is (mostly) intended to support printing of XFA forms.\n */\nfunction getXfaPageViewport(xfaPage, { scale = 1, rotation = 0 }) {\n  const { width, height } = xfaPage.attributes.style;\n  const viewBox = [0, 0, parseInt(width), parseInt(height)];\n\n  return new PageViewport({\n    viewBox,\n    scale,\n    rotation,\n  });\n}\n\nfunction getRGB(color) {\n  if (color.startsWith(\"#\")) {\n    const colorRGB = parseInt(color.slice(1), 16);\n    return [\n      (colorRGB & 0xff0000) >> 16,\n      (colorRGB & 0x00ff00) >> 8,\n      colorRGB & 0x0000ff,\n    ];\n  }\n\n  if (color.startsWith(\"rgb(\")) {\n    // getComputedStyle(...).color returns a `rgb(R, G, B)` color.\n    return color\n      .slice(/* \"rgb(\".length */ 4, -1) // Strip out \"rgb(\" and \")\".\n      .split(\",\")\n      .map(x => parseInt(x));\n  }\n\n  if (color.startsWith(\"rgba(\")) {\n    return color\n      .slice(/* \"rgba(\".length */ 5, -1) // Strip out \"rgba(\" and \")\".\n      .split(\",\")\n      .map(x => parseInt(x))\n      .slice(0, 3);\n  }\n\n  warn(`Not a valid color format: \"${color}\"`);\n  return [0, 0, 0];\n}\n\nfunction getColorValues(colors) {\n  const span = document.createElement(\"span\");\n  span.style.visibility = \"hidden\";\n  document.body.append(span);\n  for (const name of colors.keys()) {\n    span.style.color = name;\n    const computedColor = window.getComputedStyle(span).color;\n    colors.set(name, getRGB(computedColor));\n  }\n  span.remove();\n}\n\nfunction getCurrentTransform(ctx) {\n  const { a, b, c, d, e, f } = ctx.getTransform();\n  return [a, b, c, d, e, f];\n}\n\nfunction getCurrentTransformInverse(ctx) {\n  const { a, b, c, d, e, f } = ctx.getTransform().invertSelf();\n  return [a, b, c, d, e, f];\n}\n\n/**\n * @param {HTMLDivElement} div\n * @param {PageViewport} viewport\n * @param {boolean} mustFlip\n * @param {boolean} mustRotate\n */\nfunction setLayerDimensions(\n  div,\n  viewport,\n  mustFlip = false,\n  mustRotate = true\n) {\n  if (viewport instanceof PageViewport) {\n    const { pageWidth, pageHeight } = viewport.rawDims;\n    const { style } = div;\n    const useRound = FeatureTest.isCSSRoundSupported;\n\n    const w = `var(--scale-factor) * ${pageWidth}px`,\n      h = `var(--scale-factor) * ${pageHeight}px`;\n    const widthStr = useRound ? `round(${w}, 1px)` : `calc(${w})`,\n      heightStr = useRound ? `round(${h}, 1px)` : `calc(${h})`;\n\n    if (!mustFlip || viewport.rotation % 180 === 0) {\n      style.width = widthStr;\n      style.height = heightStr;\n    } else {\n      style.width = heightStr;\n      style.height = widthStr;\n    }\n  }\n\n  if (mustRotate) {\n    div.setAttribute(\"data-main-rotation\", viewport.rotation);\n  }\n}\n\nexport {\n  deprecated,\n  DOMCanvasFactory,\n  DOMCMapReaderFactory,\n  DOMFilterFactory,\n  DOMStandardFontDataFactory,\n  DOMSVGFactory,\n  getColorValues,\n  getCurrentTransform,\n  getCurrentTransformInverse,\n  getFilenameFromUrl,\n  getPdfFilenameFromUrl,\n  getRGB,\n  getXfaPageViewport,\n  isDataScheme,\n  isPdfFile,\n  isValidFetchUrl,\n  loadScript,\n  noContextMenu,\n  PageViewport,\n  PDFDateString,\n  PixelsPerInch,\n  RenderingCancelledException,\n  setLayerDimensions,\n  StatTimer,\n};\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CMapCompressionType, unreachable } from \"../shared/util.js\";\n\nclass BaseFilterFactory {\n  constructor() {\n    if (this.constructor === BaseFilterFactory) {\n      unreachable(\"Cannot initialize BaseFilterFactory.\");\n    }\n  }\n\n  addFilter(maps) {\n    return \"none\";\n  }\n\n  addHCMFilter(fgColor, bgColor) {\n    return \"none\";\n  }\n\n  addHighlightHCMFilter(fgColor, bgColor, newFgColor, newBgColor) {\n    return \"none\";\n  }\n\n  destroy(keepHCM = false) {}\n}\n\nclass BaseCanvasFactory {\n  constructor() {\n    if (this.constructor === BaseCanvasFactory) {\n      unreachable(\"Cannot initialize BaseCanvasFactory.\");\n    }\n  }\n\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    const canvas = this._createCanvas(width, height);\n    return {\n      canvas,\n      context: canvas.getContext(\"2d\"),\n    };\n  }\n\n  reset(canvasAndContext, width, height) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    canvasAndContext.canvas.width = width;\n    canvasAndContext.canvas.height = height;\n  }\n\n  destroy(canvasAndContext) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    // Zeroing the width and height cause Firefox to release graphics\n    // resources immediately, which can greatly reduce memory consumption.\n    canvasAndContext.canvas.width = 0;\n    canvasAndContext.canvas.height = 0;\n    canvasAndContext.canvas = null;\n    canvasAndContext.context = null;\n  }\n\n  /**\n   * @ignore\n   */\n  _createCanvas(width, height) {\n    unreachable(\"Abstract method `_createCanvas` called.\");\n  }\n}\n\nclass BaseCMapReaderFactory {\n  constructor({ baseUrl = null, isCompressed = true }) {\n    if (this.constructor === BaseCMapReaderFactory) {\n      unreachable(\"Cannot initialize BaseCMapReaderFactory.\");\n    }\n    this.baseUrl = baseUrl;\n    this.isCompressed = isCompressed;\n  }\n\n  async fetch({ name }) {\n    if (!this.baseUrl) {\n      throw new Error(\n        'The CMap \"baseUrl\" parameter must be specified, ensure that ' +\n          'the \"cMapUrl\" and \"cMapPacked\" API parameters are provided.'\n      );\n    }\n    if (!name) {\n      throw new Error(\"CMap name must be specified.\");\n    }\n    const url = this.baseUrl + name + (this.isCompressed ? \".bcmap\" : \"\");\n    const compressionType = this.isCompressed\n      ? CMapCompressionType.BINARY\n      : CMapCompressionType.NONE;\n\n    return this._fetchData(url, compressionType).catch(reason => {\n      throw new Error(\n        `Unable to load ${this.isCompressed ? \"binary \" : \"\"}CMap at: ${url}`\n      );\n    });\n  }\n\n  /**\n   * @ignore\n   */\n  _fetchData(url, compressionType) {\n    unreachable(\"Abstract method `_fetchData` called.\");\n  }\n}\n\nclass BaseStandardFontDataFactory {\n  constructor({ baseUrl = null }) {\n    if (this.constructor === BaseStandardFontDataFactory) {\n      unreachable(\"Cannot initialize BaseStandardFontDataFactory.\");\n    }\n    this.baseUrl = baseUrl;\n  }\n\n  async fetch({ filename }) {\n    if (!this.baseUrl) {\n      throw new Error(\n        'The standard font \"baseUrl\" parameter must be specified, ensure that ' +\n          'the \"standardFontDataUrl\" API parameter is provided.'\n      );\n    }\n    if (!filename) {\n      throw new Error(\"Font filename must be specified.\");\n    }\n    const url = `${this.baseUrl}${filename}`;\n\n    return this._fetchData(url).catch(reason => {\n      throw new Error(`Unable to load font data at: ${url}`);\n    });\n  }\n\n  /**\n   * @ignore\n   */\n  _fetchData(url) {\n    unreachable(\"Abstract method `_fetchData` called.\");\n  }\n}\n\nclass BaseSVGFactory {\n  constructor() {\n    if (this.constructor === BaseSVGFactory) {\n      unreachable(\"Cannot initialize BaseSVGFactory.\");\n    }\n  }\n\n  create(width, height, skipDimensions = false) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid SVG dimensions\");\n    }\n    const svg = this._createSVG(\"svg:svg\");\n    svg.setAttribute(\"version\", \"1.1\");\n\n    if (!skipDimensions) {\n      svg.setAttribute(\"width\", `${width}px`);\n      svg.setAttribute(\"height\", `${height}px`);\n    }\n\n    svg.setAttribute(\"preserveAspectRatio\", \"none\");\n    svg.setAttribute(\"viewBox\", `0 0 ${width} ${height}`);\n\n    return svg;\n  }\n\n  createElement(type) {\n    if (typeof type !== \"string\") {\n      throw new Error(\"Invalid SVG element type\");\n    }\n    return this._createSVG(type);\n  }\n\n  /**\n   * @ignore\n   */\n  _createSVG(type) {\n    unreachable(\"Abstract method `_createSVG` called.\");\n  }\n}\n\nexport {\n  BaseCanvasFactory,\n  BaseCMapReaderFactory,\n  BaseFilterFactory,\n  BaseStandardFontDataFactory,\n  BaseSVGFactory,\n};\n","/* Copyright 2014 Opera Software ASA\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n *\n * Based on https://code.google.com/p/smhasher/wiki/MurmurHash3.\n * Hashes roughly 100 KB per millisecond on i7 3.4 GHz.\n */\n\nimport { isArrayBuffer } from \"./util.js\";\n\nconst SEED = 0xc3d2e1f0;\n// Workaround for missing math precision in JS.\nconst MASK_HIGH = 0xffff0000;\nconst MASK_LOW = 0xffff;\n\nclass MurmurHash3_64 {\n  constructor(seed) {\n    this.h1 = seed ? seed & 0xffffffff : SEED;\n    this.h2 = seed ? seed & 0xffffffff : SEED;\n  }\n\n  update(input) {\n    let data, length;\n    if (typeof input === \"string\") {\n      data = new Uint8Array(input.length * 2);\n      length = 0;\n      for (let i = 0, ii = input.length; i < ii; i++) {\n        const code = input.charCodeAt(i);\n        if (code <= 0xff) {\n          data[length++] = code;\n        } else {\n          data[length++] = code >>> 8;\n          data[length++] = code & 0xff;\n        }\n      }\n    } else if (isArrayBuffer(input)) {\n      data = input.slice();\n      length = data.byteLength;\n    } else {\n      throw new Error(\n        \"Wrong data format in MurmurHash3_64_update. \" +\n          \"Input must be a string or array.\"\n      );\n    }\n\n    const blockCounts = length >> 2;\n    const tailLength = length - blockCounts * 4;\n    // We don't care about endianness here.\n    const dataUint32 = new Uint32Array(data.buffer, 0, blockCounts);\n    let k1 = 0,\n      k2 = 0;\n    let h1 = this.h1,\n      h2 = this.h2;\n    const C1 = 0xcc9e2d51,\n      C2 = 0x1b873593;\n    const C1_LOW = C1 & MASK_LOW,\n      C2_LOW = C2 & MASK_LOW;\n\n    for (let i = 0; i < blockCounts; i++) {\n      if (i & 1) {\n        k1 = dataUint32[i];\n        k1 = ((k1 * C1) & MASK_HIGH) | ((k1 * C1_LOW) & MASK_LOW);\n        k1 = (k1 << 15) | (k1 >>> 17);\n        k1 = ((k1 * C2) & MASK_HIGH) | ((k1 * C2_LOW) & MASK_LOW);\n        h1 ^= k1;\n        h1 = (h1 << 13) | (h1 >>> 19);\n        h1 = h1 * 5 + 0xe6546b64;\n      } else {\n        k2 = dataUint32[i];\n        k2 = ((k2 * C1) & MASK_HIGH) | ((k2 * C1_LOW) & MASK_LOW);\n        k2 = (k2 << 15) | (k2 >>> 17);\n        k2 = ((k2 * C2) & MASK_HIGH) | ((k2 * C2_LOW) & MASK_LOW);\n        h2 ^= k2;\n        h2 = (h2 << 13) | (h2 >>> 19);\n        h2 = h2 * 5 + 0xe6546b64;\n      }\n    }\n\n    k1 = 0;\n\n    switch (tailLength) {\n      case 3:\n        k1 ^= data[blockCounts * 4 + 2] << 16;\n      /* falls through */\n      case 2:\n        k1 ^= data[blockCounts * 4 + 1] << 8;\n      /* falls through */\n      case 1:\n        k1 ^= data[blockCounts * 4];\n        /* falls through */\n\n        k1 = ((k1 * C1) & MASK_HIGH) | ((k1 * C1_LOW) & MASK_LOW);\n        k1 = (k1 << 15) | (k1 >>> 17);\n        k1 = ((k1 * C2) & MASK_HIGH) | ((k1 * C2_LOW) & MASK_LOW);\n        if (blockCounts & 1) {\n          h1 ^= k1;\n        } else {\n          h2 ^= k1;\n        }\n    }\n\n    this.h1 = h1;\n    this.h2 = h2;\n  }\n\n  hexdigest() {\n    let h1 = this.h1,\n      h2 = this.h2;\n\n    h1 ^= h2 >>> 1;\n    h1 = ((h1 * 0xed558ccd) & MASK_HIGH) | ((h1 * 0x8ccd) & MASK_LOW);\n    h2 =\n      ((h2 * 0xff51afd7) & MASK_HIGH) |\n      (((((h2 << 16) | (h1 >>> 16)) * 0xafd7ed55) & MASK_HIGH) >>> 16);\n    h1 ^= h2 >>> 1;\n    h1 = ((h1 * 0x1a85ec53) & MASK_HIGH) | ((h1 * 0xec53) & MASK_LOW);\n    h2 =\n      ((h2 * 0xc4ceb9fe) & MASK_HIGH) |\n      (((((h2 << 16) | (h1 >>> 16)) * 0xb9fe1a85) & MASK_HIGH) >>> 16);\n    h1 ^= h2 >>> 1;\n\n    return (\n      (h1 >>> 0).toString(16).padStart(8, \"0\") +\n      (h2 >>> 0).toString(16).padStart(8, \"0\")\n    );\n  }\n}\n\nexport { MurmurHash3_64 };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert,\n  bytesToString,\n  FeatureTest,\n  isNodeJS,\n  shadow,\n  string32,\n  unreachable,\n  warn,\n} from \"../shared/util.js\";\n\nclass FontLoader {\n  #systemFonts = new Set();\n\n  constructor({\n    ownerDocument = globalThis.document,\n    styleElement = null, // For testing only.\n  }) {\n    this._document = ownerDocument;\n\n    this.nativeFontFaces = new Set();\n    this.styleElement =\n      typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")\n        ? styleElement\n        : null;\n\n    if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"MOZCENTRAL\")) {\n      this.loadingRequests = [];\n      this.loadTestFontId = 0;\n    }\n  }\n\n  addNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.add(nativeFontFace);\n    this._document.fonts.add(nativeFontFace);\n  }\n\n  removeNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.delete(nativeFontFace);\n    this._document.fonts.delete(nativeFontFace);\n  }\n\n  insertRule(rule) {\n    if (!this.styleElement) {\n      this.styleElement = this._document.createElement(\"style\");\n      this._document.documentElement\n        .getElementsByTagName(\"head\")[0]\n        .append(this.styleElement);\n    }\n    const styleSheet = this.styleElement.sheet;\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  }\n\n  clear() {\n    for (const nativeFontFace of this.nativeFontFaces) {\n      this._document.fonts.delete(nativeFontFace);\n    }\n    this.nativeFontFaces.clear();\n    this.#systemFonts.clear();\n\n    if (this.styleElement) {\n      // Note: ChildNode.remove doesn't throw if the parentNode is undefined.\n      this.styleElement.remove();\n      this.styleElement = null;\n    }\n  }\n\n  async loadSystemFont(info) {\n    if (!info || this.#systemFonts.has(info.loadedName)) {\n      return;\n    }\n    assert(\n      !this.disableFontFace,\n      \"loadSystemFont shouldn't be called when `disableFontFace` is set.\"\n    );\n\n    if (this.isFontLoadingAPISupported) {\n      const { loadedName, src, style } = info;\n      const fontFace = new FontFace(loadedName, src, style);\n      this.addNativeFontFace(fontFace);\n      try {\n        await fontFace.load();\n        this.#systemFonts.add(loadedName);\n      } catch {\n        warn(\n          `Cannot load system font: ${info.baseFontName}, installing it could help to improve PDF rendering.`\n        );\n\n        this.removeNativeFontFace(fontFace);\n      }\n      return;\n    }\n\n    unreachable(\n      \"Not implemented: loadSystemFont without the Font Loading API.\"\n    );\n  }\n\n  async bind(font) {\n    // Add the font to the DOM only once; skip if the font is already loaded.\n    if (font.attached || (font.missingFile && !font.systemFontInfo)) {\n      return;\n    }\n    font.attached = true;\n\n    if (font.systemFontInfo) {\n      await this.loadSystemFont(font.systemFontInfo);\n      return;\n    }\n\n    if (this.isFontLoadingAPISupported) {\n      const nativeFontFace = font.createNativeFontFace();\n      if (nativeFontFace) {\n        this.addNativeFontFace(nativeFontFace);\n        try {\n          await nativeFontFace.loaded;\n        } catch (ex) {\n          warn(`Failed to load font '${nativeFontFace.family}': '${ex}'.`);\n\n          // When font loading failed, fall back to the built-in font renderer.\n          font.disableFontFace = true;\n          throw ex;\n        }\n      }\n      return; // The font was, asynchronously, loaded.\n    }\n\n    // !this.isFontLoadingAPISupported\n    const rule = font.createFontFaceRule();\n    if (rule) {\n      this.insertRule(rule);\n\n      if (this.isSyncFontLoadingSupported) {\n        return; // The font was, synchronously, loaded.\n      }\n      if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n        throw new Error(\"Not implemented: async font loading\");\n      }\n      await new Promise(resolve => {\n        const request = this._queueLoadingCallback(resolve);\n        this._prepareFontLoadEvent(font, request);\n      });\n      // The font was, asynchronously, loaded.\n    }\n  }\n\n  get isFontLoadingAPISupported() {\n    const hasFonts = !!this._document?.fonts;\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      return shadow(\n        this,\n        \"isFontLoadingAPISupported\",\n        hasFonts && !this.styleElement\n      );\n    }\n    return shadow(this, \"isFontLoadingAPISupported\", hasFonts);\n  }\n\n  get isSyncFontLoadingSupported() {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n      return shadow(this, \"isSyncFontLoadingSupported\", true);\n    }\n\n    let supported = false;\n    if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"CHROME\")) {\n      if (isNodeJS) {\n        // Node.js - we can pretend that sync font loading is supported.\n        supported = true;\n      } else if (\n        typeof navigator !== \"undefined\" &&\n        // User agent string sniffing is bad, but there is no reliable way to\n        // tell if the font is fully loaded and ready to be used with canvas.\n        /Mozilla\\/5.0.*?rv:\\d+.*? Gecko/.test(navigator.userAgent)\n      ) {\n        // Firefox, from version 14, supports synchronous font loading.\n        supported = true;\n      }\n    }\n    return shadow(this, \"isSyncFontLoadingSupported\", supported);\n  }\n\n  _queueLoadingCallback(callback) {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n      throw new Error(\"Not implemented: _queueLoadingCallback\");\n    }\n\n    function completeRequest() {\n      assert(!request.done, \"completeRequest() cannot be called twice.\");\n      request.done = true;\n\n      // Sending all completed requests in order of how they were queued.\n      while (loadingRequests.length > 0 && loadingRequests[0].done) {\n        const otherRequest = loadingRequests.shift();\n        setTimeout(otherRequest.callback, 0);\n      }\n    }\n\n    const { loadingRequests } = this;\n    const request = {\n      done: false,\n      complete: completeRequest,\n      callback,\n    };\n    loadingRequests.push(request);\n    return request;\n  }\n\n  get _loadTestFont() {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n      throw new Error(\"Not implemented: _loadTestFont\");\n    }\n\n    // This is a CFF font with 1 glyph for '.' that fills its entire width\n    // and height.\n    const testFont = atob(\n      \"T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQA\" +\n        \"FQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAA\" +\n        \"ALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgA\" +\n        \"AAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1\" +\n        \"AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD\" +\n        \"6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACM\" +\n        \"AooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4D\" +\n        \"IP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAA\" +\n        \"AAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUA\" +\n        \"AQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgAB\" +\n        \"AAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABY\" +\n        \"AAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAA\" +\n        \"AC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n        \"AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n        \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n        \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n        \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n        \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAA\" +\n        \"AAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQAC\" +\n        \"AQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3\" +\n        \"Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTj\" +\n        \"FQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==\"\n    );\n    return shadow(this, \"_loadTestFont\", testFont);\n  }\n\n  _prepareFontLoadEvent(font, request) {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n      throw new Error(\"Not implemented: _prepareFontLoadEvent\");\n    }\n\n    /** Hack begin */\n    // There's currently no event when a font has finished downloading so the\n    // following code is a dirty hack to 'guess' when a font is ready.\n    // It's assumed fonts are loaded in order, so add a known test font after\n    // the desired fonts and then test for the loading of that test font.\n\n    function int32(data, offset) {\n      return (\n        (data.charCodeAt(offset) << 24) |\n        (data.charCodeAt(offset + 1) << 16) |\n        (data.charCodeAt(offset + 2) << 8) |\n        (data.charCodeAt(offset + 3) & 0xff)\n      );\n    }\n    function spliceString(s, offset, remove, insert) {\n      const chunk1 = s.substring(0, offset);\n      const chunk2 = s.substring(offset + remove);\n      return chunk1 + insert + chunk2;\n    }\n    let i, ii;\n\n    // The temporary canvas is used to determine if fonts are loaded.\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = 1;\n    canvas.height = 1;\n    const ctx = canvas.getContext(\"2d\");\n\n    let called = 0;\n    function isFontReady(name, callback) {\n      // With setTimeout clamping this gives the font ~100ms to load.\n      if (++called > 30) {\n        warn(\"Load test font never loaded.\");\n        callback();\n        return;\n      }\n      ctx.font = \"30px \" + name;\n      ctx.fillText(\".\", 0, 20);\n      const imageData = ctx.getImageData(0, 0, 1, 1);\n      if (imageData.data[3] > 0) {\n        callback();\n        return;\n      }\n      setTimeout(isFontReady.bind(null, name, callback));\n    }\n\n    const loadTestFontId = `lt${Date.now()}${this.loadTestFontId++}`;\n    // Chromium seems to cache fonts based on a hash of the actual font data,\n    // so the font must be modified for each load test else it will appear to\n    // be loaded already.\n    // TODO: This could maybe be made faster by avoiding the btoa of the full\n    // font by splitting it in chunks before hand and padding the font id.\n    let data = this._loadTestFont;\n    const COMMENT_OFFSET = 976; // has to be on 4 byte boundary (for checksum)\n    data = spliceString(\n      data,\n      COMMENT_OFFSET,\n      loadTestFontId.length,\n      loadTestFontId\n    );\n    // CFF checksum is important for IE, adjusting it\n    const CFF_CHECKSUM_OFFSET = 16;\n    const XXXX_VALUE = 0x58585858; // the \"comment\" filled with 'X'\n    let checksum = int32(data, CFF_CHECKSUM_OFFSET);\n    for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n      checksum = (checksum - XXXX_VALUE + int32(loadTestFontId, i)) | 0;\n    }\n    if (i < loadTestFontId.length) {\n      // align to 4 bytes boundary\n      checksum = (checksum - XXXX_VALUE + int32(loadTestFontId + \"XXX\", i)) | 0;\n    }\n    data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, string32(checksum));\n\n    const url = `url(data:font/opentype;base64,${btoa(data)});`;\n    const rule = `@font-face {font-family:\"${loadTestFontId}\";src:${url}}`;\n    this.insertRule(rule);\n\n    const div = this._document.createElement(\"div\");\n    div.style.visibility = \"hidden\";\n    div.style.width = div.style.height = \"10px\";\n    div.style.position = \"absolute\";\n    div.style.top = div.style.left = \"0px\";\n\n    for (const name of [font.loadedName, loadTestFontId]) {\n      const span = this._document.createElement(\"span\");\n      span.textContent = \"Hi\";\n      span.style.fontFamily = name;\n      div.append(span);\n    }\n    this._document.body.append(div);\n\n    isFontReady(loadTestFontId, () => {\n      div.remove();\n      request.complete();\n    });\n    /** Hack end */\n  }\n}\n\nclass FontFaceObject {\n  constructor(\n    translatedData,\n    {\n      isEvalSupported = true,\n      disableFontFace = false,\n      ignoreErrors = false,\n      inspectFont = null,\n    }\n  ) {\n    this.compiledGlyphs = Object.create(null);\n    // importing translated data\n    for (const i in translatedData) {\n      this[i] = translatedData[i];\n    }\n    this.isEvalSupported = isEvalSupported !== false;\n    this.disableFontFace = disableFontFace === true;\n    this.ignoreErrors = ignoreErrors === true;\n    this._inspectFont = inspectFont;\n  }\n\n  createNativeFontFace() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    let nativeFontFace;\n    if (!this.cssFontInfo) {\n      nativeFontFace = new FontFace(this.loadedName, this.data, {});\n    } else {\n      const css = {\n        weight: this.cssFontInfo.fontWeight,\n      };\n      if (this.cssFontInfo.italicAngle) {\n        css.style = `oblique ${this.cssFontInfo.italicAngle}deg`;\n      }\n      nativeFontFace = new FontFace(\n        this.cssFontInfo.fontFamily,\n        this.data,\n        css\n      );\n    }\n\n    this._inspectFont?.(this);\n    return nativeFontFace;\n  }\n\n  createFontFaceRule() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    const data = bytesToString(this.data);\n    // Add the @font-face rule to the document.\n    const url = `url(data:${this.mimetype};base64,${btoa(data)});`;\n    let rule;\n    if (!this.cssFontInfo) {\n      rule = `@font-face {font-family:\"${this.loadedName}\";src:${url}}`;\n    } else {\n      let css = `font-weight: ${this.cssFontInfo.fontWeight};`;\n      if (this.cssFontInfo.italicAngle) {\n        css += `font-style: oblique ${this.cssFontInfo.italicAngle}deg;`;\n      }\n      rule = `@font-face {font-family:\"${this.cssFontInfo.fontFamily}\";${css}src:${url}}`;\n    }\n\n    this._inspectFont?.(this, url);\n    return rule;\n  }\n\n  getPathGenerator(objs, character) {\n    if (this.compiledGlyphs[character] !== undefined) {\n      return this.compiledGlyphs[character];\n    }\n\n    let cmds;\n    try {\n      cmds = objs.get(this.loadedName + \"_path_\" + character);\n    } catch (ex) {\n      if (!this.ignoreErrors) {\n        throw ex;\n      }\n      warn(`getPathGenerator - ignoring character: \"${ex}\".`);\n\n      return (this.compiledGlyphs[character] = function (c, size) {\n        // No-op function, to allow rendering to continue.\n      });\n    }\n\n    // If we can, compile cmds into JS for MAXIMUM SPEED...\n    if (this.isEvalSupported && FeatureTest.isEvalSupported) {\n      const jsBuf = [];\n      for (const current of cmds) {\n        const args = current.args !== undefined ? current.args.join(\",\") : \"\";\n        jsBuf.push(\"c.\", current.cmd, \"(\", args, \");\\n\");\n      }\n      // eslint-disable-next-line no-new-func\n      return (this.compiledGlyphs[character] = new Function(\n        \"c\",\n        \"size\",\n        jsBuf.join(\"\")\n      ));\n    }\n    // ... but fall back on using Function.prototype.apply() if we're\n    // blocked from using eval() for whatever reason (like CSP policies).\n    return (this.compiledGlyphs[character] = function (c, size) {\n      for (const current of cmds) {\n        if (current.cmd === \"scale\") {\n          current.args = [size, -size];\n        }\n        // eslint-disable-next-line prefer-spread\n        c[current.cmd].apply(c, current.args);\n      }\n    });\n  }\n}\n\nexport { FontFaceObject, FontLoader };\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals __non_webpack_require__ */\n\nimport {\n  BaseCanvasFactory,\n  BaseCMapReaderFactory,\n  BaseFilterFactory,\n  BaseStandardFontDataFactory,\n} from \"./base_factory.js\";\nimport { isNodeJS, warn } from \"../shared/util.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./node_utils.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nif (typeof PDFJSDev !== \"undefined\" && !PDFJSDev.test(\"SKIP_BABEL\")) {\n  (function checkDOMMatrix() {\n    if (globalThis.DOMMatrix || !isNodeJS) {\n      return;\n    }\n    try {\n      globalThis.DOMMatrix = __non_webpack_require__(\"canvas\").DOMMatrix;\n    } catch (ex) {\n      warn(`Cannot polyfill \\`DOMMatrix\\`, rendering may be broken: \"${ex}\".`);\n    }\n  })();\n\n  (function checkPath2D() {\n    if (globalThis.Path2D || !isNodeJS) {\n      return;\n    }\n    try {\n      const { CanvasRenderingContext2D } = __non_webpack_require__(\"canvas\");\n      const { polyfillPath2D } = __non_webpack_require__(\"path2d-polyfill\");\n\n      globalThis.CanvasRenderingContext2D = CanvasRenderingContext2D;\n      polyfillPath2D(globalThis);\n    } catch (ex) {\n      warn(`Cannot polyfill \\`Path2D\\`, rendering may be broken: \"${ex}\".`);\n    }\n  })();\n}\n\nconst fetchData = function (url) {\n  return new Promise((resolve, reject) => {\n    const fs = __non_webpack_require__(\"fs\");\n    fs.readFile(url, (error, data) => {\n      if (error || !data) {\n        reject(new Error(error));\n        return;\n      }\n      resolve(new Uint8Array(data));\n    });\n  });\n};\n\nclass NodeFilterFactory extends BaseFilterFactory {}\n\nclass NodeCanvasFactory extends BaseCanvasFactory {\n  /**\n   * @ignore\n   */\n  _createCanvas(width, height) {\n    const Canvas = __non_webpack_require__(\"canvas\");\n    return Canvas.createCanvas(width, height);\n  }\n}\n\nclass NodeCMapReaderFactory extends BaseCMapReaderFactory {\n  /**\n   * @ignore\n   */\n  _fetchData(url, compressionType) {\n    return fetchData(url).then(data => {\n      return { cMapData: data, compressionType };\n    });\n  }\n}\n\nclass NodeStandardFontDataFactory extends BaseStandardFontDataFactory {\n  /**\n   * @ignore\n   */\n  _fetchData(url) {\n    return fetchData(url);\n  }\n}\n\nexport {\n  NodeCanvasFactory,\n  NodeCMapReaderFactory,\n  NodeFilterFactory,\n  NodeStandardFontDataFactory,\n};\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  FeatureTest,\n  FONT_IDENTITY_MATRIX,\n  IDENTITY_MATRIX,\n  ImageKind,\n  info,\n  isNodeJS,\n  OPS,\n  shadow,\n  TextRenderingMode,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport {\n  getCurrentTransform,\n  getCurrentTransformInverse,\n  PixelsPerInch,\n} from \"./display_utils.js\";\nimport {\n  getShadingPattern,\n  PathType,\n  TilingPattern,\n} from \"./pattern_helper.js\";\nimport { convertBlackAndWhiteToRGBA } from \"../shared/image_utils.js\";\n\n// <canvas> contexts store most of the state we need natively.\n// However, PDF needs a bit more state, which we store here.\n// Minimal font size that would be used during canvas fillText operations.\nconst MIN_FONT_SIZE = 16;\n// Maximum font size that would be used during canvas fillText operations.\nconst MAX_FONT_SIZE = 100;\nconst MAX_GROUP_SIZE = 4096;\n\n// Defines the time the `executeOperatorList`-method is going to be executing\n// before it stops and schedules a continue of execution.\nconst EXECUTION_TIME = 15; // ms\n// Defines the number of steps before checking the execution time.\nconst EXECUTION_STEPS = 10;\n\n// To disable Type3 compilation, set the value to `-1`.\nconst MAX_SIZE_TO_COMPILE = 1000;\n\nconst FULL_CHUNK_HEIGHT = 16;\n\n/**\n * Overrides certain methods on a 2d ctx so that when they are called they\n * will also call the same method on the destCtx. The methods that are\n * overridden are all the transformation state modifiers, path creation, and\n * save/restore. We only forward these specific methods because they are the\n * only state modifiers that we cannot copy over when we switch contexts.\n *\n * To remove mirroring call `ctx._removeMirroring()`.\n *\n * @param {Object} ctx - The 2d canvas context that will duplicate its calls on\n *   the destCtx.\n * @param {Object} destCtx - The 2d canvas context that will receive the\n *   forwarded calls.\n */\nfunction mirrorContextOperations(ctx, destCtx) {\n  if (ctx._removeMirroring) {\n    throw new Error(\"Context is already forwarding operations.\");\n  }\n  ctx.__originalSave = ctx.save;\n  ctx.__originalRestore = ctx.restore;\n  ctx.__originalRotate = ctx.rotate;\n  ctx.__originalScale = ctx.scale;\n  ctx.__originalTranslate = ctx.translate;\n  ctx.__originalTransform = ctx.transform;\n  ctx.__originalSetTransform = ctx.setTransform;\n  ctx.__originalResetTransform = ctx.resetTransform;\n  ctx.__originalClip = ctx.clip;\n  ctx.__originalMoveTo = ctx.moveTo;\n  ctx.__originalLineTo = ctx.lineTo;\n  ctx.__originalBezierCurveTo = ctx.bezierCurveTo;\n  ctx.__originalRect = ctx.rect;\n  ctx.__originalClosePath = ctx.closePath;\n  ctx.__originalBeginPath = ctx.beginPath;\n\n  ctx._removeMirroring = () => {\n    ctx.save = ctx.__originalSave;\n    ctx.restore = ctx.__originalRestore;\n    ctx.rotate = ctx.__originalRotate;\n    ctx.scale = ctx.__originalScale;\n    ctx.translate = ctx.__originalTranslate;\n    ctx.transform = ctx.__originalTransform;\n    ctx.setTransform = ctx.__originalSetTransform;\n    ctx.resetTransform = ctx.__originalResetTransform;\n\n    ctx.clip = ctx.__originalClip;\n    ctx.moveTo = ctx.__originalMoveTo;\n    ctx.lineTo = ctx.__originalLineTo;\n    ctx.bezierCurveTo = ctx.__originalBezierCurveTo;\n    ctx.rect = ctx.__originalRect;\n    ctx.closePath = ctx.__originalClosePath;\n    ctx.beginPath = ctx.__originalBeginPath;\n    delete ctx._removeMirroring;\n  };\n\n  ctx.save = function ctxSave() {\n    destCtx.save();\n    this.__originalSave();\n  };\n\n  ctx.restore = function ctxRestore() {\n    destCtx.restore();\n    this.__originalRestore();\n  };\n\n  ctx.translate = function ctxTranslate(x, y) {\n    destCtx.translate(x, y);\n    this.__originalTranslate(x, y);\n  };\n\n  ctx.scale = function ctxScale(x, y) {\n    destCtx.scale(x, y);\n    this.__originalScale(x, y);\n  };\n\n  ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n    destCtx.transform(a, b, c, d, e, f);\n    this.__originalTransform(a, b, c, d, e, f);\n  };\n\n  ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n    destCtx.setTransform(a, b, c, d, e, f);\n    this.__originalSetTransform(a, b, c, d, e, f);\n  };\n\n  ctx.resetTransform = function ctxResetTransform() {\n    destCtx.resetTransform();\n    this.__originalResetTransform();\n  };\n\n  ctx.rotate = function ctxRotate(angle) {\n    destCtx.rotate(angle);\n    this.__originalRotate(angle);\n  };\n\n  ctx.clip = function ctxRotate(rule) {\n    destCtx.clip(rule);\n    this.__originalClip(rule);\n  };\n\n  ctx.moveTo = function (x, y) {\n    destCtx.moveTo(x, y);\n    this.__originalMoveTo(x, y);\n  };\n\n  ctx.lineTo = function (x, y) {\n    destCtx.lineTo(x, y);\n    this.__originalLineTo(x, y);\n  };\n\n  ctx.bezierCurveTo = function (cp1x, cp1y, cp2x, cp2y, x, y) {\n    destCtx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n    this.__originalBezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n  };\n\n  ctx.rect = function (x, y, width, height) {\n    destCtx.rect(x, y, width, height);\n    this.__originalRect(x, y, width, height);\n  };\n\n  ctx.closePath = function () {\n    destCtx.closePath();\n    this.__originalClosePath();\n  };\n\n  ctx.beginPath = function () {\n    destCtx.beginPath();\n    this.__originalBeginPath();\n  };\n}\n\nclass CachedCanvases {\n  constructor(canvasFactory) {\n    this.canvasFactory = canvasFactory;\n    this.cache = Object.create(null);\n  }\n\n  getCanvas(id, width, height) {\n    let canvasEntry;\n    if (this.cache[id] !== undefined) {\n      canvasEntry = this.cache[id];\n      this.canvasFactory.reset(canvasEntry, width, height);\n    } else {\n      canvasEntry = this.canvasFactory.create(width, height);\n      this.cache[id] = canvasEntry;\n    }\n    return canvasEntry;\n  }\n\n  delete(id) {\n    delete this.cache[id];\n  }\n\n  clear() {\n    for (const id in this.cache) {\n      const canvasEntry = this.cache[id];\n      this.canvasFactory.destroy(canvasEntry);\n      delete this.cache[id];\n    }\n  }\n}\n\nfunction drawImageAtIntegerCoords(\n  ctx,\n  srcImg,\n  srcX,\n  srcY,\n  srcW,\n  srcH,\n  destX,\n  destY,\n  destW,\n  destH\n) {\n  const [a, b, c, d, tx, ty] = getCurrentTransform(ctx);\n  if (b === 0 && c === 0) {\n    // top-left corner is at (X, Y) and\n    // bottom-right one is at (X + width, Y + height).\n\n    // If leftX is 4.321 then it's rounded to 4.\n    // If width is 10.432 then it's rounded to 11 because\n    // rightX = leftX + width = 14.753 which is rounded to 15\n    // so after rounding the total width is 11 (15 - 4).\n    // It's why we can't just floor/ceil uniformly, it just depends\n    // on the values we've.\n\n    const tlX = destX * a + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destY * d + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destX + destW) * a + tx;\n\n    // Some pdf contains images with 1x1 images so in case of 0-width after\n    // scaling we must fallback on 1 to be sure there is something.\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destY + destH) * d + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n\n    // We must apply a transformation in order to apply it on the image itself.\n    // For example if a == 1 && d == -1, it means that the image itself is\n    // mirrored w.r.t. the x-axis.\n    ctx.setTransform(Math.sign(a), 0, 0, Math.sign(d), rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rWidth, rHeight);\n    ctx.setTransform(a, b, c, d, tx, ty);\n\n    return [rWidth, rHeight];\n  }\n\n  if (a === 0 && d === 0) {\n    // This path is taken in issue9462.pdf (page 3).\n    const tlX = destY * c + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destX * b + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destY + destH) * c + tx;\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destX + destW) * b + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n\n    ctx.setTransform(0, Math.sign(b), Math.sign(c), 0, rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rHeight, rWidth);\n    ctx.setTransform(a, b, c, d, tx, ty);\n\n    return [rHeight, rWidth];\n  }\n\n  // Not a scale matrix so let the render handle the case without rounding.\n  ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, destX, destY, destW, destH);\n\n  const scaleX = Math.hypot(a, b);\n  const scaleY = Math.hypot(c, d);\n  return [scaleX * destW, scaleY * destH];\n}\n\nfunction compileType3Glyph(imgData) {\n  const { width, height } = imgData;\n  if (width > MAX_SIZE_TO_COMPILE || height > MAX_SIZE_TO_COMPILE) {\n    return null;\n  }\n\n  const POINT_TO_PROCESS_LIMIT = 1000;\n  const POINT_TYPES = new Uint8Array([\n    0, 2, 4, 0, 1, 0, 5, 4, 8, 10, 0, 8, 0, 2, 1, 0,\n  ]);\n\n  const width1 = width + 1;\n  let points = new Uint8Array(width1 * (height + 1));\n  let i, j, j0;\n\n  // decodes bit-packed mask data\n  const lineSize = (width + 7) & ~7;\n  let data = new Uint8Array(lineSize * height),\n    pos = 0;\n  for (const elem of imgData.data) {\n    let mask = 128;\n    while (mask > 0) {\n      data[pos++] = elem & mask ? 0 : 255;\n      mask >>= 1;\n    }\n  }\n\n  // finding interesting points: every point is located between mask pixels,\n  // so there will be points of the (width + 1)x(height + 1) grid. Every point\n  // will have flags assigned based on neighboring mask pixels:\n  //   4 | 8\n  //   --P--\n  //   2 | 1\n  // We are interested only in points with the flags:\n  //   - outside corners: 1, 2, 4, 8;\n  //   - inside corners: 7, 11, 13, 14;\n  //   - and, intersections: 5, 10.\n  let count = 0;\n  pos = 0;\n  if (data[pos] !== 0) {\n    points[0] = 1;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j] = data[pos] ? 2 : 1;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j] = 2;\n    ++count;\n  }\n  for (i = 1; i < height; i++) {\n    pos = i * lineSize;\n    j0 = i * width1;\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0] = data[pos] ? 1 : 8;\n      ++count;\n    }\n    // 'sum' is the position of the current pixel configuration in the 'TYPES'\n    // array (in order 8-1-2-4, so we can use '>>2' to shift the column).\n    let sum = (data[pos] ? 4 : 0) + (data[pos - lineSize] ? 8 : 0);\n    for (j = 1; j < width; j++) {\n      sum =\n        (sum >> 2) +\n        (data[pos + 1] ? 4 : 0) +\n        (data[pos - lineSize + 1] ? 8 : 0);\n      if (POINT_TYPES[sum]) {\n        points[j0 + j] = POINT_TYPES[sum];\n        ++count;\n      }\n      pos++;\n    }\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0 + j] = data[pos] ? 2 : 4;\n      ++count;\n    }\n\n    if (count > POINT_TO_PROCESS_LIMIT) {\n      return null;\n    }\n  }\n\n  pos = lineSize * (height - 1);\n  j0 = i * width1;\n  if (data[pos] !== 0) {\n    points[j0] = 8;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j0 + j] = data[pos] ? 4 : 8;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j0 + j] = 4;\n    ++count;\n  }\n  if (count > POINT_TO_PROCESS_LIMIT) {\n    return null;\n  }\n\n  // building outlines\n  const steps = new Int32Array([0, width1, -1, 0, -width1, 0, 0, 0, 1]);\n  const path = new Path2D();\n\n  for (i = 0; count && i <= height; i++) {\n    let p = i * width1;\n    const end = p + width;\n    while (p < end && !points[p]) {\n      p++;\n    }\n    if (p === end) {\n      continue;\n    }\n    path.moveTo(p % width1, i);\n\n    const p0 = p;\n    let type = points[p];\n    do {\n      const step = steps[type];\n      do {\n        p += step;\n      } while (!points[p]);\n\n      const pp = points[p];\n      if (pp !== 5 && pp !== 10) {\n        // set new direction\n        type = pp;\n        // delete mark\n        points[p] = 0;\n      } else {\n        // type is 5 or 10, ie, a crossing\n        // set new direction\n        type = pp & ((0x33 * type) >> 4);\n        // set new type for \"future hit\"\n        points[p] &= (type >> 2) | (type << 2);\n      }\n      path.lineTo(p % width1, (p / width1) | 0);\n\n      if (!points[p]) {\n        --count;\n      }\n    } while (p0 !== p);\n    --i;\n  }\n\n  // Immediately release the, potentially large, `Uint8Array`s after parsing.\n  data = null;\n  points = null;\n\n  const drawOutline = function (c) {\n    c.save();\n    // the path shall be painted in [0..1]x[0..1] space\n    c.scale(1 / width, -1 / height);\n    c.translate(0, -height);\n    c.fill(path);\n    c.beginPath();\n    c.restore();\n  };\n\n  return drawOutline;\n}\n\nclass CanvasExtraState {\n  constructor(width, height) {\n    // Are soft masks and alpha values shapes or opacities?\n    this.alphaIsShape = false;\n    this.fontSize = 0;\n    this.fontSizeScale = 1;\n    this.textMatrix = IDENTITY_MATRIX;\n    this.textMatrixScale = 1;\n    this.fontMatrix = FONT_IDENTITY_MATRIX;\n    this.leading = 0;\n    // Current point (in user coordinates)\n    this.x = 0;\n    this.y = 0;\n    // Start of text line (in text coordinates)\n    this.lineX = 0;\n    this.lineY = 0;\n    // Character and word spacing\n    this.charSpacing = 0;\n    this.wordSpacing = 0;\n    this.textHScale = 1;\n    this.textRenderingMode = TextRenderingMode.FILL;\n    this.textRise = 0;\n    // Default fore and background colors\n    this.fillColor = \"#000000\";\n    this.strokeColor = \"#000000\";\n    this.patternFill = false;\n    // Note: fill alpha applies to all non-stroking operations\n    this.fillAlpha = 1;\n    this.strokeAlpha = 1;\n    this.lineWidth = 1;\n    this.activeSMask = null;\n    this.transferMaps = \"none\";\n\n    this.startNewPathAndClipBox([0, 0, width, height]);\n  }\n\n  clone() {\n    const clone = Object.create(this);\n    clone.clipBox = this.clipBox.slice();\n    return clone;\n  }\n\n  setCurrentPoint(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  updatePathMinMax(transform, x, y) {\n    [x, y] = Util.applyTransform([x, y], transform);\n    this.minX = Math.min(this.minX, x);\n    this.minY = Math.min(this.minY, y);\n    this.maxX = Math.max(this.maxX, x);\n    this.maxY = Math.max(this.maxY, y);\n  }\n\n  updateRectMinMax(transform, rect) {\n    const p1 = Util.applyTransform(rect, transform);\n    const p2 = Util.applyTransform(rect.slice(2), transform);\n    this.minX = Math.min(this.minX, p1[0], p2[0]);\n    this.minY = Math.min(this.minY, p1[1], p2[1]);\n    this.maxX = Math.max(this.maxX, p1[0], p2[0]);\n    this.maxY = Math.max(this.maxY, p1[1], p2[1]);\n  }\n\n  updateScalingPathMinMax(transform, minMax) {\n    Util.scaleMinMax(transform, minMax);\n    this.minX = Math.min(this.minX, minMax[0]);\n    this.maxX = Math.max(this.maxX, minMax[1]);\n    this.minY = Math.min(this.minY, minMax[2]);\n    this.maxY = Math.max(this.maxY, minMax[3]);\n  }\n\n  updateCurvePathMinMax(transform, x0, y0, x1, y1, x2, y2, x3, y3, minMax) {\n    const box = Util.bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3);\n    if (minMax) {\n      minMax[0] = Math.min(minMax[0], box[0], box[2]);\n      minMax[1] = Math.max(minMax[1], box[0], box[2]);\n      minMax[2] = Math.min(minMax[2], box[1], box[3]);\n      minMax[3] = Math.max(minMax[3], box[1], box[3]);\n      return;\n    }\n    this.updateRectMinMax(transform, box);\n  }\n\n  getPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    const box = [this.minX, this.minY, this.maxX, this.maxY];\n    if (pathType === PathType.STROKE) {\n      if (!transform) {\n        unreachable(\"Stroke bounding box must include transform.\");\n      }\n      // Stroked paths can be outside of the path bounding box by 1/2 the line\n      // width.\n      const scale = Util.singularValueDecompose2dScale(transform);\n      const xStrokePad = (scale[0] * this.lineWidth) / 2;\n      const yStrokePad = (scale[1] * this.lineWidth) / 2;\n      box[0] -= xStrokePad;\n      box[1] -= yStrokePad;\n      box[2] += xStrokePad;\n      box[3] += yStrokePad;\n    }\n    return box;\n  }\n\n  updateClipFromPath() {\n    const intersect = Util.intersect(this.clipBox, this.getPathBoundingBox());\n    this.startNewPathAndClipBox(intersect || [0, 0, 0, 0]);\n  }\n\n  isEmptyClip() {\n    return this.minX === Infinity;\n  }\n\n  startNewPathAndClipBox(box) {\n    this.clipBox = box;\n    this.minX = Infinity;\n    this.minY = Infinity;\n    this.maxX = 0;\n    this.maxY = 0;\n  }\n\n  getClippedPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    return Util.intersect(\n      this.clipBox,\n      this.getPathBoundingBox(pathType, transform)\n    );\n  }\n}\n\nfunction putBinaryImageData(ctx, imgData) {\n  if (typeof ImageData !== \"undefined\" && imgData instanceof ImageData) {\n    ctx.putImageData(imgData, 0, 0);\n    return;\n  }\n\n  // Put the image data to the canvas in chunks, rather than putting the\n  // whole image at once.  This saves JS memory, because the ImageData object\n  // is smaller. It also possibly saves C++ memory within the implementation\n  // of putImageData(). (E.g. in Firefox we make two short-lived copies of\n  // the data passed to putImageData()). |n| shouldn't be too small, however,\n  // because too many putImageData() calls will slow things down.\n  //\n  // Note: as written, if the last chunk is partial, the putImageData() call\n  // will (conceptually) put pixels past the bounds of the canvas.  But\n  // that's ok; any such pixels are ignored.\n\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0,\n    destPos;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n  let i, j, thisChunkHeight, elemsInThisChunk;\n\n  // There are multiple forms in which the pixel data can be passed, and\n  // imgData.kind tells us which one this is.\n  if (imgData.kind === ImageKind.GRAYSCALE_1BPP) {\n    // Grayscale, 1 bit per pixel (i.e. black-and-white).\n    const srcLength = src.byteLength;\n    const dest32 = new Uint32Array(dest.buffer, 0, dest.byteLength >> 2);\n    const dest32DataLength = dest32.length;\n    const fullSrcDiff = (width + 7) >> 3;\n    const white = 0xffffffff;\n    const black = FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n\n    for (i = 0; i < totalChunks; i++) {\n      thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n      destPos = 0;\n      for (j = 0; j < thisChunkHeight; j++) {\n        const srcDiff = srcLength - srcPos;\n        let k = 0;\n        const kEnd = srcDiff > fullSrcDiff ? width : srcDiff * 8 - 7;\n        const kEndUnrolled = kEnd & ~7;\n        let mask = 0;\n        let srcByte = 0;\n        for (; k < kEndUnrolled; k += 8) {\n          srcByte = src[srcPos++];\n          dest32[destPos++] = srcByte & 128 ? white : black;\n          dest32[destPos++] = srcByte & 64 ? white : black;\n          dest32[destPos++] = srcByte & 32 ? white : black;\n          dest32[destPos++] = srcByte & 16 ? white : black;\n          dest32[destPos++] = srcByte & 8 ? white : black;\n          dest32[destPos++] = srcByte & 4 ? white : black;\n          dest32[destPos++] = srcByte & 2 ? white : black;\n          dest32[destPos++] = srcByte & 1 ? white : black;\n        }\n        for (; k < kEnd; k++) {\n          if (mask === 0) {\n            srcByte = src[srcPos++];\n            mask = 128;\n          }\n\n          dest32[destPos++] = srcByte & mask ? white : black;\n          mask >>= 1;\n        }\n      }\n      // We ran out of input. Make all remaining pixels transparent.\n      while (destPos < dest32DataLength) {\n        dest32[destPos++] = 0;\n      }\n\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else if (imgData.kind === ImageKind.RGBA_32BPP) {\n    // RGBA, 32-bits per pixel.\n    j = 0;\n    elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n    for (i = 0; i < fullChunks; i++) {\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n      srcPos += elemsInThisChunk;\n\n      ctx.putImageData(chunkImgData, 0, j);\n      j += FULL_CHUNK_HEIGHT;\n    }\n    if (i < totalChunks) {\n      elemsInThisChunk = width * partialChunkHeight * 4;\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n\n      ctx.putImageData(chunkImgData, 0, j);\n    }\n  } else if (imgData.kind === ImageKind.RGB_24BPP) {\n    // RGB, 24-bits per pixel.\n    thisChunkHeight = FULL_CHUNK_HEIGHT;\n    elemsInThisChunk = width * thisChunkHeight;\n    for (i = 0; i < totalChunks; i++) {\n      if (i >= fullChunks) {\n        thisChunkHeight = partialChunkHeight;\n        elemsInThisChunk = width * thisChunkHeight;\n      }\n\n      destPos = 0;\n      for (j = elemsInThisChunk; j--; ) {\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = 255;\n      }\n\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else {\n    throw new Error(`bad image kind: ${imgData.kind}`);\n  }\n}\n\nfunction putBinaryImageMask(ctx, imgData) {\n  if (imgData.bitmap) {\n    // The bitmap has been created in the worker.\n    ctx.drawImage(imgData.bitmap, 0, 0);\n    return;\n  }\n\n  // Slow path: OffscreenCanvas isn't available in the worker.\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n\n  for (let i = 0; i < totalChunks; i++) {\n    const thisChunkHeight =\n      i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n\n    // Expand the mask so it can be used by the canvas.  Any required\n    // inversion has already been handled.\n\n    ({ srcPos } = convertBlackAndWhiteToRGBA({\n      src,\n      srcPos,\n      dest,\n      width,\n      height: thisChunkHeight,\n      nonBlackColor: 0,\n    }));\n\n    ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n  }\n}\n\nfunction copyCtxState(sourceCtx, destCtx) {\n  const properties = [\n    \"strokeStyle\",\n    \"fillStyle\",\n    \"fillRule\",\n    \"globalAlpha\",\n    \"lineWidth\",\n    \"lineCap\",\n    \"lineJoin\",\n    \"miterLimit\",\n    \"globalCompositeOperation\",\n    \"font\",\n    \"filter\",\n  ];\n  for (const property of properties) {\n    if (sourceCtx[property] !== undefined) {\n      destCtx[property] = sourceCtx[property];\n    }\n  }\n  if (sourceCtx.setLineDash !== undefined) {\n    destCtx.setLineDash(sourceCtx.getLineDash());\n    destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n  }\n}\n\nfunction resetCtxToDefault(ctx) {\n  ctx.strokeStyle = ctx.fillStyle = \"#000000\";\n  ctx.fillRule = \"nonzero\";\n  ctx.globalAlpha = 1;\n  ctx.lineWidth = 1;\n  ctx.lineCap = \"butt\";\n  ctx.lineJoin = \"miter\";\n  ctx.miterLimit = 10;\n  ctx.globalCompositeOperation = \"source-over\";\n  ctx.font = \"10px sans-serif\";\n  if (ctx.setLineDash !== undefined) {\n    ctx.setLineDash([]);\n    ctx.lineDashOffset = 0;\n  }\n  if (\n    (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n    !isNodeJS\n  ) {\n    const { filter } = ctx;\n    if (filter !== \"none\" && filter !== \"\") {\n      ctx.filter = \"none\";\n    }\n  }\n}\n\nfunction composeSMaskBackdrop(bytes, r0, g0, b0) {\n  const length = bytes.length;\n  for (let i = 3; i < length; i += 4) {\n    const alpha = bytes[i];\n    if (alpha === 0) {\n      bytes[i - 3] = r0;\n      bytes[i - 2] = g0;\n      bytes[i - 1] = b0;\n    } else if (alpha < 255) {\n      const alpha_ = 255 - alpha;\n      bytes[i - 3] = (bytes[i - 3] * alpha + r0 * alpha_) >> 8;\n      bytes[i - 2] = (bytes[i - 2] * alpha + g0 * alpha_) >> 8;\n      bytes[i - 1] = (bytes[i - 1] * alpha + b0 * alpha_) >> 8;\n    }\n  }\n}\n\nfunction composeSMaskAlpha(maskData, layerData, transferMap) {\n  const length = maskData.length;\n  const scale = 1 / 255;\n  for (let i = 3; i < length; i += 4) {\n    const alpha = transferMap ? transferMap[maskData[i]] : maskData[i];\n    layerData[i] = (layerData[i] * alpha * scale) | 0;\n  }\n}\n\nfunction composeSMaskLuminosity(maskData, layerData, transferMap) {\n  const length = maskData.length;\n  for (let i = 3; i < length; i += 4) {\n    const y =\n      maskData[i - 3] * 77 + // * 0.3 / 255 * 0x10000\n      maskData[i - 2] * 152 + // * 0.59 ....\n      maskData[i - 1] * 28; // * 0.11 ....\n    layerData[i] = transferMap\n      ? (layerData[i] * transferMap[y >> 8]) >> 8\n      : (layerData[i] * y) >> 16;\n  }\n}\n\nfunction genericComposeSMask(\n  maskCtx,\n  layerCtx,\n  width,\n  height,\n  subtype,\n  backdrop,\n  transferMap,\n  layerOffsetX,\n  layerOffsetY,\n  maskOffsetX,\n  maskOffsetY\n) {\n  const hasBackdrop = !!backdrop;\n  const r0 = hasBackdrop ? backdrop[0] : 0;\n  const g0 = hasBackdrop ? backdrop[1] : 0;\n  const b0 = hasBackdrop ? backdrop[2] : 0;\n\n  const composeFn =\n    subtype === \"Luminosity\" ? composeSMaskLuminosity : composeSMaskAlpha;\n\n  // processing image in chunks to save memory\n  const PIXELS_TO_PROCESS = 1048576;\n  const chunkSize = Math.min(height, Math.ceil(PIXELS_TO_PROCESS / width));\n  for (let row = 0; row < height; row += chunkSize) {\n    const chunkHeight = Math.min(chunkSize, height - row);\n    const maskData = maskCtx.getImageData(\n      layerOffsetX - maskOffsetX,\n      row + (layerOffsetY - maskOffsetY),\n      width,\n      chunkHeight\n    );\n    const layerData = layerCtx.getImageData(\n      layerOffsetX,\n      row + layerOffsetY,\n      width,\n      chunkHeight\n    );\n\n    if (hasBackdrop) {\n      composeSMaskBackdrop(maskData.data, r0, g0, b0);\n    }\n    composeFn(maskData.data, layerData.data, transferMap);\n\n    layerCtx.putImageData(layerData, layerOffsetX, row + layerOffsetY);\n  }\n}\n\nfunction composeSMask(ctx, smask, layerCtx, layerBox) {\n  const layerOffsetX = layerBox[0];\n  const layerOffsetY = layerBox[1];\n  const layerWidth = layerBox[2] - layerOffsetX;\n  const layerHeight = layerBox[3] - layerOffsetY;\n  if (layerWidth === 0 || layerHeight === 0) {\n    return;\n  }\n  genericComposeSMask(\n    smask.context,\n    layerCtx,\n    layerWidth,\n    layerHeight,\n    smask.subtype,\n    smask.backdrop,\n    smask.transferMap,\n    layerOffsetX,\n    layerOffsetY,\n    smask.offsetX,\n    smask.offsetY\n  );\n  ctx.save();\n  ctx.globalAlpha = 1;\n  ctx.globalCompositeOperation = \"source-over\";\n  ctx.setTransform(1, 0, 0, 1, 0, 0);\n  ctx.drawImage(layerCtx.canvas, 0, 0);\n  ctx.restore();\n}\n\nfunction getImageSmoothingEnabled(transform, interpolate) {\n  const scale = Util.singularValueDecompose2dScale(transform);\n  // Round to a 32bit float so that `<=` check below will pass for numbers that\n  // are very close, but not exactly the same 64bit floats.\n  scale[0] = Math.fround(scale[0]);\n  scale[1] = Math.fround(scale[1]);\n  const actualScale = Math.fround(\n    (globalThis.devicePixelRatio || 1) * PixelsPerInch.PDF_TO_CSS_UNITS\n  );\n  if (interpolate !== undefined) {\n    // If the value is explicitly set use it.\n    return interpolate;\n  } else if (scale[0] <= actualScale || scale[1] <= actualScale) {\n    // Smooth when downscaling.\n    return true;\n  }\n  // Don't smooth when upscaling.\n  return false;\n}\n\nconst LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\nconst LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\nconst NORMAL_CLIP = {};\nconst EO_CLIP = {};\n\nclass CanvasGraphics {\n  constructor(\n    canvasCtx,\n    commonObjs,\n    objs,\n    canvasFactory,\n    filterFactory,\n    { optionalContentConfig, markedContentStack = null },\n    annotationCanvasMap,\n    pageColors\n  ) {\n    this.ctx = canvasCtx;\n    this.current = new CanvasExtraState(\n      this.ctx.canvas.width,\n      this.ctx.canvas.height\n    );\n    this.stateStack = [];\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n    this.res = null;\n    this.xobjs = null;\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.canvasFactory = canvasFactory;\n    this.filterFactory = filterFactory;\n    this.groupStack = [];\n    this.processingType3 = null;\n    // Patterns are painted relative to the initial page/form transform, see\n    // PDF spec 8.7.2 NOTE 1.\n    this.baseTransform = null;\n    this.baseTransformStack = [];\n    this.groupLevel = 0;\n    this.smaskStack = [];\n    this.smaskCounter = 0;\n    this.tempSMask = null;\n    this.suspendedCtx = null;\n    this.contentVisible = true;\n    this.markedContentStack = markedContentStack || [];\n    this.optionalContentConfig = optionalContentConfig;\n    this.cachedCanvases = new CachedCanvases(this.canvasFactory);\n    this.cachedPatterns = new Map();\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.viewportScale = 1;\n    this.outputScaleX = 1;\n    this.outputScaleY = 1;\n    this.pageColors = pageColors;\n\n    this._cachedScaleForStroking = [-1, 0];\n    this._cachedGetSinglePixelWidth = null;\n    this._cachedBitmapsMap = new Map();\n  }\n\n  getObject(data, fallback = null) {\n    if (typeof data === \"string\") {\n      return data.startsWith(\"g_\")\n        ? this.commonObjs.get(data)\n        : this.objs.get(data);\n    }\n    return fallback;\n  }\n\n  beginDrawing({\n    transform,\n    viewport,\n    transparency = false,\n    background = null,\n  }) {\n    // For pdfs that use blend modes we have to clear the canvas else certain\n    // blend modes can look wrong since we'd be blending with a white\n    // backdrop. The problem with a transparent backdrop though is we then\n    // don't get sub pixel anti aliasing on text, creating temporary\n    // transparent canvas when we have blend modes.\n    const width = this.ctx.canvas.width;\n    const height = this.ctx.canvas.height;\n\n    const savedFillStyle = this.ctx.fillStyle;\n    this.ctx.fillStyle = background || \"#ffffff\";\n    this.ctx.fillRect(0, 0, width, height);\n    this.ctx.fillStyle = savedFillStyle;\n\n    if (transparency) {\n      const transparentCanvas = this.cachedCanvases.getCanvas(\n        \"transparent\",\n        width,\n        height\n      );\n      this.compositeCtx = this.ctx;\n      this.transparentCanvas = transparentCanvas.canvas;\n      this.ctx = transparentCanvas.context;\n      this.ctx.save();\n      // The transform can be applied before rendering, transferring it to\n      // the new canvas.\n      this.ctx.transform(...getCurrentTransform(this.compositeCtx));\n    }\n\n    this.ctx.save();\n    resetCtxToDefault(this.ctx);\n    if (transform) {\n      this.ctx.transform(...transform);\n      this.outputScaleX = transform[0];\n      this.outputScaleY = transform[0];\n    }\n    this.ctx.transform(...viewport.transform);\n    this.viewportScale = viewport.scale;\n\n    this.baseTransform = getCurrentTransform(this.ctx);\n  }\n\n  executeOperatorList(\n    operatorList,\n    executionStartIdx,\n    continueCallback,\n    stepper\n  ) {\n    const argsArray = operatorList.argsArray;\n    const fnArray = operatorList.fnArray;\n    let i = executionStartIdx || 0;\n    const argsArrayLen = argsArray.length;\n\n    // Sometimes the OperatorList to execute is empty.\n    if (argsArrayLen === i) {\n      return i;\n    }\n\n    const chunkOperations =\n      argsArrayLen - i > EXECUTION_STEPS &&\n      typeof continueCallback === \"function\";\n    const endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n    let steps = 0;\n\n    const commonObjs = this.commonObjs;\n    const objs = this.objs;\n    let fnId;\n\n    while (true) {\n      if (stepper !== undefined && i === stepper.nextBreakPoint) {\n        stepper.breakIt(i, continueCallback);\n        return i;\n      }\n\n      fnId = fnArray[i];\n\n      if (fnId !== OPS.dependency) {\n        // eslint-disable-next-line prefer-spread\n        this[fnId].apply(this, argsArray[i]);\n      } else {\n        for (const depObjId of argsArray[i]) {\n          const objsPool = depObjId.startsWith(\"g_\") ? commonObjs : objs;\n\n          // If the promise isn't resolved yet, add the continueCallback\n          // to the promise and bail out.\n          if (!objsPool.has(depObjId)) {\n            objsPool.get(depObjId, continueCallback);\n            return i;\n          }\n        }\n      }\n\n      i++;\n\n      // If the entire operatorList was executed, stop as were done.\n      if (i === argsArrayLen) {\n        return i;\n      }\n\n      // If the execution took longer then a certain amount of time and\n      // `continueCallback` is specified, interrupt the execution.\n      if (chunkOperations && ++steps > EXECUTION_STEPS) {\n        if (Date.now() > endTime) {\n          continueCallback();\n          return i;\n        }\n        steps = 0;\n      }\n\n      // If the operatorList isn't executed completely yet OR the execution\n      // time was short enough, do another execution round.\n    }\n  }\n\n  #restoreInitialState() {\n    // Finishing all opened operations such as SMask group painting.\n    while (this.stateStack.length || this.inSMaskMode) {\n      this.restore();\n    }\n\n    this.ctx.restore();\n\n    if (this.transparentCanvas) {\n      this.ctx = this.compositeCtx;\n      this.ctx.save();\n      this.ctx.setTransform(1, 0, 0, 1, 0, 0); // Avoid apply transform twice\n      this.ctx.drawImage(this.transparentCanvas, 0, 0);\n      this.ctx.restore();\n      this.transparentCanvas = null;\n    }\n  }\n\n  endDrawing() {\n    this.#restoreInitialState();\n\n    this.cachedCanvases.clear();\n    this.cachedPatterns.clear();\n\n    for (const cache of this._cachedBitmapsMap.values()) {\n      for (const canvas of cache.values()) {\n        if (\n          typeof HTMLCanvasElement !== \"undefined\" &&\n          canvas instanceof HTMLCanvasElement\n        ) {\n          canvas.width = canvas.height = 0;\n        }\n      }\n      cache.clear();\n    }\n    this._cachedBitmapsMap.clear();\n    this.#drawFilter();\n  }\n\n  #drawFilter() {\n    if (this.pageColors) {\n      const hcmFilterId = this.filterFactory.addHCMFilter(\n        this.pageColors.foreground,\n        this.pageColors.background\n      );\n      if (hcmFilterId !== \"none\") {\n        const savedFilter = this.ctx.filter;\n        this.ctx.filter = hcmFilterId;\n        this.ctx.drawImage(this.ctx.canvas, 0, 0);\n        this.ctx.filter = savedFilter;\n      }\n    }\n  }\n\n  _scaleImage(img, inverseTransform) {\n    // Vertical or horizontal scaling shall not be more than 2 to not lose the\n    // pixels during drawImage operation, painting on the temporary canvas(es)\n    // that are twice smaller in size.\n    const width = img.width;\n    const height = img.height;\n    let widthScale = Math.max(\n      Math.hypot(inverseTransform[0], inverseTransform[1]),\n      1\n    );\n    let heightScale = Math.max(\n      Math.hypot(inverseTransform[2], inverseTransform[3]),\n      1\n    );\n\n    let paintWidth = width,\n      paintHeight = height;\n    let tmpCanvasId = \"prescale1\";\n    let tmpCanvas, tmpCtx;\n    while (\n      (widthScale > 2 && paintWidth > 1) ||\n      (heightScale > 2 && paintHeight > 1)\n    ) {\n      let newWidth = paintWidth,\n        newHeight = paintHeight;\n      if (widthScale > 2 && paintWidth > 1) {\n        // See bug 1820511 (Windows specific bug).\n        // TODO: once the above bug is fixed we could revert to:\n        // newWidth = Math.ceil(paintWidth / 2);\n        newWidth =\n          paintWidth >= 16384\n            ? Math.floor(paintWidth / 2) - 1 || 1\n            : Math.ceil(paintWidth / 2);\n        widthScale /= paintWidth / newWidth;\n      }\n      if (heightScale > 2 && paintHeight > 1) {\n        // TODO: see the comment above.\n        newHeight =\n          paintHeight >= 16384\n            ? Math.floor(paintHeight / 2) - 1 || 1\n            : Math.ceil(paintHeight) / 2;\n        heightScale /= paintHeight / newHeight;\n      }\n      tmpCanvas = this.cachedCanvases.getCanvas(\n        tmpCanvasId,\n        newWidth,\n        newHeight\n      );\n      tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, newWidth, newHeight);\n      tmpCtx.drawImage(\n        img,\n        0,\n        0,\n        paintWidth,\n        paintHeight,\n        0,\n        0,\n        newWidth,\n        newHeight\n      );\n      img = tmpCanvas.canvas;\n      paintWidth = newWidth;\n      paintHeight = newHeight;\n      tmpCanvasId = tmpCanvasId === \"prescale1\" ? \"prescale2\" : \"prescale1\";\n    }\n    return {\n      img,\n      paintWidth,\n      paintHeight,\n    };\n  }\n\n  _createMaskCanvas(img) {\n    const ctx = this.ctx;\n    const { width, height } = img;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    const currentTransform = getCurrentTransform(ctx);\n\n    let cache, cacheKey, scaled, maskCanvas;\n    if ((img.bitmap || img.data) && img.count > 1) {\n      const mainKey = img.bitmap || img.data.buffer;\n      // We're reusing the same image several times, so we can cache it.\n      // In case we've a pattern fill we just keep the scaled version of\n      // the image.\n      // Only the scaling part matters, the translation part is just used\n      // to compute offsets (but not when filling patterns see #15573).\n      // TODO: handle the case of a pattern fill if it's possible.\n      cacheKey = JSON.stringify(\n        isPatternFill\n          ? currentTransform\n          : [currentTransform.slice(0, 4), fillColor]\n      );\n\n      cache = this._cachedBitmapsMap.get(mainKey);\n      if (!cache) {\n        cache = new Map();\n        this._cachedBitmapsMap.set(mainKey, cache);\n      }\n      const cachedImage = cache.get(cacheKey);\n      if (cachedImage && !isPatternFill) {\n        const offsetX = Math.round(\n          Math.min(currentTransform[0], currentTransform[2]) +\n            currentTransform[4]\n        );\n        const offsetY = Math.round(\n          Math.min(currentTransform[1], currentTransform[3]) +\n            currentTransform[5]\n        );\n        return {\n          canvas: cachedImage,\n          offsetX,\n          offsetY,\n        };\n      }\n      scaled = cachedImage;\n    }\n\n    if (!scaled) {\n      maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n      putBinaryImageMask(maskCanvas.context, img);\n    }\n\n    // Create the mask canvas at the size it will be drawn at and also set\n    // its transform to match the current transform so if there are any\n    // patterns applied they will be applied relative to the correct\n    // transform.\n\n    let maskToCanvas = Util.transform(currentTransform, [\n      1 / width,\n      0,\n      0,\n      -1 / height,\n      0,\n      0,\n    ]);\n    maskToCanvas = Util.transform(maskToCanvas, [1, 0, 0, 1, 0, -height]);\n    const cord1 = Util.applyTransform([0, 0], maskToCanvas);\n    const cord2 = Util.applyTransform([width, height], maskToCanvas);\n    const rect = Util.normalizeRect([cord1[0], cord1[1], cord2[0], cord2[1]]);\n    const drawnWidth = Math.round(rect[2] - rect[0]) || 1;\n    const drawnHeight = Math.round(rect[3] - rect[1]) || 1;\n    const fillCanvas = this.cachedCanvases.getCanvas(\n      \"fillCanvas\",\n      drawnWidth,\n      drawnHeight\n    );\n    const fillCtx = fillCanvas.context;\n\n    // The offset will be the top-left cordinate mask.\n    // If objToCanvas is [a,b,c,d,e,f] then:\n    //   - offsetX = min(a, c) + e\n    //   - offsetY = min(b, d) + f\n    const offsetX = Math.min(cord1[0], cord2[0]);\n    const offsetY = Math.min(cord1[1], cord2[1]);\n    fillCtx.translate(-offsetX, -offsetY);\n    fillCtx.transform(...maskToCanvas);\n\n    if (!scaled) {\n      // Pre-scale if needed to improve image smoothing.\n      scaled = this._scaleImage(\n        maskCanvas.canvas,\n        getCurrentTransformInverse(fillCtx)\n      );\n      scaled = scaled.img;\n      if (cache && isPatternFill) {\n        cache.set(cacheKey, scaled);\n      }\n    }\n\n    fillCtx.imageSmoothingEnabled = getImageSmoothingEnabled(\n      getCurrentTransform(fillCtx),\n      img.interpolate\n    );\n\n    drawImageAtIntegerCoords(\n      fillCtx,\n      scaled,\n      0,\n      0,\n      scaled.width,\n      scaled.height,\n      0,\n      0,\n      width,\n      height\n    );\n    fillCtx.globalCompositeOperation = \"source-in\";\n\n    const inverse = Util.transform(getCurrentTransformInverse(fillCtx), [\n      1,\n      0,\n      0,\n      1,\n      -offsetX,\n      -offsetY,\n    ]);\n    fillCtx.fillStyle = isPatternFill\n      ? fillColor.getPattern(ctx, this, inverse, PathType.FILL)\n      : fillColor;\n\n    fillCtx.fillRect(0, 0, width, height);\n\n    if (cache && !isPatternFill) {\n      // The fill canvas is put in the cache associated to the mask image\n      // so we must remove from the cached canvas: it mustn't be used again.\n      this.cachedCanvases.delete(\"fillCanvas\");\n      cache.set(cacheKey, fillCanvas.canvas);\n    }\n\n    // Round the offsets to avoid drawing fractional pixels.\n    return {\n      canvas: fillCanvas.canvas,\n      offsetX: Math.round(offsetX),\n      offsetY: Math.round(offsetY),\n    };\n  }\n\n  // Graphics state\n  setLineWidth(width) {\n    if (width !== this.current.lineWidth) {\n      this._cachedScaleForStroking[0] = -1;\n    }\n    this.current.lineWidth = width;\n    this.ctx.lineWidth = width;\n  }\n\n  setLineCap(style) {\n    this.ctx.lineCap = LINE_CAP_STYLES[style];\n  }\n\n  setLineJoin(style) {\n    this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n  }\n\n  setMiterLimit(limit) {\n    this.ctx.miterLimit = limit;\n  }\n\n  setDash(dashArray, dashPhase) {\n    const ctx = this.ctx;\n    if (ctx.setLineDash !== undefined) {\n      ctx.setLineDash(dashArray);\n      ctx.lineDashOffset = dashPhase;\n    }\n  }\n\n  setRenderingIntent(intent) {\n    // This operation is ignored since we haven't found a use case for it yet.\n  }\n\n  setFlatness(flatness) {\n    // This operation is ignored since we haven't found a use case for it yet.\n  }\n\n  setGState(states) {\n    for (const [key, value] of states) {\n      switch (key) {\n        case \"LW\":\n          this.setLineWidth(value);\n          break;\n        case \"LC\":\n          this.setLineCap(value);\n          break;\n        case \"LJ\":\n          this.setLineJoin(value);\n          break;\n        case \"ML\":\n          this.setMiterLimit(value);\n          break;\n        case \"D\":\n          this.setDash(value[0], value[1]);\n          break;\n        case \"RI\":\n          this.setRenderingIntent(value);\n          break;\n        case \"FL\":\n          this.setFlatness(value);\n          break;\n        case \"Font\":\n          this.setFont(value[0], value[1]);\n          break;\n        case \"CA\":\n          this.current.strokeAlpha = value;\n          break;\n        case \"ca\":\n          this.current.fillAlpha = value;\n          this.ctx.globalAlpha = value;\n          break;\n        case \"BM\":\n          this.ctx.globalCompositeOperation = value;\n          break;\n        case \"SMask\":\n          this.current.activeSMask = value ? this.tempSMask : null;\n          this.tempSMask = null;\n          this.checkSMaskState();\n          break;\n        case \"TR\":\n          this.ctx.filter = this.current.transferMaps =\n            this.filterFactory.addFilter(value);\n          break;\n      }\n    }\n  }\n\n  get inSMaskMode() {\n    return !!this.suspendedCtx;\n  }\n\n  checkSMaskState() {\n    const inSMaskMode = this.inSMaskMode;\n    if (this.current.activeSMask && !inSMaskMode) {\n      this.beginSMaskMode();\n    } else if (!this.current.activeSMask && inSMaskMode) {\n      this.endSMaskMode();\n    }\n    // Else, the state is okay and nothing needs to be done.\n  }\n\n  /**\n   * Soft mask mode takes the current main drawing canvas and replaces it with\n   * a temporary canvas. Any drawing operations that happen on the temporary\n   * canvas need to be composed with the main canvas that was suspended (see\n   * `compose()`). The temporary canvas also duplicates many of its operations\n   * on the suspended canvas to keep them in sync, so that when the soft mask\n   * mode ends any clipping paths or transformations will still be active and in\n   * the right order on the canvas' graphics state stack.\n   */\n  beginSMaskMode() {\n    if (this.inSMaskMode) {\n      throw new Error(\"beginSMaskMode called while already in smask mode\");\n    }\n    const drawnWidth = this.ctx.canvas.width;\n    const drawnHeight = this.ctx.canvas.height;\n    const cacheId = \"smaskGroupAt\" + this.groupLevel;\n    const scratchCanvas = this.cachedCanvases.getCanvas(\n      cacheId,\n      drawnWidth,\n      drawnHeight\n    );\n    this.suspendedCtx = this.ctx;\n    this.ctx = scratchCanvas.context;\n    const ctx = this.ctx;\n    ctx.setTransform(...getCurrentTransform(this.suspendedCtx));\n    copyCtxState(this.suspendedCtx, ctx);\n    mirrorContextOperations(ctx, this.suspendedCtx);\n\n    this.setGState([\n      [\"BM\", \"source-over\"],\n      [\"ca\", 1],\n      [\"CA\", 1],\n    ]);\n  }\n\n  endSMaskMode() {\n    if (!this.inSMaskMode) {\n      throw new Error(\"endSMaskMode called while not in smask mode\");\n    }\n    // The soft mask is done, now restore the suspended canvas as the main\n    // drawing canvas.\n    this.ctx._removeMirroring();\n    copyCtxState(this.ctx, this.suspendedCtx);\n    this.ctx = this.suspendedCtx;\n\n    this.suspendedCtx = null;\n  }\n\n  compose(dirtyBox) {\n    if (!this.current.activeSMask) {\n      return;\n    }\n\n    if (!dirtyBox) {\n      dirtyBox = [0, 0, this.ctx.canvas.width, this.ctx.canvas.height];\n    } else {\n      dirtyBox[0] = Math.floor(dirtyBox[0]);\n      dirtyBox[1] = Math.floor(dirtyBox[1]);\n      dirtyBox[2] = Math.ceil(dirtyBox[2]);\n      dirtyBox[3] = Math.ceil(dirtyBox[3]);\n    }\n    const smask = this.current.activeSMask;\n    const suspendedCtx = this.suspendedCtx;\n\n    composeSMask(suspendedCtx, smask, this.ctx, dirtyBox);\n    // Whatever was drawn has been moved to the suspended canvas, now clear it\n    // out of the current canvas.\n    this.ctx.save();\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n    this.ctx.restore();\n  }\n\n  save() {\n    if (this.inSMaskMode) {\n      // SMask mode may be turned on/off causing us to lose graphics state.\n      // Copy the temporary canvas state to the main(suspended) canvas to keep\n      // it in sync.\n      copyCtxState(this.ctx, this.suspendedCtx);\n      // Don't bother calling save on the temporary canvas since state is not\n      // saved there.\n      this.suspendedCtx.save();\n    } else {\n      this.ctx.save();\n    }\n    const old = this.current;\n    this.stateStack.push(old);\n    this.current = old.clone();\n  }\n\n  restore() {\n    if (this.stateStack.length === 0 && this.inSMaskMode) {\n      this.endSMaskMode();\n    }\n    if (this.stateStack.length !== 0) {\n      this.current = this.stateStack.pop();\n      if (this.inSMaskMode) {\n        // Graphics state is stored on the main(suspended) canvas. Restore its\n        // state then copy it over to the temporary canvas.\n        this.suspendedCtx.restore();\n        copyCtxState(this.suspendedCtx, this.ctx);\n      } else {\n        this.ctx.restore();\n      }\n      this.checkSMaskState();\n\n      // Ensure that the clipping path is reset (fixes issue6413.pdf).\n      this.pendingClip = null;\n\n      this._cachedScaleForStroking[0] = -1;\n      this._cachedGetSinglePixelWidth = null;\n    }\n  }\n\n  transform(a, b, c, d, e, f) {\n    this.ctx.transform(a, b, c, d, e, f);\n\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n  }\n\n  // Path\n  constructPath(ops, args, minMax) {\n    const ctx = this.ctx;\n    const current = this.current;\n    let x = current.x,\n      y = current.y;\n    let startX, startY;\n    const currentTransform = getCurrentTransform(ctx);\n\n    // Most of the time the current transform is a scaling matrix\n    // so we don't need to transform points before computing min/max:\n    // we can compute min/max first and then smartly \"apply\" the\n    // transform (see Util.scaleMinMax).\n    // For rectangle, moveTo and lineTo, min/max are computed in the\n    // worker (see evaluator.js).\n    const isScalingMatrix =\n      (currentTransform[0] === 0 && currentTransform[3] === 0) ||\n      (currentTransform[1] === 0 && currentTransform[2] === 0);\n    const minMaxForBezier = isScalingMatrix ? minMax.slice(0) : null;\n\n    for (let i = 0, j = 0, ii = ops.length; i < ii; i++) {\n      switch (ops[i] | 0) {\n        case OPS.rectangle:\n          x = args[j++];\n          y = args[j++];\n          const width = args[j++];\n          const height = args[j++];\n\n          const xw = x + width;\n          const yh = y + height;\n          ctx.moveTo(x, y);\n          if (width === 0 || height === 0) {\n            ctx.lineTo(xw, yh);\n          } else {\n            ctx.lineTo(xw, y);\n            ctx.lineTo(xw, yh);\n            ctx.lineTo(x, yh);\n          }\n          if (!isScalingMatrix) {\n            current.updateRectMinMax(currentTransform, [x, y, xw, yh]);\n          }\n          ctx.closePath();\n          break;\n        case OPS.moveTo:\n          x = args[j++];\n          y = args[j++];\n          ctx.moveTo(x, y);\n          if (!isScalingMatrix) {\n            current.updatePathMinMax(currentTransform, x, y);\n          }\n          break;\n        case OPS.lineTo:\n          x = args[j++];\n          y = args[j++];\n          ctx.lineTo(x, y);\n          if (!isScalingMatrix) {\n            current.updatePathMinMax(currentTransform, x, y);\n          }\n          break;\n        case OPS.curveTo:\n          startX = x;\n          startY = y;\n          x = args[j + 4];\n          y = args[j + 5];\n          ctx.bezierCurveTo(\n            args[j],\n            args[j + 1],\n            args[j + 2],\n            args[j + 3],\n            x,\n            y\n          );\n          current.updateCurvePathMinMax(\n            currentTransform,\n            startX,\n            startY,\n            args[j],\n            args[j + 1],\n            args[j + 2],\n            args[j + 3],\n            x,\n            y,\n            minMaxForBezier\n          );\n          j += 6;\n          break;\n        case OPS.curveTo2:\n          startX = x;\n          startY = y;\n          ctx.bezierCurveTo(\n            x,\n            y,\n            args[j],\n            args[j + 1],\n            args[j + 2],\n            args[j + 3]\n          );\n          current.updateCurvePathMinMax(\n            currentTransform,\n            startX,\n            startY,\n            x,\n            y,\n            args[j],\n            args[j + 1],\n            args[j + 2],\n            args[j + 3],\n            minMaxForBezier\n          );\n          x = args[j + 2];\n          y = args[j + 3];\n          j += 4;\n          break;\n        case OPS.curveTo3:\n          startX = x;\n          startY = y;\n          x = args[j + 2];\n          y = args[j + 3];\n          ctx.bezierCurveTo(args[j], args[j + 1], x, y, x, y);\n          current.updateCurvePathMinMax(\n            currentTransform,\n            startX,\n            startY,\n            args[j],\n            args[j + 1],\n            x,\n            y,\n            x,\n            y,\n            minMaxForBezier\n          );\n          j += 4;\n          break;\n        case OPS.closePath:\n          ctx.closePath();\n          break;\n      }\n    }\n\n    if (isScalingMatrix) {\n      current.updateScalingPathMinMax(currentTransform, minMaxForBezier);\n    }\n\n    current.setCurrentPoint(x, y);\n  }\n\n  closePath() {\n    this.ctx.closePath();\n  }\n\n  stroke(consumePath = true) {\n    const ctx = this.ctx;\n    const strokeColor = this.current.strokeColor;\n    // For stroke we want to temporarily change the global alpha to the\n    // stroking alpha.\n    ctx.globalAlpha = this.current.strokeAlpha;\n    if (this.contentVisible) {\n      if (typeof strokeColor === \"object\" && strokeColor?.getPattern) {\n        ctx.save();\n        ctx.strokeStyle = strokeColor.getPattern(\n          ctx,\n          this,\n          getCurrentTransformInverse(ctx),\n          PathType.STROKE\n        );\n        this.rescaleAndStroke(/* saveRestore */ false);\n        ctx.restore();\n      } else {\n        this.rescaleAndStroke(/* saveRestore */ true);\n      }\n    }\n    if (consumePath) {\n      this.consumePath(this.current.getClippedPathBoundingBox());\n    }\n    // Restore the global alpha to the fill alpha\n    ctx.globalAlpha = this.current.fillAlpha;\n  }\n\n  closeStroke() {\n    this.closePath();\n    this.stroke();\n  }\n\n  fill(consumePath = true) {\n    const ctx = this.ctx;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    let needRestore = false;\n\n    if (isPatternFill) {\n      ctx.save();\n      ctx.fillStyle = fillColor.getPattern(\n        ctx,\n        this,\n        getCurrentTransformInverse(ctx),\n        PathType.FILL\n      );\n      needRestore = true;\n    }\n\n    const intersect = this.current.getClippedPathBoundingBox();\n    if (this.contentVisible && intersect !== null) {\n      if (this.pendingEOFill) {\n        ctx.fill(\"evenodd\");\n        this.pendingEOFill = false;\n      } else {\n        ctx.fill();\n      }\n    }\n\n    if (needRestore) {\n      ctx.restore();\n    }\n    if (consumePath) {\n      this.consumePath(intersect);\n    }\n  }\n\n  eoFill() {\n    this.pendingEOFill = true;\n    this.fill();\n  }\n\n  fillStroke() {\n    this.fill(false);\n    this.stroke(false);\n\n    this.consumePath();\n  }\n\n  eoFillStroke() {\n    this.pendingEOFill = true;\n    this.fillStroke();\n  }\n\n  closeFillStroke() {\n    this.closePath();\n    this.fillStroke();\n  }\n\n  closeEOFillStroke() {\n    this.pendingEOFill = true;\n    this.closePath();\n    this.fillStroke();\n  }\n\n  endPath() {\n    this.consumePath();\n  }\n\n  // Clipping\n  clip() {\n    this.pendingClip = NORMAL_CLIP;\n  }\n\n  eoClip() {\n    this.pendingClip = EO_CLIP;\n  }\n\n  // Text\n  beginText() {\n    this.current.textMatrix = IDENTITY_MATRIX;\n    this.current.textMatrixScale = 1;\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n  }\n\n  endText() {\n    const paths = this.pendingTextPaths;\n    const ctx = this.ctx;\n    if (paths === undefined) {\n      ctx.beginPath();\n      return;\n    }\n\n    ctx.save();\n    ctx.beginPath();\n    for (const path of paths) {\n      ctx.setTransform(...path.transform);\n      ctx.translate(path.x, path.y);\n      path.addToPath(ctx, path.fontSize);\n    }\n    ctx.restore();\n    ctx.clip();\n    ctx.beginPath();\n    delete this.pendingTextPaths;\n  }\n\n  setCharSpacing(spacing) {\n    this.current.charSpacing = spacing;\n  }\n\n  setWordSpacing(spacing) {\n    this.current.wordSpacing = spacing;\n  }\n\n  setHScale(scale) {\n    this.current.textHScale = scale / 100;\n  }\n\n  setLeading(leading) {\n    this.current.leading = -leading;\n  }\n\n  setFont(fontRefName, size) {\n    const fontObj = this.commonObjs.get(fontRefName);\n    const current = this.current;\n\n    if (!fontObj) {\n      throw new Error(`Can't find font for ${fontRefName}`);\n    }\n    current.fontMatrix = fontObj.fontMatrix || FONT_IDENTITY_MATRIX;\n\n    // A valid matrix needs all main diagonal elements to be non-zero\n    // This also ensures we bypass FF bugzilla bug #719844.\n    if (current.fontMatrix[0] === 0 || current.fontMatrix[3] === 0) {\n      warn(\"Invalid font matrix for font \" + fontRefName);\n    }\n\n    // The spec for Tf (setFont) says that 'size' specifies the font 'scale',\n    // and in some docs this can be negative (inverted x-y axes).\n    if (size < 0) {\n      size = -size;\n      current.fontDirection = -1;\n    } else {\n      current.fontDirection = 1;\n    }\n\n    this.current.font = fontObj;\n    this.current.fontSize = size;\n\n    if (fontObj.isType3Font) {\n      return; // we don't need ctx.font for Type3 fonts\n    }\n\n    const name = fontObj.loadedName || \"sans-serif\";\n    const typeface =\n      fontObj.systemFontInfo?.css || `\"${name}\", ${fontObj.fallbackName}`;\n\n    let bold = \"normal\";\n    if (fontObj.black) {\n      bold = \"900\";\n    } else if (fontObj.bold) {\n      bold = \"bold\";\n    }\n    const italic = fontObj.italic ? \"italic\" : \"normal\";\n\n    // Some font backends cannot handle fonts below certain size.\n    // Keeping the font at minimal size and using the fontSizeScale to change\n    // the current transformation matrix before the fillText/strokeText.\n    // See https://bugzilla.mozilla.org/show_bug.cgi?id=726227\n    let browserFontSize = size;\n    if (size < MIN_FONT_SIZE) {\n      browserFontSize = MIN_FONT_SIZE;\n    } else if (size > MAX_FONT_SIZE) {\n      browserFontSize = MAX_FONT_SIZE;\n    }\n    this.current.fontSizeScale = size / browserFontSize;\n\n    this.ctx.font = `${italic} ${bold} ${browserFontSize}px ${typeface}`;\n  }\n\n  setTextRenderingMode(mode) {\n    this.current.textRenderingMode = mode;\n  }\n\n  setTextRise(rise) {\n    this.current.textRise = rise;\n  }\n\n  moveText(x, y) {\n    this.current.x = this.current.lineX += x;\n    this.current.y = this.current.lineY += y;\n  }\n\n  setLeadingMoveText(x, y) {\n    this.setLeading(-y);\n    this.moveText(x, y);\n  }\n\n  setTextMatrix(a, b, c, d, e, f) {\n    this.current.textMatrix = [a, b, c, d, e, f];\n    this.current.textMatrixScale = Math.hypot(a, b);\n\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n  }\n\n  nextLine() {\n    this.moveText(0, this.current.leading);\n  }\n\n  paintChar(character, x, y, patternTransform) {\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const textRenderingMode = current.textRenderingMode;\n    const fontSize = current.fontSize / current.fontSizeScale;\n    const fillStrokeMode =\n      textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n    const isAddToPathSet = !!(\n      textRenderingMode & TextRenderingMode.ADD_TO_PATH_FLAG\n    );\n    const patternFill = current.patternFill && !font.missingFile;\n\n    let addToPath;\n    if (font.disableFontFace || isAddToPathSet || patternFill) {\n      addToPath = font.getPathGenerator(this.commonObjs, character);\n    }\n\n    if (font.disableFontFace || patternFill) {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.beginPath();\n      addToPath(ctx, fontSize);\n      if (patternTransform) {\n        ctx.setTransform(...patternTransform);\n      }\n      if (\n        fillStrokeMode === TextRenderingMode.FILL ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        ctx.fill();\n      }\n      if (\n        fillStrokeMode === TextRenderingMode.STROKE ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        ctx.stroke();\n      }\n      ctx.restore();\n    } else {\n      if (\n        fillStrokeMode === TextRenderingMode.FILL ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        ctx.fillText(character, x, y);\n      }\n      if (\n        fillStrokeMode === TextRenderingMode.STROKE ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        ctx.strokeText(character, x, y);\n      }\n    }\n\n    if (isAddToPathSet) {\n      const paths = (this.pendingTextPaths ||= []);\n      paths.push({\n        transform: getCurrentTransform(ctx),\n        x,\n        y,\n        fontSize,\n        addToPath,\n      });\n    }\n  }\n\n  get isFontSubpixelAAEnabled() {\n    // Checks if anti-aliasing is enabled when scaled text is painted.\n    // On Windows GDI scaled fonts looks bad.\n    const { context: ctx } = this.cachedCanvases.getCanvas(\n      \"isFontSubpixelAAEnabled\",\n      10,\n      10\n    );\n    ctx.scale(1.5, 1);\n    ctx.fillText(\"I\", 0, 10);\n    const data = ctx.getImageData(0, 0, 10, 10).data;\n    let enabled = false;\n    for (let i = 3; i < data.length; i += 4) {\n      if (data[i] > 0 && data[i] < 255) {\n        enabled = true;\n        break;\n      }\n    }\n    return shadow(this, \"isFontSubpixelAAEnabled\", enabled);\n  }\n\n  showText(glyphs) {\n    const current = this.current;\n    const font = current.font;\n    if (font.isType3Font) {\n      return this.showType3Text(glyphs);\n    }\n\n    const fontSize = current.fontSize;\n    if (fontSize === 0) {\n      return undefined;\n    }\n\n    const ctx = this.ctx;\n    const fontSizeScale = current.fontSizeScale;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const fontDirection = current.fontDirection;\n    const textHScale = current.textHScale * fontDirection;\n    const glyphsLength = glyphs.length;\n    const vertical = font.vertical;\n    const spacingDir = vertical ? 1 : -1;\n    const defaultVMetrics = font.defaultVMetrics;\n    const widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n    const simpleFillText =\n      current.textRenderingMode === TextRenderingMode.FILL &&\n      !font.disableFontFace &&\n      !current.patternFill;\n\n    ctx.save();\n    ctx.transform(...current.textMatrix);\n    ctx.translate(current.x, current.y + current.textRise);\n\n    if (fontDirection > 0) {\n      ctx.scale(textHScale, -1);\n    } else {\n      ctx.scale(textHScale, 1);\n    }\n\n    let patternTransform;\n    if (current.patternFill) {\n      ctx.save();\n      const pattern = current.fillColor.getPattern(\n        ctx,\n        this,\n        getCurrentTransformInverse(ctx),\n        PathType.FILL\n      );\n      patternTransform = getCurrentTransform(ctx);\n      ctx.restore();\n      ctx.fillStyle = pattern;\n    }\n\n    let lineWidth = current.lineWidth;\n    const scale = current.textMatrixScale;\n    if (scale === 0 || lineWidth === 0) {\n      const fillStrokeMode =\n        current.textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n      if (\n        fillStrokeMode === TextRenderingMode.STROKE ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        lineWidth = this.getSinglePixelWidth();\n      }\n    } else {\n      lineWidth /= scale;\n    }\n\n    if (fontSizeScale !== 1.0) {\n      ctx.scale(fontSizeScale, fontSizeScale);\n      lineWidth /= fontSizeScale;\n    }\n\n    ctx.lineWidth = lineWidth;\n\n    if (font.isInvalidPDFjsFont) {\n      const chars = [];\n      let width = 0;\n      for (const glyph of glyphs) {\n        chars.push(glyph.unicode);\n        width += glyph.width;\n      }\n      ctx.fillText(chars.join(\"\"), 0, 0);\n      current.x += width * widthAdvanceScale * textHScale;\n      ctx.restore();\n      this.compose();\n\n      return undefined;\n    }\n\n    let x = 0,\n      i;\n    for (i = 0; i < glyphsLength; ++i) {\n      const glyph = glyphs[i];\n      if (typeof glyph === \"number\") {\n        x += (spacingDir * glyph * fontSize) / 1000;\n        continue;\n      }\n\n      let restoreNeeded = false;\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const character = glyph.fontChar;\n      const accent = glyph.accent;\n      let scaledX, scaledY;\n      let width = glyph.width;\n      if (vertical) {\n        const vmetric = glyph.vmetric || defaultVMetrics;\n        const vx =\n          -(glyph.vmetric ? vmetric[1] : width * 0.5) * widthAdvanceScale;\n        const vy = vmetric[2] * widthAdvanceScale;\n\n        width = vmetric ? -vmetric[0] : width;\n        scaledX = vx / fontSizeScale;\n        scaledY = (x + vy) / fontSizeScale;\n      } else {\n        scaledX = x / fontSizeScale;\n        scaledY = 0;\n      }\n\n      if (font.remeasure && width > 0) {\n        // Some standard fonts may not have the exact width: rescale per\n        // character if measured width is greater than expected glyph width\n        // and subpixel-aa is enabled, otherwise just center the glyph.\n        const measuredWidth =\n          ((ctx.measureText(character).width * 1000) / fontSize) *\n          fontSizeScale;\n        if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n          const characterScaleX = width / measuredWidth;\n          restoreNeeded = true;\n          ctx.save();\n          ctx.scale(characterScaleX, 1);\n          scaledX /= characterScaleX;\n        } else if (width !== measuredWidth) {\n          scaledX +=\n            (((width - measuredWidth) / 2000) * fontSize) / fontSizeScale;\n        }\n      }\n\n      // Only attempt to draw the glyph if it is actually in the embedded font\n      // file or if there isn't a font file so the fallback font is shown.\n      if (this.contentVisible && (glyph.isInFont || font.missingFile)) {\n        if (simpleFillText && !accent) {\n          // common case\n          ctx.fillText(character, scaledX, scaledY);\n        } else {\n          this.paintChar(character, scaledX, scaledY, patternTransform);\n          if (accent) {\n            const scaledAccentX =\n              scaledX + (fontSize * accent.offset.x) / fontSizeScale;\n            const scaledAccentY =\n              scaledY - (fontSize * accent.offset.y) / fontSizeScale;\n            this.paintChar(\n              accent.fontChar,\n              scaledAccentX,\n              scaledAccentY,\n              patternTransform\n            );\n          }\n        }\n      }\n\n      const charWidth = vertical\n        ? width * widthAdvanceScale - spacing * fontDirection\n        : width * widthAdvanceScale + spacing * fontDirection;\n      x += charWidth;\n\n      if (restoreNeeded) {\n        ctx.restore();\n      }\n    }\n    if (vertical) {\n      current.y -= x;\n    } else {\n      current.x += x * textHScale;\n    }\n    ctx.restore();\n    this.compose();\n\n    return undefined;\n  }\n\n  showType3Text(glyphs) {\n    // Type3 fonts - each glyph is a \"mini-PDF\"\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const fontSize = current.fontSize;\n    const fontDirection = current.fontDirection;\n    const spacingDir = font.vertical ? 1 : -1;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const textHScale = current.textHScale * fontDirection;\n    const fontMatrix = current.fontMatrix || FONT_IDENTITY_MATRIX;\n    const glyphsLength = glyphs.length;\n    const isTextInvisible =\n      current.textRenderingMode === TextRenderingMode.INVISIBLE;\n    let i, glyph, width, spacingLength;\n\n    if (isTextInvisible || fontSize === 0) {\n      return;\n    }\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n\n    ctx.save();\n    ctx.transform(...current.textMatrix);\n    ctx.translate(current.x, current.y);\n\n    ctx.scale(textHScale, fontDirection);\n\n    for (i = 0; i < glyphsLength; ++i) {\n      glyph = glyphs[i];\n      if (typeof glyph === \"number\") {\n        spacingLength = (spacingDir * glyph * fontSize) / 1000;\n        this.ctx.translate(spacingLength, 0);\n        current.x += spacingLength * textHScale;\n        continue;\n      }\n\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const operatorList = font.charProcOperatorList[glyph.operatorListId];\n      if (!operatorList) {\n        warn(`Type3 character \"${glyph.operatorListId}\" is not available.`);\n        continue;\n      }\n      if (this.contentVisible) {\n        this.processingType3 = glyph;\n        this.save();\n        ctx.scale(fontSize, fontSize);\n        ctx.transform(...fontMatrix);\n        this.executeOperatorList(operatorList);\n        this.restore();\n      }\n\n      const transformed = Util.applyTransform([glyph.width, 0], fontMatrix);\n      width = transformed[0] * fontSize + spacing;\n\n      ctx.translate(width, 0);\n      current.x += width * textHScale;\n    }\n    ctx.restore();\n    this.processingType3 = null;\n  }\n\n  // Type3 fonts\n  setCharWidth(xWidth, yWidth) {\n    // We can safely ignore this since the width should be the same\n    // as the width in the Widths array.\n  }\n\n  setCharWidthAndBounds(xWidth, yWidth, llx, lly, urx, ury) {\n    this.ctx.rect(llx, lly, urx - llx, ury - lly);\n    this.ctx.clip();\n    this.endPath();\n  }\n\n  // Color\n  getColorN_Pattern(IR) {\n    let pattern;\n    if (IR[0] === \"TilingPattern\") {\n      const color = IR[1];\n      const baseTransform = this.baseTransform || getCurrentTransform(this.ctx);\n      const canvasGraphicsFactory = {\n        createCanvasGraphics: ctx => {\n          return new CanvasGraphics(\n            ctx,\n            this.commonObjs,\n            this.objs,\n            this.canvasFactory,\n            this.filterFactory,\n            {\n              optionalContentConfig: this.optionalContentConfig,\n              markedContentStack: this.markedContentStack,\n            }\n          );\n        },\n      };\n      pattern = new TilingPattern(\n        IR,\n        color,\n        this.ctx,\n        canvasGraphicsFactory,\n        baseTransform\n      );\n    } else {\n      pattern = this._getPattern(IR[1], IR[2]);\n    }\n    return pattern;\n  }\n\n  setStrokeColorN() {\n    this.current.strokeColor = this.getColorN_Pattern(arguments);\n  }\n\n  setFillColorN() {\n    this.current.fillColor = this.getColorN_Pattern(arguments);\n    this.current.patternFill = true;\n  }\n\n  setStrokeRGBColor(r, g, b) {\n    const color = Util.makeHexColor(r, g, b);\n    this.ctx.strokeStyle = color;\n    this.current.strokeColor = color;\n  }\n\n  setFillRGBColor(r, g, b) {\n    const color = Util.makeHexColor(r, g, b);\n    this.ctx.fillStyle = color;\n    this.current.fillColor = color;\n    this.current.patternFill = false;\n  }\n\n  _getPattern(objId, matrix = null) {\n    let pattern;\n    if (this.cachedPatterns.has(objId)) {\n      pattern = this.cachedPatterns.get(objId);\n    } else {\n      pattern = getShadingPattern(this.getObject(objId));\n      this.cachedPatterns.set(objId, pattern);\n    }\n    if (matrix) {\n      pattern.matrix = matrix;\n    }\n    return pattern;\n  }\n\n  shadingFill(objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n\n    this.save();\n    const pattern = this._getPattern(objId);\n    ctx.fillStyle = pattern.getPattern(\n      ctx,\n      this,\n      getCurrentTransformInverse(ctx),\n      PathType.SHADING\n    );\n\n    const inv = getCurrentTransformInverse(ctx);\n    if (inv) {\n      const { width, height } = ctx.canvas;\n      const [x0, y0, x1, y1] = Util.getAxialAlignedBoundingBox(\n        [0, 0, width, height],\n        inv\n      );\n\n      this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n    } else {\n      // HACK to draw the gradient onto an infinite rectangle.\n      // PDF gradients are drawn across the entire image while\n      // Canvas only allows gradients to be drawn in a rectangle\n      // The following bug should allow us to remove this.\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=664884\n\n      this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n    }\n\n    this.compose(this.current.getClippedPathBoundingBox());\n    this.restore();\n  }\n\n  // Images\n  beginInlineImage() {\n    unreachable(\"Should not call beginInlineImage\");\n  }\n\n  beginImageData() {\n    unreachable(\"Should not call beginImageData\");\n  }\n\n  paintFormXObjectBegin(matrix, bbox) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.save();\n    this.baseTransformStack.push(this.baseTransform);\n\n    if (Array.isArray(matrix) && matrix.length === 6) {\n      this.transform(...matrix);\n    }\n\n    this.baseTransform = getCurrentTransform(this.ctx);\n\n    if (bbox) {\n      const width = bbox[2] - bbox[0];\n      const height = bbox[3] - bbox[1];\n      this.ctx.rect(bbox[0], bbox[1], width, height);\n      this.current.updateRectMinMax(getCurrentTransform(this.ctx), bbox);\n      this.clip();\n      this.endPath();\n    }\n  }\n\n  paintFormXObjectEnd() {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.restore();\n    this.baseTransform = this.baseTransformStack.pop();\n  }\n\n  beginGroup(group) {\n    if (!this.contentVisible) {\n      return;\n    }\n\n    this.save();\n    // If there's an active soft mask we don't want it enabled for the group, so\n    // clear it out. The mask and suspended canvas will be restored in endGroup.\n    if (this.inSMaskMode) {\n      this.endSMaskMode();\n      this.current.activeSMask = null;\n    }\n\n    const currentCtx = this.ctx;\n    // TODO non-isolated groups - according to Rik at adobe non-isolated\n    // group results aren't usually that different and they even have tools\n    // that ignore this setting. Notes from Rik on implementing:\n    // - When you encounter an transparency group, create a new canvas with\n    // the dimensions of the bbox\n    // - copy the content from the previous canvas to the new canvas\n    // - draw as usual\n    // - remove the backdrop alpha:\n    // alphaNew = 1 - (1 - alpha)/(1 - alphaBackdrop) with 'alpha' the alpha\n    // value of your transparency group and 'alphaBackdrop' the alpha of the\n    // backdrop\n    // - remove background color:\n    // colorNew = color - alphaNew *colorBackdrop /(1 - alphaNew)\n    if (!group.isolated) {\n      info(\"TODO: Support non-isolated groups.\");\n    }\n\n    // TODO knockout - supposedly possible with the clever use of compositing\n    // modes.\n    if (group.knockout) {\n      warn(\"Knockout groups not supported.\");\n    }\n\n    const currentTransform = getCurrentTransform(currentCtx);\n    if (group.matrix) {\n      currentCtx.transform(...group.matrix);\n    }\n    if (!group.bbox) {\n      throw new Error(\"Bounding box is required.\");\n    }\n\n    // Based on the current transform figure out how big the bounding box\n    // will actually be.\n    let bounds = Util.getAxialAlignedBoundingBox(\n      group.bbox,\n      getCurrentTransform(currentCtx)\n    );\n    // Clip the bounding box to the current canvas.\n    const canvasBounds = [\n      0,\n      0,\n      currentCtx.canvas.width,\n      currentCtx.canvas.height,\n    ];\n    bounds = Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n    // Use ceil in case we're between sizes so we don't create canvas that is\n    // too small and make the canvas at least 1x1 pixels.\n    const offsetX = Math.floor(bounds[0]);\n    const offsetY = Math.floor(bounds[1]);\n    let drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n    let drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n    let scaleX = 1,\n      scaleY = 1;\n    if (drawnWidth > MAX_GROUP_SIZE) {\n      scaleX = drawnWidth / MAX_GROUP_SIZE;\n      drawnWidth = MAX_GROUP_SIZE;\n    }\n    if (drawnHeight > MAX_GROUP_SIZE) {\n      scaleY = drawnHeight / MAX_GROUP_SIZE;\n      drawnHeight = MAX_GROUP_SIZE;\n    }\n\n    this.current.startNewPathAndClipBox([0, 0, drawnWidth, drawnHeight]);\n\n    let cacheId = \"groupAt\" + this.groupLevel;\n    if (group.smask) {\n      // Using two cache entries is case if masks are used one after another.\n      cacheId += \"_smask_\" + (this.smaskCounter++ % 2);\n    }\n    const scratchCanvas = this.cachedCanvases.getCanvas(\n      cacheId,\n      drawnWidth,\n      drawnHeight\n    );\n    const groupCtx = scratchCanvas.context;\n\n    // Since we created a new canvas that is just the size of the bounding box\n    // we have to translate the group ctx.\n    groupCtx.scale(1 / scaleX, 1 / scaleY);\n    groupCtx.translate(-offsetX, -offsetY);\n    groupCtx.transform(...currentTransform);\n\n    if (group.smask) {\n      // Saving state and cached mask to be used in setGState.\n      this.smaskStack.push({\n        canvas: scratchCanvas.canvas,\n        context: groupCtx,\n        offsetX,\n        offsetY,\n        scaleX,\n        scaleY,\n        subtype: group.smask.subtype,\n        backdrop: group.smask.backdrop,\n        transferMap: group.smask.transferMap || null,\n        startTransformInverse: null, // used during suspend operation\n      });\n    } else {\n      // Setup the current ctx so when the group is popped we draw it at the\n      // right location.\n      currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n      currentCtx.translate(offsetX, offsetY);\n      currentCtx.scale(scaleX, scaleY);\n      currentCtx.save();\n    }\n    // The transparency group inherits all off the current graphics state\n    // except the blend mode, soft mask, and alpha constants.\n    copyCtxState(currentCtx, groupCtx);\n    this.ctx = groupCtx;\n    this.setGState([\n      [\"BM\", \"source-over\"],\n      [\"ca\", 1],\n      [\"CA\", 1],\n    ]);\n    this.groupStack.push(currentCtx);\n    this.groupLevel++;\n  }\n\n  endGroup(group) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.groupLevel--;\n    const groupCtx = this.ctx;\n    const ctx = this.groupStack.pop();\n    this.ctx = ctx;\n    // Turn off image smoothing to avoid sub pixel interpolation which can\n    // look kind of blurry for some pdfs.\n    this.ctx.imageSmoothingEnabled = false;\n\n    if (group.smask) {\n      this.tempSMask = this.smaskStack.pop();\n      this.restore();\n    } else {\n      this.ctx.restore();\n      const currentMtx = getCurrentTransform(this.ctx);\n      this.restore();\n      this.ctx.save();\n      this.ctx.setTransform(...currentMtx);\n      const dirtyBox = Util.getAxialAlignedBoundingBox(\n        [0, 0, groupCtx.canvas.width, groupCtx.canvas.height],\n        currentMtx\n      );\n      this.ctx.drawImage(groupCtx.canvas, 0, 0);\n      this.ctx.restore();\n      this.compose(dirtyBox);\n    }\n  }\n\n  beginAnnotation(id, rect, transform, matrix, hasOwnCanvas) {\n    // The annotations are drawn just after the page content.\n    // The page content drawing can potentially have set a transform,\n    // a clipping path, whatever...\n    // So in order to have something clean, we restore the initial state.\n    this.#restoreInitialState();\n    resetCtxToDefault(this.ctx);\n\n    this.ctx.save();\n    this.save();\n\n    if (this.baseTransform) {\n      this.ctx.setTransform(...this.baseTransform);\n    }\n\n    if (Array.isArray(rect) && rect.length === 4) {\n      const width = rect[2] - rect[0];\n      const height = rect[3] - rect[1];\n\n      if (hasOwnCanvas && this.annotationCanvasMap) {\n        transform = transform.slice();\n        transform[4] -= rect[0];\n        transform[5] -= rect[1];\n\n        rect = rect.slice();\n        rect[0] = rect[1] = 0;\n        rect[2] = width;\n        rect[3] = height;\n\n        const [scaleX, scaleY] = Util.singularValueDecompose2dScale(\n          getCurrentTransform(this.ctx)\n        );\n        const { viewportScale } = this;\n        const canvasWidth = Math.ceil(\n          width * this.outputScaleX * viewportScale\n        );\n        const canvasHeight = Math.ceil(\n          height * this.outputScaleY * viewportScale\n        );\n\n        this.annotationCanvas = this.canvasFactory.create(\n          canvasWidth,\n          canvasHeight\n        );\n        const { canvas, context } = this.annotationCanvas;\n        this.annotationCanvasMap.set(id, canvas);\n        this.annotationCanvas.savedCtx = this.ctx;\n        this.ctx = context;\n        this.ctx.save();\n        this.ctx.setTransform(scaleX, 0, 0, -scaleY, 0, height * scaleY);\n\n        resetCtxToDefault(this.ctx);\n      } else {\n        resetCtxToDefault(this.ctx);\n\n        this.ctx.rect(rect[0], rect[1], width, height);\n        this.ctx.clip();\n        this.endPath();\n      }\n    }\n\n    this.current = new CanvasExtraState(\n      this.ctx.canvas.width,\n      this.ctx.canvas.height\n    );\n\n    this.transform(...transform);\n    this.transform(...matrix);\n  }\n\n  endAnnotation() {\n    if (this.annotationCanvas) {\n      this.ctx.restore();\n      this.#drawFilter();\n\n      this.ctx = this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas;\n    }\n  }\n\n  paintImageMaskXObject(img) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const count = img.count;\n    img = this.getObject(img.data, img);\n    img.count = count;\n\n    const ctx = this.ctx;\n    const glyph = this.processingType3;\n\n    if (glyph) {\n      if (glyph.compiled === undefined) {\n        glyph.compiled = compileType3Glyph(img);\n      }\n\n      if (glyph.compiled) {\n        glyph.compiled(ctx);\n        return;\n      }\n    }\n    const mask = this._createMaskCanvas(img);\n    const maskCanvas = mask.canvas;\n\n    ctx.save();\n    // The mask is drawn with the transform applied. Reset the current\n    // transform to draw to the identity.\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.drawImage(maskCanvas, mask.offsetX, mask.offsetY);\n    ctx.restore();\n    this.compose();\n  }\n\n  paintImageMaskXObjectRepeat(\n    img,\n    scaleX,\n    skewX = 0,\n    skewY = 0,\n    scaleY,\n    positions\n  ) {\n    if (!this.contentVisible) {\n      return;\n    }\n\n    img = this.getObject(img.data, img);\n\n    const ctx = this.ctx;\n    ctx.save();\n    const currentTransform = getCurrentTransform(ctx);\n    ctx.transform(scaleX, skewX, skewY, scaleY, 0, 0);\n    const mask = this._createMaskCanvas(img);\n\n    ctx.setTransform(\n      1,\n      0,\n      0,\n      1,\n      mask.offsetX - currentTransform[4],\n      mask.offsetY - currentTransform[5]\n    );\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      const trans = Util.transform(currentTransform, [\n        scaleX,\n        skewX,\n        skewY,\n        scaleY,\n        positions[i],\n        positions[i + 1],\n      ]);\n\n      const [x, y] = Util.applyTransform([0, 0], trans);\n      ctx.drawImage(mask.canvas, x, y);\n    }\n    ctx.restore();\n    this.compose();\n  }\n\n  paintImageMaskXObjectGroup(images) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n\n    for (const image of images) {\n      const { data, width, height, transform } = image;\n\n      const maskCanvas = this.cachedCanvases.getCanvas(\n        \"maskCanvas\",\n        width,\n        height\n      );\n      const maskCtx = maskCanvas.context;\n      maskCtx.save();\n\n      const img = this.getObject(data, image);\n      putBinaryImageMask(maskCtx, img);\n\n      maskCtx.globalCompositeOperation = \"source-in\";\n\n      maskCtx.fillStyle = isPatternFill\n        ? fillColor.getPattern(\n            maskCtx,\n            this,\n            getCurrentTransformInverse(ctx),\n            PathType.FILL\n          )\n        : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n\n      maskCtx.restore();\n\n      ctx.save();\n      ctx.transform(...transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(\n        ctx,\n        maskCanvas.canvas,\n        0,\n        0,\n        width,\n        height,\n        0,\n        -1,\n        1,\n        1\n      );\n      ctx.restore();\n    }\n    this.compose();\n  }\n\n  paintImageXObject(objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = this.getObject(objId);\n    if (!imgData) {\n      warn(\"Dependent image isn't ready yet\");\n      return;\n    }\n\n    this.paintInlineImageXObject(imgData);\n  }\n\n  paintImageXObjectRepeat(objId, scaleX, scaleY, positions) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = this.getObject(objId);\n    if (!imgData) {\n      warn(\"Dependent image isn't ready yet\");\n      return;\n    }\n\n    const width = imgData.width;\n    const height = imgData.height;\n    const map = [];\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      map.push({\n        transform: [scaleX, 0, 0, scaleY, positions[i], positions[i + 1]],\n        x: 0,\n        y: 0,\n        w: width,\n        h: height,\n      });\n    }\n    this.paintInlineImageXObjectGroup(imgData, map);\n  }\n\n  applyTransferMapsToCanvas(ctx) {\n    if (this.current.transferMaps !== \"none\") {\n      ctx.filter = this.current.transferMaps;\n      ctx.drawImage(ctx.canvas, 0, 0);\n      ctx.filter = \"none\";\n    }\n    return ctx.canvas;\n  }\n\n  applyTransferMapsToBitmap(imgData) {\n    if (this.current.transferMaps === \"none\") {\n      return imgData.bitmap;\n    }\n    const { bitmap, width, height } = imgData;\n    const tmpCanvas = this.cachedCanvases.getCanvas(\n      \"inlineImage\",\n      width,\n      height\n    );\n    const tmpCtx = tmpCanvas.context;\n    tmpCtx.filter = this.current.transferMaps;\n    tmpCtx.drawImage(bitmap, 0, 0);\n    tmpCtx.filter = \"none\";\n\n    return tmpCanvas.canvas;\n  }\n\n  paintInlineImageXObject(imgData) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const width = imgData.width;\n    const height = imgData.height;\n    const ctx = this.ctx;\n\n    this.save();\n\n    if (\n      (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n      !isNodeJS\n    ) {\n      // The filter, if any, will be applied in applyTransferMapsToBitmap.\n      // It must be applied to the image before rescaling else some artifacts\n      // could appear.\n      // The final restore will reset it to its value.\n      const { filter } = ctx;\n      if (filter !== \"none\" && filter !== \"\") {\n        ctx.filter = \"none\";\n      }\n    }\n\n    // scale the image to the unit square\n    ctx.scale(1 / width, -1 / height);\n\n    let imgToPaint;\n    if (imgData.bitmap) {\n      imgToPaint = this.applyTransferMapsToBitmap(imgData);\n    } else if (\n      (typeof HTMLElement === \"function\" && imgData instanceof HTMLElement) ||\n      !imgData.data\n    ) {\n      // typeof check is needed due to node.js support, see issue #8489\n      imgToPaint = imgData;\n    } else {\n      const tmpCanvas = this.cachedCanvases.getCanvas(\n        \"inlineImage\",\n        width,\n        height\n      );\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n      imgToPaint = this.applyTransferMapsToCanvas(tmpCtx);\n    }\n\n    const scaled = this._scaleImage(\n      imgToPaint,\n      getCurrentTransformInverse(ctx)\n    );\n    ctx.imageSmoothingEnabled = getImageSmoothingEnabled(\n      getCurrentTransform(ctx),\n      imgData.interpolate\n    );\n\n    drawImageAtIntegerCoords(\n      ctx,\n      scaled.img,\n      0,\n      0,\n      scaled.paintWidth,\n      scaled.paintHeight,\n      0,\n      -height,\n      width,\n      height\n    );\n    this.compose();\n    this.restore();\n  }\n\n  paintInlineImageXObjectGroup(imgData, map) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    let imgToPaint;\n    if (imgData.bitmap) {\n      imgToPaint = imgData.bitmap;\n    } else {\n      const w = imgData.width;\n      const h = imgData.height;\n\n      const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", w, h);\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n      imgToPaint = this.applyTransferMapsToCanvas(tmpCtx);\n    }\n\n    for (const entry of map) {\n      ctx.save();\n      ctx.transform(...entry.transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(\n        ctx,\n        imgToPaint,\n        entry.x,\n        entry.y,\n        entry.w,\n        entry.h,\n        0,\n        -1,\n        1,\n        1\n      );\n      ctx.restore();\n    }\n    this.compose();\n  }\n\n  paintSolidColorImageMask() {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.ctx.fillRect(0, 0, 1, 1);\n    this.compose();\n  }\n\n  // Marked content\n\n  markPoint(tag) {\n    // TODO Marked content.\n  }\n\n  markPointProps(tag, properties) {\n    // TODO Marked content.\n  }\n\n  beginMarkedContent(tag) {\n    this.markedContentStack.push({\n      visible: true,\n    });\n  }\n\n  beginMarkedContentProps(tag, properties) {\n    if (tag === \"OC\") {\n      this.markedContentStack.push({\n        visible: this.optionalContentConfig.isVisible(properties),\n      });\n    } else {\n      this.markedContentStack.push({\n        visible: true,\n      });\n    }\n    this.contentVisible = this.isContentVisible();\n  }\n\n  endMarkedContent() {\n    this.markedContentStack.pop();\n    this.contentVisible = this.isContentVisible();\n  }\n\n  // Compatibility\n\n  beginCompat() {\n    // TODO ignore undefined operators (should we do that anyway?)\n  }\n\n  endCompat() {\n    // TODO stop ignoring undefined operators\n  }\n\n  // Helper functions\n\n  consumePath(clipBox) {\n    const isEmpty = this.current.isEmptyClip();\n    if (this.pendingClip) {\n      this.current.updateClipFromPath();\n    }\n    if (!this.pendingClip) {\n      this.compose(clipBox);\n    }\n    const ctx = this.ctx;\n    if (this.pendingClip) {\n      if (!isEmpty) {\n        if (this.pendingClip === EO_CLIP) {\n          ctx.clip(\"evenodd\");\n        } else {\n          ctx.clip();\n        }\n      }\n      this.pendingClip = null;\n    }\n    this.current.startNewPathAndClipBox(this.current.clipBox);\n    ctx.beginPath();\n  }\n\n  getSinglePixelWidth() {\n    if (!this._cachedGetSinglePixelWidth) {\n      const m = getCurrentTransform(this.ctx);\n      if (m[1] === 0 && m[2] === 0) {\n        // Fast path\n        this._cachedGetSinglePixelWidth =\n          1 / Math.min(Math.abs(m[0]), Math.abs(m[3]));\n      } else {\n        const absDet = Math.abs(m[0] * m[3] - m[2] * m[1]);\n        const normX = Math.hypot(m[0], m[2]);\n        const normY = Math.hypot(m[1], m[3]);\n        this._cachedGetSinglePixelWidth = Math.max(normX, normY) / absDet;\n      }\n    }\n    return this._cachedGetSinglePixelWidth;\n  }\n\n  getScaleForStroking() {\n    // A pixel has thicknessX = thicknessY = 1;\n    // A transformed pixel is a parallelogram and the thicknesses\n    // corresponds to the heights.\n    // The goal of this function is to rescale before setting the\n    // lineWidth in order to have both thicknesses greater or equal\n    // to 1 after transform.\n    if (this._cachedScaleForStroking[0] === -1) {\n      const { lineWidth } = this.current;\n      const { a, b, c, d } = this.ctx.getTransform();\n      let scaleX, scaleY;\n\n      if (b === 0 && c === 0) {\n        // Fast path\n        const normX = Math.abs(a);\n        const normY = Math.abs(d);\n        if (normX === normY) {\n          if (lineWidth === 0) {\n            scaleX = scaleY = 1 / normX;\n          } else {\n            const scaledLineWidth = normX * lineWidth;\n            scaleX = scaleY = scaledLineWidth < 1 ? 1 / scaledLineWidth : 1;\n          }\n        } else if (lineWidth === 0) {\n          scaleX = 1 / normX;\n          scaleY = 1 / normY;\n        } else {\n          const scaledXLineWidth = normX * lineWidth;\n          const scaledYLineWidth = normY * lineWidth;\n          scaleX = scaledXLineWidth < 1 ? 1 / scaledXLineWidth : 1;\n          scaleY = scaledYLineWidth < 1 ? 1 / scaledYLineWidth : 1;\n        }\n      } else {\n        // A pixel (base (x, y)) is transformed by M into a parallelogram:\n        //  - its area is |det(M)|;\n        //  - heightY (orthogonal to Mx) has a length: |det(M)| / norm(Mx);\n        //  - heightX (orthogonal to My) has a length: |det(M)| / norm(My).\n        // heightX and heightY are the thicknesses of the transformed pixel\n        // and they must be both greater or equal to 1.\n        const absDet = Math.abs(a * d - b * c);\n        const normX = Math.hypot(a, b);\n        const normY = Math.hypot(c, d);\n        if (lineWidth === 0) {\n          scaleX = normY / absDet;\n          scaleY = normX / absDet;\n        } else {\n          const baseArea = lineWidth * absDet;\n          scaleX = normY > baseArea ? normY / baseArea : 1;\n          scaleY = normX > baseArea ? normX / baseArea : 1;\n        }\n      }\n      this._cachedScaleForStroking[0] = scaleX;\n      this._cachedScaleForStroking[1] = scaleY;\n    }\n    return this._cachedScaleForStroking;\n  }\n\n  // Rescale before stroking in order to have a final lineWidth\n  // with both thicknesses greater or equal to 1.\n  rescaleAndStroke(saveRestore) {\n    const { ctx } = this;\n    const { lineWidth } = this.current;\n    const [scaleX, scaleY] = this.getScaleForStroking();\n\n    ctx.lineWidth = lineWidth || 1;\n\n    if (scaleX === 1 && scaleY === 1) {\n      ctx.stroke();\n      return;\n    }\n\n    const dashes = ctx.getLineDash();\n    if (saveRestore) {\n      ctx.save();\n    }\n\n    ctx.scale(scaleX, scaleY);\n\n    // How the dashed line is rendered depends on the current transform...\n    // so we added a rescale to handle too thin lines and consequently\n    // the way the line is dashed will be modified.\n    // If scaleX === scaleY, the dashed lines will be rendered correctly\n    // else we'll have some bugs (but only with too thin lines).\n    // Here we take the max... why not taking the min... or something else.\n    // Anyway, as said it's buggy when scaleX !== scaleY.\n    if (dashes.length > 0) {\n      const scale = Math.max(scaleX, scaleY);\n      ctx.setLineDash(dashes.map(x => x / scale));\n      ctx.lineDashOffset /= scale;\n    }\n\n    ctx.stroke();\n\n    if (saveRestore) {\n      ctx.restore();\n    }\n  }\n\n  isContentVisible() {\n    for (let i = this.markedContentStack.length - 1; i >= 0; i--) {\n      if (!this.markedContentStack[i].visible) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n\nfor (const op in OPS) {\n  if (CanvasGraphics.prototype[op] !== undefined) {\n    CanvasGraphics.prototype[OPS[op]] = CanvasGraphics.prototype[op];\n  }\n}\n\nexport { CanvasGraphics };\n","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FormatError, info, unreachable, Util } from \"../shared/util.js\";\nimport { getCurrentTransform } from \"./display_utils.js\";\n\nconst PathType = {\n  FILL: \"Fill\",\n  STROKE: \"Stroke\",\n  SHADING: \"Shading\",\n};\n\nfunction applyBoundingBox(ctx, bbox) {\n  if (!bbox) {\n    return;\n  }\n  const width = bbox[2] - bbox[0];\n  const height = bbox[3] - bbox[1];\n  const region = new Path2D();\n  region.rect(bbox[0], bbox[1], width, height);\n  ctx.clip(region);\n}\n\nclass BaseShadingPattern {\n  constructor() {\n    if (this.constructor === BaseShadingPattern) {\n      unreachable(\"Cannot initialize BaseShadingPattern.\");\n    }\n  }\n\n  getPattern() {\n    unreachable(\"Abstract method `getPattern` called.\");\n  }\n}\n\nclass RadialAxialShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._type = IR[1];\n    this._bbox = IR[2];\n    this._colorStops = IR[3];\n    this._p0 = IR[4];\n    this._p1 = IR[5];\n    this._r0 = IR[6];\n    this._r1 = IR[7];\n    this.matrix = null;\n  }\n\n  _createGradient(ctx) {\n    let grad;\n    if (this._type === \"axial\") {\n      grad = ctx.createLinearGradient(\n        this._p0[0],\n        this._p0[1],\n        this._p1[0],\n        this._p1[1]\n      );\n    } else if (this._type === \"radial\") {\n      grad = ctx.createRadialGradient(\n        this._p0[0],\n        this._p0[1],\n        this._r0,\n        this._p1[0],\n        this._p1[1],\n        this._r1\n      );\n    }\n\n    for (const colorStop of this._colorStops) {\n      grad.addColorStop(colorStop[0], colorStop[1]);\n    }\n    return grad;\n  }\n\n  getPattern(ctx, owner, inverse, pathType) {\n    let pattern;\n    if (pathType === PathType.STROKE || pathType === PathType.FILL) {\n      const ownerBBox = owner.current.getClippedPathBoundingBox(\n        pathType,\n        getCurrentTransform(ctx)\n      ) || [0, 0, 0, 0];\n      // Create a canvas that is only as big as the current path. This doesn't\n      // allow us to cache the pattern, but it generally creates much smaller\n      // canvases and saves memory use. See bug 1722807 for an example.\n      const width = Math.ceil(ownerBBox[2] - ownerBBox[0]) || 1;\n      const height = Math.ceil(ownerBBox[3] - ownerBBox[1]) || 1;\n\n      const tmpCanvas = owner.cachedCanvases.getCanvas(\n        \"pattern\",\n        width,\n        height,\n        true\n      );\n\n      const tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      tmpCtx.beginPath();\n      tmpCtx.rect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      // Non shading fill patterns are positioned relative to the base transform\n      // (usually the page's initial transform), but we may have created a\n      // smaller canvas based on the path, so we must account for the shift.\n      tmpCtx.translate(-ownerBBox[0], -ownerBBox[1]);\n      inverse = Util.transform(inverse, [\n        1,\n        0,\n        0,\n        1,\n        ownerBBox[0],\n        ownerBBox[1],\n      ]);\n\n      tmpCtx.transform(...owner.baseTransform);\n      if (this.matrix) {\n        tmpCtx.transform(...this.matrix);\n      }\n      applyBoundingBox(tmpCtx, this._bbox);\n\n      tmpCtx.fillStyle = this._createGradient(tmpCtx);\n      tmpCtx.fill();\n\n      pattern = ctx.createPattern(tmpCanvas.canvas, \"no-repeat\");\n      const domMatrix = new DOMMatrix(inverse);\n      pattern.setTransform(domMatrix);\n    } else {\n      // Shading fills are applied relative to the current matrix which is also\n      // how canvas gradients work, so there's no need to do anything special\n      // here.\n      applyBoundingBox(ctx, this._bbox);\n      pattern = this._createGradient(ctx);\n    }\n    return pattern;\n  }\n}\n\nfunction drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n  // Very basic Gouraud-shaded triangle rasterization algorithm.\n  const coords = context.coords,\n    colors = context.colors;\n  const bytes = data.data,\n    rowSize = data.width * 4;\n  let tmp;\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  if (coords[p2 + 1] > coords[p3 + 1]) {\n    tmp = p2;\n    p2 = p3;\n    p3 = tmp;\n    tmp = c2;\n    c2 = c3;\n    c3 = tmp;\n  }\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  const x1 = (coords[p1] + context.offsetX) * context.scaleX;\n  const y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n  const x2 = (coords[p2] + context.offsetX) * context.scaleX;\n  const y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n  const x3 = (coords[p3] + context.offsetX) * context.scaleX;\n  const y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n  if (y1 >= y3) {\n    return;\n  }\n  const c1r = colors[c1],\n    c1g = colors[c1 + 1],\n    c1b = colors[c1 + 2];\n  const c2r = colors[c2],\n    c2g = colors[c2 + 1],\n    c2b = colors[c2 + 2];\n  const c3r = colors[c3],\n    c3g = colors[c3 + 1],\n    c3b = colors[c3 + 2];\n\n  const minY = Math.round(y1),\n    maxY = Math.round(y3);\n  let xa, car, cag, cab;\n  let xb, cbr, cbg, cbb;\n  for (let y = minY; y <= maxY; y++) {\n    if (y < y2) {\n      const k = y < y1 ? 0 : (y1 - y) / (y1 - y2);\n      xa = x1 - (x1 - x2) * k;\n      car = c1r - (c1r - c2r) * k;\n      cag = c1g - (c1g - c2g) * k;\n      cab = c1b - (c1b - c2b) * k;\n    } else {\n      let k;\n      if (y > y3) {\n        k = 1;\n      } else if (y2 === y3) {\n        k = 0;\n      } else {\n        k = (y2 - y) / (y2 - y3);\n      }\n      xa = x2 - (x2 - x3) * k;\n      car = c2r - (c2r - c3r) * k;\n      cag = c2g - (c2g - c3g) * k;\n      cab = c2b - (c2b - c3b) * k;\n    }\n\n    let k;\n    if (y < y1) {\n      k = 0;\n    } else if (y > y3) {\n      k = 1;\n    } else {\n      k = (y1 - y) / (y1 - y3);\n    }\n    xb = x1 - (x1 - x3) * k;\n    cbr = c1r - (c1r - c3r) * k;\n    cbg = c1g - (c1g - c3g) * k;\n    cbb = c1b - (c1b - c3b) * k;\n    const x1_ = Math.round(Math.min(xa, xb));\n    const x2_ = Math.round(Math.max(xa, xb));\n    let j = rowSize * y + x1_ * 4;\n    for (let x = x1_; x <= x2_; x++) {\n      k = (xa - x) / (xa - xb);\n      if (k < 0) {\n        k = 0;\n      } else if (k > 1) {\n        k = 1;\n      }\n      bytes[j++] = (car - (car - cbr) * k) | 0;\n      bytes[j++] = (cag - (cag - cbg) * k) | 0;\n      bytes[j++] = (cab - (cab - cbb) * k) | 0;\n      bytes[j++] = 255;\n    }\n  }\n}\n\nfunction drawFigure(data, figure, context) {\n  const ps = figure.coords;\n  const cs = figure.colors;\n  let i, ii;\n  switch (figure.type) {\n    case \"lattice\":\n      const verticesPerRow = figure.verticesPerRow;\n      const rows = Math.floor(ps.length / verticesPerRow) - 1;\n      const cols = verticesPerRow - 1;\n      for (i = 0; i < rows; i++) {\n        let q = i * verticesPerRow;\n        for (let j = 0; j < cols; j++, q++) {\n          drawTriangle(\n            data,\n            context,\n            ps[q],\n            ps[q + 1],\n            ps[q + verticesPerRow],\n            cs[q],\n            cs[q + 1],\n            cs[q + verticesPerRow]\n          );\n          drawTriangle(\n            data,\n            context,\n            ps[q + verticesPerRow + 1],\n            ps[q + 1],\n            ps[q + verticesPerRow],\n            cs[q + verticesPerRow + 1],\n            cs[q + 1],\n            cs[q + verticesPerRow]\n          );\n        }\n      }\n      break;\n    case \"triangles\":\n      for (i = 0, ii = ps.length; i < ii; i += 3) {\n        drawTriangle(\n          data,\n          context,\n          ps[i],\n          ps[i + 1],\n          ps[i + 2],\n          cs[i],\n          cs[i + 1],\n          cs[i + 2]\n        );\n      }\n      break;\n    default:\n      throw new Error(\"illegal figure\");\n  }\n}\n\nclass MeshShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._coords = IR[2];\n    this._colors = IR[3];\n    this._figures = IR[4];\n    this._bounds = IR[5];\n    this._bbox = IR[7];\n    this._background = IR[8];\n    this.matrix = null;\n  }\n\n  _createMeshCanvas(combinedScale, backgroundColor, cachedCanvases) {\n    // we will increase scale on some weird factor to let antialiasing take\n    // care of \"rough\" edges\n    const EXPECTED_SCALE = 1.1;\n    // MAX_PATTERN_SIZE is used to avoid OOM situation.\n    const MAX_PATTERN_SIZE = 3000; // 10in @ 300dpi shall be enough\n    // We need to keep transparent border around our pattern for fill():\n    // createPattern with 'no-repeat' will bleed edges across entire area.\n    const BORDER_SIZE = 2;\n\n    const offsetX = Math.floor(this._bounds[0]);\n    const offsetY = Math.floor(this._bounds[1]);\n    const boundsWidth = Math.ceil(this._bounds[2]) - offsetX;\n    const boundsHeight = Math.ceil(this._bounds[3]) - offsetY;\n\n    const width = Math.min(\n      Math.ceil(Math.abs(boundsWidth * combinedScale[0] * EXPECTED_SCALE)),\n      MAX_PATTERN_SIZE\n    );\n    const height = Math.min(\n      Math.ceil(Math.abs(boundsHeight * combinedScale[1] * EXPECTED_SCALE)),\n      MAX_PATTERN_SIZE\n    );\n    const scaleX = boundsWidth / width;\n    const scaleY = boundsHeight / height;\n\n    const context = {\n      coords: this._coords,\n      colors: this._colors,\n      offsetX: -offsetX,\n      offsetY: -offsetY,\n      scaleX: 1 / scaleX,\n      scaleY: 1 / scaleY,\n    };\n\n    const paddedWidth = width + BORDER_SIZE * 2;\n    const paddedHeight = height + BORDER_SIZE * 2;\n\n    const tmpCanvas = cachedCanvases.getCanvas(\n      \"mesh\",\n      paddedWidth,\n      paddedHeight,\n      false\n    );\n    const tmpCtx = tmpCanvas.context;\n\n    const data = tmpCtx.createImageData(width, height);\n    if (backgroundColor) {\n      const bytes = data.data;\n      for (let i = 0, ii = bytes.length; i < ii; i += 4) {\n        bytes[i] = backgroundColor[0];\n        bytes[i + 1] = backgroundColor[1];\n        bytes[i + 2] = backgroundColor[2];\n        bytes[i + 3] = 255;\n      }\n    }\n    for (const figure of this._figures) {\n      drawFigure(data, figure, context);\n    }\n    tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n    const canvas = tmpCanvas.canvas;\n\n    return {\n      canvas,\n      offsetX: offsetX - BORDER_SIZE * scaleX,\n      offsetY: offsetY - BORDER_SIZE * scaleY,\n      scaleX,\n      scaleY,\n    };\n  }\n\n  getPattern(ctx, owner, inverse, pathType) {\n    applyBoundingBox(ctx, this._bbox);\n    let scale;\n    if (pathType === PathType.SHADING) {\n      scale = Util.singularValueDecompose2dScale(getCurrentTransform(ctx));\n    } else {\n      // Obtain scale from matrix and current transformation matrix.\n      scale = Util.singularValueDecompose2dScale(owner.baseTransform);\n      if (this.matrix) {\n        const matrixScale = Util.singularValueDecompose2dScale(this.matrix);\n        scale = [scale[0] * matrixScale[0], scale[1] * matrixScale[1]];\n      }\n    }\n\n    // Rasterizing on the main thread since sending/queue large canvases\n    // might cause OOM.\n    const temporaryPatternCanvas = this._createMeshCanvas(\n      scale,\n      pathType === PathType.SHADING ? null : this._background,\n      owner.cachedCanvases\n    );\n\n    if (pathType !== PathType.SHADING) {\n      ctx.setTransform(...owner.baseTransform);\n      if (this.matrix) {\n        ctx.transform(...this.matrix);\n      }\n    }\n\n    ctx.translate(\n      temporaryPatternCanvas.offsetX,\n      temporaryPatternCanvas.offsetY\n    );\n    ctx.scale(temporaryPatternCanvas.scaleX, temporaryPatternCanvas.scaleY);\n\n    return ctx.createPattern(temporaryPatternCanvas.canvas, \"no-repeat\");\n  }\n}\n\nclass DummyShadingPattern extends BaseShadingPattern {\n  getPattern() {\n    return \"hotpink\";\n  }\n}\n\nfunction getShadingPattern(IR) {\n  switch (IR[0]) {\n    case \"RadialAxial\":\n      return new RadialAxialShadingPattern(IR);\n    case \"Mesh\":\n      return new MeshShadingPattern(IR);\n    case \"Dummy\":\n      return new DummyShadingPattern();\n  }\n  throw new Error(`Unknown IR type: ${IR[0]}`);\n}\n\nconst PaintType = {\n  COLORED: 1,\n  UNCOLORED: 2,\n};\n\nclass TilingPattern {\n  // 10in @ 300dpi shall be enough.\n  static MAX_PATTERN_SIZE = 3000;\n\n  constructor(IR, color, ctx, canvasGraphicsFactory, baseTransform) {\n    this.operatorList = IR[2];\n    this.matrix = IR[3] || [1, 0, 0, 1, 0, 0];\n    this.bbox = IR[4];\n    this.xstep = IR[5];\n    this.ystep = IR[6];\n    this.paintType = IR[7];\n    this.tilingType = IR[8];\n    this.color = color;\n    this.ctx = ctx;\n    this.canvasGraphicsFactory = canvasGraphicsFactory;\n    this.baseTransform = baseTransform;\n  }\n\n  createPatternCanvas(owner) {\n    const operatorList = this.operatorList;\n    const bbox = this.bbox;\n    const xstep = this.xstep;\n    const ystep = this.ystep;\n    const paintType = this.paintType;\n    const tilingType = this.tilingType;\n    const color = this.color;\n    const canvasGraphicsFactory = this.canvasGraphicsFactory;\n\n    info(\"TilingType: \" + tilingType);\n\n    // A tiling pattern as defined by PDF spec 8.7.2 is a cell whose size is\n    // described by bbox, and may repeat regularly by shifting the cell by\n    // xstep and ystep.\n    // Because the HTML5 canvas API does not support pattern repetition with\n    // gaps in between, we use the xstep/ystep instead of the bbox's size.\n    //\n    // This has the following consequences (similarly for ystep):\n    //\n    // - If xstep is the same as bbox, then there is no observable difference.\n    //\n    // - If xstep is larger than bbox, then the pattern canvas is partially\n    //   empty: the area bounded by bbox is painted, the outside area is void.\n    //\n    // - If xstep is smaller than bbox, then the pixels between xstep and the\n    //   bbox boundary will be missing. This is INCORRECT behavior.\n    //   \"Figures on adjacent tiles should not overlap\" (PDF spec 8.7.3.1),\n    //   but overlapping cells without common pixels are still valid.\n    //   TODO: Fix the implementation, to allow this scenario to be painted\n    //   correctly.\n\n    const x0 = bbox[0],\n      y0 = bbox[1],\n      x1 = bbox[2],\n      y1 = bbox[3];\n\n    // Obtain scale from matrix and current transformation matrix.\n    const matrixScale = Util.singularValueDecompose2dScale(this.matrix);\n    const curMatrixScale = Util.singularValueDecompose2dScale(\n      this.baseTransform\n    );\n    const combinedScale = [\n      matrixScale[0] * curMatrixScale[0],\n      matrixScale[1] * curMatrixScale[1],\n    ];\n\n    // Use width and height values that are as close as possible to the end\n    // result when the pattern is used. Too low value makes the pattern look\n    // blurry. Too large value makes it look too crispy.\n    const dimx = this.getSizeAndScale(\n      xstep,\n      this.ctx.canvas.width,\n      combinedScale[0]\n    );\n    const dimy = this.getSizeAndScale(\n      ystep,\n      this.ctx.canvas.height,\n      combinedScale[1]\n    );\n\n    const tmpCanvas = owner.cachedCanvases.getCanvas(\n      \"pattern\",\n      dimx.size,\n      dimy.size,\n      true\n    );\n    const tmpCtx = tmpCanvas.context;\n    const graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx);\n    graphics.groupLevel = owner.groupLevel;\n\n    this.setFillAndStrokeStyleToContext(graphics, paintType, color);\n\n    let adjustedX0 = x0;\n    let adjustedY0 = y0;\n    let adjustedX1 = x1;\n    let adjustedY1 = y1;\n    // Some bounding boxes have negative x0/y0 coordinates which will cause the\n    // some of the drawing to be off of the canvas. To avoid this shift the\n    // bounding box over.\n    if (x0 < 0) {\n      adjustedX0 = 0;\n      adjustedX1 += Math.abs(x0);\n    }\n    if (y0 < 0) {\n      adjustedY0 = 0;\n      adjustedY1 += Math.abs(y0);\n    }\n    tmpCtx.translate(-(dimx.scale * adjustedX0), -(dimy.scale * adjustedY0));\n    graphics.transform(dimx.scale, 0, 0, dimy.scale, 0, 0);\n\n    // To match CanvasGraphics beginDrawing we must save the context here or\n    // else we end up with unbalanced save/restores.\n    tmpCtx.save();\n\n    this.clipBbox(graphics, adjustedX0, adjustedY0, adjustedX1, adjustedY1);\n\n    graphics.baseTransform = getCurrentTransform(graphics.ctx);\n\n    graphics.executeOperatorList(operatorList);\n\n    graphics.endDrawing();\n\n    return {\n      canvas: tmpCanvas.canvas,\n      scaleX: dimx.scale,\n      scaleY: dimy.scale,\n      offsetX: adjustedX0,\n      offsetY: adjustedY0,\n    };\n  }\n\n  getSizeAndScale(step, realOutputSize, scale) {\n    // xstep / ystep may be negative -- normalize.\n    step = Math.abs(step);\n    // MAX_PATTERN_SIZE is used to avoid OOM situation.\n    // Use the destination canvas's size if it is bigger than the hard-coded\n    // limit of MAX_PATTERN_SIZE to avoid clipping patterns that cover the\n    // whole canvas.\n    const maxSize = Math.max(TilingPattern.MAX_PATTERN_SIZE, realOutputSize);\n    let size = Math.ceil(step * scale);\n    if (size >= maxSize) {\n      size = maxSize;\n    } else {\n      scale = size / step;\n    }\n    return { scale, size };\n  }\n\n  clipBbox(graphics, x0, y0, x1, y1) {\n    const bboxWidth = x1 - x0;\n    const bboxHeight = y1 - y0;\n    graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n    graphics.current.updateRectMinMax(getCurrentTransform(graphics.ctx), [\n      x0,\n      y0,\n      x1,\n      y1,\n    ]);\n    graphics.clip();\n    graphics.endPath();\n  }\n\n  setFillAndStrokeStyleToContext(graphics, paintType, color) {\n    const context = graphics.ctx,\n      current = graphics.current;\n    switch (paintType) {\n      case PaintType.COLORED:\n        const ctx = this.ctx;\n        context.fillStyle = ctx.fillStyle;\n        context.strokeStyle = ctx.strokeStyle;\n        current.fillColor = ctx.fillStyle;\n        current.strokeColor = ctx.strokeStyle;\n        break;\n      case PaintType.UNCOLORED:\n        const cssColor = Util.makeHexColor(color[0], color[1], color[2]);\n        context.fillStyle = cssColor;\n        context.strokeStyle = cssColor;\n        // Set color needed by image masks (fixes issues 3226 and 8741).\n        current.fillColor = cssColor;\n        current.strokeColor = cssColor;\n        break;\n      default:\n        throw new FormatError(`Unsupported paint type: ${paintType}`);\n    }\n  }\n\n  getPattern(ctx, owner, inverse, pathType) {\n    // PDF spec 8.7.2 NOTE 1: pattern's matrix is relative to initial matrix.\n    let matrix = inverse;\n    if (pathType !== PathType.SHADING) {\n      matrix = Util.transform(matrix, owner.baseTransform);\n      if (this.matrix) {\n        matrix = Util.transform(matrix, this.matrix);\n      }\n    }\n\n    const temporaryPatternCanvas = this.createPatternCanvas(owner);\n\n    let domMatrix = new DOMMatrix(matrix);\n    // Rescale and so that the ctx.createPattern call generates a pattern with\n    // the desired size.\n    domMatrix = domMatrix.translate(\n      temporaryPatternCanvas.offsetX,\n      temporaryPatternCanvas.offsetY\n    );\n    domMatrix = domMatrix.scale(\n      1 / temporaryPatternCanvas.scaleX,\n      1 / temporaryPatternCanvas.scaleY\n    );\n\n    const pattern = ctx.createPattern(temporaryPatternCanvas.canvas, \"repeat\");\n    pattern.setTransform(domMatrix);\n\n    return pattern;\n  }\n}\n\nexport { getShadingPattern, PathType, TilingPattern };\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FeatureTest, ImageKind } from \"./util.js\";\n\nfunction convertToRGBA(params) {\n  switch (params.kind) {\n    case ImageKind.GRAYSCALE_1BPP:\n      return convertBlackAndWhiteToRGBA(params);\n    case ImageKind.RGB_24BPP:\n      return convertRGBToRGBA(params);\n  }\n\n  return null;\n}\n\nfunction convertBlackAndWhiteToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  width,\n  height,\n  nonBlackColor = 0xffffffff,\n  inverseDecode = false,\n}) {\n  const black = FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n  const [zeroMapping, oneMapping] = inverseDecode\n    ? [nonBlackColor, black]\n    : [black, nonBlackColor];\n  const widthInSource = width >> 3;\n  const widthRemainder = width & 7;\n  const srcLength = src.length;\n  dest = new Uint32Array(dest.buffer);\n  let destPos = 0;\n\n  for (let i = 0; i < height; i++) {\n    for (const max = srcPos + widthInSource; srcPos < max; srcPos++) {\n      const elem = srcPos < srcLength ? src[srcPos] : 255;\n      dest[destPos++] = elem & 0b10000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1 ? oneMapping : zeroMapping;\n    }\n    if (widthRemainder === 0) {\n      continue;\n    }\n    const elem = srcPos < srcLength ? src[srcPos++] : 255;\n    for (let j = 0; j < widthRemainder; j++) {\n      dest[destPos++] = elem & (1 << (7 - j)) ? oneMapping : zeroMapping;\n    }\n  }\n  return { srcPos, destPos };\n}\n\nfunction convertRGBToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  destPos = 0,\n  width,\n  height,\n}) {\n  let i = 0;\n  const len32 = src.length >> 2;\n  const src32 = new Uint32Array(src.buffer, srcPos, len32);\n\n  if (FeatureTest.isLittleEndian) {\n    // It's a way faster to do the shuffle manually instead of working\n    // component by component with some Uint8 arrays.\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i]; // R2B1G1R1\n      const s2 = src32[i + 1]; // G3R3B2G2\n      const s3 = src32[i + 2]; // B4G4R4B3\n\n      dest[destPos] = s1 | 0xff000000;\n      dest[destPos + 1] = (s1 >>> 24) | (s2 << 8) | 0xff000000;\n      dest[destPos + 2] = (s2 >>> 16) | (s3 << 16) | 0xff000000;\n      dest[destPos + 3] = (s3 >>> 8) | 0xff000000;\n    }\n\n    for (let j = i * 4, jj = src.length; j < jj; j += 3) {\n      dest[destPos++] =\n        src[j] | (src[j + 1] << 8) | (src[j + 2] << 16) | 0xff000000;\n    }\n  } else {\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i]; // R1G1B1R2\n      const s2 = src32[i + 1]; // G2B2R3G3\n      const s3 = src32[i + 2]; // B3R4G4B4\n\n      dest[destPos] = s1 | 0xff;\n      dest[destPos + 1] = (s1 << 24) | (s2 >>> 8) | 0xff;\n      dest[destPos + 2] = (s2 << 16) | (s3 >>> 16) | 0xff;\n      dest[destPos + 3] = (s3 << 8) | 0xff;\n    }\n\n    for (let j = i * 4, jj = src.length; j < jj; j += 3) {\n      dest[destPos++] =\n        (src[j] << 24) | (src[j + 1] << 16) | (src[j + 2] << 8) | 0xff;\n    }\n  }\n\n  return { srcPos, destPos };\n}\n\nfunction grayToRGBA(src, dest) {\n  if (FeatureTest.isLittleEndian) {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = (src[i] * 0x10101) | 0xff000000;\n    }\n  } else {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = (src[i] * 0x1010100) | 0x000000ff;\n    }\n  }\n}\n\nexport { convertBlackAndWhiteToRGBA, convertToRGBA, grayToRGBA };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @typedef {Object} GlobalWorkerOptionsType\n * @property {Worker | null} workerPort - Defines global port for worker\n *   process. Overrides the `workerSrc` option.\n * @property {string} workerSrc - A string containing the path and filename\n *   of the worker file.\n *\n *   NOTE: The `workerSrc` option should always be set, in order to prevent any\n *         issues when using the PDF.js library.\n */\n\n/** @type {GlobalWorkerOptionsType} */\nconst GlobalWorkerOptions = Object.create(null);\n\nGlobalWorkerOptions.workerPort = null;\nGlobalWorkerOptions.workerSrc = \"\";\n\nexport { GlobalWorkerOptions };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AbortException,\n  assert,\n  MissingPDFException,\n  PasswordException,\n  PromiseCapability,\n  UnexpectedResponseException,\n  UnknownErrorException,\n  unreachable,\n} from \"./util.js\";\n\nconst CallbackKind = {\n  UNKNOWN: 0,\n  DATA: 1,\n  ERROR: 2,\n};\n\nconst StreamKind = {\n  UNKNOWN: 0,\n  CANCEL: 1,\n  CANCEL_COMPLETE: 2,\n  CLOSE: 3,\n  ENQUEUE: 4,\n  ERROR: 5,\n  PULL: 6,\n  PULL_COMPLETE: 7,\n  START_COMPLETE: 8,\n};\n\nfunction wrapReason(reason) {\n  if (\n    !(\n      reason instanceof Error ||\n      (typeof reason === \"object\" && reason !== null)\n    )\n  ) {\n    unreachable(\n      'wrapReason: Expected \"reason\" to be a (possibly cloned) Error.'\n    );\n  }\n  switch (reason.name) {\n    case \"AbortException\":\n      return new AbortException(reason.message);\n    case \"MissingPDFException\":\n      return new MissingPDFException(reason.message);\n    case \"PasswordException\":\n      return new PasswordException(reason.message, reason.code);\n    case \"UnexpectedResponseException\":\n      return new UnexpectedResponseException(reason.message, reason.status);\n    case \"UnknownErrorException\":\n      return new UnknownErrorException(reason.message, reason.details);\n    default:\n      return new UnknownErrorException(reason.message, reason.toString());\n  }\n}\n\nclass MessageHandler {\n  constructor(sourceName, targetName, comObj) {\n    this.sourceName = sourceName;\n    this.targetName = targetName;\n    this.comObj = comObj;\n    this.callbackId = 1;\n    this.streamId = 1;\n    this.streamSinks = Object.create(null);\n    this.streamControllers = Object.create(null);\n    this.callbackCapabilities = Object.create(null);\n    this.actionHandler = Object.create(null);\n\n    this._onComObjOnMessage = event => {\n      const data = event.data;\n      if (data.targetName !== this.sourceName) {\n        return;\n      }\n      if (data.stream) {\n        this.#processStreamMessage(data);\n        return;\n      }\n      if (data.callback) {\n        const callbackId = data.callbackId;\n        const capability = this.callbackCapabilities[callbackId];\n        if (!capability) {\n          throw new Error(`Cannot resolve callback ${callbackId}`);\n        }\n        delete this.callbackCapabilities[callbackId];\n\n        if (data.callback === CallbackKind.DATA) {\n          capability.resolve(data.data);\n        } else if (data.callback === CallbackKind.ERROR) {\n          capability.reject(wrapReason(data.reason));\n        } else {\n          throw new Error(\"Unexpected callback case\");\n        }\n        return;\n      }\n      const action = this.actionHandler[data.action];\n      if (!action) {\n        throw new Error(`Unknown action from worker: ${data.action}`);\n      }\n      if (data.callbackId) {\n        const cbSourceName = this.sourceName;\n        const cbTargetName = data.sourceName;\n\n        new Promise(function (resolve) {\n          resolve(action(data.data));\n        }).then(\n          function (result) {\n            comObj.postMessage({\n              sourceName: cbSourceName,\n              targetName: cbTargetName,\n              callback: CallbackKind.DATA,\n              callbackId: data.callbackId,\n              data: result,\n            });\n          },\n          function (reason) {\n            comObj.postMessage({\n              sourceName: cbSourceName,\n              targetName: cbTargetName,\n              callback: CallbackKind.ERROR,\n              callbackId: data.callbackId,\n              reason: wrapReason(reason),\n            });\n          }\n        );\n        return;\n      }\n      if (data.streamId) {\n        this.#createStreamSink(data);\n        return;\n      }\n      action(data.data);\n    };\n    comObj.addEventListener(\"message\", this._onComObjOnMessage);\n  }\n\n  on(actionName, handler) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        typeof handler === \"function\",\n        'MessageHandler.on: Expected \"handler\" to be a function.'\n      );\n    }\n    const ah = this.actionHandler;\n    if (ah[actionName]) {\n      throw new Error(`There is already an actionName called \"${actionName}\"`);\n    }\n    ah[actionName] = handler;\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   */\n  send(actionName, data, transfers) {\n    this.comObj.postMessage(\n      {\n        sourceName: this.sourceName,\n        targetName: this.targetName,\n        action: actionName,\n        data,\n      },\n      transfers\n    );\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * Expects that the other side will callback with the response.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   * @returns {Promise} Promise to be resolved with response data.\n   */\n  sendWithPromise(actionName, data, transfers) {\n    const callbackId = this.callbackId++;\n    const capability = new PromiseCapability();\n    this.callbackCapabilities[callbackId] = capability;\n    try {\n      this.comObj.postMessage(\n        {\n          sourceName: this.sourceName,\n          targetName: this.targetName,\n          action: actionName,\n          callbackId,\n          data,\n        },\n        transfers\n      );\n    } catch (ex) {\n      capability.reject(ex);\n    }\n    return capability.promise;\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * Expect that the other side will callback to signal 'start_complete'.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Object} queueingStrategy - Strategy to signal backpressure based on\n   *                 internal queue.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   * @returns {ReadableStream} ReadableStream to read data in chunks.\n   */\n  sendWithStream(actionName, data, queueingStrategy, transfers) {\n    const streamId = this.streamId++,\n      sourceName = this.sourceName,\n      targetName = this.targetName,\n      comObj = this.comObj;\n\n    return new ReadableStream(\n      {\n        start: controller => {\n          const startCapability = new PromiseCapability();\n          this.streamControllers[streamId] = {\n            controller,\n            startCall: startCapability,\n            pullCall: null,\n            cancelCall: null,\n            isClosed: false,\n          };\n          comObj.postMessage(\n            {\n              sourceName,\n              targetName,\n              action: actionName,\n              streamId,\n              data,\n              desiredSize: controller.desiredSize,\n            },\n            transfers\n          );\n          // Return Promise for Async process, to signal success/failure.\n          return startCapability.promise;\n        },\n\n        pull: controller => {\n          const pullCapability = new PromiseCapability();\n          this.streamControllers[streamId].pullCall = pullCapability;\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL,\n            streamId,\n            desiredSize: controller.desiredSize,\n          });\n          // Returning Promise will not call \"pull\"\n          // again until current pull is resolved.\n          return pullCapability.promise;\n        },\n\n        cancel: reason => {\n          assert(reason instanceof Error, \"cancel must have a valid reason\");\n          const cancelCapability = new PromiseCapability();\n          this.streamControllers[streamId].cancelCall = cancelCapability;\n          this.streamControllers[streamId].isClosed = true;\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL,\n            streamId,\n            reason: wrapReason(reason),\n          });\n          // Return Promise to signal success or failure.\n          return cancelCapability.promise;\n        },\n      },\n      queueingStrategy\n    );\n  }\n\n  #createStreamSink(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const self = this,\n      action = this.actionHandler[data.action];\n\n    const streamSink = {\n      enqueue(chunk, size = 1, transfers) {\n        if (this.isCancelled) {\n          return;\n        }\n        const lastDesiredSize = this.desiredSize;\n        this.desiredSize -= size;\n        // Enqueue decreases the desiredSize property of sink,\n        // so when it changes from positive to negative,\n        // set ready as unresolved promise.\n        if (lastDesiredSize > 0 && this.desiredSize <= 0) {\n          this.sinkCapability = new PromiseCapability();\n          this.ready = this.sinkCapability.promise;\n        }\n        comObj.postMessage(\n          {\n            sourceName,\n            targetName,\n            stream: StreamKind.ENQUEUE,\n            streamId,\n            chunk,\n          },\n          transfers\n        );\n      },\n\n      close() {\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CLOSE,\n          streamId,\n        });\n        delete self.streamSinks[streamId];\n      },\n\n      error(reason) {\n        assert(reason instanceof Error, \"error must have a valid reason\");\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ERROR,\n          streamId,\n          reason: wrapReason(reason),\n        });\n      },\n\n      sinkCapability: new PromiseCapability(),\n      onPull: null,\n      onCancel: null,\n      isCancelled: false,\n      desiredSize: data.desiredSize,\n      ready: null,\n    };\n\n    streamSink.sinkCapability.resolve();\n    streamSink.ready = streamSink.sinkCapability.promise;\n    this.streamSinks[streamId] = streamSink;\n\n    new Promise(function (resolve) {\n      resolve(action(data.data, streamSink));\n    }).then(\n      function () {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.START_COMPLETE,\n          streamId,\n          success: true,\n        });\n      },\n      function (reason) {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.START_COMPLETE,\n          streamId,\n          reason: wrapReason(reason),\n        });\n      }\n    );\n  }\n\n  #processStreamMessage(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const streamController = this.streamControllers[streamId],\n      streamSink = this.streamSinks[streamId];\n\n    switch (data.stream) {\n      case StreamKind.START_COMPLETE:\n        if (data.success) {\n          streamController.startCall.resolve();\n        } else {\n          streamController.startCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL_COMPLETE:\n        if (data.success) {\n          streamController.pullCall.resolve();\n        } else {\n          streamController.pullCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL:\n        // Ignore any pull after close is called.\n        if (!streamSink) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true,\n          });\n          break;\n        }\n        // Pull increases the desiredSize property of sink, so when it changes\n        // from negative to positive, set ready property as resolved promise.\n        if (streamSink.desiredSize <= 0 && data.desiredSize > 0) {\n          streamSink.sinkCapability.resolve();\n        }\n        // Reset desiredSize property of sink on every pull.\n        streamSink.desiredSize = data.desiredSize;\n\n        new Promise(function (resolve) {\n          resolve(streamSink.onPull?.());\n        }).then(\n          function () {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.PULL_COMPLETE,\n              streamId,\n              success: true,\n            });\n          },\n          function (reason) {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.PULL_COMPLETE,\n              streamId,\n              reason: wrapReason(reason),\n            });\n          }\n        );\n        break;\n      case StreamKind.ENQUEUE:\n        assert(streamController, \"enqueue should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.controller.enqueue(data.chunk);\n        break;\n      case StreamKind.CLOSE:\n        assert(streamController, \"close should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.isClosed = true;\n        streamController.controller.close();\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.ERROR:\n        assert(streamController, \"error should have stream controller\");\n        streamController.controller.error(wrapReason(data.reason));\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL_COMPLETE:\n        if (data.success) {\n          streamController.cancelCall.resolve();\n        } else {\n          streamController.cancelCall.reject(wrapReason(data.reason));\n        }\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL:\n        if (!streamSink) {\n          break;\n        }\n\n        new Promise(function (resolve) {\n          resolve(streamSink.onCancel?.(wrapReason(data.reason)));\n        }).then(\n          function () {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.CANCEL_COMPLETE,\n              streamId,\n              success: true,\n            });\n          },\n          function (reason) {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.CANCEL_COMPLETE,\n              streamId,\n              reason: wrapReason(reason),\n            });\n          }\n        );\n        streamSink.sinkCapability.reject(wrapReason(data.reason));\n        streamSink.isCancelled = true;\n        delete this.streamSinks[streamId];\n        break;\n      default:\n        throw new Error(\"Unexpected stream case\");\n    }\n  }\n\n  async #deleteStreamController(streamController, streamId) {\n    // Delete the `streamController` only when the start, pull, and cancel\n    // capabilities have settled, to prevent `TypeError`s.\n    await Promise.allSettled([\n      streamController.startCall?.promise,\n      streamController.pullCall?.promise,\n      streamController.cancelCall?.promise,\n    ]);\n    delete this.streamControllers[streamId];\n  }\n\n  destroy() {\n    this.comObj.removeEventListener(\"message\", this._onComObjOnMessage);\n  }\n}\n\nexport { MessageHandler };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { objectFromMap } from \"../shared/util.js\";\n\nclass Metadata {\n  #metadataMap;\n\n  #data;\n\n  constructor({ parsedData, rawData }) {\n    this.#metadataMap = parsedData;\n    this.#data = rawData;\n  }\n\n  getRaw() {\n    return this.#data;\n  }\n\n  get(name) {\n    return this.#metadataMap.get(name) ?? null;\n  }\n\n  getAll() {\n    return objectFromMap(this.#metadataMap);\n  }\n\n  has(name) {\n    return this.#metadataMap.has(name);\n  }\n}\n\nexport { Metadata };\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { objectFromMap, unreachable, warn } from \"../shared/util.js\";\nimport { MurmurHash3_64 } from \"../shared/murmurhash3.js\";\n\nconst INTERNAL = Symbol(\"INTERNAL\");\n\nclass OptionalContentGroup {\n  #visible = true;\n\n  constructor(name, intent) {\n    this.name = name;\n    this.intent = intent;\n  }\n\n  /**\n   * @type {boolean}\n   */\n  get visible() {\n    return this.#visible;\n  }\n\n  /**\n   * @ignore\n   */\n  _setVisible(internal, visible) {\n    if (internal !== INTERNAL) {\n      unreachable(\"Internal method `_setVisible` called.\");\n    }\n    this.#visible = visible;\n  }\n}\n\nclass OptionalContentConfig {\n  #cachedGetHash = null;\n\n  #groups = new Map();\n\n  #initialHash = null;\n\n  #order = null;\n\n  constructor(data) {\n    this.name = null;\n    this.creator = null;\n\n    if (data === null) {\n      return;\n    }\n    this.name = data.name;\n    this.creator = data.creator;\n    this.#order = data.order;\n    for (const group of data.groups) {\n      this.#groups.set(\n        group.id,\n        new OptionalContentGroup(group.name, group.intent)\n      );\n    }\n\n    if (data.baseState === \"OFF\") {\n      for (const group of this.#groups.values()) {\n        group._setVisible(INTERNAL, false);\n      }\n    }\n\n    for (const on of data.on) {\n      this.#groups.get(on)._setVisible(INTERNAL, true);\n    }\n\n    for (const off of data.off) {\n      this.#groups.get(off)._setVisible(INTERNAL, false);\n    }\n\n    // The following code must always run *last* in the constructor.\n    this.#initialHash = this.getHash();\n  }\n\n  #evaluateVisibilityExpression(array) {\n    const length = array.length;\n    if (length < 2) {\n      return true;\n    }\n    const operator = array[0];\n    for (let i = 1; i < length; i++) {\n      const element = array[i];\n      let state;\n      if (Array.isArray(element)) {\n        state = this.#evaluateVisibilityExpression(element);\n      } else if (this.#groups.has(element)) {\n        state = this.#groups.get(element).visible;\n      } else {\n        warn(`Optional content group not found: ${element}`);\n        return true;\n      }\n      switch (operator) {\n        case \"And\":\n          if (!state) {\n            return false;\n          }\n          break;\n        case \"Or\":\n          if (state) {\n            return true;\n          }\n          break;\n        case \"Not\":\n          return !state;\n        default:\n          return true;\n      }\n    }\n    return operator === \"And\";\n  }\n\n  isVisible(group) {\n    if (this.#groups.size === 0) {\n      return true;\n    }\n    if (!group) {\n      warn(\"Optional content group not defined.\");\n      return true;\n    }\n    if (group.type === \"OCG\") {\n      if (!this.#groups.has(group.id)) {\n        warn(`Optional content group not found: ${group.id}`);\n        return true;\n      }\n      return this.#groups.get(group.id).visible;\n    } else if (group.type === \"OCMD\") {\n      // Per the spec, the expression should be preferred if available.\n      if (group.expression) {\n        return this.#evaluateVisibilityExpression(group.expression);\n      }\n      if (!group.policy || group.policy === \"AnyOn\") {\n        // Default\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this.#groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOn\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this.#groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      } else if (group.policy === \"AnyOff\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this.#groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOff\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this.#groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      }\n      warn(`Unknown optional content policy ${group.policy}.`);\n      return true;\n    }\n    warn(`Unknown group type ${group.type}.`);\n    return true;\n  }\n\n  setVisibility(id, visible = true) {\n    if (!this.#groups.has(id)) {\n      warn(`Optional content group not found: ${id}`);\n      return;\n    }\n    this.#groups.get(id)._setVisible(INTERNAL, !!visible);\n\n    this.#cachedGetHash = null;\n  }\n\n  get hasInitialVisibility() {\n    return this.#initialHash === null || this.getHash() === this.#initialHash;\n  }\n\n  getOrder() {\n    if (!this.#groups.size) {\n      return null;\n    }\n    if (this.#order) {\n      return this.#order.slice();\n    }\n    return [...this.#groups.keys()];\n  }\n\n  getGroups() {\n    return this.#groups.size > 0 ? objectFromMap(this.#groups) : null;\n  }\n\n  getGroup(id) {\n    return this.#groups.get(id) || null;\n  }\n\n  getHash() {\n    if (this.#cachedGetHash !== null) {\n      return this.#cachedGetHash;\n    }\n    const hash = new MurmurHash3_64();\n\n    for (const [id, group] of this.#groups) {\n      hash.update(`${id}:${group.visible}`);\n    }\n    return (this.#cachedGetHash = hash.hexdigest());\n  }\n}\n\nexport { OptionalContentConfig };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @typedef {import(\"../interfaces\").IPDFStream} IPDFStream */\n/** @typedef {import(\"../interfaces\").IPDFStreamReader} IPDFStreamReader */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"../interfaces\").IPDFStreamRangeReader} IPDFStreamRangeReader */\n\nimport { assert, PromiseCapability } from \"../shared/util.js\";\nimport { isPdfFile } from \"./display_utils.js\";\n\n/** @implements {IPDFStream} */\nclass PDFDataTransportStream {\n  constructor(\n    {\n      length,\n      initialData,\n      progressiveDone = false,\n      contentDispositionFilename = null,\n      disableRange = false,\n      disableStream = false,\n    },\n    pdfDataRangeTransport\n  ) {\n    assert(\n      pdfDataRangeTransport,\n      'PDFDataTransportStream - missing required \"pdfDataRangeTransport\" argument.'\n    );\n\n    this._queuedChunks = [];\n    this._progressiveDone = progressiveDone;\n    this._contentDispositionFilename = contentDispositionFilename;\n\n    if (initialData?.length > 0) {\n      // Prevent any possible issues by only transferring a Uint8Array that\n      // completely \"utilizes\" its underlying ArrayBuffer.\n      const buffer =\n        initialData instanceof Uint8Array &&\n        initialData.byteLength === initialData.buffer.byteLength\n          ? initialData.buffer\n          : new Uint8Array(initialData).buffer;\n      this._queuedChunks.push(buffer);\n    }\n\n    this._pdfDataRangeTransport = pdfDataRangeTransport;\n    this._isStreamingSupported = !disableStream;\n    this._isRangeSupported = !disableRange;\n    this._contentLength = length;\n\n    this._fullRequestReader = null;\n    this._rangeReaders = [];\n\n    this._pdfDataRangeTransport.addRangeListener((begin, chunk) => {\n      this._onReceiveData({ begin, chunk });\n    });\n\n    this._pdfDataRangeTransport.addProgressListener((loaded, total) => {\n      this._onProgress({ loaded, total });\n    });\n\n    this._pdfDataRangeTransport.addProgressiveReadListener(chunk => {\n      this._onReceiveData({ chunk });\n    });\n\n    this._pdfDataRangeTransport.addProgressiveDoneListener(() => {\n      this._onProgressiveDone();\n    });\n\n    this._pdfDataRangeTransport.transportReady();\n  }\n\n  _onReceiveData({ begin, chunk }) {\n    // Prevent any possible issues by only transferring a Uint8Array that\n    // completely \"utilizes\" its underlying ArrayBuffer.\n    const buffer =\n      chunk instanceof Uint8Array &&\n      chunk.byteLength === chunk.buffer.byteLength\n        ? chunk.buffer\n        : new Uint8Array(chunk).buffer;\n\n    if (begin === undefined) {\n      if (this._fullRequestReader) {\n        this._fullRequestReader._enqueue(buffer);\n      } else {\n        this._queuedChunks.push(buffer);\n      }\n    } else {\n      const found = this._rangeReaders.some(function (rangeReader) {\n        if (rangeReader._begin !== begin) {\n          return false;\n        }\n        rangeReader._enqueue(buffer);\n        return true;\n      });\n      assert(\n        found,\n        \"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.\"\n      );\n    }\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n\n  _onProgress(evt) {\n    if (evt.total === undefined) {\n      // Reporting to first range reader, if it exists.\n      this._rangeReaders[0]?.onProgress?.({ loaded: evt.loaded });\n    } else {\n      this._fullRequestReader?.onProgress?.({\n        loaded: evt.loaded,\n        total: evt.total,\n      });\n    }\n  }\n\n  _onProgressiveDone() {\n    this._fullRequestReader?.progressiveDone();\n    this._progressiveDone = true;\n  }\n\n  _removeRangeReader(reader) {\n    const i = this._rangeReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeReaders.splice(i, 1);\n    }\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFDataTransportStream.getFullReader can only be called once.\"\n    );\n    const queuedChunks = this._queuedChunks;\n    this._queuedChunks = null;\n    return new PDFDataTransportStreamReader(\n      this,\n      queuedChunks,\n      this._progressiveDone,\n      this._contentDispositionFilename\n    );\n  }\n\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFDataTransportStreamRangeReader(this, begin, end);\n    this._pdfDataRangeTransport.requestDataRange(begin, end);\n    this._rangeReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n\n    for (const reader of this._rangeReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n    this._pdfDataRangeTransport.abort();\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFDataTransportStreamReader {\n  constructor(\n    stream,\n    queuedChunks,\n    progressiveDone = false,\n    contentDispositionFilename = null\n  ) {\n    this._stream = stream;\n    this._done = progressiveDone || false;\n    this._filename = isPdfFile(contentDispositionFilename)\n      ? contentDispositionFilename\n      : null;\n    this._queuedChunks = queuedChunks || [];\n    this._loaded = 0;\n    for (const chunk of this._queuedChunks) {\n      this._loaded += chunk.byteLength;\n    }\n    this._requests = [];\n    this._headersReady = Promise.resolve();\n    stream._fullRequestReader = this;\n\n    this.onProgress = null;\n  }\n\n  _enqueue(chunk) {\n    if (this._done) {\n      return; // Ignore new data.\n    }\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({ value: chunk, done: false });\n    } else {\n      this._queuedChunks.push(chunk);\n    }\n    this._loaded += chunk.byteLength;\n  }\n\n  get headersReady() {\n    return this._headersReady;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get isRangeSupported() {\n    return this._stream._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._stream._isStreamingSupported;\n  }\n\n  get contentLength() {\n    return this._stream._contentLength;\n  }\n\n  async read() {\n    if (this._queuedChunks.length > 0) {\n      const chunk = this._queuedChunks.shift();\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = new PromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n  }\n\n  progressiveDone() {\n    if (this._done) {\n      return;\n    }\n    this._done = true;\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFDataTransportStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._begin = begin;\n    this._end = end;\n    this._queuedChunk = null;\n    this._requests = [];\n    this._done = false;\n\n    this.onProgress = null;\n  }\n\n  _enqueue(chunk) {\n    if (this._done) {\n      return; // ignore new data\n    }\n    if (this._requests.length === 0) {\n      this._queuedChunk = chunk;\n    } else {\n      const requestsCapability = this._requests.shift();\n      requestsCapability.resolve({ value: chunk, done: false });\n      for (const requestCapability of this._requests) {\n        requestCapability.resolve({ value: undefined, done: true });\n      }\n      this._requests.length = 0;\n    }\n    this._done = true;\n    this._stream._removeRangeReader(this);\n  }\n\n  get isStreamingSupported() {\n    return false;\n  }\n\n  async read() {\n    if (this._queuedChunk) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = new PromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n    this._stream._removeRangeReader(this);\n  }\n}\n\nexport { PDFDataTransportStream };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AbortException,\n  assert,\n  PromiseCapability,\n  warn,\n} from \"../shared/util.js\";\nimport {\n  createResponseStatusError,\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n  validateResponseStatus,\n} from \"./network_utils.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./fetch_stream.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nfunction createFetchOptions(headers, withCredentials, abortController) {\n  return {\n    method: \"GET\",\n    headers,\n    signal: abortController.signal,\n    mode: \"cors\",\n    credentials: withCredentials ? \"include\" : \"same-origin\",\n    redirect: \"follow\",\n  };\n}\n\nfunction createHeaders(httpHeaders) {\n  const headers = new Headers();\n  for (const property in httpHeaders) {\n    const value = httpHeaders[property];\n    if (value === undefined) {\n      continue;\n    }\n    headers.append(property, value);\n  }\n  return headers;\n}\n\nfunction getArrayBuffer(val) {\n  if (val instanceof Uint8Array) {\n    return val.buffer;\n  }\n  if (val instanceof ArrayBuffer) {\n    return val;\n  }\n  warn(`getArrayBuffer - unexpected data format: ${val}`);\n  return new Uint8Array(val).buffer;\n}\n\n/** @implements {IPDFStream} */\nclass PDFFetchStream {\n  constructor(source) {\n    this.source = source;\n    this.isHttp = /^https?:/i.test(source.url);\n    this.httpHeaders = (this.isHttp && source.httpHeaders) || {};\n\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFFetchStream.getFullReader can only be called once.\"\n    );\n    this._fullRequestReader = new PDFFetchStreamReader(this);\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFFetchStreamRangeReader(this, begin, end);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFFetchStreamReader {\n  constructor(stream) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    this._filename = null;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._contentLength = source.length;\n    this._headersCapability = new PromiseCapability();\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._abortController = new AbortController();\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n\n    this._headers = createHeaders(this._stream.httpHeaders);\n\n    const url = source.url;\n    fetch(\n      url,\n      createFetchOptions(\n        this._headers,\n        this._withCredentials,\n        this._abortController\n      )\n    )\n      .then(response => {\n        if (!validateResponseStatus(response.status)) {\n          throw createResponseStatusError(response.status, url);\n        }\n        this._reader = response.body.getReader();\n        this._headersCapability.resolve();\n\n        const getResponseHeader = name => {\n          return response.headers.get(name);\n        };\n        const { allowRangeRequests, suggestedLength } =\n          validateRangeRequestCapabilities({\n            getResponseHeader,\n            isHttp: this._stream.isHttp,\n            rangeChunkSize: this._rangeChunkSize,\n            disableRange: this._disableRange,\n          });\n\n        this._isRangeSupported = allowRangeRequests;\n        // Setting right content length.\n        this._contentLength = suggestedLength || this._contentLength;\n\n        this._filename = extractFilenameFromHeader(getResponseHeader);\n\n        // We need to stop reading when range is supported and streaming is\n        // disabled.\n        if (!this._isStreamingSupported && this._isRangeSupported) {\n          this.cancel(new AbortException(\"Streaming is disabled.\"));\n        }\n      })\n      .catch(this._headersCapability.reject);\n\n    this.onProgress = null;\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._headersCapability.promise;\n    const { value, done } = await this._reader.read();\n    if (done) {\n      return { value, done };\n    }\n    this._loaded += value.byteLength;\n    this.onProgress?.({\n      loaded: this._loaded,\n      total: this._contentLength,\n    });\n\n    return { value: getArrayBuffer(value), done: false };\n  }\n\n  cancel(reason) {\n    this._reader?.cancel(reason);\n    this._abortController.abort();\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFFetchStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._readCapability = new PromiseCapability();\n    this._isStreamingSupported = !source.disableStream;\n\n    this._abortController = new AbortController();\n    this._headers = createHeaders(this._stream.httpHeaders);\n    this._headers.append(\"Range\", `bytes=${begin}-${end - 1}`);\n\n    const url = source.url;\n    fetch(\n      url,\n      createFetchOptions(\n        this._headers,\n        this._withCredentials,\n        this._abortController\n      )\n    )\n      .then(response => {\n        if (!validateResponseStatus(response.status)) {\n          throw createResponseStatusError(response.status, url);\n        }\n        this._readCapability.resolve();\n        this._reader = response.body.getReader();\n      })\n      .catch(this._readCapability.reject);\n\n    this.onProgress = null;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    const { value, done } = await this._reader.read();\n    if (done) {\n      return { value, done };\n    }\n    this._loaded += value.byteLength;\n    this.onProgress?.({ loaded: this._loaded });\n\n    return { value: getArrayBuffer(value), done: false };\n  }\n\n  cancel(reason) {\n    this._reader?.cancel(reason);\n    this._abortController.abort();\n  }\n}\n\nexport { PDFFetchStream };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert,\n  MissingPDFException,\n  UnexpectedResponseException,\n} from \"../shared/util.js\";\nimport { getFilenameFromContentDispositionHeader } from \"./content_disposition.js\";\nimport { isPdfFile } from \"./display_utils.js\";\n\nfunction validateRangeRequestCapabilities({\n  getResponseHeader,\n  isHttp,\n  rangeChunkSize,\n  disableRange,\n}) {\n  if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n    assert(\n      Number.isInteger(rangeChunkSize) && rangeChunkSize > 0,\n      \"rangeChunkSize must be an integer larger than zero.\"\n    );\n  }\n  const returnValues = {\n    allowRangeRequests: false,\n    suggestedLength: undefined,\n  };\n\n  const length = parseInt(getResponseHeader(\"Content-Length\"), 10);\n  if (!Number.isInteger(length)) {\n    return returnValues;\n  }\n\n  returnValues.suggestedLength = length;\n\n  if (length <= 2 * rangeChunkSize) {\n    // The file size is smaller than the size of two chunks, so it does not\n    // make any sense to abort the request and retry with a range request.\n    return returnValues;\n  }\n\n  if (disableRange || !isHttp) {\n    return returnValues;\n  }\n  if (getResponseHeader(\"Accept-Ranges\") !== \"bytes\") {\n    return returnValues;\n  }\n\n  const contentEncoding = getResponseHeader(\"Content-Encoding\") || \"identity\";\n  if (contentEncoding !== \"identity\") {\n    return returnValues;\n  }\n\n  returnValues.allowRangeRequests = true;\n  return returnValues;\n}\n\nfunction extractFilenameFromHeader(getResponseHeader) {\n  const contentDisposition = getResponseHeader(\"Content-Disposition\");\n  if (contentDisposition) {\n    let filename = getFilenameFromContentDispositionHeader(contentDisposition);\n    if (filename.includes(\"%\")) {\n      try {\n        filename = decodeURIComponent(filename);\n      } catch {}\n    }\n    if (isPdfFile(filename)) {\n      return filename;\n    }\n  }\n  return null;\n}\n\nfunction createResponseStatusError(status, url) {\n  if (status === 404 || (status === 0 && url.startsWith(\"file:\"))) {\n    return new MissingPDFException('Missing PDF \"' + url + '\".');\n  }\n  return new UnexpectedResponseException(\n    `Unexpected server response (${status}) while retrieving PDF \"${url}\".`,\n    status\n  );\n}\n\nfunction validateResponseStatus(status) {\n  return status === 200 || status === 206;\n}\n\nexport {\n  createResponseStatusError,\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n  validateResponseStatus,\n};\n","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { stringToBytes } from \"../shared/util.js\";\n\n// This getFilenameFromContentDispositionHeader function is adapted from\n// https://github.com/Rob--W/open-in-browser/blob/7e2e35a38b8b4e981b11da7b2f01df0149049e92/extension/content-disposition.js\n// with the following changes:\n// - Modified to conform to PDF.js's coding style.\n// - Move return to the end of the function to prevent Babel from dropping the\n//   function declarations.\n\n/**\n * Extract file name from the Content-Disposition HTTP response header.\n *\n * @param {string} contentDisposition\n * @returns {string} Filename, if found in the Content-Disposition header.\n */\nfunction getFilenameFromContentDispositionHeader(contentDisposition) {\n  let needsEncodingFixup = true;\n\n  // filename*=ext-value (\"ext-value\" from RFC 5987, referenced by RFC 6266).\n  let tmp = toParamRegExp(\"filename\\\\*\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = unescape(filename);\n    filename = rfc5987decode(filename);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n\n  // Continuations (RFC 2231 section 3, referenced by RFC 5987 section 3.1).\n  // filename*n*=part\n  // filename*n=part\n  tmp = rfc2231getparam(contentDisposition);\n  if (tmp) {\n    // RFC 2047, section\n    const filename = rfc2047decode(tmp);\n    return fixupEncoding(filename);\n  }\n\n  // filename=value (RFC 5987, section 4.1).\n  tmp = toParamRegExp(\"filename\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n\n  // After this line there are only function declarations. We cannot put\n  // \"return\" here for readability because babel would then drop the function\n  // declarations...\n  function toParamRegExp(attributePattern, flags) {\n    return new RegExp(\n      \"(?:^|;)\\\\s*\" +\n        attributePattern +\n        \"\\\\s*=\\\\s*\" +\n        // Captures: value = token | quoted-string\n        // (RFC 2616, section 3.6 and referenced by RFC 6266 4.1)\n        \"(\" +\n        '[^\";\\\\s][^;\\\\s]*' +\n        \"|\" +\n        '\"(?:[^\"\\\\\\\\]|\\\\\\\\\"?)+\"?' +\n        \")\",\n      flags\n    );\n  }\n  function textdecode(encoding, value) {\n    if (encoding) {\n      if (!/^[\\x00-\\xFF]+$/.test(value)) {\n        return value;\n      }\n      try {\n        const decoder = new TextDecoder(encoding, { fatal: true });\n        const buffer = stringToBytes(value);\n        value = decoder.decode(buffer);\n        needsEncodingFixup = false;\n      } catch {\n        // TextDecoder constructor threw - unrecognized encoding.\n      }\n    }\n    return value;\n  }\n  function fixupEncoding(value) {\n    if (needsEncodingFixup && /[\\x80-\\xff]/.test(value)) {\n      // Maybe multi-byte UTF-8.\n      value = textdecode(\"utf-8\", value);\n      if (needsEncodingFixup) {\n        // Try iso-8859-1 encoding.\n        value = textdecode(\"iso-8859-1\", value);\n      }\n    }\n    return value;\n  }\n  function rfc2231getparam(contentDispositionStr) {\n    const matches = [];\n    let match;\n    // Iterate over all filename*n= and filename*n*= with n being an integer\n    // of at least zero. Any non-zero number must not start with '0'.\n    const iter = toParamRegExp(\"filename\\\\*((?!0\\\\d)\\\\d+)(\\\\*?)\", \"ig\");\n    while ((match = iter.exec(contentDispositionStr)) !== null) {\n      let [, n, quot, part] = match; // eslint-disable-line prefer-const\n      n = parseInt(n, 10);\n      if (n in matches) {\n        // Ignore anything after the invalid second filename*0.\n        if (n === 0) {\n          break;\n        }\n        continue;\n      }\n      matches[n] = [quot, part];\n    }\n    const parts = [];\n    for (let n = 0; n < matches.length; ++n) {\n      if (!(n in matches)) {\n        // Numbers must be consecutive. Truncate when there is a hole.\n        break;\n      }\n      let [quot, part] = matches[n]; // eslint-disable-line prefer-const\n      part = rfc2616unquote(part);\n      if (quot) {\n        part = unescape(part);\n        if (n === 0) {\n          part = rfc5987decode(part);\n        }\n      }\n      parts.push(part);\n    }\n    return parts.join(\"\");\n  }\n  function rfc2616unquote(value) {\n    if (value.startsWith('\"')) {\n      const parts = value.slice(1).split('\\\\\"');\n      // Find the first unescaped \" and terminate there.\n      for (let i = 0; i < parts.length; ++i) {\n        const quotindex = parts[i].indexOf('\"');\n        if (quotindex !== -1) {\n          parts[i] = parts[i].slice(0, quotindex);\n          parts.length = i + 1; // Truncates and stop the iteration.\n        }\n        parts[i] = parts[i].replaceAll(/\\\\(.)/g, \"$1\");\n      }\n      value = parts.join('\"');\n    }\n    return value;\n  }\n  function rfc5987decode(extvalue) {\n    // Decodes \"ext-value\" from RFC 5987.\n    const encodingend = extvalue.indexOf(\"'\");\n    if (encodingend === -1) {\n      // Some servers send \"filename*=\" without encoding 'language' prefix,\n      // e.g. in https://github.com/Rob--W/open-in-browser/issues/26\n      // Let's accept the value like Firefox (57) (Chrome 62 rejects it).\n      return extvalue;\n    }\n    const encoding = extvalue.slice(0, encodingend);\n    const langvalue = extvalue.slice(encodingend + 1);\n    // Ignore language (RFC 5987 section 3.2.1, and RFC 6266 section 4.1 ).\n    const value = langvalue.replace(/^[^']*'/, \"\");\n    return textdecode(encoding, value);\n  }\n  function rfc2047decode(value) {\n    // RFC 2047-decode the result. Firefox tried to drop support for it, but\n    // backed out because some servers use it - https://bugzil.la/875615\n    // Firefox's condition for decoding is here: https://searchfox.org/mozilla-central/rev/4a590a5a15e35d88a3b23dd6ac3c471cf85b04a8/netwerk/mime/nsMIMEHeaderParamImpl.cpp#742-748\n\n    // We are more strict and only recognize RFC 2047-encoding if the value\n    // starts with \"=?\", since then it is likely that the full value is\n    // RFC 2047-encoded.\n\n    // Firefox also decodes words even where RFC 2047 section 5 states:\n    // \"An 'encoded-word' MUST NOT appear within a 'quoted-string'.\"\n    if (!value.startsWith(\"=?\") || /[\\x00-\\x19\\x80-\\xff]/.test(value)) {\n      return value;\n    }\n    // RFC 2047, section 2.4\n    // encoded-word = \"=?\" charset \"?\" encoding \"?\" encoded-text \"?=\"\n    // charset = token (but let's restrict to characters that denote a\n    //       possibly valid encoding).\n    // encoding = q or b\n    // encoded-text = any printable ASCII character other than ? or space.\n    //        ... but Firefox permits ? and space.\n    return value.replaceAll(\n      /=\\?([\\w-]*)\\?([QqBb])\\?((?:[^?]|\\?(?!=))*)\\?=/g,\n      function (matches, charset, encoding, text) {\n        if (encoding === \"q\" || encoding === \"Q\") {\n          // RFC 2047 section 4.2.\n          text = text.replaceAll(\"_\", \" \");\n          text = text.replaceAll(/=([0-9a-fA-F]{2})/g, function (match, hex) {\n            return String.fromCharCode(parseInt(hex, 16));\n          });\n          return textdecode(charset, text);\n        } // else encoding is b or B - base64 (RFC 2047 section 4.1)\n        try {\n          text = atob(text);\n        } catch {}\n        return textdecode(charset, text);\n      }\n    );\n  }\n\n  return \"\";\n}\n\nexport { getFilenameFromContentDispositionHeader };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert, PromiseCapability, stringToBytes } from \"../shared/util.js\";\nimport {\n  createResponseStatusError,\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n} from \"./network_utils.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./network.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nconst OK_RESPONSE = 200;\nconst PARTIAL_CONTENT_RESPONSE = 206;\n\nfunction getArrayBuffer(xhr) {\n  const data = xhr.response;\n  if (typeof data !== \"string\") {\n    return data;\n  }\n  return stringToBytes(data).buffer;\n}\n\nclass NetworkManager {\n  constructor(url, args = {}) {\n    this.url = url;\n    this.isHttp = /^https?:/i.test(url);\n    this.httpHeaders = (this.isHttp && args.httpHeaders) || Object.create(null);\n    this.withCredentials = args.withCredentials || false;\n\n    this.currXhrId = 0;\n    this.pendingRequests = Object.create(null);\n  }\n\n  requestRange(begin, end, listeners) {\n    const args = {\n      begin,\n      end,\n    };\n    for (const prop in listeners) {\n      args[prop] = listeners[prop];\n    }\n    return this.request(args);\n  }\n\n  requestFull(listeners) {\n    return this.request(listeners);\n  }\n\n  request(args) {\n    const xhr = new XMLHttpRequest();\n    const xhrId = this.currXhrId++;\n    const pendingRequest = (this.pendingRequests[xhrId] = { xhr });\n\n    xhr.open(\"GET\", this.url);\n    xhr.withCredentials = this.withCredentials;\n    for (const property in this.httpHeaders) {\n      const value = this.httpHeaders[property];\n      if (value === undefined) {\n        continue;\n      }\n      xhr.setRequestHeader(property, value);\n    }\n    if (this.isHttp && \"begin\" in args && \"end\" in args) {\n      xhr.setRequestHeader(\"Range\", `bytes=${args.begin}-${args.end - 1}`);\n      pendingRequest.expectedStatus = PARTIAL_CONTENT_RESPONSE;\n    } else {\n      pendingRequest.expectedStatus = OK_RESPONSE;\n    }\n    xhr.responseType = \"arraybuffer\";\n\n    if (args.onError) {\n      xhr.onerror = function (evt) {\n        args.onError(xhr.status);\n      };\n    }\n    xhr.onreadystatechange = this.onStateChange.bind(this, xhrId);\n    xhr.onprogress = this.onProgress.bind(this, xhrId);\n\n    pendingRequest.onHeadersReceived = args.onHeadersReceived;\n    pendingRequest.onDone = args.onDone;\n    pendingRequest.onError = args.onError;\n    pendingRequest.onProgress = args.onProgress;\n\n    xhr.send(null);\n\n    return xhrId;\n  }\n\n  onProgress(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return; // Maybe abortRequest was called...\n    }\n    pendingRequest.onProgress?.(evt);\n  }\n\n  onStateChange(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return; // Maybe abortRequest was called...\n    }\n\n    const xhr = pendingRequest.xhr;\n    if (xhr.readyState >= 2 && pendingRequest.onHeadersReceived) {\n      pendingRequest.onHeadersReceived();\n      delete pendingRequest.onHeadersReceived;\n    }\n\n    if (xhr.readyState !== 4) {\n      return;\n    }\n\n    if (!(xhrId in this.pendingRequests)) {\n      // The XHR request might have been aborted in onHeadersReceived()\n      // callback, in which case we should abort request.\n      return;\n    }\n\n    delete this.pendingRequests[xhrId];\n\n    // Success status == 0 can be on ftp, file and other protocols.\n    if (xhr.status === 0 && this.isHttp) {\n      pendingRequest.onError?.(xhr.status);\n      return;\n    }\n    const xhrStatus = xhr.status || OK_RESPONSE;\n\n    // From http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35.2:\n    // \"A server MAY ignore the Range header\". This means it's possible to\n    // get a 200 rather than a 206 response from a range request.\n    const ok_response_on_range_request =\n      xhrStatus === OK_RESPONSE &&\n      pendingRequest.expectedStatus === PARTIAL_CONTENT_RESPONSE;\n\n    if (\n      !ok_response_on_range_request &&\n      xhrStatus !== pendingRequest.expectedStatus\n    ) {\n      pendingRequest.onError?.(xhr.status);\n      return;\n    }\n\n    const chunk = getArrayBuffer(xhr);\n    if (xhrStatus === PARTIAL_CONTENT_RESPONSE) {\n      const rangeHeader = xhr.getResponseHeader(\"Content-Range\");\n      const matches = /bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);\n      pendingRequest.onDone({\n        begin: parseInt(matches[1], 10),\n        chunk,\n      });\n    } else if (chunk) {\n      pendingRequest.onDone({\n        begin: 0,\n        chunk,\n      });\n    } else {\n      pendingRequest.onError?.(xhr.status);\n    }\n  }\n\n  getRequestXhr(xhrId) {\n    return this.pendingRequests[xhrId].xhr;\n  }\n\n  isPendingRequest(xhrId) {\n    return xhrId in this.pendingRequests;\n  }\n\n  abortRequest(xhrId) {\n    const xhr = this.pendingRequests[xhrId].xhr;\n    delete this.pendingRequests[xhrId];\n    xhr.abort();\n  }\n}\n\n/** @implements {IPDFStream} */\nclass PDFNetworkStream {\n  constructor(source) {\n    this._source = source;\n    this._manager = new NetworkManager(source.url, {\n      httpHeaders: source.httpHeaders,\n      withCredentials: source.withCredentials,\n    });\n    this._rangeChunkSize = source.rangeChunkSize;\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  _onRangeRequestReaderClosed(reader) {\n    const i = this._rangeRequestReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeRequestReaders.splice(i, 1);\n    }\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFNetworkStream.getFullReader can only be called once.\"\n    );\n    this._fullRequestReader = new PDFNetworkStreamFullRequestReader(\n      this._manager,\n      this._source\n    );\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(begin, end) {\n    const reader = new PDFNetworkStreamRangeRequestReader(\n      this._manager,\n      begin,\n      end\n    );\n    reader.onClosed = this._onRangeRequestReaderClosed.bind(this);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFNetworkStreamFullRequestReader {\n  constructor(manager, source) {\n    this._manager = manager;\n\n    const args = {\n      onHeadersReceived: this._onHeadersReceived.bind(this),\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this),\n    };\n    this._url = source.url;\n    this._fullRequestId = manager.requestFull(args);\n    this._headersReceivedCapability = new PromiseCapability();\n    this._disableRange = source.disableRange || false;\n    this._contentLength = source.length; // Optional\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._isStreamingSupported = false;\n    this._isRangeSupported = false;\n\n    this._cachedChunks = [];\n    this._requests = [];\n    this._done = false;\n    this._storedError = undefined;\n    this._filename = null;\n\n    this.onProgress = null;\n  }\n\n  _onHeadersReceived() {\n    const fullRequestXhrId = this._fullRequestId;\n    const fullRequestXhr = this._manager.getRequestXhr(fullRequestXhrId);\n\n    const getResponseHeader = name => {\n      return fullRequestXhr.getResponseHeader(name);\n    };\n    const { allowRangeRequests, suggestedLength } =\n      validateRangeRequestCapabilities({\n        getResponseHeader,\n        isHttp: this._manager.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange,\n      });\n\n    if (allowRangeRequests) {\n      this._isRangeSupported = true;\n    }\n    // Setting right content length.\n    this._contentLength = suggestedLength || this._contentLength;\n\n    this._filename = extractFilenameFromHeader(getResponseHeader);\n\n    if (this._isRangeSupported) {\n      // NOTE: by cancelling the full request, and then issuing range\n      // requests, there will be an issue for sites where you can only\n      // request the pdf once. However, if this is the case, then the\n      // server should not be returning that it can support range requests.\n      this._manager.abortRequest(fullRequestXhrId);\n    }\n\n    this._headersReceivedCapability.resolve();\n  }\n\n  _onDone(data) {\n    if (data) {\n      if (this._requests.length > 0) {\n        const requestCapability = this._requests.shift();\n        requestCapability.resolve({ value: data.chunk, done: false });\n      } else {\n        this._cachedChunks.push(data.chunk);\n      }\n    }\n    this._done = true;\n    if (this._cachedChunks.length > 0) {\n      return;\n    }\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n  }\n\n  _onError(status) {\n    this._storedError = createResponseStatusError(status, this._url);\n    this._headersReceivedCapability.reject(this._storedError);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._cachedChunks.length = 0;\n  }\n\n  _onProgress(evt) {\n    this.onProgress?.({\n      loaded: evt.loaded,\n      total: evt.lengthComputable ? evt.total : this._contentLength,\n    });\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get headersReady() {\n    return this._headersReceivedCapability.promise;\n  }\n\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._cachedChunks.length > 0) {\n      const chunk = this._cachedChunks.shift();\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = new PromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    this._headersReceivedCapability.reject(reason);\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._fullRequestId)) {\n      this._manager.abortRequest(this._fullRequestId);\n    }\n    this._fullRequestReader = null;\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFNetworkStreamRangeRequestReader {\n  constructor(manager, begin, end) {\n    this._manager = manager;\n\n    const args = {\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this),\n    };\n    this._url = manager.url;\n    this._requestId = manager.requestRange(begin, end, args);\n    this._requests = [];\n    this._queuedChunk = null;\n    this._done = false;\n    this._storedError = undefined;\n\n    this.onProgress = null;\n    this.onClosed = null;\n  }\n\n  _close() {\n    this.onClosed?.(this);\n  }\n\n  _onDone(data) {\n    const chunk = data.chunk;\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({ value: chunk, done: false });\n    } else {\n      this._queuedChunk = chunk;\n    }\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n    this._close();\n  }\n\n  _onError(status) {\n    this._storedError = createResponseStatusError(status, this._url);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._queuedChunk = null;\n  }\n\n  _onProgress(evt) {\n    if (!this.isStreamingSupported) {\n      this.onProgress?.({ loaded: evt.loaded });\n    }\n  }\n\n  get isStreamingSupported() {\n    return false;\n  }\n\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._queuedChunk !== null) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = new PromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._requestId)) {\n      this._manager.abortRequest(this._requestId);\n    }\n    this._close();\n  }\n}\n\nexport { PDFNetworkStream };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals __non_webpack_require__ */\n\nimport {\n  AbortException,\n  assert,\n  MissingPDFException,\n  PromiseCapability,\n} from \"../shared/util.js\";\nimport {\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n} from \"./network_utils.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./node_stream.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nconst fileUriRegex = /^file:\\/\\/\\/[a-zA-Z]:\\//;\n\nfunction parseUrl(sourceUrl) {\n  const url = __non_webpack_require__(\"url\");\n  const parsedUrl = url.parse(sourceUrl);\n  if (parsedUrl.protocol === \"file:\" || parsedUrl.host) {\n    return parsedUrl;\n  }\n  // Prepending 'file:///' to Windows absolute path.\n  if (/^[a-z]:[/\\\\]/i.test(sourceUrl)) {\n    return url.parse(`file:///${sourceUrl}`);\n  }\n  // Changes protocol to 'file:' if url refers to filesystem.\n  if (!parsedUrl.host) {\n    parsedUrl.protocol = \"file:\";\n  }\n  return parsedUrl;\n}\n\nclass PDFNodeStream {\n  constructor(source) {\n    this.source = source;\n    this.url = parseUrl(source.url);\n    this.isHttp =\n      this.url.protocol === \"http:\" || this.url.protocol === \"https:\";\n    // Check if url refers to filesystem.\n    this.isFsUrl = this.url.protocol === \"file:\";\n    this.httpHeaders = (this.isHttp && source.httpHeaders) || {};\n\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFNodeStream.getFullReader can only be called once.\"\n    );\n    this._fullRequestReader = this.isFsUrl\n      ? new PDFNodeStreamFsFullReader(this)\n      : new PDFNodeStreamFullReader(this);\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(start, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const rangeReader = this.isFsUrl\n      ? new PDFNodeStreamFsRangeReader(this, start, end)\n      : new PDFNodeStreamRangeReader(this, start, end);\n    this._rangeRequestReaders.push(rangeReader);\n    return rangeReader;\n  }\n\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\n\nclass BaseFullReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    const source = stream.source;\n    this._contentLength = source.length; // optional\n    this._loaded = 0;\n    this._filename = null;\n\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n\n    this._readableStream = null;\n    this._readCapability = new PromiseCapability();\n    this._headersCapability = new PromiseCapability();\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = new PromiseCapability();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    this.onProgress?.({\n      loaded: this._loaded,\n      total: this._contentLength,\n    });\n\n    // Ensure that `read()` method returns ArrayBuffer.\n    const buffer = new Uint8Array(chunk).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    // Call `this._error()` method when cancel is called\n    // before _readableStream is set.\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"end\", () => {\n      // Destroy readable to minimize resource usage.\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n\n    // We need to stop reading when range is supported and streaming is\n    // disabled.\n    if (!this._isStreamingSupported && this._isRangeSupported) {\n      this._error(new AbortException(\"streaming is disabled\"));\n    }\n\n    // Destroy ReadableStream if already in errored state.\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\n\nclass BaseRangeReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    this._loaded = 0;\n    this._readableStream = null;\n    this._readCapability = new PromiseCapability();\n    const source = stream.source;\n    this._isStreamingSupported = !source.disableStream;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = new PromiseCapability();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    this.onProgress?.({ loaded: this._loaded });\n\n    // Ensure that `read()` method returns ArrayBuffer.\n    const buffer = new Uint8Array(chunk).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    // Call `this._error()` method when cancel is called\n    // before _readableStream is set.\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"end\", () => {\n      // Destroy readableStream to minimize resource usage.\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n\n    // Destroy readableStream if already in errored state.\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\n\nfunction createRequestOptions(parsedUrl, headers) {\n  return {\n    protocol: parsedUrl.protocol,\n    auth: parsedUrl.auth,\n    host: parsedUrl.hostname,\n    port: parsedUrl.port,\n    path: parsedUrl.path,\n    method: \"GET\",\n    headers,\n  };\n}\n\nclass PDFNodeStreamFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        this._headersCapability.reject(error);\n        return;\n      }\n      this._headersCapability.resolve();\n      this._setReadableStream(response);\n\n      const getResponseHeader = name => {\n        // Make sure that headers name are in lower case, as mentioned\n        // here: https://nodejs.org/api/http.html#http_message_headers.\n        return this._readableStream.headers[name.toLowerCase()];\n      };\n      const { allowRangeRequests, suggestedLength } =\n        validateRangeRequestCapabilities({\n          getResponseHeader,\n          isHttp: stream.isHttp,\n          rangeChunkSize: this._rangeChunkSize,\n          disableRange: this._disableRange,\n        });\n\n      this._isRangeSupported = allowRangeRequests;\n      // Setting right content length.\n      this._contentLength = suggestedLength || this._contentLength;\n\n      this._filename = extractFilenameFromHeader(getResponseHeader);\n    };\n\n    this._request = null;\n    if (this._url.protocol === \"http:\") {\n      const http = __non_webpack_require__(\"http\");\n      this._request = http.request(\n        createRequestOptions(this._url, stream.httpHeaders),\n        handleResponse\n      );\n    } else {\n      const https = __non_webpack_require__(\"https\");\n      this._request = https.request(\n        createRequestOptions(this._url, stream.httpHeaders),\n        handleResponse\n      );\n    }\n\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n      this._headersCapability.reject(reason);\n    });\n    // Note: `request.end(data)` is used to write `data` to request body\n    // and notify end of request. But one should always call `request.end()`\n    // even if there is no data to write -- (to notify the end of request).\n    this._request.end();\n  }\n}\n\nclass PDFNodeStreamRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n\n    this._httpHeaders = {};\n    for (const property in stream.httpHeaders) {\n      const value = stream.httpHeaders[property];\n      if (value === undefined) {\n        continue;\n      }\n      this._httpHeaders[property] = value;\n    }\n    this._httpHeaders.Range = `bytes=${start}-${end - 1}`;\n\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        return;\n      }\n      this._setReadableStream(response);\n    };\n\n    this._request = null;\n    if (this._url.protocol === \"http:\") {\n      const http = __non_webpack_require__(\"http\");\n      this._request = http.request(\n        createRequestOptions(this._url, this._httpHeaders),\n        handleResponse\n      );\n    } else {\n      const https = __non_webpack_require__(\"https\");\n      this._request = https.request(\n        createRequestOptions(this._url, this._httpHeaders),\n        handleResponse\n      );\n    }\n\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n    });\n    this._request.end();\n  }\n}\n\nclass PDFNodeStreamFsFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n\n    let path = decodeURIComponent(this._url.path);\n\n    // Remove the extra slash to get right path from url like `file:///C:/`\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n\n    const fs = __non_webpack_require__(\"fs\");\n    fs.lstat(path, (error, stat) => {\n      if (error) {\n        if (error.code === \"ENOENT\") {\n          error = new MissingPDFException(`Missing PDF \"${path}\".`);\n        }\n        this._storedError = error;\n        this._headersCapability.reject(error);\n        return;\n      }\n      // Setting right content length.\n      this._contentLength = stat.size;\n\n      this._setReadableStream(fs.createReadStream(path));\n      this._headersCapability.resolve();\n    });\n  }\n}\n\nclass PDFNodeStreamFsRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n\n    let path = decodeURIComponent(this._url.path);\n\n    // Remove the extra slash to get right path from url like `file:///C:/`\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n\n    const fs = __non_webpack_require__(\"fs\");\n    this._setReadableStream(fs.createReadStream(path, { start, end: end - 1 }));\n  }\n}\n\nexport { PDFNodeStream };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals __non_webpack_require__ */\n\nimport { deprecated, DOMSVGFactory } from \"./display_utils.js\";\nimport {\n  FONT_IDENTITY_MATRIX,\n  IDENTITY_MATRIX,\n  ImageKind,\n  isNodeJS,\n  OPS,\n  TextRenderingMode,\n  Util,\n  warn,\n} from \"../shared/util.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && !PDFJSDev.test(\"GENERIC\")) {\n  throw new Error(\n    'Module \"SVGGraphics\" shall not be used outside GENERIC builds.'\n  );\n}\n\nconst SVG_DEFAULTS = {\n  fontStyle: \"normal\",\n  fontWeight: \"normal\",\n  fillColor: \"#000000\",\n};\nconst XML_NS = \"http://www.w3.org/XML/1998/namespace\";\nconst XLINK_NS = \"http://www.w3.org/1999/xlink\";\nconst LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\nconst LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\n\nconst createObjectURL = function (\n  data,\n  contentType = \"\",\n  forceDataSchema = false\n) {\n  if (URL.createObjectURL && typeof Blob !== \"undefined\" && !forceDataSchema) {\n    return URL.createObjectURL(new Blob([data], { type: contentType }));\n  }\n  // Blob/createObjectURL is not available, falling back to data schema.\n  const digits =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\n  let buffer = `data:${contentType};base64,`;\n  for (let i = 0, ii = data.length; i < ii; i += 3) {\n    const b1 = data[i] & 0xff;\n    const b2 = data[i + 1] & 0xff;\n    const b3 = data[i + 2] & 0xff;\n    const d1 = b1 >> 2,\n      d2 = ((b1 & 3) << 4) | (b2 >> 4);\n    const d3 = i + 1 < ii ? ((b2 & 0xf) << 2) | (b3 >> 6) : 64;\n    const d4 = i + 2 < ii ? b3 & 0x3f : 64;\n    buffer += digits[d1] + digits[d2] + digits[d3] + digits[d4];\n  }\n  return buffer;\n};\n\nconst convertImgDataToPng = (function () {\n  const PNG_HEADER = new Uint8Array([\n    0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a,\n  ]);\n  const CHUNK_WRAPPER_SIZE = 12;\n\n  const crcTable = new Int32Array(256);\n  for (let i = 0; i < 256; i++) {\n    let c = i;\n    for (let h = 0; h < 8; h++) {\n      c = c & 1 ? 0xedb88320 ^ ((c >> 1) & 0x7fffffff) : (c >> 1) & 0x7fffffff;\n    }\n    crcTable[i] = c;\n  }\n\n  function crc32(data, start, end) {\n    let crc = -1;\n    for (let i = start; i < end; i++) {\n      const a = (crc ^ data[i]) & 0xff;\n      const b = crcTable[a];\n      crc = (crc >>> 8) ^ b;\n    }\n    return crc ^ -1;\n  }\n\n  function writePngChunk(type, body, data, offset) {\n    let p = offset;\n    const len = body.length;\n\n    data[p] = (len >> 24) & 0xff;\n    data[p + 1] = (len >> 16) & 0xff;\n    data[p + 2] = (len >> 8) & 0xff;\n    data[p + 3] = len & 0xff;\n    p += 4;\n\n    data[p] = type.charCodeAt(0) & 0xff;\n    data[p + 1] = type.charCodeAt(1) & 0xff;\n    data[p + 2] = type.charCodeAt(2) & 0xff;\n    data[p + 3] = type.charCodeAt(3) & 0xff;\n    p += 4;\n\n    data.set(body, p);\n    p += body.length;\n\n    const crc = crc32(data, offset + 4, p);\n    data[p] = (crc >> 24) & 0xff;\n    data[p + 1] = (crc >> 16) & 0xff;\n    data[p + 2] = (crc >> 8) & 0xff;\n    data[p + 3] = crc & 0xff;\n  }\n\n  function adler32(data, start, end) {\n    let a = 1;\n    let b = 0;\n    for (let i = start; i < end; ++i) {\n      a = (a + (data[i] & 0xff)) % 65521;\n      b = (b + a) % 65521;\n    }\n    return (b << 16) | a;\n  }\n\n  /**\n   * @param {Uint8Array} literals The input data.\n   * @returns {Uint8Array} The DEFLATE-compressed data stream in zlib format.\n   *   This is the required format for compressed streams in the PNG format:\n   *   http://www.libpng.org/pub/png/spec/1.2/PNG-Compression.html\n   */\n  function deflateSync(literals) {\n    if (!isNodeJS) {\n      // zlib is certainly not available outside of Node.js. We can either use\n      // the pako library for client-side DEFLATE compression, or use the\n      // canvas API of the browser to obtain a more optimal PNG file.\n      return deflateSyncUncompressed(literals);\n    }\n    try {\n      // NOTE: This implementation is far from perfect, but already way better\n      // than not applying any compression.\n      //\n      // A better algorithm will try to choose a good predictor/filter and\n      // then choose a suitable zlib compression strategy (e.g. 3,Z_RLE).\n      //\n      // Node v0.11.12 zlib.deflateSync is introduced (and returns a Buffer).\n      // Node v3.0.0   Buffer inherits from Uint8Array.\n      // Node v8.0.0   zlib.deflateSync accepts Uint8Array as input.\n      const input =\n        // eslint-disable-next-line no-undef\n        parseInt(process.versions.node) >= 8 ? literals : Buffer.from(literals);\n      const output = __non_webpack_require__(\"zlib\").deflateSync(input, {\n        level: 9,\n      });\n      return output instanceof Uint8Array ? output : new Uint8Array(output);\n    } catch (e) {\n      warn(\"Not compressing PNG because zlib.deflateSync is unavailable: \" + e);\n    }\n\n    return deflateSyncUncompressed(literals);\n  }\n\n  // An implementation of DEFLATE with compression level 0 (Z_NO_COMPRESSION).\n  function deflateSyncUncompressed(literals) {\n    let len = literals.length;\n    const maxBlockLength = 0xffff;\n\n    const deflateBlocks = Math.ceil(len / maxBlockLength);\n    const idat = new Uint8Array(2 + len + deflateBlocks * 5 + 4);\n    let pi = 0;\n    idat[pi++] = 0x78; // compression method and flags\n    idat[pi++] = 0x9c; // flags\n\n    let pos = 0;\n    while (len > maxBlockLength) {\n      // writing non-final DEFLATE blocks type 0 and length of 65535\n      idat[pi++] = 0x00;\n      idat[pi++] = 0xff;\n      idat[pi++] = 0xff;\n      idat[pi++] = 0x00;\n      idat[pi++] = 0x00;\n      idat.set(literals.subarray(pos, pos + maxBlockLength), pi);\n      pi += maxBlockLength;\n      pos += maxBlockLength;\n      len -= maxBlockLength;\n    }\n\n    // writing non-final DEFLATE blocks type 0\n    idat[pi++] = 0x01;\n    idat[pi++] = len & 0xff;\n    idat[pi++] = (len >> 8) & 0xff;\n    idat[pi++] = ~len & 0xffff & 0xff;\n    idat[pi++] = ((~len & 0xffff) >> 8) & 0xff;\n    idat.set(literals.subarray(pos), pi);\n    pi += literals.length - pos;\n\n    const adler = adler32(literals, 0, literals.length); // checksum\n    idat[pi++] = (adler >> 24) & 0xff;\n    idat[pi++] = (adler >> 16) & 0xff;\n    idat[pi++] = (adler >> 8) & 0xff;\n    idat[pi++] = adler & 0xff;\n    return idat;\n  }\n\n  function encode(imgData, kind, forceDataSchema, isMask) {\n    const width = imgData.width;\n    const height = imgData.height;\n    let bitDepth, colorType, lineSize;\n    const bytes = imgData.data;\n\n    switch (kind) {\n      case ImageKind.GRAYSCALE_1BPP:\n        colorType = 0;\n        bitDepth = 1;\n        lineSize = (width + 7) >> 3;\n        break;\n      case ImageKind.RGB_24BPP:\n        colorType = 2;\n        bitDepth = 8;\n        lineSize = width * 3;\n        break;\n      case ImageKind.RGBA_32BPP:\n        colorType = 6;\n        bitDepth = 8;\n        lineSize = width * 4;\n        break;\n      default:\n        throw new Error(\"invalid format\");\n    }\n\n    // prefix every row with predictor 0\n    const literals = new Uint8Array((1 + lineSize) * height);\n    let offsetLiterals = 0,\n      offsetBytes = 0;\n    for (let y = 0; y < height; ++y) {\n      literals[offsetLiterals++] = 0; // no prediction\n      literals.set(\n        bytes.subarray(offsetBytes, offsetBytes + lineSize),\n        offsetLiterals\n      );\n      offsetBytes += lineSize;\n      offsetLiterals += lineSize;\n    }\n\n    if (kind === ImageKind.GRAYSCALE_1BPP && isMask) {\n      // inverting for image masks\n      offsetLiterals = 0;\n      for (let y = 0; y < height; y++) {\n        offsetLiterals++; // skipping predictor\n        for (let i = 0; i < lineSize; i++) {\n          literals[offsetLiterals++] ^= 0xff;\n        }\n      }\n    }\n\n    const ihdr = new Uint8Array([\n      (width >> 24) & 0xff,\n      (width >> 16) & 0xff,\n      (width >> 8) & 0xff,\n      width & 0xff,\n      (height >> 24) & 0xff,\n      (height >> 16) & 0xff,\n      (height >> 8) & 0xff,\n      height & 0xff,\n      bitDepth, // bit depth\n      colorType, // color type\n      0x00, // compression method\n      0x00, // filter method\n      0x00, // interlace method\n    ]);\n    const idat = deflateSync(literals);\n\n    // PNG consists of: header, IHDR+data, IDAT+data, and IEND.\n    const pngLength =\n      PNG_HEADER.length + CHUNK_WRAPPER_SIZE * 3 + ihdr.length + idat.length;\n    const data = new Uint8Array(pngLength);\n    let offset = 0;\n    data.set(PNG_HEADER, offset);\n    offset += PNG_HEADER.length;\n    writePngChunk(\"IHDR\", ihdr, data, offset);\n    offset += CHUNK_WRAPPER_SIZE + ihdr.length;\n    writePngChunk(\"IDATA\", idat, data, offset);\n    offset += CHUNK_WRAPPER_SIZE + idat.length;\n    writePngChunk(\"IEND\", new Uint8Array(0), data, offset);\n\n    return createObjectURL(data, \"image/png\", forceDataSchema);\n  }\n\n  // eslint-disable-next-line no-shadow\n  return function convertImgDataToPng(imgData, forceDataSchema, isMask) {\n    const kind =\n      imgData.kind === undefined ? ImageKind.GRAYSCALE_1BPP : imgData.kind;\n    return encode(imgData, kind, forceDataSchema, isMask);\n  };\n})();\n\nclass SVGExtraState {\n  constructor() {\n    this.fontSizeScale = 1;\n    this.fontWeight = SVG_DEFAULTS.fontWeight;\n    this.fontSize = 0;\n\n    this.textMatrix = IDENTITY_MATRIX;\n    this.fontMatrix = FONT_IDENTITY_MATRIX;\n    this.leading = 0;\n    this.textRenderingMode = TextRenderingMode.FILL;\n    this.textMatrixScale = 1;\n\n    // Current point (in user coordinates)\n    this.x = 0;\n    this.y = 0;\n\n    // Start of text line (in text coordinates)\n    this.lineX = 0;\n    this.lineY = 0;\n\n    // Character and word spacing\n    this.charSpacing = 0;\n    this.wordSpacing = 0;\n    this.textHScale = 1;\n    this.textRise = 0;\n\n    // Default foreground and background colors\n    this.fillColor = SVG_DEFAULTS.fillColor;\n    this.strokeColor = \"#000000\";\n\n    this.fillAlpha = 1;\n    this.strokeAlpha = 1;\n    this.lineWidth = 1;\n    this.lineJoin = \"\";\n    this.lineCap = \"\";\n    this.miterLimit = 0;\n\n    this.dashArray = [];\n    this.dashPhase = 0;\n\n    this.dependencies = [];\n\n    // Clipping\n    this.activeClipUrl = null;\n    this.clipGroup = null;\n\n    this.maskId = \"\";\n  }\n\n  clone() {\n    return Object.create(this);\n  }\n\n  setCurrentPoint(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n}\n\nfunction opListToTree(opList) {\n  let opTree = [];\n  const tmp = [];\n\n  for (const opListElement of opList) {\n    if (opListElement.fn === \"save\") {\n      opTree.push({ fnId: 92, fn: \"group\", items: [] });\n      tmp.push(opTree);\n      opTree = opTree.at(-1).items;\n      continue;\n    }\n\n    if (opListElement.fn === \"restore\") {\n      opTree = tmp.pop();\n    } else {\n      opTree.push(opListElement);\n    }\n  }\n  return opTree;\n}\n\n/**\n * Format a float number as a string.\n *\n * @param value {number} - The float number to format.\n * @returns {string}\n */\nfunction pf(value) {\n  if (Number.isInteger(value)) {\n    return value.toString();\n  }\n  const s = value.toFixed(10);\n  let i = s.length - 1;\n  if (s[i] !== \"0\") {\n    return s;\n  }\n\n  // Remove trailing zeros.\n  do {\n    i--;\n  } while (s[i] === \"0\");\n  return s.substring(0, s[i] === \".\" ? i : i + 1);\n}\n\n/**\n * Format a transform matrix as a string. The standard rotation, scale and\n * translation matrices are replaced by their shorter forms, and for\n * identity matrices an empty string is returned to save memory.\n *\n * @param m {Array} - The transform matrix to format.\n * @returns {string}\n */\nfunction pm(m) {\n  if (m[4] === 0 && m[5] === 0) {\n    if (m[1] === 0 && m[2] === 0) {\n      if (m[0] === 1 && m[3] === 1) {\n        return \"\";\n      }\n      return `scale(${pf(m[0])} ${pf(m[3])})`;\n    }\n    if (m[0] === m[3] && m[1] === -m[2]) {\n      const a = (Math.acos(m[0]) * 180) / Math.PI;\n      return `rotate(${pf(a)})`;\n    }\n  } else if (m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 1) {\n    return `translate(${pf(m[4])} ${pf(m[5])})`;\n  }\n  return (\n    `matrix(${pf(m[0])} ${pf(m[1])} ${pf(m[2])} ${pf(m[3])} ${pf(m[4])} ` +\n    `${pf(m[5])})`\n  );\n}\n\n// The counts below are relevant for all pages, so they have to be global\n// instead of being members of `SVGGraphics` (which is recreated for\n// each page).\nlet clipCount = 0;\nlet maskCount = 0;\nlet shadingCount = 0;\n\nclass SVGGraphics {\n  constructor(commonObjs, objs, forceDataSchema = false) {\n    deprecated(\n      \"The SVG back-end is no longer maintained and *may* be removed in the future.\"\n    );\n    this.svgFactory = new DOMSVGFactory();\n\n    this.current = new SVGExtraState();\n    this.transformMatrix = IDENTITY_MATRIX; // Graphics state matrix\n    this.transformStack = [];\n    this.extraStack = [];\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n\n    this.embedFonts = false;\n    this.embeddedFonts = Object.create(null);\n    this.cssStyle = null;\n    this.forceDataSchema = !!forceDataSchema;\n\n    // In `src/shared/util.js` the operator names are mapped to IDs.\n    // The list below represents the reverse of that, i.e., it maps IDs\n    // to operator names.\n    this._operatorIdMapping = [];\n    for (const op in OPS) {\n      this._operatorIdMapping[OPS[op]] = op;\n    }\n  }\n\n  getObject(data, fallback = null) {\n    if (typeof data === \"string\") {\n      return data.startsWith(\"g_\")\n        ? this.commonObjs.get(data)\n        : this.objs.get(data);\n    }\n    return fallback;\n  }\n\n  save() {\n    this.transformStack.push(this.transformMatrix);\n    const old = this.current;\n    this.extraStack.push(old);\n    this.current = old.clone();\n  }\n\n  restore() {\n    this.transformMatrix = this.transformStack.pop();\n    this.current = this.extraStack.pop();\n    this.pendingClip = null;\n    this.tgrp = null;\n  }\n\n  group(items) {\n    this.save();\n    this.executeOpTree(items);\n    this.restore();\n  }\n\n  loadDependencies(operatorList) {\n    const fnArray = operatorList.fnArray;\n    const argsArray = operatorList.argsArray;\n\n    for (let i = 0, ii = fnArray.length; i < ii; i++) {\n      if (fnArray[i] !== OPS.dependency) {\n        continue;\n      }\n\n      for (const obj of argsArray[i]) {\n        const objsPool = obj.startsWith(\"g_\") ? this.commonObjs : this.objs;\n        const promise = new Promise(resolve => {\n          objsPool.get(obj, resolve);\n        });\n        this.current.dependencies.push(promise);\n      }\n    }\n    return Promise.all(this.current.dependencies);\n  }\n\n  transform(a, b, c, d, e, f) {\n    const transformMatrix = [a, b, c, d, e, f];\n    this.transformMatrix = Util.transform(\n      this.transformMatrix,\n      transformMatrix\n    );\n    this.tgrp = null;\n  }\n\n  getSVG(operatorList, viewport) {\n    this.viewport = viewport;\n\n    const svgElement = this._initialize(viewport);\n    return this.loadDependencies(operatorList).then(() => {\n      this.transformMatrix = IDENTITY_MATRIX;\n      this.executeOpTree(this.convertOpList(operatorList));\n      return svgElement;\n    });\n  }\n\n  convertOpList(operatorList) {\n    const operatorIdMapping = this._operatorIdMapping;\n    const argsArray = operatorList.argsArray;\n    const fnArray = operatorList.fnArray;\n    const opList = [];\n    for (let i = 0, ii = fnArray.length; i < ii; i++) {\n      const fnId = fnArray[i];\n      opList.push({\n        fnId,\n        fn: operatorIdMapping[fnId],\n        args: argsArray[i],\n      });\n    }\n    return opListToTree(opList);\n  }\n\n  executeOpTree(opTree) {\n    for (const opTreeElement of opTree) {\n      const fn = opTreeElement.fn;\n      const fnId = opTreeElement.fnId;\n      const args = opTreeElement.args;\n\n      switch (fnId | 0) {\n        case OPS.beginText:\n          this.beginText();\n          break;\n        case OPS.dependency:\n          // Handled in `loadDependencies`, so no warning should be shown.\n          break;\n        case OPS.setLeading:\n          this.setLeading(args);\n          break;\n        case OPS.setLeadingMoveText:\n          this.setLeadingMoveText(args[0], args[1]);\n          break;\n        case OPS.setFont:\n          this.setFont(args);\n          break;\n        case OPS.showText:\n          this.showText(args[0]);\n          break;\n        case OPS.showSpacedText:\n          this.showText(args[0]);\n          break;\n        case OPS.endText:\n          this.endText();\n          break;\n        case OPS.moveText:\n          this.moveText(args[0], args[1]);\n          break;\n        case OPS.setCharSpacing:\n          this.setCharSpacing(args[0]);\n          break;\n        case OPS.setWordSpacing:\n          this.setWordSpacing(args[0]);\n          break;\n        case OPS.setHScale:\n          this.setHScale(args[0]);\n          break;\n        case OPS.setTextMatrix:\n          this.setTextMatrix(\n            args[0],\n            args[1],\n            args[2],\n            args[3],\n            args[4],\n            args[5]\n          );\n          break;\n        case OPS.setTextRise:\n          this.setTextRise(args[0]);\n          break;\n        case OPS.setTextRenderingMode:\n          this.setTextRenderingMode(args[0]);\n          break;\n        case OPS.setLineWidth:\n          this.setLineWidth(args[0]);\n          break;\n        case OPS.setLineJoin:\n          this.setLineJoin(args[0]);\n          break;\n        case OPS.setLineCap:\n          this.setLineCap(args[0]);\n          break;\n        case OPS.setMiterLimit:\n          this.setMiterLimit(args[0]);\n          break;\n        case OPS.setFillRGBColor:\n          this.setFillRGBColor(args[0], args[1], args[2]);\n          break;\n        case OPS.setStrokeRGBColor:\n          this.setStrokeRGBColor(args[0], args[1], args[2]);\n          break;\n        case OPS.setStrokeColorN:\n          this.setStrokeColorN(args);\n          break;\n        case OPS.setFillColorN:\n          this.setFillColorN(args);\n          break;\n        case OPS.shadingFill:\n          this.shadingFill(args[0]);\n          break;\n        case OPS.setDash:\n          this.setDash(args[0], args[1]);\n          break;\n        case OPS.setRenderingIntent:\n          this.setRenderingIntent(args[0]);\n          break;\n        case OPS.setFlatness:\n          this.setFlatness(args[0]);\n          break;\n        case OPS.setGState:\n          this.setGState(args[0]);\n          break;\n        case OPS.fill:\n          this.fill();\n          break;\n        case OPS.eoFill:\n          this.eoFill();\n          break;\n        case OPS.stroke:\n          this.stroke();\n          break;\n        case OPS.fillStroke:\n          this.fillStroke();\n          break;\n        case OPS.eoFillStroke:\n          this.eoFillStroke();\n          break;\n        case OPS.clip:\n          this.clip(\"nonzero\");\n          break;\n        case OPS.eoClip:\n          this.clip(\"evenodd\");\n          break;\n        case OPS.paintSolidColorImageMask:\n          this.paintSolidColorImageMask();\n          break;\n        case OPS.paintImageXObject:\n          this.paintImageXObject(args[0]);\n          break;\n        case OPS.paintInlineImageXObject:\n          this.paintInlineImageXObject(args[0]);\n          break;\n        case OPS.paintImageMaskXObject:\n          this.paintImageMaskXObject(args[0]);\n          break;\n        case OPS.paintFormXObjectBegin:\n          this.paintFormXObjectBegin(args[0], args[1]);\n          break;\n        case OPS.paintFormXObjectEnd:\n          this.paintFormXObjectEnd();\n          break;\n        case OPS.closePath:\n          this.closePath();\n          break;\n        case OPS.closeStroke:\n          this.closeStroke();\n          break;\n        case OPS.closeFillStroke:\n          this.closeFillStroke();\n          break;\n        case OPS.closeEOFillStroke:\n          this.closeEOFillStroke();\n          break;\n        case OPS.nextLine:\n          this.nextLine();\n          break;\n        case OPS.transform:\n          this.transform(args[0], args[1], args[2], args[3], args[4], args[5]);\n          break;\n        case OPS.constructPath:\n          this.constructPath(args[0], args[1]);\n          break;\n        case OPS.endPath:\n          this.endPath();\n          break;\n        case 92:\n          this.group(opTreeElement.items);\n          break;\n        default:\n          warn(`Unimplemented operator ${fn}`);\n          break;\n      }\n    }\n  }\n\n  setWordSpacing(wordSpacing) {\n    this.current.wordSpacing = wordSpacing;\n  }\n\n  setCharSpacing(charSpacing) {\n    this.current.charSpacing = charSpacing;\n  }\n\n  nextLine() {\n    this.moveText(0, this.current.leading);\n  }\n\n  setTextMatrix(a, b, c, d, e, f) {\n    const current = this.current;\n    current.textMatrix = current.lineMatrix = [a, b, c, d, e, f];\n    current.textMatrixScale = Math.hypot(a, b);\n\n    current.x = current.lineX = 0;\n    current.y = current.lineY = 0;\n\n    current.xcoords = [];\n    current.ycoords = [];\n    current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n    current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n    current.tspan.setAttributeNS(\n      null,\n      \"font-size\",\n      `${pf(current.fontSize)}px`\n    );\n    current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n\n    current.txtElement = this.svgFactory.createElement(\"svg:text\");\n    current.txtElement.append(current.tspan);\n  }\n\n  beginText() {\n    const current = this.current;\n    current.x = current.lineX = 0;\n    current.y = current.lineY = 0;\n    current.textMatrix = IDENTITY_MATRIX;\n    current.lineMatrix = IDENTITY_MATRIX;\n    current.textMatrixScale = 1;\n    current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n    current.txtElement = this.svgFactory.createElement(\"svg:text\");\n    current.txtgrp = this.svgFactory.createElement(\"svg:g\");\n    current.xcoords = [];\n    current.ycoords = [];\n  }\n\n  moveText(x, y) {\n    const current = this.current;\n    current.x = current.lineX += x;\n    current.y = current.lineY += y;\n\n    current.xcoords = [];\n    current.ycoords = [];\n    current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n    current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n    current.tspan.setAttributeNS(\n      null,\n      \"font-size\",\n      `${pf(current.fontSize)}px`\n    );\n    current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n  }\n\n  showText(glyphs) {\n    const current = this.current;\n    const font = current.font;\n    const fontSize = current.fontSize;\n    if (fontSize === 0) {\n      return;\n    }\n\n    const fontSizeScale = current.fontSizeScale;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const fontDirection = current.fontDirection;\n    const textHScale = current.textHScale * fontDirection;\n    const vertical = font.vertical;\n    const spacingDir = vertical ? 1 : -1;\n    const defaultVMetrics = font.defaultVMetrics;\n    const widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n    let x = 0;\n    for (const glyph of glyphs) {\n      if (glyph === null) {\n        // Word break\n        x += fontDirection * wordSpacing;\n        continue;\n      } else if (typeof glyph === \"number\") {\n        x += (spacingDir * glyph * fontSize) / 1000;\n        continue;\n      }\n\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const character = glyph.fontChar;\n      let scaledX, scaledY;\n      let width = glyph.width;\n      if (vertical) {\n        let vx;\n        const vmetric = glyph.vmetric || defaultVMetrics;\n        vx = glyph.vmetric ? vmetric[1] : width * 0.5;\n        vx = -vx * widthAdvanceScale;\n        const vy = vmetric[2] * widthAdvanceScale;\n\n        width = vmetric ? -vmetric[0] : width;\n        scaledX = vx / fontSizeScale;\n        scaledY = (x + vy) / fontSizeScale;\n      } else {\n        scaledX = x / fontSizeScale;\n        scaledY = 0;\n      }\n\n      if (glyph.isInFont || font.missingFile) {\n        current.xcoords.push(current.x + scaledX);\n        if (vertical) {\n          current.ycoords.push(-current.y + scaledY);\n        }\n        current.tspan.textContent += character;\n      } else {\n        // TODO: To assist with text selection, we should replace the missing\n        // character with a space character if charWidth is not zero.\n        // But we cannot just do \"character = ' '\", because the ' ' character\n        // might actually map to a different glyph.\n      }\n\n      const charWidth = vertical\n        ? width * widthAdvanceScale - spacing * fontDirection\n        : width * widthAdvanceScale + spacing * fontDirection;\n\n      x += charWidth;\n    }\n    current.tspan.setAttributeNS(null, \"x\", current.xcoords.map(pf).join(\" \"));\n    if (vertical) {\n      current.tspan.setAttributeNS(\n        null,\n        \"y\",\n        current.ycoords.map(pf).join(\" \")\n      );\n    } else {\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n    }\n\n    if (vertical) {\n      current.y -= x;\n    } else {\n      current.x += x * textHScale;\n    }\n\n    current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n    current.tspan.setAttributeNS(\n      null,\n      \"font-size\",\n      `${pf(current.fontSize)}px`\n    );\n    if (current.fontStyle !== SVG_DEFAULTS.fontStyle) {\n      current.tspan.setAttributeNS(null, \"font-style\", current.fontStyle);\n    }\n    if (current.fontWeight !== SVG_DEFAULTS.fontWeight) {\n      current.tspan.setAttributeNS(null, \"font-weight\", current.fontWeight);\n    }\n\n    const fillStrokeMode =\n      current.textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n    if (\n      fillStrokeMode === TextRenderingMode.FILL ||\n      fillStrokeMode === TextRenderingMode.FILL_STROKE\n    ) {\n      if (current.fillColor !== SVG_DEFAULTS.fillColor) {\n        current.tspan.setAttributeNS(null, \"fill\", current.fillColor);\n      }\n      if (current.fillAlpha < 1) {\n        current.tspan.setAttributeNS(null, \"fill-opacity\", current.fillAlpha);\n      }\n    } else if (current.textRenderingMode === TextRenderingMode.ADD_TO_PATH) {\n      // Workaround for Firefox: We must set fill=\"transparent\" because\n      // fill=\"none\" would generate an empty clipping path.\n      current.tspan.setAttributeNS(null, \"fill\", \"transparent\");\n    } else {\n      current.tspan.setAttributeNS(null, \"fill\", \"none\");\n    }\n\n    if (\n      fillStrokeMode === TextRenderingMode.STROKE ||\n      fillStrokeMode === TextRenderingMode.FILL_STROKE\n    ) {\n      const lineWidthScale = 1 / (current.textMatrixScale || 1);\n      this._setStrokeAttributes(current.tspan, lineWidthScale);\n    }\n\n    // Include the text rise in the text matrix since the `pm` function\n    // creates the SVG element's `translate` entry (work on a copy to avoid\n    // altering the original text matrix).\n    let textMatrix = current.textMatrix;\n    if (current.textRise !== 0) {\n      textMatrix = textMatrix.slice();\n      textMatrix[5] += current.textRise;\n    }\n\n    current.txtElement.setAttributeNS(\n      null,\n      \"transform\",\n      `${pm(textMatrix)} scale(${pf(textHScale)}, -1)`\n    );\n    current.txtElement.setAttributeNS(XML_NS, \"xml:space\", \"preserve\");\n    current.txtElement.append(current.tspan);\n    current.txtgrp.append(current.txtElement);\n\n    this._ensureTransformGroup().append(current.txtElement);\n  }\n\n  setLeadingMoveText(x, y) {\n    this.setLeading(-y);\n    this.moveText(x, y);\n  }\n\n  addFontStyle(fontObj) {\n    if (!fontObj.data) {\n      throw new Error(\n        \"addFontStyle: No font data available, \" +\n          'ensure that the \"fontExtraProperties\" API parameter is set.'\n      );\n    }\n    if (!this.cssStyle) {\n      this.cssStyle = this.svgFactory.createElement(\"svg:style\");\n      this.cssStyle.setAttributeNS(null, \"type\", \"text/css\");\n      this.defs.append(this.cssStyle);\n    }\n\n    const url = createObjectURL(\n      fontObj.data,\n      fontObj.mimetype,\n      this.forceDataSchema\n    );\n    this.cssStyle.textContent +=\n      `@font-face { font-family: \"${fontObj.loadedName}\";` +\n      ` src: url(${url}); }\\n`;\n  }\n\n  setFont(details) {\n    const current = this.current;\n    const fontObj = this.commonObjs.get(details[0]);\n    let size = details[1];\n    current.font = fontObj;\n\n    if (\n      this.embedFonts &&\n      !fontObj.missingFile &&\n      !this.embeddedFonts[fontObj.loadedName]\n    ) {\n      this.addFontStyle(fontObj);\n      this.embeddedFonts[fontObj.loadedName] = fontObj;\n    }\n    current.fontMatrix = fontObj.fontMatrix || FONT_IDENTITY_MATRIX;\n\n    let bold = \"normal\";\n    if (fontObj.black) {\n      bold = \"900\";\n    } else if (fontObj.bold) {\n      bold = \"bold\";\n    }\n    const italic = fontObj.italic ? \"italic\" : \"normal\";\n\n    if (size < 0) {\n      size = -size;\n      current.fontDirection = -1;\n    } else {\n      current.fontDirection = 1;\n    }\n    current.fontSize = size;\n    current.fontFamily = fontObj.loadedName;\n    current.fontWeight = bold;\n    current.fontStyle = italic;\n\n    current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n    current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n    current.xcoords = [];\n    current.ycoords = [];\n  }\n\n  endText() {\n    const current = this.current;\n    if (\n      current.textRenderingMode & TextRenderingMode.ADD_TO_PATH_FLAG &&\n      current.txtElement?.hasChildNodes()\n    ) {\n      // If no glyphs are shown (i.e. no child nodes), no clipping occurs.\n      current.element = current.txtElement;\n      this.clip(\"nonzero\");\n      this.endPath();\n    }\n  }\n\n  // Path properties\n  setLineWidth(width) {\n    if (width > 0) {\n      this.current.lineWidth = width;\n    }\n  }\n\n  setLineCap(style) {\n    this.current.lineCap = LINE_CAP_STYLES[style];\n  }\n\n  setLineJoin(style) {\n    this.current.lineJoin = LINE_JOIN_STYLES[style];\n  }\n\n  setMiterLimit(limit) {\n    this.current.miterLimit = limit;\n  }\n\n  setStrokeAlpha(strokeAlpha) {\n    this.current.strokeAlpha = strokeAlpha;\n  }\n\n  setStrokeRGBColor(r, g, b) {\n    this.current.strokeColor = Util.makeHexColor(r, g, b);\n  }\n\n  setFillAlpha(fillAlpha) {\n    this.current.fillAlpha = fillAlpha;\n  }\n\n  setFillRGBColor(r, g, b) {\n    this.current.fillColor = Util.makeHexColor(r, g, b);\n    this.current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n    this.current.xcoords = [];\n    this.current.ycoords = [];\n  }\n\n  setStrokeColorN(args) {\n    this.current.strokeColor = this._makeColorN_Pattern(args);\n  }\n\n  setFillColorN(args) {\n    this.current.fillColor = this._makeColorN_Pattern(args);\n  }\n\n  shadingFill(args) {\n    const { width, height } = this.viewport;\n    const inv = Util.inverseTransform(this.transformMatrix);\n    const [x0, y0, x1, y1] = Util.getAxialAlignedBoundingBox(\n      [0, 0, width, height],\n      inv\n    );\n\n    const rect = this.svgFactory.createElement(\"svg:rect\");\n    rect.setAttributeNS(null, \"x\", x0);\n    rect.setAttributeNS(null, \"y\", y0);\n    rect.setAttributeNS(null, \"width\", x1 - x0);\n    rect.setAttributeNS(null, \"height\", y1 - y0);\n    rect.setAttributeNS(null, \"fill\", this._makeShadingPattern(args));\n    if (this.current.fillAlpha < 1) {\n      rect.setAttributeNS(null, \"fill-opacity\", this.current.fillAlpha);\n    }\n    this._ensureTransformGroup().append(rect);\n  }\n\n  /**\n   * @private\n   */\n  _makeColorN_Pattern(args) {\n    if (args[0] === \"TilingPattern\") {\n      return this._makeTilingPattern(args);\n    }\n    return this._makeShadingPattern(args);\n  }\n\n  /**\n   * @private\n   */\n  _makeTilingPattern(args) {\n    const color = args[1];\n    const operatorList = args[2];\n    const matrix = args[3] || IDENTITY_MATRIX;\n    const [x0, y0, x1, y1] = args[4];\n    const xstep = args[5];\n    const ystep = args[6];\n    const paintType = args[7];\n\n    const tilingId = `shading${shadingCount++}`;\n    const [tx0, ty0, tx1, ty1] = Util.normalizeRect([\n      ...Util.applyTransform([x0, y0], matrix),\n      ...Util.applyTransform([x1, y1], matrix),\n    ]);\n    const [xscale, yscale] = Util.singularValueDecompose2dScale(matrix);\n    const txstep = xstep * xscale;\n    const tystep = ystep * yscale;\n\n    const tiling = this.svgFactory.createElement(\"svg:pattern\");\n    tiling.setAttributeNS(null, \"id\", tilingId);\n    tiling.setAttributeNS(null, \"patternUnits\", \"userSpaceOnUse\");\n    tiling.setAttributeNS(null, \"width\", txstep);\n    tiling.setAttributeNS(null, \"height\", tystep);\n    tiling.setAttributeNS(null, \"x\", `${tx0}`);\n    tiling.setAttributeNS(null, \"y\", `${ty0}`);\n\n    // Save current state.\n    const svg = this.svg;\n    const transformMatrix = this.transformMatrix;\n    const fillColor = this.current.fillColor;\n    const strokeColor = this.current.strokeColor;\n\n    const bbox = this.svgFactory.create(tx1 - tx0, ty1 - ty0);\n    this.svg = bbox;\n    this.transformMatrix = matrix;\n    if (paintType === 2) {\n      const cssColor = Util.makeHexColor(...color);\n      this.current.fillColor = cssColor;\n      this.current.strokeColor = cssColor;\n    }\n    this.executeOpTree(this.convertOpList(operatorList));\n\n    // Restore saved state.\n    this.svg = svg;\n    this.transformMatrix = transformMatrix;\n    this.current.fillColor = fillColor;\n    this.current.strokeColor = strokeColor;\n\n    tiling.append(bbox.childNodes[0]);\n    this.defs.append(tiling);\n    return `url(#${tilingId})`;\n  }\n\n  /**\n   * @private\n   */\n  _makeShadingPattern(args) {\n    if (typeof args === \"string\") {\n      args = this.objs.get(args);\n    }\n    switch (args[0]) {\n      case \"RadialAxial\":\n        const shadingId = `shading${shadingCount++}`;\n        const colorStops = args[3];\n        let gradient;\n\n        switch (args[1]) {\n          case \"axial\":\n            const point0 = args[4];\n            const point1 = args[5];\n            gradient = this.svgFactory.createElement(\"svg:linearGradient\");\n            gradient.setAttributeNS(null, \"id\", shadingId);\n            gradient.setAttributeNS(null, \"gradientUnits\", \"userSpaceOnUse\");\n            gradient.setAttributeNS(null, \"x1\", point0[0]);\n            gradient.setAttributeNS(null, \"y1\", point0[1]);\n            gradient.setAttributeNS(null, \"x2\", point1[0]);\n            gradient.setAttributeNS(null, \"y2\", point1[1]);\n            break;\n          case \"radial\":\n            const focalPoint = args[4];\n            const circlePoint = args[5];\n            const focalRadius = args[6];\n            const circleRadius = args[7];\n            gradient = this.svgFactory.createElement(\"svg:radialGradient\");\n            gradient.setAttributeNS(null, \"id\", shadingId);\n            gradient.setAttributeNS(null, \"gradientUnits\", \"userSpaceOnUse\");\n            gradient.setAttributeNS(null, \"cx\", circlePoint[0]);\n            gradient.setAttributeNS(null, \"cy\", circlePoint[1]);\n            gradient.setAttributeNS(null, \"r\", circleRadius);\n            gradient.setAttributeNS(null, \"fx\", focalPoint[0]);\n            gradient.setAttributeNS(null, \"fy\", focalPoint[1]);\n            gradient.setAttributeNS(null, \"fr\", focalRadius);\n            break;\n          default:\n            throw new Error(`Unknown RadialAxial type: ${args[1]}`);\n        }\n        for (const colorStop of colorStops) {\n          const stop = this.svgFactory.createElement(\"svg:stop\");\n          stop.setAttributeNS(null, \"offset\", colorStop[0]);\n          stop.setAttributeNS(null, \"stop-color\", colorStop[1]);\n          gradient.append(stop);\n        }\n        this.defs.append(gradient);\n        return `url(#${shadingId})`;\n      case \"Mesh\":\n        warn(\"Unimplemented pattern Mesh\");\n        return null;\n      case \"Dummy\":\n        return \"hotpink\";\n      default:\n        throw new Error(`Unknown IR type: ${args[0]}`);\n    }\n  }\n\n  setDash(dashArray, dashPhase) {\n    this.current.dashArray = dashArray;\n    this.current.dashPhase = dashPhase;\n  }\n\n  constructPath(ops, args) {\n    const current = this.current;\n    let x = current.x,\n      y = current.y;\n    let d = [];\n    let j = 0;\n\n    for (const op of ops) {\n      switch (op | 0) {\n        case OPS.rectangle:\n          x = args[j++];\n          y = args[j++];\n          const width = args[j++];\n          const height = args[j++];\n          const xw = x + width;\n          const yh = y + height;\n          d.push(\n            \"M\",\n            pf(x),\n            pf(y),\n            \"L\",\n            pf(xw),\n            pf(y),\n            \"L\",\n            pf(xw),\n            pf(yh),\n            \"L\",\n            pf(x),\n            pf(yh),\n            \"Z\"\n          );\n          break;\n        case OPS.moveTo:\n          x = args[j++];\n          y = args[j++];\n          d.push(\"M\", pf(x), pf(y));\n          break;\n        case OPS.lineTo:\n          x = args[j++];\n          y = args[j++];\n          d.push(\"L\", pf(x), pf(y));\n          break;\n        case OPS.curveTo:\n          x = args[j + 4];\n          y = args[j + 5];\n          d.push(\n            \"C\",\n            pf(args[j]),\n            pf(args[j + 1]),\n            pf(args[j + 2]),\n            pf(args[j + 3]),\n            pf(x),\n            pf(y)\n          );\n          j += 6;\n          break;\n        case OPS.curveTo2:\n          d.push(\n            \"C\",\n            pf(x),\n            pf(y),\n            pf(args[j]),\n            pf(args[j + 1]),\n            pf(args[j + 2]),\n            pf(args[j + 3])\n          );\n          x = args[j + 2];\n          y = args[j + 3];\n          j += 4;\n          break;\n        case OPS.curveTo3:\n          x = args[j + 2];\n          y = args[j + 3];\n          d.push(\"C\", pf(args[j]), pf(args[j + 1]), pf(x), pf(y), pf(x), pf(y));\n          j += 4;\n          break;\n        case OPS.closePath:\n          d.push(\"Z\");\n          break;\n      }\n    }\n\n    d = d.join(\" \");\n\n    if (\n      current.path &&\n      ops.length > 0 &&\n      ops[0] !== OPS.rectangle &&\n      ops[0] !== OPS.moveTo\n    ) {\n      // If a path does not start with an OPS.rectangle or OPS.moveTo, it has\n      // probably been divided into two OPS.constructPath operators by\n      // OperatorList. Append the commands to the previous path element.\n      d = current.path.getAttributeNS(null, \"d\") + d;\n    } else {\n      current.path = this.svgFactory.createElement(\"svg:path\");\n      this._ensureTransformGroup().append(current.path);\n    }\n\n    current.path.setAttributeNS(null, \"d\", d);\n    current.path.setAttributeNS(null, \"fill\", \"none\");\n\n    // Saving a reference in current.element so that it can be addressed\n    // in 'fill' and 'stroke'\n    current.element = current.path;\n    current.setCurrentPoint(x, y);\n  }\n\n  endPath() {\n    const current = this.current;\n\n    // Painting operators end a path.\n    current.path = null;\n\n    if (!this.pendingClip) {\n      return;\n    }\n    if (!current.element) {\n      this.pendingClip = null;\n      return;\n    }\n\n    // Add the current path to a clipping path.\n    const clipId = `clippath${clipCount++}`;\n    const clipPath = this.svgFactory.createElement(\"svg:clipPath\");\n    clipPath.setAttributeNS(null, \"id\", clipId);\n    clipPath.setAttributeNS(null, \"transform\", pm(this.transformMatrix));\n\n    // A deep clone is needed when text is used as a clipping path.\n    const clipElement = current.element.cloneNode(true);\n    if (this.pendingClip === \"evenodd\") {\n      clipElement.setAttributeNS(null, \"clip-rule\", \"evenodd\");\n    } else {\n      clipElement.setAttributeNS(null, \"clip-rule\", \"nonzero\");\n    }\n    this.pendingClip = null;\n    clipPath.append(clipElement);\n    this.defs.append(clipPath);\n\n    if (current.activeClipUrl) {\n      // The previous clipping group content can go out of order -- resetting\n      // cached clipGroups.\n      current.clipGroup = null;\n      for (const prev of this.extraStack) {\n        prev.clipGroup = null;\n      }\n      // Intersect with the previous clipping path.\n      clipPath.setAttributeNS(null, \"clip-path\", current.activeClipUrl);\n    }\n    current.activeClipUrl = `url(#${clipId})`;\n\n    this.tgrp = null;\n  }\n\n  clip(type) {\n    this.pendingClip = type;\n  }\n\n  closePath() {\n    const current = this.current;\n    if (current.path) {\n      const d = `${current.path.getAttributeNS(null, \"d\")}Z`;\n      current.path.setAttributeNS(null, \"d\", d);\n    }\n  }\n\n  setLeading(leading) {\n    this.current.leading = -leading;\n  }\n\n  setTextRise(textRise) {\n    this.current.textRise = textRise;\n  }\n\n  setTextRenderingMode(textRenderingMode) {\n    this.current.textRenderingMode = textRenderingMode;\n  }\n\n  setHScale(scale) {\n    this.current.textHScale = scale / 100;\n  }\n\n  setRenderingIntent(intent) {\n    // This operation is ignored since we haven't found a use case for it yet.\n  }\n\n  setFlatness(flatness) {\n    // This operation is ignored since we haven't found a use case for it yet.\n  }\n\n  setGState(states) {\n    for (const [key, value] of states) {\n      switch (key) {\n        case \"LW\":\n          this.setLineWidth(value);\n          break;\n        case \"LC\":\n          this.setLineCap(value);\n          break;\n        case \"LJ\":\n          this.setLineJoin(value);\n          break;\n        case \"ML\":\n          this.setMiterLimit(value);\n          break;\n        case \"D\":\n          this.setDash(value[0], value[1]);\n          break;\n        case \"RI\":\n          this.setRenderingIntent(value);\n          break;\n        case \"FL\":\n          this.setFlatness(value);\n          break;\n        case \"Font\":\n          this.setFont(value);\n          break;\n        case \"CA\":\n          this.setStrokeAlpha(value);\n          break;\n        case \"ca\":\n          this.setFillAlpha(value);\n          break;\n        default:\n          warn(`Unimplemented graphic state operator ${key}`);\n          break;\n      }\n    }\n  }\n\n  fill() {\n    const current = this.current;\n    if (current.element) {\n      current.element.setAttributeNS(null, \"fill\", current.fillColor);\n      current.element.setAttributeNS(null, \"fill-opacity\", current.fillAlpha);\n      this.endPath();\n    }\n  }\n\n  stroke() {\n    const current = this.current;\n    if (current.element) {\n      this._setStrokeAttributes(current.element);\n      current.element.setAttributeNS(null, \"fill\", \"none\");\n      this.endPath();\n    }\n  }\n\n  /**\n   * @private\n   */\n  _setStrokeAttributes(element, lineWidthScale = 1) {\n    const current = this.current;\n    let dashArray = current.dashArray;\n    if (lineWidthScale !== 1 && dashArray.length > 0) {\n      dashArray = dashArray.map(function (value) {\n        return lineWidthScale * value;\n      });\n    }\n    element.setAttributeNS(null, \"stroke\", current.strokeColor);\n    element.setAttributeNS(null, \"stroke-opacity\", current.strokeAlpha);\n    element.setAttributeNS(null, \"stroke-miterlimit\", pf(current.miterLimit));\n    element.setAttributeNS(null, \"stroke-linecap\", current.lineCap);\n    element.setAttributeNS(null, \"stroke-linejoin\", current.lineJoin);\n    element.setAttributeNS(\n      null,\n      \"stroke-width\",\n      pf(lineWidthScale * current.lineWidth) + \"px\"\n    );\n    element.setAttributeNS(\n      null,\n      \"stroke-dasharray\",\n      dashArray.map(pf).join(\" \")\n    );\n    element.setAttributeNS(\n      null,\n      \"stroke-dashoffset\",\n      pf(lineWidthScale * current.dashPhase) + \"px\"\n    );\n  }\n\n  eoFill() {\n    this.current.element?.setAttributeNS(null, \"fill-rule\", \"evenodd\");\n    this.fill();\n  }\n\n  fillStroke() {\n    // Order is important since stroke wants fill to be none.\n    // First stroke, then if fill needed, it will be overwritten.\n    this.stroke();\n    this.fill();\n  }\n\n  eoFillStroke() {\n    this.current.element?.setAttributeNS(null, \"fill-rule\", \"evenodd\");\n    this.fillStroke();\n  }\n\n  closeStroke() {\n    this.closePath();\n    this.stroke();\n  }\n\n  closeFillStroke() {\n    this.closePath();\n    this.fillStroke();\n  }\n\n  closeEOFillStroke() {\n    this.closePath();\n    this.eoFillStroke();\n  }\n\n  paintSolidColorImageMask() {\n    const rect = this.svgFactory.createElement(\"svg:rect\");\n    rect.setAttributeNS(null, \"x\", \"0\");\n    rect.setAttributeNS(null, \"y\", \"0\");\n    rect.setAttributeNS(null, \"width\", \"1px\");\n    rect.setAttributeNS(null, \"height\", \"1px\");\n    rect.setAttributeNS(null, \"fill\", this.current.fillColor);\n\n    this._ensureTransformGroup().append(rect);\n  }\n\n  paintImageXObject(objId) {\n    const imgData = this.getObject(objId);\n    if (!imgData) {\n      warn(`Dependent image with object ID ${objId} is not ready yet`);\n      return;\n    }\n    this.paintInlineImageXObject(imgData);\n  }\n\n  paintInlineImageXObject(imgData, mask) {\n    const width = imgData.width;\n    const height = imgData.height;\n\n    const imgSrc = convertImgDataToPng(imgData, this.forceDataSchema, !!mask);\n    const cliprect = this.svgFactory.createElement(\"svg:rect\");\n    cliprect.setAttributeNS(null, \"x\", \"0\");\n    cliprect.setAttributeNS(null, \"y\", \"0\");\n    cliprect.setAttributeNS(null, \"width\", pf(width));\n    cliprect.setAttributeNS(null, \"height\", pf(height));\n    this.current.element = cliprect;\n    this.clip(\"nonzero\");\n\n    const imgEl = this.svgFactory.createElement(\"svg:image\");\n    imgEl.setAttributeNS(XLINK_NS, \"xlink:href\", imgSrc);\n    imgEl.setAttributeNS(null, \"x\", \"0\");\n    imgEl.setAttributeNS(null, \"y\", pf(-height));\n    imgEl.setAttributeNS(null, \"width\", pf(width) + \"px\");\n    imgEl.setAttributeNS(null, \"height\", pf(height) + \"px\");\n    imgEl.setAttributeNS(\n      null,\n      \"transform\",\n      `scale(${pf(1 / width)} ${pf(-1 / height)})`\n    );\n    if (mask) {\n      mask.append(imgEl);\n    } else {\n      this._ensureTransformGroup().append(imgEl);\n    }\n  }\n\n  paintImageMaskXObject(img) {\n    const imgData = this.getObject(img.data, img);\n    if (imgData.bitmap) {\n      warn(\n        \"paintImageMaskXObject: ImageBitmap support is not implemented, \" +\n          \"ensure that the `isOffscreenCanvasSupported` API parameter is disabled.\"\n      );\n      return;\n    }\n    const current = this.current;\n    const width = imgData.width;\n    const height = imgData.height;\n    const fillColor = current.fillColor;\n\n    current.maskId = `mask${maskCount++}`;\n    const mask = this.svgFactory.createElement(\"svg:mask\");\n    mask.setAttributeNS(null, \"id\", current.maskId);\n\n    const rect = this.svgFactory.createElement(\"svg:rect\");\n    rect.setAttributeNS(null, \"x\", \"0\");\n    rect.setAttributeNS(null, \"y\", \"0\");\n    rect.setAttributeNS(null, \"width\", pf(width));\n    rect.setAttributeNS(null, \"height\", pf(height));\n    rect.setAttributeNS(null, \"fill\", fillColor);\n    rect.setAttributeNS(null, \"mask\", `url(#${current.maskId})`);\n\n    this.defs.append(mask);\n    this._ensureTransformGroup().append(rect);\n\n    this.paintInlineImageXObject(imgData, mask);\n  }\n\n  paintFormXObjectBegin(matrix, bbox) {\n    if (Array.isArray(matrix) && matrix.length === 6) {\n      this.transform(\n        matrix[0],\n        matrix[1],\n        matrix[2],\n        matrix[3],\n        matrix[4],\n        matrix[5]\n      );\n    }\n\n    if (bbox) {\n      const width = bbox[2] - bbox[0];\n      const height = bbox[3] - bbox[1];\n\n      const cliprect = this.svgFactory.createElement(\"svg:rect\");\n      cliprect.setAttributeNS(null, \"x\", bbox[0]);\n      cliprect.setAttributeNS(null, \"y\", bbox[1]);\n      cliprect.setAttributeNS(null, \"width\", pf(width));\n      cliprect.setAttributeNS(null, \"height\", pf(height));\n      this.current.element = cliprect;\n      this.clip(\"nonzero\");\n      this.endPath();\n    }\n  }\n\n  paintFormXObjectEnd() {}\n\n  /**\n   * @private\n   */\n  _initialize(viewport) {\n    const svg = this.svgFactory.create(viewport.width, viewport.height);\n\n    // Create the definitions element.\n    const definitions = this.svgFactory.createElement(\"svg:defs\");\n    svg.append(definitions);\n    this.defs = definitions;\n\n    // Create the root group element, which acts a container for all other\n    // groups and applies the viewport transform.\n    const rootGroup = this.svgFactory.createElement(\"svg:g\");\n    rootGroup.setAttributeNS(null, \"transform\", pm(viewport.transform));\n    svg.append(rootGroup);\n\n    // For the construction of the SVG image we are only interested in the\n    // root group, so we expose it as the entry point of the SVG image for\n    // the other code in this class.\n    this.svg = rootGroup;\n\n    return svg;\n  }\n\n  /**\n   * @private\n   */\n  _ensureClipGroup() {\n    if (!this.current.clipGroup) {\n      const clipGroup = this.svgFactory.createElement(\"svg:g\");\n      clipGroup.setAttributeNS(null, \"clip-path\", this.current.activeClipUrl);\n      this.svg.append(clipGroup);\n      this.current.clipGroup = clipGroup;\n    }\n    return this.current.clipGroup;\n  }\n\n  /**\n   * @private\n   */\n  _ensureTransformGroup() {\n    if (!this.tgrp) {\n      this.tgrp = this.svgFactory.createElement(\"svg:g\");\n      this.tgrp.setAttributeNS(null, \"transform\", pm(this.transformMatrix));\n      if (this.current.activeClipUrl) {\n        this._ensureClipGroup().append(this.tgrp);\n      } else {\n        this.svg.append(this.tgrp);\n      }\n    }\n    return this.tgrp;\n  }\n}\n\nexport { SVGGraphics };\n","/* Copyright 2021 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @typedef {import(\"./api\").TextContent} TextContent */\n\nclass XfaText {\n  /**\n   * Walk an XFA tree and create an array of text nodes that is compatible\n   * with a regular PDFs TextContent. Currently, only TextItem.str is supported,\n   * all other fields and styles haven't been implemented.\n   *\n   * @param {Object} xfa - An XFA fake DOM object.\n   *\n   * @returns {TextContent}\n   */\n  static textContent(xfa) {\n    const items = [];\n    const output = {\n      items,\n      styles: Object.create(null),\n    };\n    function walk(node) {\n      if (!node) {\n        return;\n      }\n      let str = null;\n      const name = node.name;\n      if (name === \"#text\") {\n        str = node.value;\n      } else if (!XfaText.shouldBuildText(name)) {\n        return;\n      } else if (node?.attributes?.textContent) {\n        str = node.attributes.textContent;\n      } else if (node.value) {\n        str = node.value;\n      }\n      if (str !== null) {\n        items.push({\n          str,\n        });\n      }\n      if (!node.children) {\n        return;\n      }\n      for (const child of node.children) {\n        walk(child);\n      }\n    }\n    walk(xfa);\n    return output;\n  }\n\n  /**\n   * @param {string} name - DOM node name. (lower case)\n   *\n   * @returns {boolean} true if the DOM node should have a corresponding text\n   * node.\n   */\n  static shouldBuildText(name) {\n    return !(\n      name === \"textarea\" ||\n      name === \"input\" ||\n      name === \"option\" ||\n      name === \"select\"\n    );\n  }\n}\n\nexport { XfaText };\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @typedef {import(\"./display_utils\").PageViewport} PageViewport */\n/** @typedef {import(\"./api\").TextContent} TextContent */\n\nimport {\n  AbortException,\n  FeatureTest,\n  PromiseCapability,\n  Util,\n} from \"../shared/util.js\";\nimport { deprecated, setLayerDimensions } from \"./display_utils.js\";\n\n/**\n * Text layer render parameters.\n *\n * @typedef {Object} TextLayerRenderParameters\n * @property {ReadableStream | TextContent} textContentSource - Text content to\n *   render, i.e. the value returned by the page's `streamTextContent` or\n *   `getTextContent` method.\n * @property {HTMLElement} container - The DOM node that will contain the text\n *   runs.\n * @property {PageViewport} viewport - The target viewport to properly layout\n *   the text runs.\n * @property {Array<HTMLElement>} [textDivs] - HTML elements that correspond to\n *   the text items of the textContent input.\n *   This is output and shall initially be set to an empty array.\n * @property {WeakMap<HTMLElement,Object>} [textDivProperties] - Some properties\n *   weakly mapped to the HTML elements used to render the text.\n * @property {Array<string>} [textContentItemsStr] - Strings that correspond to\n *   the `str` property of the text items of the textContent input.\n *   This is output and shall initially be set to an empty array.\n * @property {boolean} [isOffscreenCanvasSupported] true if we can use\n *   OffscreenCanvas to measure string widths.\n */\n\n/**\n * Text layer update parameters.\n *\n * @typedef {Object} TextLayerUpdateParameters\n * @property {HTMLElement} container - The DOM node that will contain the text\n *   runs.\n * @property {PageViewport} viewport - The target viewport to properly layout\n *   the text runs.\n * @property {Array<HTMLElement>} [textDivs] - HTML elements that correspond to\n *   the text items of the textContent input.\n *   This is output and shall initially be set to an empty array.\n * @property {WeakMap<HTMLElement,Object>} [textDivProperties] - Some properties\n *   weakly mapped to the HTML elements used to render the text.\n * @property {boolean} [isOffscreenCanvasSupported] true if we can use\n *   OffscreenCanvas to measure string widths.\n * @property {boolean} [mustRotate] true if the text layer must be rotated.\n * @property {boolean} [mustRescale] true if the text layer contents must be\n *   rescaled.\n */\n\nconst MAX_TEXT_DIVS_TO_RENDER = 100000;\nconst DEFAULT_FONT_SIZE = 30;\nconst DEFAULT_FONT_ASCENT = 0.8;\nconst ascentCache = new Map();\n\nfunction getCtx(size, isOffscreenCanvasSupported) {\n  let ctx;\n  if (isOffscreenCanvasSupported && FeatureTest.isOffscreenCanvasSupported) {\n    ctx = new OffscreenCanvas(size, size).getContext(\"2d\", { alpha: false });\n  } else {\n    const canvas = document.createElement(\"canvas\");\n    canvas.width = canvas.height = size;\n    ctx = canvas.getContext(\"2d\", { alpha: false });\n  }\n\n  return ctx;\n}\n\nfunction getAscent(fontFamily, isOffscreenCanvasSupported) {\n  const cachedAscent = ascentCache.get(fontFamily);\n  if (cachedAscent) {\n    return cachedAscent;\n  }\n\n  const ctx = getCtx(DEFAULT_FONT_SIZE, isOffscreenCanvasSupported);\n\n  ctx.font = `${DEFAULT_FONT_SIZE}px ${fontFamily}`;\n  const metrics = ctx.measureText(\"\");\n\n  // Both properties aren't available by default in Firefox.\n  let ascent = metrics.fontBoundingBoxAscent;\n  let descent = Math.abs(metrics.fontBoundingBoxDescent);\n  if (ascent) {\n    const ratio = ascent / (ascent + descent);\n    ascentCache.set(fontFamily, ratio);\n\n    ctx.canvas.width = ctx.canvas.height = 0;\n    return ratio;\n  }\n\n  // Try basic heuristic to guess ascent/descent.\n  // Draw a g with baseline at 0,0 and then get the line\n  // number where a pixel has non-null red component (starting\n  // from bottom).\n  ctx.strokeStyle = \"red\";\n  ctx.clearRect(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE);\n  ctx.strokeText(\"g\", 0, 0);\n  let pixels = ctx.getImageData(\n    0,\n    0,\n    DEFAULT_FONT_SIZE,\n    DEFAULT_FONT_SIZE\n  ).data;\n  descent = 0;\n  for (let i = pixels.length - 1 - 3; i >= 0; i -= 4) {\n    if (pixels[i] > 0) {\n      descent = Math.ceil(i / 4 / DEFAULT_FONT_SIZE);\n      break;\n    }\n  }\n\n  // Draw an A with baseline at 0,DEFAULT_FONT_SIZE and then get the line\n  // number where a pixel has non-null red component (starting\n  // from top).\n  ctx.clearRect(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE);\n  ctx.strokeText(\"A\", 0, DEFAULT_FONT_SIZE);\n  pixels = ctx.getImageData(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE).data;\n  ascent = 0;\n  for (let i = 0, ii = pixels.length; i < ii; i += 4) {\n    if (pixels[i] > 0) {\n      ascent = DEFAULT_FONT_SIZE - Math.floor(i / 4 / DEFAULT_FONT_SIZE);\n      break;\n    }\n  }\n\n  ctx.canvas.width = ctx.canvas.height = 0;\n\n  if (ascent) {\n    const ratio = ascent / (ascent + descent);\n    ascentCache.set(fontFamily, ratio);\n    return ratio;\n  }\n\n  ascentCache.set(fontFamily, DEFAULT_FONT_ASCENT);\n  return DEFAULT_FONT_ASCENT;\n}\n\nfunction appendText(task, geom, styles) {\n  // Initialize all used properties to keep the caches monomorphic.\n  const textDiv = document.createElement(\"span\");\n  const textDivProperties = {\n    angle: 0,\n    canvasWidth: 0,\n    hasText: geom.str !== \"\",\n    hasEOL: geom.hasEOL,\n    fontSize: 0,\n  };\n  task._textDivs.push(textDiv);\n\n  const tx = Util.transform(task._transform, geom.transform);\n  let angle = Math.atan2(tx[1], tx[0]);\n  const style = styles[geom.fontName];\n  if (style.vertical) {\n    angle += Math.PI / 2;\n  }\n  const fontHeight = Math.hypot(tx[2], tx[3]);\n  const fontAscent =\n    fontHeight * getAscent(style.fontFamily, task._isOffscreenCanvasSupported);\n\n  let left, top;\n  if (angle === 0) {\n    left = tx[4];\n    top = tx[5] - fontAscent;\n  } else {\n    left = tx[4] + fontAscent * Math.sin(angle);\n    top = tx[5] - fontAscent * Math.cos(angle);\n  }\n\n  const scaleFactorStr = \"calc(var(--scale-factor)*\";\n  const divStyle = textDiv.style;\n  // Setting the style properties individually, rather than all at once,\n  // should be OK since the `textDiv` isn't appended to the document yet.\n  if (task._container === task._rootContainer) {\n    divStyle.left = `${((100 * left) / task._pageWidth).toFixed(2)}%`;\n    divStyle.top = `${((100 * top) / task._pageHeight).toFixed(2)}%`;\n  } else {\n    // We're in a marked content span, hence we can't use percents.\n    divStyle.left = `${scaleFactorStr}${left.toFixed(2)}px)`;\n    divStyle.top = `${scaleFactorStr}${top.toFixed(2)}px)`;\n  }\n  divStyle.fontSize = `${scaleFactorStr}${fontHeight.toFixed(2)}px)`;\n  divStyle.fontFamily = style.fontFamily;\n\n  textDivProperties.fontSize = fontHeight;\n\n  // Keeps screen readers from pausing on every new text span.\n  textDiv.setAttribute(\"role\", \"presentation\");\n\n  textDiv.textContent = geom.str;\n  // geom.dir may be 'ttb' for vertical texts.\n  textDiv.dir = geom.dir;\n\n  // `fontName` is only used by the FontInspector, and we only use `dataset`\n  // here to make the font name available in the debugger.\n  if (task._fontInspectorEnabled) {\n    textDiv.dataset.fontName = geom.fontName;\n  }\n  if (angle !== 0) {\n    textDivProperties.angle = angle * (180 / Math.PI);\n  }\n  // We don't bother scaling single-char text divs, because it has very\n  // little effect on text highlighting. This makes scrolling on docs with\n  // lots of such divs a lot faster.\n  let shouldScaleText = false;\n  if (geom.str.length > 1) {\n    shouldScaleText = true;\n  } else if (geom.str !== \" \" && geom.transform[0] !== geom.transform[3]) {\n    const absScaleX = Math.abs(geom.transform[0]),\n      absScaleY = Math.abs(geom.transform[3]);\n    // When the horizontal/vertical scaling differs significantly, also scale\n    // even single-char text to improve highlighting (fixes issue11713.pdf).\n    if (\n      absScaleX !== absScaleY &&\n      Math.max(absScaleX, absScaleY) / Math.min(absScaleX, absScaleY) > 1.5\n    ) {\n      shouldScaleText = true;\n    }\n  }\n  if (shouldScaleText) {\n    textDivProperties.canvasWidth = style.vertical ? geom.height : geom.width;\n  }\n  task._textDivProperties.set(textDiv, textDivProperties);\n  if (task._isReadableStream) {\n    task._layoutText(textDiv);\n  }\n}\n\nfunction layout(params) {\n  const { div, scale, properties, ctx, prevFontSize, prevFontFamily } = params;\n  const { style } = div;\n  let transform = \"\";\n  if (properties.canvasWidth !== 0 && properties.hasText) {\n    const { fontFamily } = style;\n    const { canvasWidth, fontSize } = properties;\n\n    if (prevFontSize !== fontSize || prevFontFamily !== fontFamily) {\n      ctx.font = `${fontSize * scale}px ${fontFamily}`;\n      params.prevFontSize = fontSize;\n      params.prevFontFamily = fontFamily;\n    }\n\n    // Only measure the width for multi-char text divs, see `appendText`.\n    const { width } = ctx.measureText(div.textContent);\n\n    if (width > 0) {\n      transform = `scaleX(${(canvasWidth * scale) / width})`;\n    }\n  }\n  if (properties.angle !== 0) {\n    transform = `rotate(${properties.angle}deg) ${transform}`;\n  }\n  if (transform.length > 0) {\n    style.transform = transform;\n  }\n}\n\nfunction render(task) {\n  if (task._canceled) {\n    return;\n  }\n  const textDivs = task._textDivs;\n  const capability = task._capability;\n  const textDivsLength = textDivs.length;\n\n  // No point in rendering many divs as it would make the browser\n  // unusable even after the divs are rendered.\n  if (textDivsLength > MAX_TEXT_DIVS_TO_RENDER) {\n    capability.resolve();\n    return;\n  }\n\n  if (!task._isReadableStream) {\n    for (const textDiv of textDivs) {\n      task._layoutText(textDiv);\n    }\n  }\n  capability.resolve();\n}\n\nclass TextLayerRenderTask {\n  constructor({\n    textContentSource,\n    container,\n    viewport,\n    textDivs,\n    textDivProperties,\n    textContentItemsStr,\n    isOffscreenCanvasSupported,\n  }) {\n    this._textContentSource = textContentSource;\n    this._isReadableStream = textContentSource instanceof ReadableStream;\n    this._container = this._rootContainer = container;\n    this._textDivs = textDivs || [];\n    this._textContentItemsStr = textContentItemsStr || [];\n    this._isOffscreenCanvasSupported = isOffscreenCanvasSupported;\n    this._fontInspectorEnabled = !!globalThis.FontInspector?.enabled;\n\n    this._reader = null;\n    this._textDivProperties = textDivProperties || new WeakMap();\n    this._canceled = false;\n    this._capability = new PromiseCapability();\n    this._layoutTextParams = {\n      prevFontSize: null,\n      prevFontFamily: null,\n      div: null,\n      scale: viewport.scale * (globalThis.devicePixelRatio || 1),\n      properties: null,\n      ctx: getCtx(0, isOffscreenCanvasSupported),\n    };\n    const { pageWidth, pageHeight, pageX, pageY } = viewport.rawDims;\n    this._transform = [1, 0, 0, -1, -pageX, pageY + pageHeight];\n    this._pageWidth = pageWidth;\n    this._pageHeight = pageHeight;\n\n    setLayerDimensions(container, viewport);\n\n    // Always clean-up the temporary canvas once rendering is no longer pending.\n    this._capability.promise\n      .finally(() => {\n        this._layoutTextParams = null;\n      })\n      .catch(() => {\n        // Avoid \"Uncaught promise\" messages in the console.\n      });\n  }\n\n  /**\n   * Promise for textLayer rendering task completion.\n   * @type {Promise<void>}\n   */\n  get promise() {\n    return this._capability.promise;\n  }\n\n  /**\n   * Cancel rendering of the textLayer.\n   */\n  cancel() {\n    this._canceled = true;\n    if (this._reader) {\n      this._reader\n        .cancel(new AbortException(\"TextLayer task cancelled.\"))\n        .catch(() => {\n          // Avoid \"Uncaught promise\" messages in the console.\n        });\n      this._reader = null;\n    }\n    this._capability.reject(new AbortException(\"TextLayer task cancelled.\"));\n  }\n\n  /**\n   * @private\n   */\n  _processItems(items, styleCache) {\n    for (const item of items) {\n      if (item.str === undefined) {\n        if (\n          item.type === \"beginMarkedContentProps\" ||\n          item.type === \"beginMarkedContent\"\n        ) {\n          const parent = this._container;\n          this._container = document.createElement(\"span\");\n          this._container.classList.add(\"markedContent\");\n          if (item.id !== null) {\n            this._container.setAttribute(\"id\", `${item.id}`);\n          }\n          parent.append(this._container);\n        } else if (item.type === \"endMarkedContent\") {\n          this._container = this._container.parentNode;\n        }\n        continue;\n      }\n      this._textContentItemsStr.push(item.str);\n      appendText(this, item, styleCache);\n    }\n  }\n\n  /**\n   * @private\n   */\n  _layoutText(textDiv) {\n    const textDivProperties = (this._layoutTextParams.properties =\n      this._textDivProperties.get(textDiv));\n    this._layoutTextParams.div = textDiv;\n    layout(this._layoutTextParams);\n\n    if (textDivProperties.hasText) {\n      this._container.append(textDiv);\n    }\n    if (textDivProperties.hasEOL) {\n      const br = document.createElement(\"br\");\n      br.setAttribute(\"role\", \"presentation\");\n      this._container.append(br);\n    }\n  }\n\n  /**\n   * @private\n   */\n  _render() {\n    const capability = new PromiseCapability();\n    let styleCache = Object.create(null);\n\n    if (this._isReadableStream) {\n      const pump = () => {\n        this._reader.read().then(({ value, done }) => {\n          if (done) {\n            capability.resolve();\n            return;\n          }\n\n          Object.assign(styleCache, value.styles);\n          this._processItems(value.items, styleCache);\n          pump();\n        }, capability.reject);\n      };\n\n      this._reader = this._textContentSource.getReader();\n      pump();\n    } else if (this._textContentSource) {\n      const { items, styles } = this._textContentSource;\n      this._processItems(items, styles);\n      capability.resolve();\n    } else {\n      throw new Error('No \"textContentSource\" parameter specified.');\n    }\n\n    capability.promise.then(() => {\n      styleCache = null;\n      render(this);\n    }, this._capability.reject);\n  }\n}\n\n/**\n * @param {TextLayerRenderParameters} params\n * @returns {TextLayerRenderTask}\n */\nfunction renderTextLayer(params) {\n  if (\n    (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) &&\n    !params.textContentSource &&\n    (params.textContent || params.textContentStream)\n  ) {\n    deprecated(\n      \"The TextLayerRender `textContent`/`textContentStream` parameters \" +\n        \"will be removed in the future, please use `textContentSource` instead.\"\n    );\n    params.textContentSource = params.textContent || params.textContentStream;\n  }\n  if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC && !TESTING\")) {\n    const { container, viewport } = params;\n    const style = getComputedStyle(container);\n    const visibility = style.getPropertyValue(\"visibility\");\n    const scaleFactor = parseFloat(style.getPropertyValue(\"--scale-factor\"));\n\n    if (\n      visibility === \"visible\" &&\n      (!scaleFactor || Math.abs(scaleFactor - viewport.scale) > 1e-5)\n    ) {\n      console.error(\n        \"The `--scale-factor` CSS-variable must be set, \" +\n          \"to the same value as `viewport.scale`, \" +\n          \"either on the `container`-element itself or higher up in the DOM.\"\n      );\n    }\n  }\n  const task = new TextLayerRenderTask(params);\n  task._render();\n  return task;\n}\n\n/**\n * @param {TextLayerUpdateParameters} params\n * @returns {undefined}\n */\nfunction updateTextLayer({\n  container,\n  viewport,\n  textDivs,\n  textDivProperties,\n  isOffscreenCanvasSupported,\n  mustRotate = true,\n  mustRescale = true,\n}) {\n  if (mustRotate) {\n    setLayerDimensions(container, { rotation: viewport.rotation });\n  }\n\n  if (mustRescale) {\n    const ctx = getCtx(0, isOffscreenCanvasSupported);\n    const scale = viewport.scale * (globalThis.devicePixelRatio || 1);\n    const params = {\n      prevFontSize: null,\n      prevFontFamily: null,\n      div: null,\n      scale,\n      properties: null,\n      ctx,\n    };\n    for (const div of textDivs) {\n      params.properties = textDivProperties.get(div);\n      params.div = div;\n      layout(params);\n    }\n  }\n}\n\nexport { renderTextLayer, TextLayerRenderTask, updateTextLayer };\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// eslint-disable-next-line max-len\n/** @typedef {import(\"./tools.js\").AnnotationEditorUIManager} AnnotationEditorUIManager */\n/** @typedef {import(\"../display_utils.js\").PageViewport} PageViewport */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"../../../web/text_accessibility.js\").TextAccessibilityManager} TextAccessibilityManager */\n/** @typedef {import(\"../../../web/interfaces\").IL10n} IL10n */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"../annotation_layer.js\").AnnotationLayer} AnnotationLayer */\n\nimport { AnnotationEditorType, FeatureTest } from \"../../shared/util.js\";\nimport { AnnotationEditor } from \"./editor.js\";\nimport { FreeTextEditor } from \"./freetext.js\";\nimport { InkEditor } from \"./ink.js\";\nimport { setLayerDimensions } from \"../display_utils.js\";\nimport { StampEditor } from \"./stamp.js\";\n\n/**\n * @typedef {Object} AnnotationEditorLayerOptions\n * @property {Object} mode\n * @property {HTMLDivElement} div\n * @property {AnnotationEditorUIManager} uiManager\n * @property {boolean} enabled\n * @property {TextAccessibilityManager} [accessibilityManager]\n * @property {number} pageIndex\n * @property {IL10n} l10n\n * @property {AnnotationLayer} [annotationLayer]\n * @property {PageViewport} viewport\n */\n\n/**\n * @typedef {Object} RenderEditorLayerOptions\n * @property {PageViewport} viewport\n */\n\n/**\n * Manage all the different editors on a page.\n */\nclass AnnotationEditorLayer {\n  #accessibilityManager;\n\n  #allowClick = false;\n\n  #annotationLayer = null;\n\n  #boundPointerup = this.pointerup.bind(this);\n\n  #boundPointerdown = this.pointerdown.bind(this);\n\n  #editors = new Map();\n\n  #hadPointerDown = false;\n\n  #isCleaningUp = false;\n\n  #isDisabling = false;\n\n  #uiManager;\n\n  static _initialized = false;\n\n  /**\n   * @param {AnnotationEditorLayerOptions} options\n   */\n  constructor({\n    uiManager,\n    pageIndex,\n    div,\n    accessibilityManager,\n    annotationLayer,\n    viewport,\n    l10n,\n  }) {\n    const editorTypes = [FreeTextEditor, InkEditor, StampEditor];\n    if (!AnnotationEditorLayer._initialized) {\n      AnnotationEditorLayer._initialized = true;\n      for (const editorType of editorTypes) {\n        editorType.initialize(l10n);\n      }\n    }\n    uiManager.registerEditorTypes(editorTypes);\n\n    this.#uiManager = uiManager;\n    this.pageIndex = pageIndex;\n    this.div = div;\n    this.#accessibilityManager = accessibilityManager;\n    this.#annotationLayer = annotationLayer;\n    this.viewport = viewport;\n\n    this.#uiManager.addLayer(this);\n  }\n\n  get isEmpty() {\n    return this.#editors.size === 0;\n  }\n\n  /**\n   * Update the toolbar if it's required to reflect the tool currently used.\n   * @param {number} mode\n   */\n  updateToolbar(mode) {\n    this.#uiManager.updateToolbar(mode);\n  }\n\n  /**\n   * The mode has changed: it must be updated.\n   * @param {number} mode\n   */\n  updateMode(mode = this.#uiManager.getMode()) {\n    this.#cleanup();\n    if (mode === AnnotationEditorType.INK) {\n      // We always want to an ink editor ready to draw in.\n      this.addInkEditorIfNeeded(false);\n      this.disableClick();\n    } else {\n      this.enableClick();\n    }\n\n    if (mode !== AnnotationEditorType.NONE) {\n      this.div.classList.toggle(\n        \"freeTextEditing\",\n        mode === AnnotationEditorType.FREETEXT\n      );\n      this.div.classList.toggle(\n        \"inkEditing\",\n        mode === AnnotationEditorType.INK\n      );\n      this.div.classList.toggle(\n        \"stampEditing\",\n        mode === AnnotationEditorType.STAMP\n      );\n      this.div.hidden = false;\n    }\n  }\n\n  addInkEditorIfNeeded(isCommitting) {\n    if (\n      !isCommitting &&\n      this.#uiManager.getMode() !== AnnotationEditorType.INK\n    ) {\n      return;\n    }\n\n    if (!isCommitting) {\n      // We're removing an editor but an empty one can already exist so in this\n      // case we don't need to create a new one.\n      for (const editor of this.#editors.values()) {\n        if (editor.isEmpty()) {\n          editor.setInBackground();\n          return;\n        }\n      }\n    }\n\n    const editor = this.#createAndAddNewEditor(\n      { offsetX: 0, offsetY: 0 },\n      /* isCentered = */ false\n    );\n    editor.setInBackground();\n  }\n\n  /**\n   * Set the editing state.\n   * @param {boolean} isEditing\n   */\n  setEditingState(isEditing) {\n    this.#uiManager.setEditingState(isEditing);\n  }\n\n  /**\n   * Add some commands into the CommandManager (undo/redo stuff).\n   * @param {Object} params\n   */\n  addCommands(params) {\n    this.#uiManager.addCommands(params);\n  }\n\n  /**\n   * Enable pointer events on the main div in order to enable\n   * editor creation.\n   */\n  enable() {\n    this.div.style.pointerEvents = \"auto\";\n    const annotationElementIds = new Set();\n    for (const editor of this.#editors.values()) {\n      editor.enableEditing();\n      if (editor.annotationElementId) {\n        annotationElementIds.add(editor.annotationElementId);\n      }\n    }\n\n    if (!this.#annotationLayer) {\n      return;\n    }\n\n    const editables = this.#annotationLayer.getEditableAnnotations();\n    for (const editable of editables) {\n      // The element must be hidden whatever its state is.\n      editable.hide();\n      if (this.#uiManager.isDeletedAnnotationElement(editable.data.id)) {\n        continue;\n      }\n      if (annotationElementIds.has(editable.data.id)) {\n        continue;\n      }\n      const editor = this.deserialize(editable);\n      if (!editor) {\n        continue;\n      }\n      this.addOrRebuild(editor);\n      editor.enableEditing();\n    }\n  }\n\n  /**\n   * Disable editor creation.\n   */\n  disable() {\n    this.#isDisabling = true;\n    this.div.style.pointerEvents = \"none\";\n    const hiddenAnnotationIds = new Set();\n    for (const editor of this.#editors.values()) {\n      editor.disableEditing();\n      if (!editor.annotationElementId || editor.serialize() !== null) {\n        hiddenAnnotationIds.add(editor.annotationElementId);\n        continue;\n      }\n      this.getEditableAnnotation(editor.annotationElementId)?.show();\n      editor.remove();\n    }\n\n    if (this.#annotationLayer) {\n      // Show the annotations that were hidden in enable().\n      const editables = this.#annotationLayer.getEditableAnnotations();\n      for (const editable of editables) {\n        const { id } = editable.data;\n        if (\n          hiddenAnnotationIds.has(id) ||\n          this.#uiManager.isDeletedAnnotationElement(id)\n        ) {\n          continue;\n        }\n        editable.show();\n      }\n    }\n\n    this.#cleanup();\n    if (this.isEmpty) {\n      this.div.hidden = true;\n    }\n    this.#isDisabling = false;\n  }\n\n  getEditableAnnotation(id) {\n    return this.#annotationLayer?.getEditableAnnotation(id) || null;\n  }\n\n  /**\n   * Set the current editor.\n   * @param {AnnotationEditor} editor\n   */\n  setActiveEditor(editor) {\n    const currentActive = this.#uiManager.getActive();\n    if (currentActive === editor) {\n      return;\n    }\n\n    this.#uiManager.setActiveEditor(editor);\n  }\n\n  enableClick() {\n    this.div.addEventListener(\"pointerdown\", this.#boundPointerdown);\n    this.div.addEventListener(\"pointerup\", this.#boundPointerup);\n  }\n\n  disableClick() {\n    this.div.removeEventListener(\"pointerdown\", this.#boundPointerdown);\n    this.div.removeEventListener(\"pointerup\", this.#boundPointerup);\n  }\n\n  attach(editor) {\n    this.#editors.set(editor.id, editor);\n    const { annotationElementId } = editor;\n    if (\n      annotationElementId &&\n      this.#uiManager.isDeletedAnnotationElement(annotationElementId)\n    ) {\n      this.#uiManager.removeDeletedAnnotationElement(editor);\n    }\n  }\n\n  detach(editor) {\n    this.#editors.delete(editor.id);\n    this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv);\n\n    if (!this.#isDisabling && editor.annotationElementId) {\n      this.#uiManager.addDeletedAnnotationElement(editor);\n    }\n  }\n\n  /**\n   * Remove an editor.\n   * @param {AnnotationEditor} editor\n   */\n  remove(editor) {\n    // Since we can undo a removal we need to keep the\n    // parent property as it is, so don't null it!\n\n    this.detach(editor);\n    this.#uiManager.removeEditor(editor);\n    if (editor.div.contains(document.activeElement)) {\n      setTimeout(() => {\n        // When the div is removed from DOM the focus can move on the\n        // document.body, so we need to move it back to the main container.\n        this.#uiManager.focusMainContainer();\n      }, 0);\n    }\n    editor.div.remove();\n    editor.isAttachedToDOM = false;\n\n    if (!this.#isCleaningUp) {\n      this.addInkEditorIfNeeded(/* isCommitting = */ false);\n    }\n  }\n\n  /**\n   * An editor can have a different parent, for example after having\n   * being dragged and droped from a page to another.\n   * @param {AnnotationEditor} editor\n   */\n  changeParent(editor) {\n    if (editor.parent === this) {\n      return;\n    }\n\n    if (editor.annotationElementId) {\n      this.#uiManager.addDeletedAnnotationElement(editor.annotationElementId);\n      AnnotationEditor.deleteAnnotationElement(editor);\n      editor.annotationElementId = null;\n    }\n\n    this.attach(editor);\n    editor.parent?.detach(editor);\n    editor.setParent(this);\n    if (editor.div && editor.isAttachedToDOM) {\n      editor.div.remove();\n      this.div.append(editor.div);\n    }\n  }\n\n  /**\n   * Add a new editor in the current view.\n   * @param {AnnotationEditor} editor\n   */\n  add(editor) {\n    this.changeParent(editor);\n    this.#uiManager.addEditor(editor);\n    this.attach(editor);\n\n    if (!editor.isAttachedToDOM) {\n      const div = editor.render();\n      this.div.append(div);\n      editor.isAttachedToDOM = true;\n    }\n\n    // The editor will be correctly moved into the DOM (see fixAndSetPosition).\n    editor.fixAndSetPosition();\n    editor.onceAdded();\n    this.#uiManager.addToAnnotationStorage(editor);\n  }\n\n  moveEditorInDOM(editor) {\n    if (!editor.isAttachedToDOM) {\n      return;\n    }\n\n    const { activeElement } = document;\n    if (editor.div.contains(activeElement)) {\n      // When the div is moved in the DOM the focus can move somewhere else,\n      // so we want to be sure that the focus will stay on the editor but we\n      // don't want to call any focus callbacks, hence we disable them and only\n      // re-enable them when the editor has the focus.\n      editor._focusEventsAllowed = false;\n      setTimeout(() => {\n        if (!editor.div.contains(document.activeElement)) {\n          editor.div.addEventListener(\n            \"focusin\",\n            () => {\n              editor._focusEventsAllowed = true;\n            },\n            { once: true }\n          );\n          activeElement.focus();\n        } else {\n          editor._focusEventsAllowed = true;\n        }\n      }, 0);\n    }\n\n    editor._structTreeParentId = this.#accessibilityManager?.moveElementInDOM(\n      this.div,\n      editor.div,\n      editor.contentDiv,\n      /* isRemovable = */ true\n    );\n  }\n\n  /**\n   * Add or rebuild depending if it has been removed or not.\n   * @param {AnnotationEditor} editor\n   */\n  addOrRebuild(editor) {\n    if (editor.needsToBeRebuilt()) {\n      editor.rebuild();\n    } else {\n      this.add(editor);\n    }\n  }\n\n  /**\n   * Add a new editor and make this addition undoable.\n   * @param {AnnotationEditor} editor\n   */\n  addUndoableEditor(editor) {\n    const cmd = () => editor._uiManager.rebuild(editor);\n    const undo = () => {\n      editor.remove();\n    };\n\n    this.addCommands({ cmd, undo, mustExec: false });\n  }\n\n  /**\n   * Get an id for an editor.\n   * @returns {string}\n   */\n  getNextId() {\n    return this.#uiManager.getId();\n  }\n\n  /**\n   * Create a new editor\n   * @param {Object} params\n   * @returns {AnnotationEditor}\n   */\n  #createNewEditor(params) {\n    switch (this.#uiManager.getMode()) {\n      case AnnotationEditorType.FREETEXT:\n        return new FreeTextEditor(params);\n      case AnnotationEditorType.INK:\n        return new InkEditor(params);\n      case AnnotationEditorType.STAMP:\n        return new StampEditor(params);\n    }\n    return null;\n  }\n\n  /**\n   * Paste some content into a new editor.\n   * @param {number} mode\n   * @param {Object} params\n   */\n  pasteEditor(mode, params) {\n    this.#uiManager.updateToolbar(mode);\n    this.#uiManager.updateMode(mode);\n\n    const { offsetX, offsetY } = this.#getCenterPoint();\n    const id = this.getNextId();\n    const editor = this.#createNewEditor({\n      parent: this,\n      id,\n      x: offsetX,\n      y: offsetY,\n      uiManager: this.#uiManager,\n      isCentered: true,\n      ...params,\n    });\n    if (editor) {\n      this.add(editor);\n    }\n  }\n\n  /**\n   * Create a new editor\n   * @param {Object} data\n   * @returns {AnnotationEditor}\n   */\n  deserialize(data) {\n    switch (data.annotationType ?? data.annotationEditorType) {\n      case AnnotationEditorType.FREETEXT:\n        return FreeTextEditor.deserialize(data, this, this.#uiManager);\n      case AnnotationEditorType.INK:\n        return InkEditor.deserialize(data, this, this.#uiManager);\n      case AnnotationEditorType.STAMP:\n        return StampEditor.deserialize(data, this, this.#uiManager);\n    }\n    return null;\n  }\n\n  /**\n   * Create and add a new editor.\n   * @param {PointerEvent} event\n   * @param {boolean} isCentered\n   * @returns {AnnotationEditor}\n   */\n  #createAndAddNewEditor(event, isCentered) {\n    const id = this.getNextId();\n    const editor = this.#createNewEditor({\n      parent: this,\n      id,\n      x: event.offsetX,\n      y: event.offsetY,\n      uiManager: this.#uiManager,\n      isCentered,\n    });\n    if (editor) {\n      this.add(editor);\n    }\n\n    return editor;\n  }\n\n  #getCenterPoint() {\n    const { x, y, width, height } = this.div.getBoundingClientRect();\n    const tlX = Math.max(0, x);\n    const tlY = Math.max(0, y);\n    const brX = Math.min(window.innerWidth, x + width);\n    const brY = Math.min(window.innerHeight, y + height);\n    const centerX = (tlX + brX) / 2 - x;\n    const centerY = (tlY + brY) / 2 - y;\n    const [offsetX, offsetY] =\n      this.viewport.rotation % 180 === 0\n        ? [centerX, centerY]\n        : [centerY, centerX];\n\n    return { offsetX, offsetY };\n  }\n\n  /**\n   * Create and add a new editor.\n   */\n  addNewEditor() {\n    this.#createAndAddNewEditor(\n      this.#getCenterPoint(),\n      /* isCentered = */ true\n    );\n  }\n\n  /**\n   * Set the last selected editor.\n   * @param {AnnotationEditor} editor\n   */\n  setSelected(editor) {\n    this.#uiManager.setSelected(editor);\n  }\n\n  /**\n   * Add or remove an editor the current selection.\n   * @param {AnnotationEditor} editor\n   */\n  toggleSelected(editor) {\n    this.#uiManager.toggleSelected(editor);\n  }\n\n  /**\n   * Check if the editor is selected.\n   * @param {AnnotationEditor} editor\n   */\n  isSelected(editor) {\n    return this.#uiManager.isSelected(editor);\n  }\n\n  /**\n   * Unselect an editor.\n   * @param {AnnotationEditor} editor\n   */\n  unselect(editor) {\n    this.#uiManager.unselect(editor);\n  }\n\n  /**\n   * Pointerup callback.\n   * @param {PointerEvent} event\n   */\n  pointerup(event) {\n    const { isMac } = FeatureTest.platform;\n    if (event.button !== 0 || (event.ctrlKey && isMac)) {\n      // Don't create an editor on right click.\n      return;\n    }\n\n    if (event.target !== this.div) {\n      return;\n    }\n\n    if (!this.#hadPointerDown) {\n      // It can happen when the user starts a drag inside a text editor\n      // and then releases the mouse button outside of it. In such a case\n      // we don't want to create a new editor, hence we check that a pointerdown\n      // occurred on this div previously.\n      return;\n    }\n    this.#hadPointerDown = false;\n\n    if (!this.#allowClick) {\n      this.#allowClick = true;\n      return;\n    }\n\n    if (this.#uiManager.getMode() === AnnotationEditorType.STAMP) {\n      this.#uiManager.unselectAll();\n      return;\n    }\n\n    this.#createAndAddNewEditor(event, /* isCentered = */ false);\n  }\n\n  /**\n   * Pointerdown callback.\n   * @param {PointerEvent} event\n   */\n  pointerdown(event) {\n    if (this.#hadPointerDown) {\n      // It's possible to have a second pointerdown event before a pointerup one\n      // when the user puts a finger on a touchscreen and then add a second one\n      // to start a pinch-to-zoom gesture.\n      // That said, in case it's possible to have two pointerdown events with\n      // a mouse, we don't want to create a new editor in such a case either.\n      this.#hadPointerDown = false;\n      return;\n    }\n    const { isMac } = FeatureTest.platform;\n    if (event.button !== 0 || (event.ctrlKey && isMac)) {\n      // Do nothing on right click.\n      return;\n    }\n\n    if (event.target !== this.div) {\n      return;\n    }\n\n    this.#hadPointerDown = true;\n\n    const editor = this.#uiManager.getActive();\n    this.#allowClick = !editor || editor.isEmpty();\n  }\n\n  /**\n   *\n   * @param {AnnotationEditor} editor\n   * @param {number} x\n   * @param {number} y\n   * @returns\n   */\n  findNewParent(editor, x, y) {\n    const layer = this.#uiManager.findParent(x, y);\n    if (layer === null || layer === this) {\n      return false;\n    }\n    layer.changeParent(editor);\n    return true;\n  }\n\n  /**\n   * Destroy the main editor.\n   */\n  destroy() {\n    if (this.#uiManager.getActive()?.parent === this) {\n      // We need to commit the current editor before destroying the layer.\n      this.#uiManager.commitOrRemove();\n      this.#uiManager.setActiveEditor(null);\n    }\n\n    for (const editor of this.#editors.values()) {\n      this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv);\n      editor.setParent(null);\n      editor.isAttachedToDOM = false;\n      editor.div.remove();\n    }\n    this.div = null;\n    this.#editors.clear();\n    this.#uiManager.removeLayer(this);\n  }\n\n  #cleanup() {\n    // When we're cleaning up, some editors are removed but we don't want\n    // to add a new one which will induce an addition in this.#editors, hence\n    // an infinite loop.\n    this.#isCleaningUp = true;\n    for (const editor of this.#editors.values()) {\n      if (editor.isEmpty()) {\n        editor.remove();\n      }\n    }\n    this.#isCleaningUp = false;\n  }\n\n  /**\n   * Render the main editor.\n   * @param {RenderEditorLayerOptions} parameters\n   */\n  render({ viewport }) {\n    this.viewport = viewport;\n    setLayerDimensions(this.div, viewport);\n    for (const editor of this.#uiManager.getEditors(this.pageIndex)) {\n      this.add(editor);\n    }\n    this.updateMode();\n  }\n\n  /**\n   * Update the main editor.\n   * @param {RenderEditorLayerOptions} parameters\n   */\n  update({ viewport }) {\n    // Editors have their dimensions/positions in percent so to avoid any\n    // issues (see #15582), we must commit the current one before changing\n    // the viewport.\n    this.#uiManager.commitOrRemove();\n\n    this.viewport = viewport;\n    setLayerDimensions(this.div, { rotation: viewport.rotation });\n    this.updateMode();\n  }\n\n  /**\n   * Get page dimensions.\n   * @returns {Object} dimensions.\n   */\n  get pageDimensions() {\n    const { pageWidth, pageHeight } = this.viewport.rawDims;\n    return [pageWidth, pageHeight];\n  }\n}\n\nexport { AnnotationEditorLayer };\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// eslint-disable-next-line max-len\n/** @typedef {import(\"./annotation_editor_layer.js\").AnnotationEditorLayer} AnnotationEditorLayer */\n\nimport {\n  AnnotationEditorParamsType,\n  AnnotationEditorType,\n  assert,\n  LINE_FACTOR,\n  shadow,\n  Util,\n} from \"../../shared/util.js\";\nimport {\n  AnnotationEditorUIManager,\n  bindEvents,\n  KeyboardManager,\n} from \"./tools.js\";\nimport { AnnotationEditor } from \"./editor.js\";\nimport { FreeTextAnnotationElement } from \"../annotation_layer.js\";\n\n/**\n * Basic text editor in order to create a FreeTex annotation.\n */\nclass FreeTextEditor extends AnnotationEditor {\n  #boundEditorDivBlur = this.editorDivBlur.bind(this);\n\n  #boundEditorDivFocus = this.editorDivFocus.bind(this);\n\n  #boundEditorDivInput = this.editorDivInput.bind(this);\n\n  #boundEditorDivKeydown = this.editorDivKeydown.bind(this);\n\n  #color;\n\n  #content = \"\";\n\n  #editorDivId = `${this.id}-editor`;\n\n  #fontSize;\n\n  #initialData = null;\n\n  static _freeTextDefaultContent = \"\";\n\n  static _internalPadding = 0;\n\n  static _defaultColor = null;\n\n  static _defaultFontSize = 10;\n\n  static get _keyboardManager() {\n    const proto = FreeTextEditor.prototype;\n\n    const arrowChecker = self => self.isEmpty();\n\n    const small = AnnotationEditorUIManager.TRANSLATE_SMALL;\n    const big = AnnotationEditorUIManager.TRANSLATE_BIG;\n\n    return shadow(\n      this,\n      \"_keyboardManager\",\n      new KeyboardManager([\n        [\n          // Commit the text in case the user use ctrl+s to save the document.\n          // The event must bubble in order to be caught by the viewer.\n          // See bug 1831574.\n          [\"ctrl+s\", \"mac+meta+s\", \"ctrl+p\", \"mac+meta+p\"],\n          proto.commitOrRemove,\n          { bubbles: true },\n        ],\n        [\n          [\"ctrl+Enter\", \"mac+meta+Enter\", \"Escape\", \"mac+Escape\"],\n          proto.commitOrRemove,\n        ],\n        [\n          [\"ArrowLeft\", \"mac+ArrowLeft\"],\n          proto._translateEmpty,\n          { args: [-small, 0], checker: arrowChecker },\n        ],\n        [\n          [\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"],\n          proto._translateEmpty,\n          { args: [-big, 0], checker: arrowChecker },\n        ],\n        [\n          [\"ArrowRight\", \"mac+ArrowRight\"],\n          proto._translateEmpty,\n          { args: [small, 0], checker: arrowChecker },\n        ],\n        [\n          [\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"],\n          proto._translateEmpty,\n          { args: [big, 0], checker: arrowChecker },\n        ],\n        [\n          [\"ArrowUp\", \"mac+ArrowUp\"],\n          proto._translateEmpty,\n          { args: [0, -small], checker: arrowChecker },\n        ],\n        [\n          [\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"],\n          proto._translateEmpty,\n          { args: [0, -big], checker: arrowChecker },\n        ],\n        [\n          [\"ArrowDown\", \"mac+ArrowDown\"],\n          proto._translateEmpty,\n          { args: [0, small], checker: arrowChecker },\n        ],\n        [\n          [\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"],\n          proto._translateEmpty,\n          { args: [0, big], checker: arrowChecker },\n        ],\n      ])\n    );\n  }\n\n  static _type = \"freetext\";\n\n  constructor(params) {\n    super({ ...params, name: \"freeTextEditor\" });\n    this.#color =\n      params.color ||\n      FreeTextEditor._defaultColor ||\n      AnnotationEditor._defaultLineColor;\n    this.#fontSize = params.fontSize || FreeTextEditor._defaultFontSize;\n  }\n\n  /** @inheritdoc */\n  static initialize(l10n) {\n    AnnotationEditor.initialize(l10n, {\n      strings: [\"free_text2_default_content\", \"editor_free_text2_aria_label\"],\n    });\n    const style = getComputedStyle(document.documentElement);\n\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      const lineHeight = parseFloat(\n        style.getPropertyValue(\"--freetext-line-height\")\n      );\n      assert(\n        lineHeight === LINE_FACTOR,\n        \"Update the CSS variable to agree with the constant.\"\n      );\n    }\n\n    this._internalPadding = parseFloat(\n      style.getPropertyValue(\"--freetext-padding\")\n    );\n  }\n\n  /** @inheritdoc */\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.FREETEXT_SIZE:\n        FreeTextEditor._defaultFontSize = value;\n        break;\n      case AnnotationEditorParamsType.FREETEXT_COLOR:\n        FreeTextEditor._defaultColor = value;\n        break;\n    }\n  }\n\n  /** @inheritdoc */\n  updateParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.FREETEXT_SIZE:\n        this.#updateFontSize(value);\n        break;\n      case AnnotationEditorParamsType.FREETEXT_COLOR:\n        this.#updateColor(value);\n        break;\n    }\n  }\n\n  /** @inheritdoc */\n  static get defaultPropertiesToUpdate() {\n    return [\n      [\n        AnnotationEditorParamsType.FREETEXT_SIZE,\n        FreeTextEditor._defaultFontSize,\n      ],\n      [\n        AnnotationEditorParamsType.FREETEXT_COLOR,\n        FreeTextEditor._defaultColor || AnnotationEditor._defaultLineColor,\n      ],\n    ];\n  }\n\n  /** @inheritdoc */\n  get propertiesToUpdate() {\n    return [\n      [AnnotationEditorParamsType.FREETEXT_SIZE, this.#fontSize],\n      [AnnotationEditorParamsType.FREETEXT_COLOR, this.#color],\n    ];\n  }\n\n  /**\n   * Update the font size and make this action as undoable.\n   * @param {number} fontSize\n   */\n  #updateFontSize(fontSize) {\n    const setFontsize = size => {\n      this.editorDiv.style.fontSize = `calc(${size}px * var(--scale-factor))`;\n      this.translate(0, -(size - this.#fontSize) * this.parentScale);\n      this.#fontSize = size;\n      this.#setEditorDimensions();\n    };\n    const savedFontsize = this.#fontSize;\n    this.addCommands({\n      cmd: () => {\n        setFontsize(fontSize);\n      },\n      undo: () => {\n        setFontsize(savedFontsize);\n      },\n      mustExec: true,\n      type: AnnotationEditorParamsType.FREETEXT_SIZE,\n      overwriteIfSameType: true,\n      keepUndo: true,\n    });\n  }\n\n  /**\n   * Update the color and make this action undoable.\n   * @param {string} color\n   */\n  #updateColor(color) {\n    const savedColor = this.#color;\n    this.addCommands({\n      cmd: () => {\n        this.#color = this.editorDiv.style.color = color;\n      },\n      undo: () => {\n        this.#color = this.editorDiv.style.color = savedColor;\n      },\n      mustExec: true,\n      type: AnnotationEditorParamsType.FREETEXT_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true,\n    });\n  }\n\n  /**\n   * Helper to translate the editor with the keyboard when it's empty.\n   * @param {number} x in page units.\n   * @param {number} y in page units.\n   */\n  _translateEmpty(x, y) {\n    this._uiManager.translateSelectedEditors(x, y, /* noCommit = */ true);\n  }\n\n  /** @inheritdoc */\n  getInitialTranslation() {\n    // The start of the base line is where the user clicked.\n    const scale = this.parentScale;\n    return [\n      -FreeTextEditor._internalPadding * scale,\n      -(FreeTextEditor._internalPadding + this.#fontSize) * scale,\n    ];\n  }\n\n  /** @inheritdoc */\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n\n    if (!this.isAttachedToDOM) {\n      // At some point this editor was removed and we're rebuilting it,\n      // hence we must add it to its parent.\n      this.parent.add(this);\n    }\n  }\n\n  /** @inheritdoc */\n  enableEditMode() {\n    if (this.isInEditMode()) {\n      return;\n    }\n\n    this.parent.setEditingState(false);\n    this.parent.updateToolbar(AnnotationEditorType.FREETEXT);\n    super.enableEditMode();\n    this.overlayDiv.classList.remove(\"enabled\");\n    this.editorDiv.contentEditable = true;\n    this._isDraggable = false;\n    this.div.removeAttribute(\"aria-activedescendant\");\n    this.editorDiv.addEventListener(\"keydown\", this.#boundEditorDivKeydown);\n    this.editorDiv.addEventListener(\"focus\", this.#boundEditorDivFocus);\n    this.editorDiv.addEventListener(\"blur\", this.#boundEditorDivBlur);\n    this.editorDiv.addEventListener(\"input\", this.#boundEditorDivInput);\n  }\n\n  /** @inheritdoc */\n  disableEditMode() {\n    if (!this.isInEditMode()) {\n      return;\n    }\n\n    this.parent.setEditingState(true);\n    super.disableEditMode();\n    this.overlayDiv.classList.add(\"enabled\");\n    this.editorDiv.contentEditable = false;\n    this.div.setAttribute(\"aria-activedescendant\", this.#editorDivId);\n    this._isDraggable = true;\n    this.editorDiv.removeEventListener(\"keydown\", this.#boundEditorDivKeydown);\n    this.editorDiv.removeEventListener(\"focus\", this.#boundEditorDivFocus);\n    this.editorDiv.removeEventListener(\"blur\", this.#boundEditorDivBlur);\n    this.editorDiv.removeEventListener(\"input\", this.#boundEditorDivInput);\n\n    // On Chrome, the focus is given to <body> when contentEditable is set to\n    // false, hence we focus the div.\n    this.div.focus({\n      preventScroll: true /* See issue #15744 */,\n    });\n\n    // In case the blur callback hasn't been called.\n    this.isEditing = false;\n    this.parent.div.classList.add(\"freeTextEditing\");\n  }\n\n  /** @inheritdoc */\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    super.focusin(event);\n    if (event.target !== this.editorDiv) {\n      this.editorDiv.focus();\n    }\n  }\n\n  /** @inheritdoc */\n  onceAdded() {\n    if (this.width) {\n      this.#cheatInitialRect();\n      // The editor was created in using ctrl+c.\n      return;\n    }\n    this.enableEditMode();\n    this.editorDiv.focus();\n    if (this._initialOptions?.isCentered) {\n      this.center();\n    }\n    this._initialOptions = null;\n  }\n\n  /** @inheritdoc */\n  isEmpty() {\n    return !this.editorDiv || this.editorDiv.innerText.trim() === \"\";\n  }\n\n  /** @inheritdoc */\n  remove() {\n    this.isEditing = false;\n    if (this.parent) {\n      this.parent.setEditingState(true);\n      this.parent.div.classList.add(\"freeTextEditing\");\n    }\n    super.remove();\n  }\n\n  /**\n   * Extract the text from this editor.\n   * @returns {string}\n   */\n  #extractText() {\n    const divs = this.editorDiv.getElementsByTagName(\"div\");\n    if (divs.length === 0) {\n      return this.editorDiv.innerText;\n    }\n    const buffer = [];\n    for (const div of divs) {\n      buffer.push(div.innerText.replace(/\\r\\n?|\\n/, \"\"));\n    }\n    return buffer.join(\"\\n\");\n  }\n\n  #setEditorDimensions() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n\n    let rect;\n    if (this.isAttachedToDOM) {\n      rect = this.div.getBoundingClientRect();\n    } else {\n      // This editor isn't on screen but we need to get its dimensions, so\n      // we just insert it in the DOM, get its bounding box and then remove it.\n      const { currentLayer, div } = this;\n      const savedDisplay = div.style.display;\n      div.style.display = \"hidden\";\n      currentLayer.div.append(this.div);\n      rect = div.getBoundingClientRect();\n      div.remove();\n      div.style.display = savedDisplay;\n    }\n\n    // The dimensions are relative to the rotation of the page, hence we need to\n    // take that into account (see issue #16636).\n    if (this.rotation % 180 === this.parentRotation % 180) {\n      this.width = rect.width / parentWidth;\n      this.height = rect.height / parentHeight;\n    } else {\n      this.width = rect.height / parentWidth;\n      this.height = rect.width / parentHeight;\n    }\n    this.fixAndSetPosition();\n  }\n\n  /**\n   * Commit the content we have in this editor.\n   * @returns {undefined}\n   */\n  commit() {\n    if (!this.isInEditMode()) {\n      return;\n    }\n\n    super.commit();\n    this.disableEditMode();\n    const savedText = this.#content;\n    const newText = (this.#content = this.#extractText().trimEnd());\n    if (savedText === newText) {\n      return;\n    }\n\n    const setText = text => {\n      this.#content = text;\n      if (!text) {\n        this.remove();\n        return;\n      }\n      this.#setContent();\n      this._uiManager.rebuild(this);\n      this.#setEditorDimensions();\n    };\n    this.addCommands({\n      cmd: () => {\n        setText(newText);\n      },\n      undo: () => {\n        setText(savedText);\n      },\n      mustExec: false,\n    });\n    this.#setEditorDimensions();\n  }\n\n  /** @inheritdoc */\n  shouldGetKeyboardEvents() {\n    return this.isInEditMode();\n  }\n\n  /** @inheritdoc */\n  enterInEditMode() {\n    this.enableEditMode();\n    this.editorDiv.focus();\n  }\n\n  /**\n   * ondblclick callback.\n   * @param {MouseEvent} event\n   */\n  dblclick(event) {\n    this.enterInEditMode();\n  }\n\n  /**\n   * onkeydown callback.\n   * @param {KeyboardEvent} event\n   */\n  keydown(event) {\n    if (event.target === this.div && event.key === \"Enter\") {\n      this.enterInEditMode();\n      // Avoid to add an unwanted new line.\n      event.preventDefault();\n    }\n  }\n\n  editorDivKeydown(event) {\n    FreeTextEditor._keyboardManager.exec(this, event);\n  }\n\n  editorDivFocus(event) {\n    this.isEditing = true;\n  }\n\n  editorDivBlur(event) {\n    this.isEditing = false;\n  }\n\n  editorDivInput(event) {\n    this.parent.div.classList.toggle(\"freeTextEditing\", this.isEmpty());\n  }\n\n  /** @inheritdoc */\n  disableEditing() {\n    this.editorDiv.setAttribute(\"role\", \"comment\");\n    this.editorDiv.removeAttribute(\"aria-multiline\");\n  }\n\n  /** @inheritdoc */\n  enableEditing() {\n    this.editorDiv.setAttribute(\"role\", \"textbox\");\n    this.editorDiv.setAttribute(\"aria-multiline\", true);\n  }\n\n  /** @inheritdoc */\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n\n    let baseX, baseY;\n    if (this.width) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n\n    super.render();\n    this.editorDiv = document.createElement(\"div\");\n    this.editorDiv.className = \"internal\";\n\n    this.editorDiv.setAttribute(\"id\", this.#editorDivId);\n    this.enableEditing();\n\n    AnnotationEditor._l10nPromise\n      .get(\"editor_free_text2_aria_label\")\n      .then(msg => this.editorDiv?.setAttribute(\"aria-label\", msg));\n\n    AnnotationEditor._l10nPromise\n      .get(\"free_text2_default_content\")\n      .then(msg => this.editorDiv?.setAttribute(\"default-content\", msg));\n    this.editorDiv.contentEditable = true;\n\n    const { style } = this.editorDiv;\n    style.fontSize = `calc(${this.#fontSize}px * var(--scale-factor))`;\n    style.color = this.#color;\n\n    this.div.append(this.editorDiv);\n\n    this.overlayDiv = document.createElement(\"div\");\n    this.overlayDiv.classList.add(\"overlay\", \"enabled\");\n    this.div.append(this.overlayDiv);\n\n    // TODO: implement paste callback.\n    // The goal is to sanitize and have something suitable for this\n    // editor.\n    bindEvents(this, this.div, [\"dblclick\", \"keydown\"]);\n\n    if (this.width) {\n      // This editor was created in using copy (ctrl+c).\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      if (this.annotationElementId) {\n        // This stuff is hard to test: if something is changed here, please\n        // test with the following PDF file:\n        //  - freetexts.pdf\n        //  - rotated_freetexts.pdf\n        // Only small variations between the original annotation and its editor\n        // are allowed.\n\n        // position is the position of the first glyph in the annotation\n        // and it's relative to its container.\n        const { position } = this.#initialData;\n        let [tx, ty] = this.getInitialTranslation();\n        [tx, ty] = this.pageTranslationToScreen(tx, ty);\n        const [pageWidth, pageHeight] = this.pageDimensions;\n        const [pageX, pageY] = this.pageTranslation;\n        let posX, posY;\n        switch (this.rotation) {\n          case 0:\n            posX = baseX + (position[0] - pageX) / pageWidth;\n            posY = baseY + this.height - (position[1] - pageY) / pageHeight;\n            break;\n          case 90:\n            posX = baseX + (position[0] - pageX) / pageWidth;\n            posY = baseY - (position[1] - pageY) / pageHeight;\n            [tx, ty] = [ty, -tx];\n            break;\n          case 180:\n            posX = baseX - this.width + (position[0] - pageX) / pageWidth;\n            posY = baseY - (position[1] - pageY) / pageHeight;\n            [tx, ty] = [-tx, -ty];\n            break;\n          case 270:\n            posX =\n              baseX +\n              (position[0] - pageX - this.height * pageHeight) / pageWidth;\n            posY =\n              baseY +\n              (position[1] - pageY - this.width * pageWidth) / pageHeight;\n            [tx, ty] = [-ty, tx];\n            break;\n        }\n        this.setAt(posX * parentWidth, posY * parentHeight, tx, ty);\n      } else {\n        this.setAt(\n          baseX * parentWidth,\n          baseY * parentHeight,\n          this.width * parentWidth,\n          this.height * parentHeight\n        );\n      }\n\n      this.#setContent();\n      this._isDraggable = true;\n      this.editorDiv.contentEditable = false;\n    } else {\n      this._isDraggable = false;\n      this.editorDiv.contentEditable = true;\n    }\n\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n      this.div.setAttribute(\"annotation-id\", this.annotationElementId);\n    }\n\n    return this.div;\n  }\n\n  #setContent() {\n    this.editorDiv.replaceChildren();\n    if (!this.#content) {\n      return;\n    }\n    for (const line of this.#content.split(\"\\n\")) {\n      const div = document.createElement(\"div\");\n      div.append(\n        line ? document.createTextNode(line) : document.createElement(\"br\")\n      );\n      this.editorDiv.append(div);\n    }\n  }\n\n  get contentDiv() {\n    return this.editorDiv;\n  }\n\n  /** @inheritdoc */\n  static deserialize(data, parent, uiManager) {\n    let initialData = null;\n    if (data instanceof FreeTextAnnotationElement) {\n      const {\n        data: {\n          defaultAppearanceData: { fontSize, fontColor },\n          rect,\n          rotation,\n          id,\n        },\n        textContent,\n        textPosition,\n        parent: {\n          page: { pageNumber },\n        },\n      } = data;\n      // textContent is supposed to be an array of strings containing each line\n      // of text. However, it can be null or empty.\n      if (!textContent || textContent.length === 0) {\n        // Empty annotation.\n        return null;\n      }\n      initialData = data = {\n        annotationType: AnnotationEditorType.FREETEXT,\n        color: Array.from(fontColor),\n        fontSize,\n        value: textContent.join(\"\\n\"),\n        position: textPosition,\n        pageIndex: pageNumber - 1,\n        rect,\n        rotation,\n        id,\n        deleted: false,\n      };\n    }\n    const editor = super.deserialize(data, parent, uiManager);\n\n    editor.#fontSize = data.fontSize;\n    editor.#color = Util.makeHexColor(...data.color);\n    editor.#content = data.value;\n    editor.annotationElementId = data.id || null;\n    editor.#initialData = initialData;\n\n    return editor;\n  }\n\n  /** @inheritdoc */\n  serialize(isForCopying = false) {\n    if (this.isEmpty()) {\n      return null;\n    }\n\n    if (this.deleted) {\n      return {\n        pageIndex: this.pageIndex,\n        id: this.annotationElementId,\n        deleted: true,\n      };\n    }\n\n    const padding = FreeTextEditor._internalPadding * this.parentScale;\n    const rect = this.getRect(padding, padding);\n    const color = AnnotationEditor._colorManager.convert(\n      this.isAttachedToDOM\n        ? getComputedStyle(this.editorDiv).color\n        : this.#color\n    );\n\n    const serialized = {\n      annotationType: AnnotationEditorType.FREETEXT,\n      color,\n      fontSize: this.#fontSize,\n      value: this.#content,\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.rotation,\n      structTreeParentId: this._structTreeParentId,\n    };\n\n    if (isForCopying) {\n      // Don't add the id when copying because the pasted editor mustn't be\n      // linked to an existing annotation.\n      return serialized;\n    }\n\n    if (this.annotationElementId && !this.#hasElementChanged(serialized)) {\n      return null;\n    }\n\n    serialized.id = this.annotationElementId;\n\n    return serialized;\n  }\n\n  #hasElementChanged(serialized) {\n    const { value, fontSize, color, rect, pageIndex } = this.#initialData;\n\n    return (\n      serialized.value !== value ||\n      serialized.fontSize !== fontSize ||\n      serialized.rect.some((x, i) => Math.abs(x - rect[i]) >= 1) ||\n      serialized.color.some((c, i) => c !== color[i]) ||\n      serialized.pageIndex !== pageIndex\n    );\n  }\n\n  #cheatInitialRect(delayed = false) {\n    // The annotation has a rect but the editor has an other one.\n    // When we want to know if the annotation has changed (e.g. has been moved)\n    // we must compare the editor initial rect with the current one.\n    // So this method is a hack to have a way to compare the real rects.\n    if (!this.annotationElementId) {\n      return;\n    }\n\n    this.#setEditorDimensions();\n    if (!delayed && (this.width === 0 || this.height === 0)) {\n      setTimeout(() => this.#cheatInitialRect(/* delayed = */ true), 0);\n      return;\n    }\n\n    const padding = FreeTextEditor._internalPadding * this.parentScale;\n    this.#initialData.rect = this.getRect(padding, padding);\n  }\n}\n\nexport { FreeTextEditor };\n","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @typedef {import(\"./api\").PDFPageProxy} PDFPageProxy */\n/** @typedef {import(\"./display_utils\").PageViewport} PageViewport */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"../../web/text_accessibility.js\").TextAccessibilityManager} TextAccessibilityManager */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"../../web/interfaces\").IDownloadManager} IDownloadManager */\n/** @typedef {import(\"../../web/interfaces\").IPDFLinkService} IPDFLinkService */\n\nimport {\n  AnnotationBorderStyleType,\n  AnnotationEditorType,\n  AnnotationPrefix,\n  AnnotationType,\n  FeatureTest,\n  LINE_FACTOR,\n  shadow,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport {\n  DOMSVGFactory,\n  getFilenameFromUrl,\n  PDFDateString,\n  setLayerDimensions,\n} from \"./display_utils.js\";\nimport { AnnotationStorage } from \"./annotation_storage.js\";\nimport { ColorConverters } from \"../shared/scripting_utils.js\";\nimport { NullL10n } from \"display-l10n_utils\";\nimport { XfaLayer } from \"./xfa_layer.js\";\n\nconst DEFAULT_TAB_INDEX = 1000;\nconst DEFAULT_FONT_SIZE = 9;\nconst GetElementsByNameSet = new WeakSet();\n\nfunction getRectDims(rect) {\n  return {\n    width: rect[2] - rect[0],\n    height: rect[3] - rect[1],\n  };\n}\n\n/**\n * @typedef {Object} AnnotationElementParameters\n * @property {Object} data\n * @property {HTMLDivElement} layer\n * @property {IPDFLinkService} linkService\n * @property {IDownloadManager} downloadManager\n * @property {AnnotationStorage} [annotationStorage]\n * @property {string} [imageResourcesPath] - Path for image resources, mainly\n *   for annotation icons. Include trailing slash.\n * @property {boolean} renderForms\n * @property {Object} svgFactory\n * @property {boolean} [enableScripting]\n * @property {boolean} [hasJSActions]\n * @property {Object} [fieldObjects]\n */\n\nclass AnnotationElementFactory {\n  /**\n   * @param {AnnotationElementParameters} parameters\n   * @returns {AnnotationElement}\n   */\n  static create(parameters) {\n    const subtype = parameters.data.annotationType;\n\n    switch (subtype) {\n      case AnnotationType.LINK:\n        return new LinkAnnotationElement(parameters);\n\n      case AnnotationType.TEXT:\n        return new TextAnnotationElement(parameters);\n\n      case AnnotationType.WIDGET:\n        const fieldType = parameters.data.fieldType;\n\n        switch (fieldType) {\n          case \"Tx\":\n            return new TextWidgetAnnotationElement(parameters);\n          case \"Btn\":\n            if (parameters.data.radioButton) {\n              return new RadioButtonWidgetAnnotationElement(parameters);\n            } else if (parameters.data.checkBox) {\n              return new CheckboxWidgetAnnotationElement(parameters);\n            }\n            return new PushButtonWidgetAnnotationElement(parameters);\n          case \"Ch\":\n            return new ChoiceWidgetAnnotationElement(parameters);\n          case \"Sig\":\n            return new SignatureWidgetAnnotationElement(parameters);\n        }\n        return new WidgetAnnotationElement(parameters);\n\n      case AnnotationType.POPUP:\n        return new PopupAnnotationElement(parameters);\n\n      case AnnotationType.FREETEXT:\n        return new FreeTextAnnotationElement(parameters);\n\n      case AnnotationType.LINE:\n        return new LineAnnotationElement(parameters);\n\n      case AnnotationType.SQUARE:\n        return new SquareAnnotationElement(parameters);\n\n      case AnnotationType.CIRCLE:\n        return new CircleAnnotationElement(parameters);\n\n      case AnnotationType.POLYLINE:\n        return new PolylineAnnotationElement(parameters);\n\n      case AnnotationType.CARET:\n        return new CaretAnnotationElement(parameters);\n\n      case AnnotationType.INK:\n        return new InkAnnotationElement(parameters);\n\n      case AnnotationType.POLYGON:\n        return new PolygonAnnotationElement(parameters);\n\n      case AnnotationType.HIGHLIGHT:\n        return new HighlightAnnotationElement(parameters);\n\n      case AnnotationType.UNDERLINE:\n        return new UnderlineAnnotationElement(parameters);\n\n      case AnnotationType.SQUIGGLY:\n        return new SquigglyAnnotationElement(parameters);\n\n      case AnnotationType.STRIKEOUT:\n        return new StrikeOutAnnotationElement(parameters);\n\n      case AnnotationType.STAMP:\n        return new StampAnnotationElement(parameters);\n\n      case AnnotationType.FILEATTACHMENT:\n        return new FileAttachmentAnnotationElement(parameters);\n\n      default:\n        return new AnnotationElement(parameters);\n    }\n  }\n}\n\nclass AnnotationElement {\n  #hasBorder = false;\n\n  constructor(\n    parameters,\n    {\n      isRenderable = false,\n      ignoreBorder = false,\n      createQuadrilaterals = false,\n    } = {}\n  ) {\n    this.isRenderable = isRenderable;\n    this.data = parameters.data;\n    this.layer = parameters.layer;\n    this.linkService = parameters.linkService;\n    this.downloadManager = parameters.downloadManager;\n    this.imageResourcesPath = parameters.imageResourcesPath;\n    this.renderForms = parameters.renderForms;\n    this.svgFactory = parameters.svgFactory;\n    this.annotationStorage = parameters.annotationStorage;\n    this.enableScripting = parameters.enableScripting;\n    this.hasJSActions = parameters.hasJSActions;\n    this._fieldObjects = parameters.fieldObjects;\n    this.parent = parameters.parent;\n\n    if (isRenderable) {\n      this.container = this._createContainer(ignoreBorder);\n    }\n    if (createQuadrilaterals) {\n      this._createQuadrilaterals();\n    }\n  }\n\n  static _hasPopupData({ titleObj, contentsObj, richText }) {\n    return !!(titleObj?.str || contentsObj?.str || richText?.str);\n  }\n\n  get hasPopupData() {\n    return AnnotationElement._hasPopupData(this.data);\n  }\n\n  /**\n   * Create an empty container for the annotation's HTML element.\n   *\n   * @private\n   * @param {boolean} ignoreBorder\n   * @memberof AnnotationElement\n   * @returns {HTMLElement} A section element.\n   */\n  _createContainer(ignoreBorder) {\n    const {\n      data,\n      parent: { page, viewport },\n    } = this;\n\n    const container = document.createElement(\"section\");\n    container.setAttribute(\"data-annotation-id\", data.id);\n    if (!(this instanceof WidgetAnnotationElement)) {\n      container.tabIndex = DEFAULT_TAB_INDEX;\n    }\n\n    // The accessibility manager will move the annotation in the DOM in\n    // order to match the visual ordering.\n    // But if an annotation is above an other one, then we must draw it\n    // after the other one whatever the order is in the DOM, hence the\n    // use of the z-index.\n    container.style.zIndex = this.parent.zIndex++;\n\n    if (this.data.popupRef) {\n      container.setAttribute(\"aria-haspopup\", \"dialog\");\n    }\n\n    if (data.noRotate) {\n      container.classList.add(\"norotate\");\n    }\n\n    const { pageWidth, pageHeight, pageX, pageY } = viewport.rawDims;\n\n    if (!data.rect || this instanceof PopupAnnotationElement) {\n      const { rotation } = data;\n      if (!data.hasOwnCanvas && rotation !== 0) {\n        this.setRotation(rotation, container);\n      }\n      return container;\n    }\n\n    const { width, height } = getRectDims(data.rect);\n\n    // Do *not* modify `data.rect`, since that will corrupt the annotation\n    // position on subsequent calls to `_createContainer` (see issue 6804).\n    const rect = Util.normalizeRect([\n      data.rect[0],\n      page.view[3] - data.rect[1] + page.view[1],\n      data.rect[2],\n      page.view[3] - data.rect[3] + page.view[1],\n    ]);\n\n    if (!ignoreBorder && data.borderStyle.width > 0) {\n      container.style.borderWidth = `${data.borderStyle.width}px`;\n\n      const horizontalRadius = data.borderStyle.horizontalCornerRadius;\n      const verticalRadius = data.borderStyle.verticalCornerRadius;\n      if (horizontalRadius > 0 || verticalRadius > 0) {\n        const radius = `calc(${horizontalRadius}px * var(--scale-factor)) / calc(${verticalRadius}px * var(--scale-factor))`;\n        container.style.borderRadius = radius;\n      } else if (this instanceof RadioButtonWidgetAnnotationElement) {\n        const radius = `calc(${width}px * var(--scale-factor)) / calc(${height}px * var(--scale-factor))`;\n        container.style.borderRadius = radius;\n      }\n\n      switch (data.borderStyle.style) {\n        case AnnotationBorderStyleType.SOLID:\n          container.style.borderStyle = \"solid\";\n          break;\n\n        case AnnotationBorderStyleType.DASHED:\n          container.style.borderStyle = \"dashed\";\n          break;\n\n        case AnnotationBorderStyleType.BEVELED:\n          warn(\"Unimplemented border style: beveled\");\n          break;\n\n        case AnnotationBorderStyleType.INSET:\n          warn(\"Unimplemented border style: inset\");\n          break;\n\n        case AnnotationBorderStyleType.UNDERLINE:\n          container.style.borderBottomStyle = \"solid\";\n          break;\n\n        default:\n          break;\n      }\n\n      const borderColor = data.borderColor || null;\n      if (borderColor) {\n        this.#hasBorder = true;\n        container.style.borderColor = Util.makeHexColor(\n          borderColor[0] | 0,\n          borderColor[1] | 0,\n          borderColor[2] | 0\n        );\n      } else {\n        // Transparent (invisible) border, so do not draw it at all.\n        container.style.borderWidth = 0;\n      }\n    }\n\n    container.style.left = `${(100 * (rect[0] - pageX)) / pageWidth}%`;\n    container.style.top = `${(100 * (rect[1] - pageY)) / pageHeight}%`;\n\n    const { rotation } = data;\n    if (data.hasOwnCanvas || rotation === 0) {\n      container.style.width = `${(100 * width) / pageWidth}%`;\n      container.style.height = `${(100 * height) / pageHeight}%`;\n    } else {\n      this.setRotation(rotation, container);\n    }\n\n    return container;\n  }\n\n  setRotation(angle, container = this.container) {\n    if (!this.data.rect) {\n      return;\n    }\n    const { pageWidth, pageHeight } = this.parent.viewport.rawDims;\n    const { width, height } = getRectDims(this.data.rect);\n\n    let elementWidth, elementHeight;\n    if (angle % 180 === 0) {\n      elementWidth = (100 * width) / pageWidth;\n      elementHeight = (100 * height) / pageHeight;\n    } else {\n      elementWidth = (100 * height) / pageWidth;\n      elementHeight = (100 * width) / pageHeight;\n    }\n\n    container.style.width = `${elementWidth}%`;\n    container.style.height = `${elementHeight}%`;\n\n    container.setAttribute(\"data-main-rotation\", (360 - angle) % 360);\n  }\n\n  get _commonActions() {\n    const setColor = (jsName, styleName, event) => {\n      const color = event.detail[jsName];\n      const colorType = color[0];\n      const colorArray = color.slice(1);\n      event.target.style[styleName] =\n        ColorConverters[`${colorType}_HTML`](colorArray);\n      this.annotationStorage.setValue(this.data.id, {\n        [styleName]: ColorConverters[`${colorType}_rgb`](colorArray),\n      });\n    };\n\n    return shadow(this, \"_commonActions\", {\n      display: event => {\n        const { display } = event.detail;\n        // See scripting/constants.js for the values of `Display`.\n        // 0 = visible, 1 = hidden, 2 = noPrint and 3 = noView.\n        const hidden = display % 2 === 1;\n        this.container.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          noView: hidden,\n          noPrint: display === 1 || display === 2,\n        });\n      },\n      print: event => {\n        this.annotationStorage.setValue(this.data.id, {\n          noPrint: !event.detail.print,\n        });\n      },\n      hidden: event => {\n        const { hidden } = event.detail;\n        this.container.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          noPrint: hidden,\n          noView: hidden,\n        });\n      },\n      focus: event => {\n        setTimeout(() => event.target.focus({ preventScroll: false }), 0);\n      },\n      userName: event => {\n        // tooltip\n        event.target.title = event.detail.userName;\n      },\n      readonly: event => {\n        event.target.disabled = event.detail.readonly;\n      },\n      required: event => {\n        this._setRequired(event.target, event.detail.required);\n      },\n      bgColor: event => {\n        setColor(\"bgColor\", \"backgroundColor\", event);\n      },\n      fillColor: event => {\n        setColor(\"fillColor\", \"backgroundColor\", event);\n      },\n      fgColor: event => {\n        setColor(\"fgColor\", \"color\", event);\n      },\n      textColor: event => {\n        setColor(\"textColor\", \"color\", event);\n      },\n      borderColor: event => {\n        setColor(\"borderColor\", \"borderColor\", event);\n      },\n      strokeColor: event => {\n        setColor(\"strokeColor\", \"borderColor\", event);\n      },\n      rotation: event => {\n        const angle = event.detail.rotation;\n        this.setRotation(angle);\n        this.annotationStorage.setValue(this.data.id, {\n          rotation: angle,\n        });\n      },\n    });\n  }\n\n  _dispatchEventFromSandbox(actions, jsEvent) {\n    const commonActions = this._commonActions;\n    for (const name of Object.keys(jsEvent.detail)) {\n      const action = actions[name] || commonActions[name];\n      action?.(jsEvent);\n    }\n  }\n\n  _setDefaultPropertiesFromJS(element) {\n    if (!this.enableScripting) {\n      return;\n    }\n\n    // Some properties may have been updated thanks to JS.\n    const storedData = this.annotationStorage.getRawValue(this.data.id);\n    if (!storedData) {\n      return;\n    }\n\n    const commonActions = this._commonActions;\n    for (const [actionName, detail] of Object.entries(storedData)) {\n      const action = commonActions[actionName];\n      if (action) {\n        const eventProxy = {\n          detail: {\n            [actionName]: detail,\n          },\n          target: element,\n        };\n        action(eventProxy);\n        // The action has been consumed: no need to keep it.\n        delete storedData[actionName];\n      }\n    }\n  }\n\n  /**\n   * Create quadrilaterals from the annotation's quadpoints.\n   *\n   * @private\n   * @memberof AnnotationElement\n   */\n  _createQuadrilaterals() {\n    if (!this.container) {\n      return;\n    }\n    const { quadPoints } = this.data;\n    if (!quadPoints) {\n      return;\n    }\n\n    const [rectBlX, rectBlY, rectTrX, rectTrY] = this.data.rect;\n\n    if (quadPoints.length === 1) {\n      const [, { x: trX, y: trY }, { x: blX, y: blY }] = quadPoints[0];\n      if (\n        rectTrX === trX &&\n        rectTrY === trY &&\n        rectBlX === blX &&\n        rectBlY === blY\n      ) {\n        // The quadpoints cover the whole annotation rectangle, so no need to\n        // create a quadrilateral.\n        return;\n      }\n    }\n\n    const { style } = this.container;\n    let svgBuffer;\n    if (this.#hasBorder) {\n      const { borderColor, borderWidth } = style;\n      style.borderWidth = 0;\n      svgBuffer = [\n        \"url('data:image/svg+xml;utf8,\",\n        `<svg xmlns=\"http://www.w3.org/2000/svg\"`,\n        ` preserveAspectRatio=\"none\" viewBox=\"0 0 1 1\">`,\n        `<g fill=\"transparent\" stroke=\"${borderColor}\" stroke-width=\"${borderWidth}\">`,\n      ];\n      this.container.classList.add(\"hasBorder\");\n    }\n\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n      this.container.classList.add(\"hasClipPath\");\n    }\n\n    const width = rectTrX - rectBlX;\n    const height = rectTrY - rectBlY;\n\n    const { svgFactory } = this;\n    const svg = svgFactory.createElement(\"svg\");\n    svg.classList.add(\"quadrilateralsContainer\");\n    svg.setAttribute(\"width\", 0);\n    svg.setAttribute(\"height\", 0);\n    const defs = svgFactory.createElement(\"defs\");\n    svg.append(defs);\n    const clipPath = svgFactory.createElement(\"clipPath\");\n    const id = `clippath_${this.data.id}`;\n    clipPath.setAttribute(\"id\", id);\n    clipPath.setAttribute(\"clipPathUnits\", \"objectBoundingBox\");\n    defs.append(clipPath);\n\n    for (const [, { x: trX, y: trY }, { x: blX, y: blY }] of quadPoints) {\n      const rect = svgFactory.createElement(\"rect\");\n      const x = (blX - rectBlX) / width;\n      const y = (rectTrY - trY) / height;\n      const rectWidth = (trX - blX) / width;\n      const rectHeight = (trY - blY) / height;\n      rect.setAttribute(\"x\", x);\n      rect.setAttribute(\"y\", y);\n      rect.setAttribute(\"width\", rectWidth);\n      rect.setAttribute(\"height\", rectHeight);\n      clipPath.append(rect);\n      svgBuffer?.push(\n        `<rect vector-effect=\"non-scaling-stroke\" x=\"${x}\" y=\"${y}\" width=\"${rectWidth}\" height=\"${rectHeight}\"/>`\n      );\n    }\n\n    if (this.#hasBorder) {\n      svgBuffer.push(`</g></svg>')`);\n      style.backgroundImage = svgBuffer.join(\"\");\n    }\n\n    this.container.append(svg);\n    this.container.style.clipPath = `url(#${id})`;\n  }\n\n  /**\n   * Create a popup for the annotation's HTML element. This is used for\n   * annotations that do not have a Popup entry in the dictionary, but\n   * are of a type that works with popups (such as Highlight annotations).\n   *\n   * @private\n   * @memberof AnnotationElement\n   */\n  _createPopup() {\n    const { container, data } = this;\n    container.setAttribute(\"aria-haspopup\", \"dialog\");\n\n    const popup = new PopupAnnotationElement({\n      data: {\n        color: data.color,\n        titleObj: data.titleObj,\n        modificationDate: data.modificationDate,\n        contentsObj: data.contentsObj,\n        richText: data.richText,\n        parentRect: data.rect,\n        borderStyle: 0,\n        id: `popup_${data.id}`,\n        rotation: data.rotation,\n      },\n      parent: this.parent,\n      elements: [this],\n    });\n    this.parent.div.append(popup.render());\n  }\n\n  /**\n   * Render the annotation's HTML element(s).\n   *\n   * @public\n   * @memberof AnnotationElement\n   */\n  render() {\n    unreachable(\"Abstract method `AnnotationElement.render` called\");\n  }\n\n  /**\n   * @private\n   * @returns {Array}\n   */\n  _getElementsByName(name, skipId = null) {\n    const fields = [];\n\n    if (this._fieldObjects) {\n      const fieldObj = this._fieldObjects[name];\n      if (fieldObj) {\n        for (const { page, id, exportValues } of fieldObj) {\n          if (page === -1) {\n            continue;\n          }\n          if (id === skipId) {\n            continue;\n          }\n          const exportValue =\n            typeof exportValues === \"string\" ? exportValues : null;\n\n          const domElement = document.querySelector(\n            `[data-element-id=\"${id}\"]`\n          );\n          if (domElement && !GetElementsByNameSet.has(domElement)) {\n            warn(`_getElementsByName - element not allowed: ${id}`);\n            continue;\n          }\n          fields.push({ id, exportValue, domElement });\n        }\n      }\n      return fields;\n    }\n    // Fallback to a regular DOM lookup, to ensure that the standalone\n    // viewer components won't break.\n    for (const domElement of document.getElementsByName(name)) {\n      const { exportValue } = domElement;\n      const id = domElement.getAttribute(\"data-element-id\");\n      if (id === skipId) {\n        continue;\n      }\n      if (!GetElementsByNameSet.has(domElement)) {\n        continue;\n      }\n      fields.push({ id, exportValue, domElement });\n    }\n    return fields;\n  }\n\n  show() {\n    if (this.container) {\n      this.container.hidden = false;\n    }\n    this.popup?.maybeShow();\n  }\n\n  hide() {\n    if (this.container) {\n      this.container.hidden = true;\n    }\n    this.popup?.forceHide();\n  }\n\n  /**\n   * Get the HTML element(s) which can trigger a popup when clicked or hovered.\n   *\n   * @public\n   * @memberof AnnotationElement\n   * @returns {Array<HTMLElement>|HTMLElement} An array of elements or an\n   *          element.\n   */\n  getElementsToTriggerPopup() {\n    return this.container;\n  }\n\n  addHighlightArea() {\n    const triggers = this.getElementsToTriggerPopup();\n    if (Array.isArray(triggers)) {\n      for (const element of triggers) {\n        element.classList.add(\"highlightArea\");\n      }\n    } else {\n      triggers.classList.add(\"highlightArea\");\n    }\n  }\n\n  _editOnDoubleClick() {\n    const {\n      annotationEditorType: mode,\n      data: { id: editId },\n    } = this;\n    this.container.addEventListener(\"dblclick\", () => {\n      this.linkService.eventBus?.dispatch(\"switchannotationeditormode\", {\n        source: this,\n        mode,\n        editId,\n      });\n    });\n  }\n}\n\nclass LinkAnnotationElement extends AnnotationElement {\n  constructor(parameters, options = null) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: !!options?.ignoreBorder,\n      createQuadrilaterals: true,\n    });\n    this.isTooltipOnly = parameters.data.isTooltipOnly;\n  }\n\n  render() {\n    const { data, linkService } = this;\n    const link = document.createElement(\"a\");\n    link.setAttribute(\"data-element-id\", data.id);\n    let isBound = false;\n\n    if (data.url) {\n      linkService.addLinkAttributes(link, data.url, data.newWindow);\n      isBound = true;\n    } else if (data.action) {\n      this._bindNamedAction(link, data.action);\n      isBound = true;\n    } else if (data.attachment) {\n      this._bindAttachment(link, data.attachment);\n      isBound = true;\n    } else if (data.setOCGState) {\n      this.#bindSetOCGState(link, data.setOCGState);\n      isBound = true;\n    } else if (data.dest) {\n      this._bindLink(link, data.dest);\n      isBound = true;\n    } else {\n      if (\n        data.actions &&\n        (data.actions.Action ||\n          data.actions[\"Mouse Up\"] ||\n          data.actions[\"Mouse Down\"]) &&\n        this.enableScripting &&\n        this.hasJSActions\n      ) {\n        this._bindJSAction(link, data);\n        isBound = true;\n      }\n\n      if (data.resetForm) {\n        this._bindResetFormAction(link, data.resetForm);\n        isBound = true;\n      } else if (this.isTooltipOnly && !isBound) {\n        this._bindLink(link, \"\");\n        isBound = true;\n      }\n    }\n\n    this.container.classList.add(\"linkAnnotation\");\n    if (isBound) {\n      this.container.append(link);\n    }\n\n    return this.container;\n  }\n\n  #setInternalLink() {\n    this.container.setAttribute(\"data-internal-link\", \"\");\n  }\n\n  /**\n   * Bind internal links to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} destination\n   * @memberof LinkAnnotationElement\n   */\n  _bindLink(link, destination) {\n    link.href = this.linkService.getDestinationHash(destination);\n    link.onclick = () => {\n      if (destination) {\n        this.linkService.goToDestination(destination);\n      }\n      return false;\n    };\n    if (destination || destination === /* isTooltipOnly = */ \"\") {\n      this.#setInternalLink();\n    }\n  }\n\n  /**\n   * Bind named actions to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} action\n   * @memberof LinkAnnotationElement\n   */\n  _bindNamedAction(link, action) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeNamedAction(action);\n      return false;\n    };\n    this.#setInternalLink();\n  }\n\n  /**\n   * Bind attachments to the link element.\n   * @param {Object} link\n   * @param {Object} attachment\n   */\n  _bindAttachment(link, attachment) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.downloadManager?.openOrDownloadData(\n        this.container,\n        attachment.content,\n        attachment.filename\n      );\n      return false;\n    };\n    this.#setInternalLink();\n  }\n\n  /**\n   * Bind SetOCGState actions to the link element.\n   * @param {Object} link\n   * @param {Object} action\n   */\n  #bindSetOCGState(link, action) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeSetOCGState(action);\n      return false;\n    };\n    this.#setInternalLink();\n  }\n\n  /**\n   * Bind JS actions to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} data\n   * @memberof LinkAnnotationElement\n   */\n  _bindJSAction(link, data) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    const map = new Map([\n      [\"Action\", \"onclick\"],\n      [\"Mouse Up\", \"onmouseup\"],\n      [\"Mouse Down\", \"onmousedown\"],\n    ]);\n    for (const name of Object.keys(data.actions)) {\n      const jsName = map.get(name);\n      if (!jsName) {\n        continue;\n      }\n      link[jsName] = () => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: data.id,\n            name,\n          },\n        });\n        return false;\n      };\n    }\n\n    if (!link.onclick) {\n      link.onclick = () => false;\n    }\n    this.#setInternalLink();\n  }\n\n  _bindResetFormAction(link, resetForm) {\n    const otherClickAction = link.onclick;\n    if (!otherClickAction) {\n      link.href = this.linkService.getAnchorUrl(\"\");\n    }\n    this.#setInternalLink();\n\n    if (!this._fieldObjects) {\n      warn(\n        `_bindResetFormAction - \"resetForm\" action not supported, ` +\n          \"ensure that the `fieldObjects` parameter is provided.\"\n      );\n      if (!otherClickAction) {\n        link.onclick = () => false;\n      }\n      return;\n    }\n\n    link.onclick = () => {\n      otherClickAction?.();\n\n      const {\n        fields: resetFormFields,\n        refs: resetFormRefs,\n        include,\n      } = resetForm;\n\n      const allFields = [];\n      if (resetFormFields.length !== 0 || resetFormRefs.length !== 0) {\n        const fieldIds = new Set(resetFormRefs);\n        for (const fieldName of resetFormFields) {\n          const fields = this._fieldObjects[fieldName] || [];\n          for (const { id } of fields) {\n            fieldIds.add(id);\n          }\n        }\n        for (const fields of Object.values(this._fieldObjects)) {\n          for (const field of fields) {\n            if (fieldIds.has(field.id) === include) {\n              allFields.push(field);\n            }\n          }\n        }\n      } else {\n        for (const fields of Object.values(this._fieldObjects)) {\n          allFields.push(...fields);\n        }\n      }\n\n      const storage = this.annotationStorage;\n      const allIds = [];\n      for (const field of allFields) {\n        const { id } = field;\n        allIds.push(id);\n        switch (field.type) {\n          case \"text\": {\n            const value = field.defaultValue || \"\";\n            storage.setValue(id, { value });\n            break;\n          }\n          case \"checkbox\":\n          case \"radiobutton\": {\n            const value = field.defaultValue === field.exportValues;\n            storage.setValue(id, { value });\n            break;\n          }\n          case \"combobox\":\n          case \"listbox\": {\n            const value = field.defaultValue || \"\";\n            storage.setValue(id, { value });\n            break;\n          }\n          default:\n            continue;\n        }\n\n        const domElement = document.querySelector(`[data-element-id=\"${id}\"]`);\n        if (!domElement) {\n          continue;\n        } else if (!GetElementsByNameSet.has(domElement)) {\n          warn(`_bindResetFormAction - element not allowed: ${id}`);\n          continue;\n        }\n        domElement.dispatchEvent(new Event(\"resetform\"));\n      }\n\n      if (this.enableScripting) {\n        // Update the values in the sandbox.\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: \"app\",\n            ids: allIds,\n            name: \"ResetForm\",\n          },\n        });\n      }\n\n      return false;\n    };\n  }\n}\n\nclass TextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: true });\n  }\n\n  render() {\n    this.container.classList.add(\"textAnnotation\");\n\n    const image = document.createElement(\"img\");\n    image.src =\n      this.imageResourcesPath +\n      \"annotation-\" +\n      this.data.name.toLowerCase() +\n      \".svg\";\n    image.alt = \"[{{type}} Annotation]\";\n    image.dataset.l10nId = \"text_annotation_type\";\n    image.dataset.l10nArgs = JSON.stringify({ type: this.data.name });\n\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    this.container.append(image);\n    return this.container;\n  }\n}\n\nclass WidgetAnnotationElement extends AnnotationElement {\n  render() {\n    // Show only the container for unsupported field types.\n    if (this.data.alternativeText) {\n      this.container.title = this.data.alternativeText;\n    }\n\n    return this.container;\n  }\n\n  showElementAndHideCanvas(element) {\n    if (this.data.hasOwnCanvas) {\n      if (element.previousSibling?.nodeName === \"CANVAS\") {\n        element.previousSibling.hidden = true;\n      }\n      element.hidden = false;\n    }\n  }\n\n  _getKeyModifier(event) {\n    const { isWin, isMac } = FeatureTest.platform;\n    return (isWin && event.ctrlKey) || (isMac && event.metaKey);\n  }\n\n  _setEventListener(element, elementData, baseName, eventName, valueGetter) {\n    if (baseName.includes(\"mouse\")) {\n      // Mouse events\n      element.addEventListener(baseName, event => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event),\n            shift: event.shiftKey,\n            modifier: this._getKeyModifier(event),\n          },\n        });\n      });\n    } else {\n      // Non-mouse events\n      element.addEventListener(baseName, event => {\n        if (baseName === \"blur\") {\n          if (!elementData.focused || !event.relatedTarget) {\n            return;\n          }\n          elementData.focused = false;\n        } else if (baseName === \"focus\") {\n          if (elementData.focused) {\n            return;\n          }\n          elementData.focused = true;\n        }\n\n        if (!valueGetter) {\n          return;\n        }\n\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event),\n          },\n        });\n      });\n    }\n  }\n\n  _setEventListeners(element, elementData, names, getter) {\n    for (const [baseName, eventName] of names) {\n      if (eventName === \"Action\" || this.data.actions?.[eventName]) {\n        if (eventName === \"Focus\" || eventName === \"Blur\") {\n          elementData ||= { focused: false };\n        }\n        this._setEventListener(\n          element,\n          elementData,\n          baseName,\n          eventName,\n          getter\n        );\n        if (eventName === \"Focus\" && !this.data.actions?.Blur) {\n          // Ensure that elementData will have the correct value.\n          this._setEventListener(element, elementData, \"blur\", \"Blur\", null);\n        } else if (eventName === \"Blur\" && !this.data.actions?.Focus) {\n          this._setEventListener(element, elementData, \"focus\", \"Focus\", null);\n        }\n      }\n    }\n  }\n\n  _setBackgroundColor(element) {\n    const color = this.data.backgroundColor || null;\n    element.style.backgroundColor =\n      color === null\n        ? \"transparent\"\n        : Util.makeHexColor(color[0], color[1], color[2]);\n  }\n\n  /**\n   * Apply text styles to the text in the element.\n   *\n   * @private\n   * @param {HTMLDivElement} element\n   * @memberof TextWidgetAnnotationElement\n   */\n  _setTextStyle(element) {\n    const TEXT_ALIGNMENT = [\"left\", \"center\", \"right\"];\n    const { fontColor } = this.data.defaultAppearanceData;\n    const fontSize =\n      this.data.defaultAppearanceData.fontSize || DEFAULT_FONT_SIZE;\n\n    const style = element.style;\n\n    // TODO: If the font-size is zero, calculate it based on the height and\n    //       width of the element.\n    // Not setting `style.fontSize` will use the default font-size for now.\n\n    // We don't use the font, as specified in the PDF document, for the <input>\n    // element. Hence using the original `fontSize` could look bad, which is why\n    // it's instead based on the field height.\n    // If the height is \"big\" then it could lead to a too big font size\n    // so in this case use the one we've in the pdf (hence the min).\n    let computedFontSize;\n    const BORDER_SIZE = 2;\n    const roundToOneDecimal = x => Math.round(10 * x) / 10;\n    if (this.data.multiLine) {\n      const height = Math.abs(\n        this.data.rect[3] - this.data.rect[1] - BORDER_SIZE\n      );\n      const numberOfLines = Math.round(height / (LINE_FACTOR * fontSize)) || 1;\n      const lineHeight = height / numberOfLines;\n      computedFontSize = Math.min(\n        fontSize,\n        roundToOneDecimal(lineHeight / LINE_FACTOR)\n      );\n    } else {\n      const height = Math.abs(\n        this.data.rect[3] - this.data.rect[1] - BORDER_SIZE\n      );\n      computedFontSize = Math.min(\n        fontSize,\n        roundToOneDecimal(height / LINE_FACTOR)\n      );\n    }\n    style.fontSize = `calc(${computedFontSize}px * var(--scale-factor))`;\n\n    style.color = Util.makeHexColor(fontColor[0], fontColor[1], fontColor[2]);\n\n    if (this.data.textAlignment !== null) {\n      style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n    }\n  }\n\n  _setRequired(element, isRequired) {\n    if (isRequired) {\n      element.setAttribute(\"required\", true);\n    } else {\n      element.removeAttribute(\"required\");\n    }\n    element.setAttribute(\"aria-required\", isRequired);\n  }\n}\n\nclass TextWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    const isRenderable =\n      parameters.renderForms ||\n      (!parameters.data.hasAppearance && !!parameters.data.fieldValue);\n    super(parameters, { isRenderable });\n  }\n\n  setPropertyOnSiblings(base, key, value, keyInStorage) {\n    const storage = this.annotationStorage;\n    for (const element of this._getElementsByName(\n      base.name,\n      /* skipId = */ base.id\n    )) {\n      if (element.domElement) {\n        element.domElement[key] = value;\n      }\n      storage.setValue(element.id, { [keyInStorage]: value });\n    }\n  }\n\n  render() {\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n\n    this.container.classList.add(\"textWidgetAnnotation\");\n\n    let element = null;\n    if (this.renderForms) {\n      // NOTE: We cannot set the values using `element.value` below, since it\n      //       prevents the AnnotationLayer rasterizer in `test/driver.js`\n      //       from parsing the elements correctly for the reference tests.\n      const storedData = storage.getValue(id, {\n        value: this.data.fieldValue,\n      });\n      let textContent = storedData.value || \"\";\n      const maxLen = storage.getValue(id, {\n        charLimit: this.data.maxLen,\n      }).charLimit;\n      if (maxLen && textContent.length > maxLen) {\n        textContent = textContent.slice(0, maxLen);\n      }\n\n      let fieldFormattedValues =\n        storedData.formattedValue || this.data.textContent?.join(\"\\n\") || null;\n      if (fieldFormattedValues && this.data.comb) {\n        fieldFormattedValues = fieldFormattedValues.replaceAll(/\\s+/g, \"\");\n      }\n\n      const elementData = {\n        userValue: textContent,\n        formattedValue: fieldFormattedValues,\n        lastCommittedValue: null,\n        commitKey: 1,\n        focused: false,\n      };\n\n      if (this.data.multiLine) {\n        element = document.createElement(\"textarea\");\n        element.textContent = fieldFormattedValues ?? textContent;\n        if (this.data.doNotScroll) {\n          element.style.overflowY = \"hidden\";\n        }\n      } else {\n        element = document.createElement(\"input\");\n        element.type = \"text\";\n        element.setAttribute(\"value\", fieldFormattedValues ?? textContent);\n        if (this.data.doNotScroll) {\n          element.style.overflowX = \"hidden\";\n        }\n      }\n      if (this.data.hasOwnCanvas) {\n        element.hidden = true;\n      }\n      GetElementsByNameSet.add(element);\n      element.setAttribute(\"data-element-id\", id);\n\n      element.disabled = this.data.readOnly;\n      element.name = this.data.fieldName;\n      element.tabIndex = DEFAULT_TAB_INDEX;\n\n      this._setRequired(element, this.data.required);\n\n      if (maxLen) {\n        element.maxLength = maxLen;\n      }\n\n      element.addEventListener(\"input\", event => {\n        storage.setValue(id, { value: event.target.value });\n        this.setPropertyOnSiblings(\n          element,\n          \"value\",\n          event.target.value,\n          \"value\"\n        );\n        elementData.formattedValue = null;\n      });\n\n      element.addEventListener(\"resetform\", event => {\n        const defaultValue = this.data.defaultFieldValue ?? \"\";\n        element.value = elementData.userValue = defaultValue;\n        elementData.formattedValue = null;\n      });\n\n      let blurListener = event => {\n        const { formattedValue } = elementData;\n        if (formattedValue !== null && formattedValue !== undefined) {\n          event.target.value = formattedValue;\n        }\n        // Reset the cursor position to the start of the field (issue 12359).\n        event.target.scrollLeft = 0;\n      };\n\n      if (this.enableScripting && this.hasJSActions) {\n        element.addEventListener(\"focus\", event => {\n          if (elementData.focused) {\n            return;\n          }\n          const { target } = event;\n          if (elementData.userValue) {\n            target.value = elementData.userValue;\n          }\n          elementData.lastCommittedValue = target.value;\n          elementData.commitKey = 1;\n          elementData.focused = true;\n        });\n\n        element.addEventListener(\"updatefromsandbox\", jsEvent => {\n          this.showElementAndHideCanvas(jsEvent.target);\n          const actions = {\n            value(event) {\n              elementData.userValue = event.detail.value ?? \"\";\n              storage.setValue(id, { value: elementData.userValue.toString() });\n              event.target.value = elementData.userValue;\n            },\n            formattedValue(event) {\n              const { formattedValue } = event.detail;\n              elementData.formattedValue = formattedValue;\n              if (\n                formattedValue !== null &&\n                formattedValue !== undefined &&\n                event.target !== document.activeElement\n              ) {\n                // Input hasn't the focus so display formatted string\n                event.target.value = formattedValue;\n              }\n              storage.setValue(id, {\n                formattedValue,\n              });\n            },\n            selRange(event) {\n              event.target.setSelectionRange(...event.detail.selRange);\n            },\n            charLimit: event => {\n              const { charLimit } = event.detail;\n              const { target } = event;\n              if (charLimit === 0) {\n                target.removeAttribute(\"maxLength\");\n                return;\n              }\n\n              target.setAttribute(\"maxLength\", charLimit);\n              let value = elementData.userValue;\n              if (!value || value.length <= charLimit) {\n                return;\n              }\n              value = value.slice(0, charLimit);\n              target.value = elementData.userValue = value;\n              storage.setValue(id, { value });\n\n              this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n                source: this,\n                detail: {\n                  id,\n                  name: \"Keystroke\",\n                  value,\n                  willCommit: true,\n                  commitKey: 1,\n                  selStart: target.selectionStart,\n                  selEnd: target.selectionEnd,\n                },\n              });\n            },\n          };\n          this._dispatchEventFromSandbox(actions, jsEvent);\n        });\n\n        // Even if the field hasn't any actions\n        // leaving it can still trigger some actions with Calculate\n        element.addEventListener(\"keydown\", event => {\n          elementData.commitKey = 1;\n          // If the key is one of Escape, Enter then the data are committed.\n          // If we've a Tab then data will be committed on blur.\n          let commitKey = -1;\n          if (event.key === \"Escape\") {\n            commitKey = 0;\n          } else if (event.key === \"Enter\" && !this.data.multiLine) {\n            // When we've a multiline field, \"Enter\" key is a key as the other\n            // hence we don't commit the data (Acrobat behaves the same way)\n            // (see issue #15627).\n            commitKey = 2;\n          } else if (event.key === \"Tab\") {\n            elementData.commitKey = 3;\n          }\n          if (commitKey === -1) {\n            return;\n          }\n          const { value } = event.target;\n          if (elementData.lastCommittedValue === value) {\n            return;\n          }\n          elementData.lastCommittedValue = value;\n          // Save the entered value\n          elementData.userValue = value;\n          this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n            source: this,\n            detail: {\n              id,\n              name: \"Keystroke\",\n              value,\n              willCommit: true,\n              commitKey,\n              selStart: event.target.selectionStart,\n              selEnd: event.target.selectionEnd,\n            },\n          });\n        });\n        const _blurListener = blurListener;\n        blurListener = null;\n        element.addEventListener(\"blur\", event => {\n          if (!elementData.focused || !event.relatedTarget) {\n            return;\n          }\n          elementData.focused = false;\n          const { value } = event.target;\n          elementData.userValue = value;\n          if (elementData.lastCommittedValue !== value) {\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                willCommit: true,\n                commitKey: elementData.commitKey,\n                selStart: event.target.selectionStart,\n                selEnd: event.target.selectionEnd,\n              },\n            });\n          }\n          _blurListener(event);\n        });\n\n        if (this.data.actions?.Keystroke) {\n          element.addEventListener(\"beforeinput\", event => {\n            elementData.lastCommittedValue = null;\n            const { data, target } = event;\n            const { value, selectionStart, selectionEnd } = target;\n\n            let selStart = selectionStart,\n              selEnd = selectionEnd;\n\n            switch (event.inputType) {\n              // https://rawgit.com/w3c/input-events/v1/index.html#interface-InputEvent-Attributes\n              case \"deleteWordBackward\": {\n                const match = value\n                  .substring(0, selectionStart)\n                  .match(/\\w*[^\\w]*$/);\n                if (match) {\n                  selStart -= match[0].length;\n                }\n                break;\n              }\n              case \"deleteWordForward\": {\n                const match = value\n                  .substring(selectionStart)\n                  .match(/^[^\\w]*\\w*/);\n                if (match) {\n                  selEnd += match[0].length;\n                }\n                break;\n              }\n              case \"deleteContentBackward\":\n                if (selectionStart === selectionEnd) {\n                  selStart -= 1;\n                }\n                break;\n              case \"deleteContentForward\":\n                if (selectionStart === selectionEnd) {\n                  selEnd += 1;\n                }\n                break;\n            }\n\n            // We handle the event ourselves.\n            event.preventDefault();\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                change: data || \"\",\n                willCommit: false,\n                selStart,\n                selEnd,\n              },\n            });\n          });\n        }\n\n        this._setEventListeners(\n          element,\n          elementData,\n          [\n            [\"focus\", \"Focus\"],\n            [\"blur\", \"Blur\"],\n            [\"mousedown\", \"Mouse Down\"],\n            [\"mouseenter\", \"Mouse Enter\"],\n            [\"mouseleave\", \"Mouse Exit\"],\n            [\"mouseup\", \"Mouse Up\"],\n          ],\n          event => event.target.value\n        );\n      }\n\n      if (blurListener) {\n        element.addEventListener(\"blur\", blurListener);\n      }\n\n      if (this.data.comb) {\n        const fieldWidth = this.data.rect[2] - this.data.rect[0];\n        const combWidth = fieldWidth / maxLen;\n\n        element.classList.add(\"comb\");\n        element.style.letterSpacing = `calc(${combWidth}px * var(--scale-factor) - 1ch)`;\n      }\n    } else {\n      element = document.createElement(\"div\");\n      element.textContent = this.data.fieldValue;\n      element.style.verticalAlign = \"middle\";\n      element.style.display = \"table-cell\";\n    }\n\n    this._setTextStyle(element);\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n\n    this.container.append(element);\n    return this.container;\n  }\n}\n\nclass SignatureWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: !!parameters.data.hasOwnCanvas });\n  }\n}\n\nclass CheckboxWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: parameters.renderForms });\n  }\n\n  render() {\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.exportValue === data.fieldValue,\n    }).value;\n    if (typeof value === \"string\") {\n      // The value has been changed through js and set in annotationStorage.\n      value = value !== \"Off\";\n      storage.setValue(id, { value });\n    }\n\n    this.container.classList.add(\"buttonWidgetAnnotation\", \"checkBox\");\n\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.setAttribute(\"data-element-id\", id);\n\n    element.disabled = data.readOnly;\n    this._setRequired(element, this.data.required);\n    element.type = \"checkbox\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.setAttribute(\"exportValue\", data.exportValue);\n    element.tabIndex = DEFAULT_TAB_INDEX;\n\n    element.addEventListener(\"change\", event => {\n      const { name, checked } = event.target;\n      for (const checkbox of this._getElementsByName(name, /* skipId = */ id)) {\n        const curChecked = checked && checkbox.exportValue === data.exportValue;\n        if (checkbox.domElement) {\n          checkbox.domElement.checked = curChecked;\n        }\n        storage.setValue(checkbox.id, { value: curChecked });\n      }\n      storage.setValue(id, { value: checked });\n    });\n\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue || \"Off\";\n      event.target.checked = defaultValue === data.exportValue;\n    });\n\n    if (this.enableScripting && this.hasJSActions) {\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            event.target.checked = event.detail.value !== \"Off\";\n            storage.setValue(id, { value: event.target.checked });\n          },\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n\n      this._setEventListeners(\n        element,\n        null,\n        [\n          [\"change\", \"Validate\"],\n          [\"change\", \"Action\"],\n          [\"focus\", \"Focus\"],\n          [\"blur\", \"Blur\"],\n          [\"mousedown\", \"Mouse Down\"],\n          [\"mouseenter\", \"Mouse Enter\"],\n          [\"mouseleave\", \"Mouse Exit\"],\n          [\"mouseup\", \"Mouse Up\"],\n        ],\n        event => event.target.checked\n      );\n    }\n\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n\n    this.container.append(element);\n    return this.container;\n  }\n}\n\nclass RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: parameters.renderForms });\n  }\n\n  render() {\n    this.container.classList.add(\"buttonWidgetAnnotation\", \"radioButton\");\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.fieldValue === data.buttonValue,\n    }).value;\n    if (typeof value === \"string\") {\n      // The value has been changed through js and set in annotationStorage.\n      value = value !== data.buttonValue;\n      storage.setValue(id, { value });\n    }\n\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.setAttribute(\"data-element-id\", id);\n\n    element.disabled = data.readOnly;\n    this._setRequired(element, this.data.required);\n    element.type = \"radio\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.tabIndex = DEFAULT_TAB_INDEX;\n\n    element.addEventListener(\"change\", event => {\n      const { name, checked } = event.target;\n      for (const radio of this._getElementsByName(name, /* skipId = */ id)) {\n        storage.setValue(radio.id, { value: false });\n      }\n      storage.setValue(id, { value: checked });\n    });\n\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue;\n      event.target.checked =\n        defaultValue !== null &&\n        defaultValue !== undefined &&\n        defaultValue === data.buttonValue;\n    });\n\n    if (this.enableScripting && this.hasJSActions) {\n      const pdfButtonValue = data.buttonValue;\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value: event => {\n            const checked = pdfButtonValue === event.detail.value;\n            for (const radio of this._getElementsByName(event.target.name)) {\n              const curChecked = checked && radio.id === id;\n              if (radio.domElement) {\n                radio.domElement.checked = curChecked;\n              }\n              storage.setValue(radio.id, { value: curChecked });\n            }\n          },\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n\n      this._setEventListeners(\n        element,\n        null,\n        [\n          [\"change\", \"Validate\"],\n          [\"change\", \"Action\"],\n          [\"focus\", \"Focus\"],\n          [\"blur\", \"Blur\"],\n          [\"mousedown\", \"Mouse Down\"],\n          [\"mouseenter\", \"Mouse Enter\"],\n          [\"mouseleave\", \"Mouse Exit\"],\n          [\"mouseup\", \"Mouse Up\"],\n        ],\n        event => event.target.checked\n      );\n    }\n\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n\n    this.container.append(element);\n    return this.container;\n  }\n}\n\nclass PushButtonWidgetAnnotationElement extends LinkAnnotationElement {\n  constructor(parameters) {\n    super(parameters, { ignoreBorder: parameters.data.hasAppearance });\n  }\n\n  render() {\n    // The rendering and functionality of a push button widget annotation is\n    // equal to that of a link annotation, but may have more functionality, such\n    // as performing actions on form fields (resetting, submitting, et cetera).\n    const container = super.render();\n    container.classList.add(\"buttonWidgetAnnotation\", \"pushButton\");\n\n    if (this.data.alternativeText) {\n      container.title = this.data.alternativeText;\n    }\n\n    const linkElement = container.lastChild;\n    if (this.enableScripting && this.hasJSActions && linkElement) {\n      this._setDefaultPropertiesFromJS(linkElement);\n\n      linkElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        this._dispatchEventFromSandbox({}, jsEvent);\n      });\n    }\n\n    return container;\n  }\n}\n\nclass ChoiceWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: parameters.renderForms });\n  }\n\n  render() {\n    this.container.classList.add(\"choiceWidgetAnnotation\");\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n\n    const storedData = storage.getValue(id, {\n      value: this.data.fieldValue,\n    });\n\n    const selectElement = document.createElement(\"select\");\n    GetElementsByNameSet.add(selectElement);\n    selectElement.setAttribute(\"data-element-id\", id);\n\n    selectElement.disabled = this.data.readOnly;\n    this._setRequired(selectElement, this.data.required);\n    selectElement.name = this.data.fieldName;\n    selectElement.tabIndex = DEFAULT_TAB_INDEX;\n\n    let addAnEmptyEntry = this.data.combo && this.data.options.length > 0;\n\n    if (!this.data.combo) {\n      // List boxes have a size and (optionally) multiple selection.\n      selectElement.size = this.data.options.length;\n      if (this.data.multiSelect) {\n        selectElement.multiple = true;\n      }\n    }\n\n    selectElement.addEventListener(\"resetform\", event => {\n      const defaultValue = this.data.defaultFieldValue;\n      for (const option of selectElement.options) {\n        option.selected = option.value === defaultValue;\n      }\n    });\n\n    // Insert the options into the choice field.\n    for (const option of this.data.options) {\n      const optionElement = document.createElement(\"option\");\n      optionElement.textContent = option.displayValue;\n      optionElement.value = option.exportValue;\n      if (storedData.value.includes(option.exportValue)) {\n        optionElement.setAttribute(\"selected\", true);\n        addAnEmptyEntry = false;\n      }\n      selectElement.append(optionElement);\n    }\n\n    let removeEmptyEntry = null;\n    if (addAnEmptyEntry) {\n      const noneOptionElement = document.createElement(\"option\");\n      noneOptionElement.value = \" \";\n      noneOptionElement.setAttribute(\"hidden\", true);\n      noneOptionElement.setAttribute(\"selected\", true);\n      selectElement.prepend(noneOptionElement);\n\n      removeEmptyEntry = () => {\n        noneOptionElement.remove();\n        selectElement.removeEventListener(\"input\", removeEmptyEntry);\n        removeEmptyEntry = null;\n      };\n      selectElement.addEventListener(\"input\", removeEmptyEntry);\n    }\n\n    const getValue = isExport => {\n      const name = isExport ? \"value\" : \"textContent\";\n      const { options, multiple } = selectElement;\n      if (!multiple) {\n        return options.selectedIndex === -1\n          ? null\n          : options[options.selectedIndex][name];\n      }\n      return Array.prototype.filter\n        .call(options, option => option.selected)\n        .map(option => option[name]);\n    };\n\n    let selectedValues = getValue(/* isExport */ false);\n\n    const getItems = event => {\n      const options = event.target.options;\n      return Array.prototype.map.call(options, option => {\n        return { displayValue: option.textContent, exportValue: option.value };\n      });\n    };\n\n    if (this.enableScripting && this.hasJSActions) {\n      selectElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            removeEmptyEntry?.();\n            const value = event.detail.value;\n            const values = new Set(Array.isArray(value) ? value : [value]);\n            for (const option of selectElement.options) {\n              option.selected = values.has(option.value);\n            }\n            storage.setValue(id, {\n              value: getValue(/* isExport */ true),\n            });\n            selectedValues = getValue(/* isExport */ false);\n          },\n          multipleSelection(event) {\n            selectElement.multiple = true;\n          },\n          remove(event) {\n            const options = selectElement.options;\n            const index = event.detail.remove;\n            options[index].selected = false;\n            selectElement.remove(index);\n            if (options.length > 0) {\n              const i = Array.prototype.findIndex.call(\n                options,\n                option => option.selected\n              );\n              if (i === -1) {\n                options[0].selected = true;\n              }\n            }\n            storage.setValue(id, {\n              value: getValue(/* isExport */ true),\n              items: getItems(event),\n            });\n            selectedValues = getValue(/* isExport */ false);\n          },\n          clear(event) {\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            storage.setValue(id, { value: null, items: [] });\n            selectedValues = getValue(/* isExport */ false);\n          },\n          insert(event) {\n            const { index, displayValue, exportValue } = event.detail.insert;\n            const selectChild = selectElement.children[index];\n            const optionElement = document.createElement(\"option\");\n            optionElement.textContent = displayValue;\n            optionElement.value = exportValue;\n\n            if (selectChild) {\n              selectChild.before(optionElement);\n            } else {\n              selectElement.append(optionElement);\n            }\n            storage.setValue(id, {\n              value: getValue(/* isExport */ true),\n              items: getItems(event),\n            });\n            selectedValues = getValue(/* isExport */ false);\n          },\n          items(event) {\n            const { items } = event.detail;\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            for (const item of items) {\n              const { displayValue, exportValue } = item;\n              const optionElement = document.createElement(\"option\");\n              optionElement.textContent = displayValue;\n              optionElement.value = exportValue;\n              selectElement.append(optionElement);\n            }\n            if (selectElement.options.length > 0) {\n              selectElement.options[0].selected = true;\n            }\n            storage.setValue(id, {\n              value: getValue(/* isExport */ true),\n              items: getItems(event),\n            });\n            selectedValues = getValue(/* isExport */ false);\n          },\n          indices(event) {\n            const indices = new Set(event.detail.indices);\n            for (const option of event.target.options) {\n              option.selected = indices.has(option.index);\n            }\n            storage.setValue(id, {\n              value: getValue(/* isExport */ true),\n            });\n            selectedValues = getValue(/* isExport */ false);\n          },\n          editable(event) {\n            event.target.disabled = !event.detail.editable;\n          },\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n\n      selectElement.addEventListener(\"input\", event => {\n        const exportValue = getValue(/* isExport */ true);\n        storage.setValue(id, { value: exportValue });\n\n        event.preventDefault();\n\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id,\n            name: \"Keystroke\",\n            value: selectedValues,\n            changeEx: exportValue,\n            willCommit: false,\n            commitKey: 1,\n            keyDown: false,\n          },\n        });\n      });\n\n      this._setEventListeners(\n        selectElement,\n        null,\n        [\n          [\"focus\", \"Focus\"],\n          [\"blur\", \"Blur\"],\n          [\"mousedown\", \"Mouse Down\"],\n          [\"mouseenter\", \"Mouse Enter\"],\n          [\"mouseleave\", \"Mouse Exit\"],\n          [\"mouseup\", \"Mouse Up\"],\n          [\"input\", \"Action\"],\n          [\"input\", \"Validate\"],\n        ],\n        event => event.target.value\n      );\n    } else {\n      selectElement.addEventListener(\"input\", function (event) {\n        storage.setValue(id, { value: getValue(/* isExport */ true) });\n      });\n    }\n\n    if (this.data.combo) {\n      this._setTextStyle(selectElement);\n    } else {\n      // Just use the default font size...\n      // it's a bit hard to guess what is a good size.\n    }\n    this._setBackgroundColor(selectElement);\n    this._setDefaultPropertiesFromJS(selectElement);\n\n    this.container.append(selectElement);\n    return this.container;\n  }\n}\n\nclass PopupAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const { data, elements } = parameters;\n    super(parameters, { isRenderable: AnnotationElement._hasPopupData(data) });\n    this.elements = elements;\n  }\n\n  render() {\n    this.container.classList.add(\"popupAnnotation\");\n\n    const popup = new PopupElement({\n      container: this.container,\n      color: this.data.color,\n      titleObj: this.data.titleObj,\n      modificationDate: this.data.modificationDate,\n      contentsObj: this.data.contentsObj,\n      richText: this.data.richText,\n      rect: this.data.rect,\n      parentRect: this.data.parentRect || null,\n      parent: this.parent,\n      elements: this.elements,\n      open: this.data.open,\n    });\n\n    const elementIds = [];\n    for (const element of this.elements) {\n      element.popup = popup;\n      elementIds.push(element.data.id);\n      element.addHighlightArea();\n    }\n\n    this.container.setAttribute(\n      \"aria-controls\",\n      elementIds.map(id => `${AnnotationPrefix}${id}`).join(\",\")\n    );\n\n    return this.container;\n  }\n}\n\nclass PopupElement {\n  #dateTimePromise = null;\n\n  #boundKeyDown = this.#keyDown.bind(this);\n\n  #boundHide = this.#hide.bind(this);\n\n  #boundShow = this.#show.bind(this);\n\n  #boundToggle = this.#toggle.bind(this);\n\n  #color = null;\n\n  #container = null;\n\n  #contentsObj = null;\n\n  #elements = null;\n\n  #parent = null;\n\n  #parentRect = null;\n\n  #pinned = false;\n\n  #popup = null;\n\n  #rect = null;\n\n  #richText = null;\n\n  #titleObj = null;\n\n  #wasVisible = false;\n\n  constructor({\n    container,\n    color,\n    elements,\n    titleObj,\n    modificationDate,\n    contentsObj,\n    richText,\n    parent,\n    rect,\n    parentRect,\n    open,\n  }) {\n    this.#container = container;\n    this.#titleObj = titleObj;\n    this.#contentsObj = contentsObj;\n    this.#richText = richText;\n    this.#parent = parent;\n    this.#color = color;\n    this.#rect = rect;\n    this.#parentRect = parentRect;\n    this.#elements = elements;\n\n    const dateObject = PDFDateString.toDateObject(modificationDate);\n    if (dateObject) {\n      // The modification date is shown in the popup instead of the creation\n      // date if it is available and can be parsed correctly, which is\n      // consistent with other viewers such as Adobe Acrobat.\n      this.#dateTimePromise = parent.l10n.get(\"annotation_date_string\", {\n        date: dateObject.toLocaleDateString(),\n        time: dateObject.toLocaleTimeString(),\n      });\n    }\n\n    this.trigger = elements.flatMap(e => e.getElementsToTriggerPopup());\n    // Attach the event listeners to the trigger element.\n    for (const element of this.trigger) {\n      element.addEventListener(\"click\", this.#boundToggle);\n      element.addEventListener(\"mouseenter\", this.#boundShow);\n      element.addEventListener(\"mouseleave\", this.#boundHide);\n      element.classList.add(\"popupTriggerArea\");\n    }\n\n    // Attach the event listener to toggle the popup with the keyboard.\n    for (const element of elements) {\n      element.container?.addEventListener(\"keydown\", this.#boundKeyDown);\n    }\n\n    this.#container.hidden = true;\n    if (open) {\n      this.#toggle();\n    }\n\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n      // Since the popup is lazily created, we need to ensure that it'll be\n      // created and displayed during reference tests.\n      this.#parent.popupShow.push(async () => {\n        if (this.#container.hidden) {\n          this.#show();\n        }\n        if (this.#dateTimePromise) {\n          await this.#dateTimePromise;\n        }\n      });\n    }\n  }\n\n  render() {\n    if (this.#popup) {\n      return;\n    }\n\n    const {\n      page: { view },\n      viewport: {\n        rawDims: { pageWidth, pageHeight, pageX, pageY },\n      },\n    } = this.#parent;\n    const popup = (this.#popup = document.createElement(\"div\"));\n    popup.className = \"popup\";\n\n    if (this.#color) {\n      const baseColor = (popup.style.outlineColor = Util.makeHexColor(\n        ...this.#color\n      ));\n      if (\n        (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n        CSS.supports(\"background-color\", \"color-mix(in srgb, red 30%, white)\")\n      ) {\n        popup.style.backgroundColor = `color-mix(in srgb, ${baseColor} 30%, white)`;\n      } else {\n        // color-mix isn't supported in some browsers hence this version.\n        // See https://developer.mozilla.org/en-US/docs/Web/CSS/color_value/color-mix#browser_compatibility\n        // TODO: Use color-mix when it's supported everywhere.\n        // Enlighten the color.\n        const BACKGROUND_ENLIGHT = 0.7;\n        popup.style.backgroundColor = Util.makeHexColor(\n          ...this.#color.map(c =>\n            Math.floor(BACKGROUND_ENLIGHT * (255 - c) + c)\n          )\n        );\n      }\n    }\n\n    const header = document.createElement(\"span\");\n    header.className = \"header\";\n    const title = document.createElement(\"h1\");\n    header.append(title);\n    ({ dir: title.dir, str: title.textContent } = this.#titleObj);\n    popup.append(header);\n\n    if (this.#dateTimePromise) {\n      const modificationDate = document.createElement(\"span\");\n      modificationDate.classList.add(\"popupDate\");\n      this.#dateTimePromise.then(localized => {\n        modificationDate.textContent = localized;\n      });\n      header.append(modificationDate);\n    }\n\n    const contentsObj = this.#contentsObj;\n    const richText = this.#richText;\n    if (\n      richText?.str &&\n      (!contentsObj?.str || contentsObj.str === richText.str)\n    ) {\n      XfaLayer.render({\n        xfaHtml: richText.html,\n        intent: \"richText\",\n        div: popup,\n      });\n      popup.lastChild.classList.add(\"richText\", \"popupContent\");\n    } else {\n      const contents = this._formatContents(contentsObj);\n      popup.append(contents);\n    }\n\n    let useParentRect = !!this.#parentRect;\n    let rect = useParentRect ? this.#parentRect : this.#rect;\n    for (const element of this.#elements) {\n      if (!rect || Util.intersect(element.data.rect, rect) !== null) {\n        rect = element.data.rect;\n        useParentRect = true;\n        break;\n      }\n    }\n\n    const normalizedRect = Util.normalizeRect([\n      rect[0],\n      view[3] - rect[1] + view[1],\n      rect[2],\n      view[3] - rect[3] + view[1],\n    ]);\n\n    const HORIZONTAL_SPACE_AFTER_ANNOTATION = 5;\n    const parentWidth = useParentRect\n      ? rect[2] - rect[0] + HORIZONTAL_SPACE_AFTER_ANNOTATION\n      : 0;\n    const popupLeft = normalizedRect[0] + parentWidth;\n    const popupTop = normalizedRect[1];\n\n    const { style } = this.#container;\n    style.left = `${(100 * (popupLeft - pageX)) / pageWidth}%`;\n    style.top = `${(100 * (popupTop - pageY)) / pageHeight}%`;\n\n    this.#container.append(popup);\n  }\n\n  /**\n   * Format the contents of the popup by adding newlines where necessary.\n   *\n   * @private\n   * @param {Object<string, string>} contentsObj\n   * @memberof PopupElement\n   * @returns {HTMLParagraphElement}\n   */\n  _formatContents({ str, dir }) {\n    const p = document.createElement(\"p\");\n    p.classList.add(\"popupContent\");\n    p.dir = dir;\n    const lines = str.split(/(?:\\r\\n?|\\n)/);\n    for (let i = 0, ii = lines.length; i < ii; ++i) {\n      const line = lines[i];\n      p.append(document.createTextNode(line));\n      if (i < ii - 1) {\n        p.append(document.createElement(\"br\"));\n      }\n    }\n    return p;\n  }\n\n  #keyDown(event) {\n    if (event.altKey || event.shiftKey || event.ctrlKey || event.metaKey) {\n      return;\n    }\n\n    if (event.key === \"Enter\" || (event.key === \"Escape\" && this.#pinned)) {\n      this.#toggle();\n    }\n  }\n\n  /**\n   * Toggle the visibility of the popup.\n   */\n  #toggle() {\n    this.#pinned = !this.#pinned;\n    if (this.#pinned) {\n      this.#show();\n      this.#container.addEventListener(\"click\", this.#boundToggle);\n      this.#container.addEventListener(\"keydown\", this.#boundKeyDown);\n    } else {\n      this.#hide();\n      this.#container.removeEventListener(\"click\", this.#boundToggle);\n      this.#container.removeEventListener(\"keydown\", this.#boundKeyDown);\n    }\n  }\n\n  /**\n   * Show the popup.\n   */\n  #show() {\n    if (!this.#popup) {\n      this.render();\n    }\n    if (!this.isVisible) {\n      this.#container.hidden = false;\n      this.#container.style.zIndex =\n        parseInt(this.#container.style.zIndex) + 1000;\n    } else if (this.#pinned) {\n      this.#container.classList.add(\"focused\");\n    }\n  }\n\n  /**\n   * Hide the popup.\n   */\n  #hide() {\n    this.#container.classList.remove(\"focused\");\n    if (this.#pinned || !this.isVisible) {\n      return;\n    }\n    this.#container.hidden = true;\n    this.#container.style.zIndex =\n      parseInt(this.#container.style.zIndex) - 1000;\n  }\n\n  forceHide() {\n    this.#wasVisible = this.isVisible;\n    if (!this.#wasVisible) {\n      return;\n    }\n    this.#container.hidden = true;\n  }\n\n  maybeShow() {\n    if (!this.#wasVisible) {\n      return;\n    }\n    this.#wasVisible = false;\n    this.#container.hidden = false;\n  }\n\n  get isVisible() {\n    return this.#container.hidden === false;\n  }\n}\n\nclass FreeTextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: true, ignoreBorder: true });\n    this.textContent = parameters.data.textContent;\n    this.textPosition = parameters.data.textPosition;\n    this.annotationEditorType = AnnotationEditorType.FREETEXT;\n  }\n\n  render() {\n    this.container.classList.add(\"freeTextAnnotation\");\n\n    if (this.textContent) {\n      const content = document.createElement(\"div\");\n      content.classList.add(\"annotationTextContent\");\n      content.setAttribute(\"role\", \"comment\");\n      for (const line of this.textContent) {\n        const lineSpan = document.createElement(\"span\");\n        lineSpan.textContent = line;\n        content.append(lineSpan);\n      }\n      this.container.append(content);\n    }\n\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    this._editOnDoubleClick();\n\n    return this.container;\n  }\n}\n\nclass LineAnnotationElement extends AnnotationElement {\n  #line = null;\n\n  constructor(parameters) {\n    super(parameters, { isRenderable: true, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.classList.add(\"lineAnnotation\");\n\n    // Create an invisible line with the same starting and ending coordinates\n    // that acts as the trigger for the popup. Only the line itself should\n    // trigger the popup, not the entire container.\n    const data = this.data;\n    const { width, height } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(\n      width,\n      height,\n      /* skipDimensions = */ true\n    );\n\n    // PDF coordinates are calculated from a bottom left origin, so transform\n    // the line coordinates to a top left origin for the SVG element.\n    const line = (this.#line = this.svgFactory.createElement(\"svg:line\"));\n    line.setAttribute(\"x1\", data.rect[2] - data.lineCoordinates[0]);\n    line.setAttribute(\"y1\", data.rect[3] - data.lineCoordinates[1]);\n    line.setAttribute(\"x2\", data.rect[2] - data.lineCoordinates[2]);\n    line.setAttribute(\"y2\", data.rect[3] - data.lineCoordinates[3]);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    line.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    line.setAttribute(\"stroke\", \"transparent\");\n    line.setAttribute(\"fill\", \"transparent\");\n\n    svg.append(line);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the line instead\n    // of to the entire container (which is the default).\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    return this.container;\n  }\n\n  getElementsToTriggerPopup() {\n    return this.#line;\n  }\n\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\n\nclass SquareAnnotationElement extends AnnotationElement {\n  #square = null;\n\n  constructor(parameters) {\n    super(parameters, { isRenderable: true, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.classList.add(\"squareAnnotation\");\n\n    // Create an invisible square with the same rectangle that acts as the\n    // trigger for the popup. Only the square itself should trigger the\n    // popup, not the entire container.\n    const data = this.data;\n    const { width, height } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(\n      width,\n      height,\n      /* skipDimensions = */ true\n    );\n\n    // The browser draws half of the borders inside the square and half of\n    // the borders outside the square by default. This behavior cannot be\n    // changed programmatically, so correct for that here.\n    const borderWidth = data.borderStyle.width;\n    const square = (this.#square = this.svgFactory.createElement(\"svg:rect\"));\n    square.setAttribute(\"x\", borderWidth / 2);\n    square.setAttribute(\"y\", borderWidth / 2);\n    square.setAttribute(\"width\", width - borderWidth);\n    square.setAttribute(\"height\", height - borderWidth);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    square.setAttribute(\"stroke-width\", borderWidth || 1);\n    square.setAttribute(\"stroke\", \"transparent\");\n    square.setAttribute(\"fill\", \"transparent\");\n\n    svg.append(square);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the square instead\n    // of to the entire container (which is the default).\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    return this.container;\n  }\n\n  getElementsToTriggerPopup() {\n    return this.#square;\n  }\n\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\n\nclass CircleAnnotationElement extends AnnotationElement {\n  #circle = null;\n\n  constructor(parameters) {\n    super(parameters, { isRenderable: true, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.classList.add(\"circleAnnotation\");\n\n    // Create an invisible circle with the same ellipse that acts as the\n    // trigger for the popup. Only the circle itself should trigger the\n    // popup, not the entire container.\n    const data = this.data;\n    const { width, height } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(\n      width,\n      height,\n      /* skipDimensions = */ true\n    );\n\n    // The browser draws half of the borders inside the circle and half of\n    // the borders outside the circle by default. This behavior cannot be\n    // changed programmatically, so correct for that here.\n    const borderWidth = data.borderStyle.width;\n    const circle = (this.#circle =\n      this.svgFactory.createElement(\"svg:ellipse\"));\n    circle.setAttribute(\"cx\", width / 2);\n    circle.setAttribute(\"cy\", height / 2);\n    circle.setAttribute(\"rx\", width / 2 - borderWidth / 2);\n    circle.setAttribute(\"ry\", height / 2 - borderWidth / 2);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    circle.setAttribute(\"stroke-width\", borderWidth || 1);\n    circle.setAttribute(\"stroke\", \"transparent\");\n    circle.setAttribute(\"fill\", \"transparent\");\n\n    svg.append(circle);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the circle instead\n    // of to the entire container (which is the default).\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    return this.container;\n  }\n\n  getElementsToTriggerPopup() {\n    return this.#circle;\n  }\n\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\n\nclass PolylineAnnotationElement extends AnnotationElement {\n  #polyline = null;\n\n  constructor(parameters) {\n    super(parameters, { isRenderable: true, ignoreBorder: true });\n\n    this.containerClassName = \"polylineAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n  }\n\n  render() {\n    this.container.classList.add(this.containerClassName);\n\n    // Create an invisible polyline with the same points that acts as the\n    // trigger for the popup. Only the polyline itself should trigger the\n    // popup, not the entire container.\n    const data = this.data;\n    const { width, height } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(\n      width,\n      height,\n      /* skipDimensions = */ true\n    );\n\n    // Convert the vertices array to a single points string that the SVG\n    // polyline element expects (\"x1,y1 x2,y2 ...\"). PDF coordinates are\n    // calculated from a bottom left origin, so transform the polyline\n    // coordinates to a top left origin for the SVG element.\n    let points = [];\n    for (const coordinate of data.vertices) {\n      const x = coordinate.x - data.rect[0];\n      const y = data.rect[3] - coordinate.y;\n      points.push(x + \",\" + y);\n    }\n    points = points.join(\" \");\n\n    const polyline = (this.#polyline = this.svgFactory.createElement(\n      this.svgElementName\n    ));\n    polyline.setAttribute(\"points\", points);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    polyline.setAttribute(\"stroke\", \"transparent\");\n    polyline.setAttribute(\"fill\", \"transparent\");\n\n    svg.append(polyline);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the polyline\n    // instead of to the entire container (which is the default).\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    return this.container;\n  }\n\n  getElementsToTriggerPopup() {\n    return this.#polyline;\n  }\n\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\n\nclass PolygonAnnotationElement extends PolylineAnnotationElement {\n  constructor(parameters) {\n    // Polygons are specific forms of polylines, so reuse their logic.\n    super(parameters);\n\n    this.containerClassName = \"polygonAnnotation\";\n    this.svgElementName = \"svg:polygon\";\n  }\n}\n\nclass CaretAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: true, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.classList.add(\"caretAnnotation\");\n\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n}\n\nclass InkAnnotationElement extends AnnotationElement {\n  #polylines = [];\n\n  constructor(parameters) {\n    super(parameters, { isRenderable: true, ignoreBorder: true });\n\n    this.containerClassName = \"inkAnnotation\";\n\n    // Use the polyline SVG element since it allows us to use coordinates\n    // directly and to draw both straight lines and curves.\n    this.svgElementName = \"svg:polyline\";\n    this.annotationEditorType = AnnotationEditorType.INK;\n  }\n\n  render() {\n    this.container.classList.add(this.containerClassName);\n\n    // Create an invisible polyline with the same points that acts as the\n    // trigger for the popup.\n    const data = this.data;\n    const { width, height } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(\n      width,\n      height,\n      /* skipDimensions = */ true\n    );\n\n    for (const inkList of data.inkLists) {\n      // Convert the ink list to a single points string that the SVG\n      // polyline element expects (\"x1,y1 x2,y2 ...\"). PDF coordinates are\n      // calculated from a bottom left origin, so transform the polyline\n      // coordinates to a top left origin for the SVG element.\n      let points = [];\n      for (const coordinate of inkList) {\n        const x = coordinate.x - data.rect[0];\n        const y = data.rect[3] - coordinate.y;\n        points.push(`${x},${y}`);\n      }\n      points = points.join(\" \");\n\n      const polyline = this.svgFactory.createElement(this.svgElementName);\n      this.#polylines.push(polyline);\n      polyline.setAttribute(\"points\", points);\n      // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n      // won't be possible to open/close the popup (note e.g. issue 11122).\n      polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n      polyline.setAttribute(\"stroke\", \"transparent\");\n      polyline.setAttribute(\"fill\", \"transparent\");\n\n      // Create the popup ourselves so that we can bind it to the polyline\n      // instead of to the entire container (which is the default).\n      if (!data.popupRef && this.hasPopupData) {\n        this._createPopup();\n      }\n\n      svg.append(polyline);\n    }\n\n    this.container.append(svg);\n    return this.container;\n  }\n\n  getElementsToTriggerPopup() {\n    return this.#polylines;\n  }\n\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\n\nclass HighlightAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true,\n    });\n  }\n\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    this.container.classList.add(\"highlightAnnotation\");\n    return this.container;\n  }\n}\n\nclass UnderlineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true,\n    });\n  }\n\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    this.container.classList.add(\"underlineAnnotation\");\n    return this.container;\n  }\n}\n\nclass SquigglyAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true,\n    });\n  }\n\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    this.container.classList.add(\"squigglyAnnotation\");\n    return this.container;\n  }\n}\n\nclass StrikeOutAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true,\n    });\n  }\n\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    this.container.classList.add(\"strikeoutAnnotation\");\n    return this.container;\n  }\n}\n\nclass StampAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: true, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.classList.add(\"stampAnnotation\");\n\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n}\n\nclass FileAttachmentAnnotationElement extends AnnotationElement {\n  #trigger = null;\n\n  constructor(parameters) {\n    super(parameters, { isRenderable: true });\n\n    const { filename, content } = this.data.file;\n    this.filename = getFilenameFromUrl(filename, /* onlyStripPath = */ true);\n    this.content = content;\n\n    this.linkService.eventBus?.dispatch(\"fileattachmentannotation\", {\n      source: this,\n      filename,\n      content,\n    });\n  }\n\n  render() {\n    this.container.classList.add(\"fileAttachmentAnnotation\");\n\n    const { container, data } = this;\n    let trigger;\n    if (data.hasAppearance || data.fillAlpha === 0) {\n      trigger = document.createElement(\"div\");\n    } else {\n      // Unfortunately it seems that it's not clearly specified exactly what\n      // names are actually valid, since Table 184 contains:\n      //   Conforming readers shall provide predefined icon appearances for at\n      //   least the following standard names: GraphPushPin, PaperclipTag.\n      //   Additional names may be supported as well. Default value: PushPin.\n      trigger = document.createElement(\"img\");\n      trigger.src = `${this.imageResourcesPath}annotation-${\n        /paperclip/i.test(data.name) ? \"paperclip\" : \"pushpin\"\n      }.svg`;\n\n      if (data.fillAlpha && data.fillAlpha < 1) {\n        trigger.style = `filter: opacity(${Math.round(\n          data.fillAlpha * 100\n        )}%);`;\n\n        if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n          this.container.classList.add(\"hasFillAlpha\");\n        }\n      }\n    }\n    trigger.addEventListener(\"dblclick\", this.#download.bind(this));\n    this.#trigger = trigger;\n\n    const { isMac } = FeatureTest.platform;\n    container.addEventListener(\"keydown\", evt => {\n      if (evt.key === \"Enter\" && (isMac ? evt.metaKey : evt.ctrlKey)) {\n        this.#download();\n      }\n    });\n\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    } else {\n      trigger.classList.add(\"popupTriggerArea\");\n    }\n\n    container.append(trigger);\n    return container;\n  }\n\n  getElementsToTriggerPopup() {\n    return this.#trigger;\n  }\n\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n\n  /**\n   * Download the file attachment associated with this annotation.\n   */\n  #download() {\n    this.downloadManager?.openOrDownloadData(\n      this.container,\n      this.content,\n      this.filename\n    );\n  }\n}\n\n/**\n * @typedef {Object} AnnotationLayerParameters\n * @property {PageViewport} viewport\n * @property {HTMLDivElement} div\n * @property {Array} annotations\n * @property {PDFPageProxy} page\n * @property {IPDFLinkService} linkService\n * @property {IDownloadManager} downloadManager\n * @property {AnnotationStorage} [annotationStorage]\n * @property {string} [imageResourcesPath] - Path for image resources, mainly\n *   for annotation icons. Include trailing slash.\n * @property {boolean} renderForms\n * @property {boolean} [enableScripting] - Enable embedded script execution.\n * @property {boolean} [hasJSActions] - Some fields have JS actions.\n *   The default value is `false`.\n * @property {Object<string, Array<Object>> | null} [fieldObjects]\n * @property {Map<string, HTMLCanvasElement>} [annotationCanvasMap]\n * @property {TextAccessibilityManager} [accessibilityManager]\n */\n\n/**\n * Manage the layer containing all the annotations.\n */\nclass AnnotationLayer {\n  #accessibilityManager = null;\n\n  #annotationCanvasMap = null;\n\n  #editableAnnotations = new Map();\n\n  constructor({\n    div,\n    accessibilityManager,\n    annotationCanvasMap,\n    l10n,\n    page,\n    viewport,\n  }) {\n    this.div = div;\n    this.#accessibilityManager = accessibilityManager;\n    this.#annotationCanvasMap = annotationCanvasMap;\n    this.l10n = l10n;\n    this.page = page;\n    this.viewport = viewport;\n    this.zIndex = 0;\n\n    if (\n      typeof PDFJSDev !== \"undefined\" &&\n      PDFJSDev.test(\"GENERIC && !TESTING\")\n    ) {\n      this.l10n ||= NullL10n;\n    }\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n      // For testing purposes.\n      Object.defineProperty(this, \"showPopups\", {\n        value: async () => {\n          for (const show of this.popupShow) {\n            await show();\n          }\n        },\n      });\n      this.popupShow = [];\n    }\n  }\n\n  #appendElement(element, id) {\n    const contentElement = element.firstChild || element;\n    contentElement.id = `${AnnotationPrefix}${id}`;\n\n    this.div.append(element);\n    this.#accessibilityManager?.moveElementInDOM(\n      this.div,\n      element,\n      contentElement,\n      /* isRemovable = */ false\n    );\n  }\n\n  /**\n   * Render a new annotation layer with all annotation elements.\n   *\n   * @param {AnnotationLayerParameters} params\n   * @memberof AnnotationLayer\n   */\n  async render(params) {\n    const { annotations } = params;\n    const layer = this.div;\n    setLayerDimensions(layer, this.viewport);\n\n    const popupToElements = new Map();\n    const elementParams = {\n      data: null,\n      layer,\n      linkService: params.linkService,\n      downloadManager: params.downloadManager,\n      imageResourcesPath: params.imageResourcesPath || \"\",\n      renderForms: params.renderForms !== false,\n      svgFactory: new DOMSVGFactory(),\n      annotationStorage: params.annotationStorage || new AnnotationStorage(),\n      enableScripting: params.enableScripting === true,\n      hasJSActions: params.hasJSActions,\n      fieldObjects: params.fieldObjects,\n      parent: this,\n      elements: null,\n    };\n\n    for (const data of annotations) {\n      if (data.noHTML) {\n        continue;\n      }\n      const isPopupAnnotation = data.annotationType === AnnotationType.POPUP;\n      if (!isPopupAnnotation) {\n        const { width, height } = getRectDims(data.rect);\n        if (width <= 0 || height <= 0) {\n          continue; // Ignore empty annotations.\n        }\n      } else {\n        const elements = popupToElements.get(data.id);\n        if (!elements) {\n          // Ignore popup annotations without a corresponding annotation.\n          continue;\n        }\n        elementParams.elements = elements;\n      }\n      elementParams.data = data;\n      const element = AnnotationElementFactory.create(elementParams);\n\n      if (!element.isRenderable) {\n        continue;\n      }\n\n      if (!isPopupAnnotation && data.popupRef) {\n        const elements = popupToElements.get(data.popupRef);\n        if (!elements) {\n          popupToElements.set(data.popupRef, [element]);\n        } else {\n          elements.push(element);\n        }\n      }\n\n      if (element.annotationEditorType > 0) {\n        this.#editableAnnotations.set(element.data.id, element);\n      }\n\n      const rendered = element.render();\n      if (data.hidden) {\n        rendered.style.visibility = \"hidden\";\n      }\n      this.#appendElement(rendered, data.id);\n    }\n\n    this.#setAnnotationCanvasMap();\n\n    await this.l10n.translate(layer);\n  }\n\n  /**\n   * Update the annotation elements on existing annotation layer.\n   *\n   * @param {AnnotationLayerParameters} viewport\n   * @memberof AnnotationLayer\n   */\n  update({ viewport }) {\n    const layer = this.div;\n    this.viewport = viewport;\n    setLayerDimensions(layer, { rotation: viewport.rotation });\n\n    this.#setAnnotationCanvasMap();\n    layer.hidden = false;\n  }\n\n  #setAnnotationCanvasMap() {\n    if (!this.#annotationCanvasMap) {\n      return;\n    }\n    const layer = this.div;\n    for (const [id, canvas] of this.#annotationCanvasMap) {\n      const element = layer.querySelector(`[data-annotation-id=\"${id}\"]`);\n      if (!element) {\n        continue;\n      }\n\n      const { firstChild } = element;\n      if (!firstChild) {\n        element.append(canvas);\n      } else if (firstChild.nodeName === \"CANVAS\") {\n        firstChild.replaceWith(canvas);\n      } else {\n        firstChild.before(canvas);\n      }\n    }\n    this.#annotationCanvasMap.clear();\n  }\n\n  getEditableAnnotations() {\n    return Array.from(this.#editableAnnotations.values());\n  }\n\n  getEditableAnnotation(id) {\n    return this.#editableAnnotations.get(id);\n  }\n}\n\nexport {\n  AnnotationLayer,\n  FreeTextAnnotationElement,\n  InkAnnotationElement,\n  StampAnnotationElement,\n};\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * PLEASE NOTE: This file is currently imported in both the `../display/` and\n *              `../scripting_api/` folders, hence be EXTREMELY careful about\n *              introducing any dependencies here since that can lead to an\n *              unexpected/unnecessary size increase of the *built* files.\n */\n\nfunction makeColorComp(n) {\n  return Math.floor(Math.max(0, Math.min(1, n)) * 255)\n    .toString(16)\n    .padStart(2, \"0\");\n}\n\nfunction scaleAndClamp(x) {\n  return Math.max(0, Math.min(255, 255 * x));\n}\n\n// PDF specifications section 10.3\nclass ColorConverters {\n  static CMYK_G([c, y, m, k]) {\n    return [\"G\", 1 - Math.min(1, 0.3 * c + 0.59 * m + 0.11 * y + k)];\n  }\n\n  static G_CMYK([g]) {\n    return [\"CMYK\", 0, 0, 0, 1 - g];\n  }\n\n  static G_RGB([g]) {\n    return [\"RGB\", g, g, g];\n  }\n\n  static G_rgb([g]) {\n    g = scaleAndClamp(g);\n    return [g, g, g];\n  }\n\n  static G_HTML([g]) {\n    const G = makeColorComp(g);\n    return `#${G}${G}${G}`;\n  }\n\n  static RGB_G([r, g, b]) {\n    return [\"G\", 0.3 * r + 0.59 * g + 0.11 * b];\n  }\n\n  static RGB_rgb(color) {\n    return color.map(scaleAndClamp);\n  }\n\n  static RGB_HTML(color) {\n    return `#${color.map(makeColorComp).join(\"\")}`;\n  }\n\n  static T_HTML() {\n    return \"#00000000\";\n  }\n\n  static T_rgb() {\n    return [null];\n  }\n\n  static CMYK_RGB([c, y, m, k]) {\n    return [\n      \"RGB\",\n      1 - Math.min(1, c + k),\n      1 - Math.min(1, m + k),\n      1 - Math.min(1, y + k),\n    ];\n  }\n\n  static CMYK_rgb([c, y, m, k]) {\n    return [\n      scaleAndClamp(1 - Math.min(1, c + k)),\n      scaleAndClamp(1 - Math.min(1, m + k)),\n      scaleAndClamp(1 - Math.min(1, y + k)),\n    ];\n  }\n\n  static CMYK_HTML(components) {\n    const rgb = this.CMYK_RGB(components).slice(1);\n    return this.RGB_HTML(rgb);\n  }\n\n  static RGB_CMYK([r, g, b]) {\n    const c = 1 - r;\n    const m = 1 - g;\n    const y = 1 - b;\n    const k = Math.min(c, m, y);\n    return [\"CMYK\", c, m, y, k];\n  }\n}\n\nexport { ColorConverters };\n","/* Copyright 2021 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * PLEASE NOTE: This file is currently imported in both the `web/` and\n *              `src/display/` folders, hence be EXTREMELY careful about\n *              introducing any dependencies here since that can lead to an\n *              unexpected/unnecessary size increase of the *built* files.\n */\n\n/**\n * A subset of the l10n strings in the `l10n/en-US/viewer.properties` file.\n */\nconst DEFAULT_L10N_STRINGS = {\n  of_pages: \"of {{pagesCount}}\",\n  page_of_pages: \"({{pageNumber}} of {{pagesCount}})\",\n\n  document_properties_kb: \"{{size_kb}} KB ({{size_b}} bytes)\",\n  document_properties_mb: \"{{size_mb}} MB ({{size_b}} bytes)\",\n  document_properties_date_string: \"{{date}}, {{time}}\",\n  document_properties_page_size_unit_inches: \"in\",\n  document_properties_page_size_unit_millimeters: \"mm\",\n  document_properties_page_size_orientation_portrait: \"portrait\",\n  document_properties_page_size_orientation_landscape: \"landscape\",\n  document_properties_page_size_name_a3: \"A3\",\n  document_properties_page_size_name_a4: \"A4\",\n  document_properties_page_size_name_letter: \"Letter\",\n  document_properties_page_size_name_legal: \"Legal\",\n  document_properties_page_size_dimension_string:\n    \"{{width}} × {{height}} {{unit}} ({{orientation}})\",\n  document_properties_page_size_dimension_name_string:\n    \"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})\",\n  document_properties_linearized_yes: \"Yes\",\n  document_properties_linearized_no: \"No\",\n\n  additional_layers: \"Additional Layers\",\n  page_landmark: \"Page {{page}}\",\n  thumb_page_title: \"Page {{page}}\",\n  thumb_page_canvas: \"Thumbnail of Page {{page}}\",\n\n  find_reached_top: \"Reached top of document, continued from bottom\",\n  find_reached_bottom: \"Reached end of document, continued from top\",\n  \"find_match_count[one]\": \"{{current}} of {{total}} match\",\n  \"find_match_count[other]\": \"{{current}} of {{total}} matches\",\n  \"find_match_count_limit[one]\": \"More than {{limit}} match\",\n  \"find_match_count_limit[other]\": \"More than {{limit}} matches\",\n  find_not_found: \"Phrase not found\",\n\n  page_scale_width: \"Page Width\",\n  page_scale_fit: \"Page Fit\",\n  page_scale_auto: \"Automatic Zoom\",\n  page_scale_actual: \"Actual Size\",\n  page_scale_percent: \"{{scale}}%\",\n\n  loading_error: \"An error occurred while loading the PDF.\",\n  invalid_file_error: \"Invalid or corrupted PDF file.\",\n  missing_file_error: \"Missing PDF file.\",\n  unexpected_response_error: \"Unexpected server response.\",\n  rendering_error: \"An error occurred while rendering the page.\",\n\n  annotation_date_string: \"{{date}}, {{time}}\",\n\n  printing_not_supported:\n    \"Warning: Printing is not fully supported by this browser.\",\n  printing_not_ready: \"Warning: The PDF is not fully loaded for printing.\",\n  web_fonts_disabled:\n    \"Web fonts are disabled: unable to use embedded PDF fonts.\",\n\n  free_text2_default_content: \"Start typing…\",\n  editor_free_text2_aria_label: \"Text Editor\",\n  editor_ink2_aria_label: \"Draw Editor\",\n  editor_ink_canvas_aria_label: \"User-created image\",\n  editor_alt_text_button_label: \"Alt text\",\n  editor_alt_text_edit_button_label: \"Edit alt text\",\n  editor_alt_text_decorative_tooltip: \"Marked as decorative\",\n};\nif (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"MOZCENTRAL\")) {\n  DEFAULT_L10N_STRINGS.print_progress_percent = \"{{progress}}%\";\n}\n\nfunction getL10nFallback(key, args) {\n  switch (key) {\n    case \"find_match_count\":\n      key = `find_match_count[${args.total === 1 ? \"one\" : \"other\"}]`;\n      break;\n    case \"find_match_count_limit\":\n      key = `find_match_count_limit[${args.limit === 1 ? \"one\" : \"other\"}]`;\n      break;\n  }\n  return DEFAULT_L10N_STRINGS[key] || \"\";\n}\n\n// Replaces {{arguments}} with their values.\nfunction formatL10nValue(text, args) {\n  if (!args) {\n    return text;\n  }\n  return text.replaceAll(/\\{\\{\\s*(\\w+)\\s*\\}\\}/g, (all, name) => {\n    return name in args ? args[name] : \"{{\" + name + \"}}\";\n  });\n}\n\n/**\n * No-op implementation of the localization service.\n * @implements {IL10n}\n */\nconst NullL10n = {\n  async getLanguage() {\n    return \"en-us\";\n  },\n\n  async getDirection() {\n    return \"ltr\";\n  },\n\n  async get(key, args = null, fallback = getL10nFallback(key, args)) {\n    return formatL10nValue(fallback, args);\n  },\n\n  async translate(element) {},\n};\n\nexport { getL10nFallback, NullL10n };\n","/* Copyright 2021 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// eslint-disable-next-line max-len\n/** @typedef {import(\"./annotation_storage\").AnnotationStorage} AnnotationStorage */\n/** @typedef {import(\"./display_utils\").PageViewport} PageViewport */\n/** @typedef {import(\"../../web/interfaces\").IPDFLinkService} IPDFLinkService */\n\nimport { XfaText } from \"./xfa_text.js\";\n\n/**\n * @typedef {Object} XfaLayerParameters\n * @property {PageViewport} viewport\n * @property {HTMLDivElement} div\n * @property {Object} xfaHtml\n * @property {AnnotationStorage} [annotationStorage]\n * @property {IPDFLinkService} linkService\n * @property {string} [intent] - (default value is 'display').\n */\n\nclass XfaLayer {\n  static setupStorage(html, id, element, storage, intent) {\n    const storedData = storage.getValue(id, { value: null });\n    switch (element.name) {\n      case \"textarea\":\n        if (storedData.value !== null) {\n          html.textContent = storedData.value;\n        }\n        if (intent === \"print\") {\n          break;\n        }\n        html.addEventListener(\"input\", event => {\n          storage.setValue(id, { value: event.target.value });\n        });\n        break;\n      case \"input\":\n        if (\n          element.attributes.type === \"radio\" ||\n          element.attributes.type === \"checkbox\"\n        ) {\n          if (storedData.value === element.attributes.xfaOn) {\n            html.setAttribute(\"checked\", true);\n          } else if (storedData.value === element.attributes.xfaOff) {\n            // The checked attribute may have been set when opening the file,\n            // unset through the UI and we're here because of printing.\n            html.removeAttribute(\"checked\");\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"change\", event => {\n            storage.setValue(id, {\n              value: event.target.checked\n                ? event.target.getAttribute(\"xfaOn\")\n                : event.target.getAttribute(\"xfaOff\"),\n            });\n          });\n        } else {\n          if (storedData.value !== null) {\n            html.setAttribute(\"value\", storedData.value);\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"input\", event => {\n            storage.setValue(id, { value: event.target.value });\n          });\n        }\n        break;\n      case \"select\":\n        if (storedData.value !== null) {\n          html.setAttribute(\"value\", storedData.value);\n          for (const option of element.children) {\n            if (option.attributes.value === storedData.value) {\n              option.attributes.selected = true;\n            } else if (option.attributes.hasOwnProperty(\"selected\")) {\n              delete option.attributes.selected;\n            }\n          }\n        }\n        html.addEventListener(\"input\", event => {\n          const options = event.target.options;\n          const value =\n            options.selectedIndex === -1\n              ? \"\"\n              : options[options.selectedIndex].value;\n          storage.setValue(id, { value });\n        });\n        break;\n    }\n  }\n\n  static setAttributes({ html, element, storage = null, intent, linkService }) {\n    const { attributes } = element;\n    const isHTMLAnchorElement = html instanceof HTMLAnchorElement;\n\n    if (attributes.type === \"radio\") {\n      // Avoid to have a radio group when printing with the same as one\n      // already displayed.\n      attributes.name = `${attributes.name}-${intent}`;\n    }\n    for (const [key, value] of Object.entries(attributes)) {\n      if (value === null || value === undefined) {\n        continue;\n      }\n\n      switch (key) {\n        case \"class\":\n          if (value.length) {\n            html.setAttribute(key, value.join(\" \"));\n          }\n          break;\n        case \"dataId\":\n          // We don't need to add dataId in the html object but it can\n          // be useful to know its value when writing printing tests:\n          // in this case, don't skip dataId to have its value.\n          break;\n        case \"id\":\n          html.setAttribute(\"data-element-id\", value);\n          break;\n        case \"style\":\n          Object.assign(html.style, value);\n          break;\n        case \"textContent\":\n          html.textContent = value;\n          break;\n        default:\n          if (!isHTMLAnchorElement || (key !== \"href\" && key !== \"newWindow\")) {\n            html.setAttribute(key, value);\n          }\n      }\n    }\n\n    if (isHTMLAnchorElement) {\n      linkService.addLinkAttributes(\n        html,\n        attributes.href,\n        attributes.newWindow\n      );\n    }\n\n    // Set the value after the others to be sure to overwrite any other values.\n    if (storage && attributes.dataId) {\n      this.setupStorage(html, attributes.dataId, element, storage);\n    }\n  }\n\n  /**\n   * Render the XFA layer.\n   *\n   * @param {XfaLayerParameters} parameters\n   */\n  static render(parameters) {\n    const storage = parameters.annotationStorage;\n    const linkService = parameters.linkService;\n    const root = parameters.xfaHtml;\n    const intent = parameters.intent || \"display\";\n    const rootHtml = document.createElement(root.name);\n    if (root.attributes) {\n      this.setAttributes({\n        html: rootHtml,\n        element: root,\n        intent,\n        linkService,\n      });\n    }\n    const stack = [[root, -1, rootHtml]];\n\n    const rootDiv = parameters.div;\n    rootDiv.append(rootHtml);\n\n    if (parameters.viewport) {\n      const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n      rootDiv.style.transform = transform;\n    }\n\n    // Set defaults.\n    if (intent !== \"richText\") {\n      rootDiv.setAttribute(\"class\", \"xfaLayer xfaFont\");\n    }\n\n    // Text nodes used for the text highlighter.\n    const textDivs = [];\n\n    while (stack.length > 0) {\n      const [parent, i, html] = stack.at(-1);\n      if (i + 1 === parent.children.length) {\n        stack.pop();\n        continue;\n      }\n\n      const child = parent.children[++stack.at(-1)[1]];\n      if (child === null) {\n        continue;\n      }\n\n      const { name } = child;\n      if (name === \"#text\") {\n        const node = document.createTextNode(child.value);\n        textDivs.push(node);\n        html.append(node);\n        continue;\n      }\n\n      const childHtml = child?.attributes?.xmlns\n        ? document.createElementNS(child.attributes.xmlns, name)\n        : document.createElement(name);\n\n      html.append(childHtml);\n      if (child.attributes) {\n        this.setAttributes({\n          html: childHtml,\n          element: child,\n          storage,\n          intent,\n          linkService,\n        });\n      }\n\n      if (child.children && child.children.length > 0) {\n        stack.push([child, -1, childHtml]);\n      } else if (child.value) {\n        const node = document.createTextNode(child.value);\n        if (XfaText.shouldBuildText(name)) {\n          textDivs.push(node);\n        }\n        childHtml.append(node);\n      }\n    }\n\n    /**\n     * TODO: re-enable that stuff once we've JS implementation.\n     * See https://bugzilla.mozilla.org/show_bug.cgi?id=1719465.\n     *\n     * for (const el of rootDiv.querySelectorAll(\n     * \".xfaDisabled input, .xfaDisabled textarea\"\n     * )) {\n     * el.setAttribute(\"disabled\", true);\n     * }\n     * for (const el of rootDiv.querySelectorAll(\n     * \".xfaReadOnly input, .xfaReadOnly textarea\"\n     * )) {\n     * el.setAttribute(\"readOnly\", true);\n     * }\n     */\n\n    for (const el of rootDiv.querySelectorAll(\n      \".xfaNonInteractive input, .xfaNonInteractive textarea\"\n    )) {\n      el.setAttribute(\"readOnly\", true);\n    }\n\n    return {\n      textDivs,\n    };\n  }\n\n  /**\n   * Update the XFA layer.\n   *\n   * @param {XfaLayerParameters} parameters\n   */\n  static update(parameters) {\n    const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n    parameters.div.style.transform = transform;\n    parameters.div.hidden = false;\n  }\n}\n\nexport { XfaLayer };\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AnnotationEditorParamsType,\n  AnnotationEditorType,\n  Util,\n} from \"../../shared/util.js\";\nimport { AnnotationEditor } from \"./editor.js\";\nimport { InkAnnotationElement } from \"../annotation_layer.js\";\nimport { noContextMenu } from \"../display_utils.js\";\nimport { opacityToHex } from \"./tools.js\";\n\n/**\n * Basic draw editor in order to generate an Ink annotation.\n */\nclass InkEditor extends AnnotationEditor {\n  #baseHeight = 0;\n\n  #baseWidth = 0;\n\n  #boundCanvasPointermove = this.canvasPointermove.bind(this);\n\n  #boundCanvasPointerleave = this.canvasPointerleave.bind(this);\n\n  #boundCanvasPointerup = this.canvasPointerup.bind(this);\n\n  #boundCanvasPointerdown = this.canvasPointerdown.bind(this);\n\n  #currentPath2D = new Path2D();\n\n  #disableEditing = false;\n\n  #hasSomethingToDraw = false;\n\n  #isCanvasInitialized = false;\n\n  #observer = null;\n\n  #realWidth = 0;\n\n  #realHeight = 0;\n\n  #requestFrameCallback = null;\n\n  static _defaultColor = null;\n\n  static _defaultOpacity = 1;\n\n  static _defaultThickness = 1;\n\n  static _type = \"ink\";\n\n  constructor(params) {\n    super({ ...params, name: \"inkEditor\" });\n    this.color = params.color || null;\n    this.thickness = params.thickness || null;\n    this.opacity = params.opacity || null;\n    this.paths = [];\n    this.bezierPath2D = [];\n    this.allRawPaths = [];\n    this.currentPath = [];\n    this.scaleFactor = 1;\n    this.translationX = this.translationY = 0;\n    this.x = 0;\n    this.y = 0;\n    this._willKeepAspectRatio = true;\n  }\n\n  /** @inheritdoc */\n  static initialize(l10n) {\n    AnnotationEditor.initialize(l10n, {\n      strings: [\"editor_ink_canvas_aria_label\", \"editor_ink2_aria_label\"],\n    });\n  }\n\n  /** @inheritdoc */\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.INK_THICKNESS:\n        InkEditor._defaultThickness = value;\n        break;\n      case AnnotationEditorParamsType.INK_COLOR:\n        InkEditor._defaultColor = value;\n        break;\n      case AnnotationEditorParamsType.INK_OPACITY:\n        InkEditor._defaultOpacity = value / 100;\n        break;\n    }\n  }\n\n  /** @inheritdoc */\n  updateParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.INK_THICKNESS:\n        this.#updateThickness(value);\n        break;\n      case AnnotationEditorParamsType.INK_COLOR:\n        this.#updateColor(value);\n        break;\n      case AnnotationEditorParamsType.INK_OPACITY:\n        this.#updateOpacity(value);\n        break;\n    }\n  }\n\n  /** @inheritdoc */\n  static get defaultPropertiesToUpdate() {\n    return [\n      [AnnotationEditorParamsType.INK_THICKNESS, InkEditor._defaultThickness],\n      [\n        AnnotationEditorParamsType.INK_COLOR,\n        InkEditor._defaultColor || AnnotationEditor._defaultLineColor,\n      ],\n      [\n        AnnotationEditorParamsType.INK_OPACITY,\n        Math.round(InkEditor._defaultOpacity * 100),\n      ],\n    ];\n  }\n\n  /** @inheritdoc */\n  get propertiesToUpdate() {\n    return [\n      [\n        AnnotationEditorParamsType.INK_THICKNESS,\n        this.thickness || InkEditor._defaultThickness,\n      ],\n      [\n        AnnotationEditorParamsType.INK_COLOR,\n        this.color ||\n          InkEditor._defaultColor ||\n          AnnotationEditor._defaultLineColor,\n      ],\n      [\n        AnnotationEditorParamsType.INK_OPACITY,\n        Math.round(100 * (this.opacity ?? InkEditor._defaultOpacity)),\n      ],\n    ];\n  }\n\n  /**\n   * Update the thickness and make this action undoable.\n   * @param {number} thickness\n   */\n  #updateThickness(thickness) {\n    const savedThickness = this.thickness;\n    this.addCommands({\n      cmd: () => {\n        this.thickness = thickness;\n        this.#fitToContent();\n      },\n      undo: () => {\n        this.thickness = savedThickness;\n        this.#fitToContent();\n      },\n      mustExec: true,\n      type: AnnotationEditorParamsType.INK_THICKNESS,\n      overwriteIfSameType: true,\n      keepUndo: true,\n    });\n  }\n\n  /**\n   * Update the color and make this action undoable.\n   * @param {string} color\n   */\n  #updateColor(color) {\n    const savedColor = this.color;\n    this.addCommands({\n      cmd: () => {\n        this.color = color;\n        this.#redraw();\n      },\n      undo: () => {\n        this.color = savedColor;\n        this.#redraw();\n      },\n      mustExec: true,\n      type: AnnotationEditorParamsType.INK_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true,\n    });\n  }\n\n  /**\n   * Update the opacity and make this action undoable.\n   * @param {number} opacity\n   */\n  #updateOpacity(opacity) {\n    opacity /= 100;\n    const savedOpacity = this.opacity;\n    this.addCommands({\n      cmd: () => {\n        this.opacity = opacity;\n        this.#redraw();\n      },\n      undo: () => {\n        this.opacity = savedOpacity;\n        this.#redraw();\n      },\n      mustExec: true,\n      type: AnnotationEditorParamsType.INK_OPACITY,\n      overwriteIfSameType: true,\n      keepUndo: true,\n    });\n  }\n\n  /** @inheritdoc */\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n\n    if (!this.canvas) {\n      this.#createCanvas();\n      this.#createObserver();\n    }\n\n    if (!this.isAttachedToDOM) {\n      // At some point this editor was removed and we're rebuilding it,\n      // hence we must add it to its parent.\n      this.parent.add(this);\n      this.#setCanvasDims();\n    }\n    this.#fitToContent();\n  }\n\n  /** @inheritdoc */\n  remove() {\n    if (this.canvas === null) {\n      return;\n    }\n\n    if (!this.isEmpty()) {\n      this.commit();\n    }\n\n    // Destroy the canvas.\n    this.canvas.width = this.canvas.height = 0;\n    this.canvas.remove();\n    this.canvas = null;\n\n    this.#observer.disconnect();\n    this.#observer = null;\n\n    super.remove();\n  }\n\n  setParent(parent) {\n    if (!this.parent && parent) {\n      // We've a parent hence the rescale will be handled thanks to the\n      // ResizeObserver.\n      this._uiManager.removeShouldRescale(this);\n    } else if (this.parent && parent === null) {\n      // The editor is removed from the DOM, hence we handle the rescale thanks\n      // to the onScaleChanging callback.\n      // This way, it'll be saved/printed correctly.\n      this._uiManager.addShouldRescale(this);\n    }\n    super.setParent(parent);\n  }\n\n  onScaleChanging() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const width = this.width * parentWidth;\n    const height = this.height * parentHeight;\n    this.setDimensions(width, height);\n  }\n\n  /** @inheritdoc */\n  enableEditMode() {\n    if (this.#disableEditing || this.canvas === null) {\n      return;\n    }\n\n    super.enableEditMode();\n    this._isDraggable = false;\n    this.canvas.addEventListener(\"pointerdown\", this.#boundCanvasPointerdown);\n  }\n\n  /** @inheritdoc */\n  disableEditMode() {\n    if (!this.isInEditMode() || this.canvas === null) {\n      return;\n    }\n\n    super.disableEditMode();\n    this._isDraggable = !this.isEmpty();\n    this.div.classList.remove(\"editing\");\n\n    this.canvas.removeEventListener(\n      \"pointerdown\",\n      this.#boundCanvasPointerdown\n    );\n  }\n\n  /** @inheritdoc */\n  onceAdded() {\n    this._isDraggable = !this.isEmpty();\n  }\n\n  /** @inheritdoc */\n  isEmpty() {\n    return (\n      this.paths.length === 0 ||\n      (this.paths.length === 1 && this.paths[0].length === 0)\n    );\n  }\n\n  #getInitialBBox() {\n    const {\n      parentRotation,\n      parentDimensions: [width, height],\n    } = this;\n    switch (parentRotation) {\n      case 90:\n        return [0, height, height, width];\n      case 180:\n        return [width, height, width, height];\n      case 270:\n        return [width, 0, height, width];\n      default:\n        return [0, 0, width, height];\n    }\n  }\n\n  /**\n   * Set line styles.\n   */\n  #setStroke() {\n    const { ctx, color, opacity, thickness, parentScale, scaleFactor } = this;\n    ctx.lineWidth = (thickness * parentScale) / scaleFactor;\n    ctx.lineCap = \"round\";\n    ctx.lineJoin = \"round\";\n    ctx.miterLimit = 10;\n    ctx.strokeStyle = `${color}${opacityToHex(opacity)}`;\n  }\n\n  /**\n   * Start to draw on the canvas.\n   * @param {number} x\n   * @param {number} y\n   */\n  #startDrawing(x, y) {\n    this.canvas.addEventListener(\"contextmenu\", noContextMenu);\n    this.canvas.addEventListener(\"pointerleave\", this.#boundCanvasPointerleave);\n    this.canvas.addEventListener(\"pointermove\", this.#boundCanvasPointermove);\n    this.canvas.addEventListener(\"pointerup\", this.#boundCanvasPointerup);\n    this.canvas.removeEventListener(\n      \"pointerdown\",\n      this.#boundCanvasPointerdown\n    );\n\n    this.isEditing = true;\n    if (!this.#isCanvasInitialized) {\n      this.#isCanvasInitialized = true;\n      this.#setCanvasDims();\n      this.thickness ||= InkEditor._defaultThickness;\n      this.color ||=\n        InkEditor._defaultColor || AnnotationEditor._defaultLineColor;\n      this.opacity ??= InkEditor._defaultOpacity;\n    }\n    this.currentPath.push([x, y]);\n    this.#hasSomethingToDraw = false;\n    this.#setStroke();\n\n    this.#requestFrameCallback = () => {\n      this.#drawPoints();\n      if (this.#requestFrameCallback) {\n        window.requestAnimationFrame(this.#requestFrameCallback);\n      }\n    };\n    window.requestAnimationFrame(this.#requestFrameCallback);\n  }\n\n  /**\n   * Draw on the canvas.\n   * @param {number} x\n   * @param {number} y\n   */\n  #draw(x, y) {\n    const [lastX, lastY] = this.currentPath.at(-1);\n    if (this.currentPath.length > 1 && x === lastX && y === lastY) {\n      return;\n    }\n    const currentPath = this.currentPath;\n    let path2D = this.#currentPath2D;\n    currentPath.push([x, y]);\n    this.#hasSomethingToDraw = true;\n\n    if (currentPath.length <= 2) {\n      path2D.moveTo(...currentPath[0]);\n      path2D.lineTo(x, y);\n      return;\n    }\n\n    if (currentPath.length === 3) {\n      this.#currentPath2D = path2D = new Path2D();\n      path2D.moveTo(...currentPath[0]);\n    }\n\n    this.#makeBezierCurve(\n      path2D,\n      ...currentPath.at(-3),\n      ...currentPath.at(-2),\n      x,\n      y\n    );\n  }\n\n  #endPath() {\n    if (this.currentPath.length === 0) {\n      return;\n    }\n    const lastPoint = this.currentPath.at(-1);\n    this.#currentPath2D.lineTo(...lastPoint);\n  }\n\n  /**\n   * Stop to draw on the canvas.\n   * @param {number} x\n   * @param {number} y\n   */\n  #stopDrawing(x, y) {\n    this.#requestFrameCallback = null;\n\n    x = Math.min(Math.max(x, 0), this.canvas.width);\n    y = Math.min(Math.max(y, 0), this.canvas.height);\n\n    this.#draw(x, y);\n    this.#endPath();\n\n    // Interpolate the path entered by the user with some\n    // Bezier's curves in order to have a smoother path and\n    // to reduce the data size used to draw it in the PDF.\n    let bezier;\n    if (this.currentPath.length !== 1) {\n      bezier = this.#generateBezierPoints();\n    } else {\n      // We have only one point finally.\n      const xy = [x, y];\n      bezier = [[xy, xy.slice(), xy.slice(), xy]];\n    }\n    const path2D = this.#currentPath2D;\n    const currentPath = this.currentPath;\n    this.currentPath = [];\n    this.#currentPath2D = new Path2D();\n\n    const cmd = () => {\n      this.allRawPaths.push(currentPath);\n      this.paths.push(bezier);\n      this.bezierPath2D.push(path2D);\n      this.rebuild();\n    };\n\n    const undo = () => {\n      this.allRawPaths.pop();\n      this.paths.pop();\n      this.bezierPath2D.pop();\n      if (this.paths.length === 0) {\n        this.remove();\n      } else {\n        if (!this.canvas) {\n          this.#createCanvas();\n          this.#createObserver();\n        }\n        this.#fitToContent();\n      }\n    };\n\n    this.addCommands({ cmd, undo, mustExec: true });\n  }\n\n  #drawPoints() {\n    if (!this.#hasSomethingToDraw) {\n      return;\n    }\n    this.#hasSomethingToDraw = false;\n\n    const thickness = Math.ceil(this.thickness * this.parentScale);\n    const lastPoints = this.currentPath.slice(-3);\n    const x = lastPoints.map(xy => xy[0]);\n    const y = lastPoints.map(xy => xy[1]);\n    const xMin = Math.min(...x) - thickness;\n    const xMax = Math.max(...x) + thickness;\n    const yMin = Math.min(...y) - thickness;\n    const yMax = Math.max(...y) + thickness;\n\n    const { ctx } = this;\n    ctx.save();\n\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n      // In Chrome, the clip() method doesn't work as expected.\n      ctx.clearRect(xMin, yMin, xMax - xMin, yMax - yMin);\n      ctx.beginPath();\n      ctx.rect(xMin, yMin, xMax - xMin, yMax - yMin);\n      ctx.clip();\n    } else {\n      ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    }\n\n    for (const path of this.bezierPath2D) {\n      ctx.stroke(path);\n    }\n    ctx.stroke(this.#currentPath2D);\n\n    ctx.restore();\n  }\n\n  #makeBezierCurve(path2D, x0, y0, x1, y1, x2, y2) {\n    const prevX = (x0 + x1) / 2;\n    const prevY = (y0 + y1) / 2;\n    const x3 = (x1 + x2) / 2;\n    const y3 = (y1 + y2) / 2;\n\n    path2D.bezierCurveTo(\n      prevX + (2 * (x1 - prevX)) / 3,\n      prevY + (2 * (y1 - prevY)) / 3,\n      x3 + (2 * (x1 - x3)) / 3,\n      y3 + (2 * (y1 - y3)) / 3,\n      x3,\n      y3\n    );\n  }\n\n  #generateBezierPoints() {\n    const path = this.currentPath;\n    if (path.length <= 2) {\n      return [[path[0], path[0], path.at(-1), path.at(-1)]];\n    }\n\n    const bezierPoints = [];\n    let i;\n    let [x0, y0] = path[0];\n    for (i = 1; i < path.length - 2; i++) {\n      const [x1, y1] = path[i];\n      const [x2, y2] = path[i + 1];\n      const x3 = (x1 + x2) / 2;\n      const y3 = (y1 + y2) / 2;\n\n      // The quadratic is: [[x0, y0], [x1, y1], [x3, y3]].\n      // Convert the quadratic to a cubic\n      // (see https://fontforge.org/docs/techref/bezier.html#converting-truetype-to-postscript)\n      const control1 = [x0 + (2 * (x1 - x0)) / 3, y0 + (2 * (y1 - y0)) / 3];\n      const control2 = [x3 + (2 * (x1 - x3)) / 3, y3 + (2 * (y1 - y3)) / 3];\n\n      bezierPoints.push([[x0, y0], control1, control2, [x3, y3]]);\n\n      [x0, y0] = [x3, y3];\n    }\n\n    const [x1, y1] = path[i];\n    const [x2, y2] = path[i + 1];\n\n    // The quadratic is: [[x0, y0], [x1, y1], [x2, y2]].\n    const control1 = [x0 + (2 * (x1 - x0)) / 3, y0 + (2 * (y1 - y0)) / 3];\n    const control2 = [x2 + (2 * (x1 - x2)) / 3, y2 + (2 * (y1 - y2)) / 3];\n\n    bezierPoints.push([[x0, y0], control1, control2, [x2, y2]]);\n    return bezierPoints;\n  }\n\n  /**\n   * Redraw all the paths.\n   */\n  #redraw() {\n    if (this.isEmpty()) {\n      this.#updateTransform();\n      return;\n    }\n    this.#setStroke();\n\n    const { canvas, ctx } = this;\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    this.#updateTransform();\n\n    for (const path of this.bezierPath2D) {\n      ctx.stroke(path);\n    }\n  }\n\n  /**\n   * Commit the curves we have in this editor.\n   */\n  commit() {\n    if (this.#disableEditing) {\n      return;\n    }\n\n    super.commit();\n\n    this.isEditing = false;\n    this.disableEditMode();\n\n    // This editor must be on top of the main ink editor.\n    this.setInForeground();\n\n    this.#disableEditing = true;\n    this.div.classList.add(\"disabled\");\n\n    this.#fitToContent(/* firstTime = */ true);\n    this.makeResizable();\n\n    this.parent.addInkEditorIfNeeded(/* isCommitting = */ true);\n\n    // When commiting, the position of this editor is changed, hence we must\n    // move it to the right position in the DOM.\n    this.moveInDOM();\n    this.div.focus({\n      preventScroll: true /* See issue #15744 */,\n    });\n  }\n\n  /** @inheritdoc */\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    super.focusin(event);\n    this.enableEditMode();\n  }\n\n  /**\n   * onpointerdown callback for the canvas we're drawing on.\n   * @param {PointerEvent} event\n   */\n  canvasPointerdown(event) {\n    if (event.button !== 0 || !this.isInEditMode() || this.#disableEditing) {\n      return;\n    }\n\n    // We want to draw on top of any other editors.\n    // Since it's the last child, there's no need to give it a higher z-index.\n    this.setInForeground();\n\n    event.preventDefault();\n\n    if (event.type !== \"mouse\") {\n      this.div.focus();\n    }\n\n    this.#startDrawing(event.offsetX, event.offsetY);\n  }\n\n  /**\n   * onpointermove callback for the canvas we're drawing on.\n   * @param {PointerEvent} event\n   */\n  canvasPointermove(event) {\n    event.preventDefault();\n    this.#draw(event.offsetX, event.offsetY);\n  }\n\n  /**\n   * onpointerup callback for the canvas we're drawing on.\n   * @param {PointerEvent} event\n   */\n  canvasPointerup(event) {\n    event.preventDefault();\n    this.#endDrawing(event);\n  }\n\n  /**\n   * onpointerleave callback for the canvas we're drawing on.\n   * @param {PointerEvent} event\n   */\n  canvasPointerleave(event) {\n    this.#endDrawing(event);\n  }\n\n  /**\n   * End the drawing.\n   * @param {PointerEvent} event\n   */\n  #endDrawing(event) {\n    this.canvas.removeEventListener(\n      \"pointerleave\",\n      this.#boundCanvasPointerleave\n    );\n    this.canvas.removeEventListener(\n      \"pointermove\",\n      this.#boundCanvasPointermove\n    );\n    this.canvas.removeEventListener(\"pointerup\", this.#boundCanvasPointerup);\n    this.canvas.addEventListener(\"pointerdown\", this.#boundCanvasPointerdown);\n\n    // Slight delay to avoid the context menu to appear (it can happen on a long\n    // tap with a pen).\n    setTimeout(() => {\n      this.canvas.removeEventListener(\"contextmenu\", noContextMenu);\n    }, 10);\n\n    this.#stopDrawing(event.offsetX, event.offsetY);\n\n    this.addToAnnotationStorage();\n\n    // Since the ink editor covers all of the page and we want to be able\n    // to select another editor, we just put this one in the background.\n    this.setInBackground();\n  }\n\n  /**\n   * Create the canvas element.\n   */\n  #createCanvas() {\n    this.canvas = document.createElement(\"canvas\");\n    this.canvas.width = this.canvas.height = 0;\n    this.canvas.className = \"inkEditorCanvas\";\n\n    AnnotationEditor._l10nPromise\n      .get(\"editor_ink_canvas_aria_label\")\n      .then(msg => this.canvas?.setAttribute(\"aria-label\", msg));\n    this.div.append(this.canvas);\n    this.ctx = this.canvas.getContext(\"2d\");\n  }\n\n  /**\n   * Create the resize observer.\n   */\n  #createObserver() {\n    this.#observer = new ResizeObserver(entries => {\n      const rect = entries[0].contentRect;\n      if (rect.width && rect.height) {\n        this.setDimensions(rect.width, rect.height);\n      }\n    });\n    this.#observer.observe(this.div);\n  }\n\n  /** @inheritdoc */\n  get isResizable() {\n    return !this.isEmpty() && this.#disableEditing;\n  }\n\n  /** @inheritdoc */\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n\n    let baseX, baseY;\n    if (this.width) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n\n    super.render();\n\n    AnnotationEditor._l10nPromise\n      .get(\"editor_ink2_aria_label\")\n      .then(msg => this.div?.setAttribute(\"aria-label\", msg));\n\n    const [x, y, w, h] = this.#getInitialBBox();\n    this.setAt(x, y, 0, 0);\n    this.setDims(w, h);\n\n    this.#createCanvas();\n\n    if (this.width) {\n      // This editor was created in using copy (ctrl+c).\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      this.setAspectRatio(this.width * parentWidth, this.height * parentHeight);\n      this.setAt(\n        baseX * parentWidth,\n        baseY * parentHeight,\n        this.width * parentWidth,\n        this.height * parentHeight\n      );\n      this.#isCanvasInitialized = true;\n      this.#setCanvasDims();\n      this.setDims(this.width * parentWidth, this.height * parentHeight);\n      this.#redraw();\n      this.div.classList.add(\"disabled\");\n    } else {\n      this.div.classList.add(\"editing\");\n      this.enableEditMode();\n    }\n\n    this.#createObserver();\n\n    return this.div;\n  }\n\n  #setCanvasDims() {\n    if (!this.#isCanvasInitialized) {\n      return;\n    }\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.canvas.width = Math.ceil(this.width * parentWidth);\n    this.canvas.height = Math.ceil(this.height * parentHeight);\n    this.#updateTransform();\n  }\n\n  /**\n   * When the dimensions of the div change the inner canvas must\n   * renew its dimensions, hence it must redraw its own contents.\n   * @param {number} width - the new width of the div\n   * @param {number} height - the new height of the div\n   * @returns\n   */\n  setDimensions(width, height) {\n    const roundedWidth = Math.round(width);\n    const roundedHeight = Math.round(height);\n    if (\n      this.#realWidth === roundedWidth &&\n      this.#realHeight === roundedHeight\n    ) {\n      return;\n    }\n\n    this.#realWidth = roundedWidth;\n    this.#realHeight = roundedHeight;\n\n    this.canvas.style.visibility = \"hidden\";\n\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.width = width / parentWidth;\n    this.height = height / parentHeight;\n    this.fixAndSetPosition();\n\n    if (this.#disableEditing) {\n      this.#setScaleFactor(width, height);\n    }\n\n    this.#setCanvasDims();\n    this.#redraw();\n\n    this.canvas.style.visibility = \"visible\";\n\n    // For any reason the dimensions couldn't be in percent but in pixels, hence\n    // we must fix them.\n    this.fixDims();\n  }\n\n  #setScaleFactor(width, height) {\n    const padding = this.#getPadding();\n    const scaleFactorW = (width - padding) / this.#baseWidth;\n    const scaleFactorH = (height - padding) / this.#baseHeight;\n    this.scaleFactor = Math.min(scaleFactorW, scaleFactorH);\n  }\n\n  /**\n   * Update the canvas transform.\n   */\n  #updateTransform() {\n    const padding = this.#getPadding() / 2;\n    this.ctx.setTransform(\n      this.scaleFactor,\n      0,\n      0,\n      this.scaleFactor,\n      this.translationX * this.scaleFactor + padding,\n      this.translationY * this.scaleFactor + padding\n    );\n  }\n\n  /**\n   * Convert into a Path2D.\n   * @param {Array<Array<number>>} bezier\n   * @returns {Path2D}\n   */\n  static #buildPath2D(bezier) {\n    const path2D = new Path2D();\n    for (let i = 0, ii = bezier.length; i < ii; i++) {\n      const [first, control1, control2, second] = bezier[i];\n      if (i === 0) {\n        path2D.moveTo(...first);\n      }\n      path2D.bezierCurveTo(\n        control1[0],\n        control1[1],\n        control2[0],\n        control2[1],\n        second[0],\n        second[1]\n      );\n    }\n    return path2D;\n  }\n\n  static #toPDFCoordinates(points, rect, rotation) {\n    const [blX, blY, trX, trY] = rect;\n\n    switch (rotation) {\n      case 0:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] += blX;\n          points[i + 1] = trY - points[i + 1];\n        }\n        break;\n      case 90:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = points[i + 1] + blX;\n          points[i + 1] = x + blY;\n        }\n        break;\n      case 180:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] = trX - points[i];\n          points[i + 1] += blY;\n        }\n        break;\n      case 270:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = trX - points[i + 1];\n          points[i + 1] = trY - x;\n        }\n        break;\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n    return points;\n  }\n\n  static #fromPDFCoordinates(points, rect, rotation) {\n    const [blX, blY, trX, trY] = rect;\n\n    switch (rotation) {\n      case 0:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] -= blX;\n          points[i + 1] = trY - points[i + 1];\n        }\n        break;\n      case 90:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = points[i + 1] - blY;\n          points[i + 1] = x - blX;\n        }\n        break;\n      case 180:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] = trX - points[i];\n          points[i + 1] -= blY;\n        }\n        break;\n      case 270:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = trY - points[i + 1];\n          points[i + 1] = trX - x;\n        }\n        break;\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n    return points;\n  }\n\n  /**\n   * Transform and serialize the paths.\n   * @param {number} s - scale factor\n   * @param {number} tx - abscissa of the translation\n   * @param {number} ty - ordinate of the translation\n   * @param {Array<number>} rect - the bounding box of the annotation\n   */\n  #serializePaths(s, tx, ty, rect) {\n    const paths = [];\n    const padding = this.thickness / 2;\n    const shiftX = s * tx + padding;\n    const shiftY = s * ty + padding;\n    for (const bezier of this.paths) {\n      const buffer = [];\n      const points = [];\n      for (let j = 0, jj = bezier.length; j < jj; j++) {\n        const [first, control1, control2, second] = bezier[j];\n        const p10 = s * first[0] + shiftX;\n        const p11 = s * first[1] + shiftY;\n        const p20 = s * control1[0] + shiftX;\n        const p21 = s * control1[1] + shiftY;\n        const p30 = s * control2[0] + shiftX;\n        const p31 = s * control2[1] + shiftY;\n        const p40 = s * second[0] + shiftX;\n        const p41 = s * second[1] + shiftY;\n\n        if (j === 0) {\n          buffer.push(p10, p11);\n          points.push(p10, p11);\n        }\n        buffer.push(p20, p21, p30, p31, p40, p41);\n        points.push(p20, p21);\n        if (j === jj - 1) {\n          points.push(p40, p41);\n        }\n      }\n      paths.push({\n        bezier: InkEditor.#toPDFCoordinates(buffer, rect, this.rotation),\n        points: InkEditor.#toPDFCoordinates(points, rect, this.rotation),\n      });\n    }\n\n    return paths;\n  }\n\n  /**\n   * Get the bounding box containing all the paths.\n   * @returns {Array<number>}\n   */\n  #getBbox() {\n    let xMin = Infinity;\n    let xMax = -Infinity;\n    let yMin = Infinity;\n    let yMax = -Infinity;\n\n    for (const path of this.paths) {\n      for (const [first, control1, control2, second] of path) {\n        const bbox = Util.bezierBoundingBox(\n          ...first,\n          ...control1,\n          ...control2,\n          ...second\n        );\n        xMin = Math.min(xMin, bbox[0]);\n        yMin = Math.min(yMin, bbox[1]);\n        xMax = Math.max(xMax, bbox[2]);\n        yMax = Math.max(yMax, bbox[3]);\n      }\n    }\n\n    return [xMin, yMin, xMax, yMax];\n  }\n\n  /**\n   * The bounding box is computed with null thickness, so we must take\n   * it into account for the display.\n   * It corresponds to the total padding, hence it should be divided by 2\n   * in order to have left/right paddings.\n   * @returns {number}\n   */\n  #getPadding() {\n    return this.#disableEditing\n      ? Math.ceil(this.thickness * this.parentScale)\n      : 0;\n  }\n\n  /**\n   * Set the div position and dimensions in order to fit to\n   * the bounding box of the contents.\n   * @returns {undefined}\n   */\n  #fitToContent(firstTime = false) {\n    if (this.isEmpty()) {\n      return;\n    }\n\n    if (!this.#disableEditing) {\n      this.#redraw();\n      return;\n    }\n\n    const bbox = this.#getBbox();\n    const padding = this.#getPadding();\n    this.#baseWidth = Math.max(AnnotationEditor.MIN_SIZE, bbox[2] - bbox[0]);\n    this.#baseHeight = Math.max(AnnotationEditor.MIN_SIZE, bbox[3] - bbox[1]);\n\n    const width = Math.ceil(padding + this.#baseWidth * this.scaleFactor);\n    const height = Math.ceil(padding + this.#baseHeight * this.scaleFactor);\n\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.width = width / parentWidth;\n    this.height = height / parentHeight;\n\n    this.setAspectRatio(width, height);\n\n    const prevTranslationX = this.translationX;\n    const prevTranslationY = this.translationY;\n\n    this.translationX = -bbox[0];\n    this.translationY = -bbox[1];\n    this.#setCanvasDims();\n    this.#redraw();\n\n    this.#realWidth = width;\n    this.#realHeight = height;\n\n    this.setDims(width, height);\n    const unscaledPadding = firstTime ? padding / this.scaleFactor / 2 : 0;\n    this.translate(\n      prevTranslationX - this.translationX - unscaledPadding,\n      prevTranslationY - this.translationY - unscaledPadding\n    );\n  }\n\n  /** @inheritdoc */\n  static deserialize(data, parent, uiManager) {\n    if (data instanceof InkAnnotationElement) {\n      return null;\n    }\n    const editor = super.deserialize(data, parent, uiManager);\n\n    editor.thickness = data.thickness;\n    editor.color = Util.makeHexColor(...data.color);\n    editor.opacity = data.opacity;\n\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const width = editor.width * pageWidth;\n    const height = editor.height * pageHeight;\n    const scaleFactor = editor.parentScale;\n    const padding = data.thickness / 2;\n\n    editor.#disableEditing = true;\n    editor.#realWidth = Math.round(width);\n    editor.#realHeight = Math.round(height);\n\n    const { paths, rect, rotation } = data;\n\n    for (let { bezier } of paths) {\n      bezier = InkEditor.#fromPDFCoordinates(bezier, rect, rotation);\n      const path = [];\n      editor.paths.push(path);\n      let p0 = scaleFactor * (bezier[0] - padding);\n      let p1 = scaleFactor * (bezier[1] - padding);\n      for (let i = 2, ii = bezier.length; i < ii; i += 6) {\n        const p10 = scaleFactor * (bezier[i] - padding);\n        const p11 = scaleFactor * (bezier[i + 1] - padding);\n        const p20 = scaleFactor * (bezier[i + 2] - padding);\n        const p21 = scaleFactor * (bezier[i + 3] - padding);\n        const p30 = scaleFactor * (bezier[i + 4] - padding);\n        const p31 = scaleFactor * (bezier[i + 5] - padding);\n        path.push([\n          [p0, p1],\n          [p10, p11],\n          [p20, p21],\n          [p30, p31],\n        ]);\n        p0 = p30;\n        p1 = p31;\n      }\n      const path2D = this.#buildPath2D(path);\n      editor.bezierPath2D.push(path2D);\n    }\n\n    const bbox = editor.#getBbox();\n    editor.#baseWidth = Math.max(AnnotationEditor.MIN_SIZE, bbox[2] - bbox[0]);\n    editor.#baseHeight = Math.max(AnnotationEditor.MIN_SIZE, bbox[3] - bbox[1]);\n    editor.#setScaleFactor(width, height);\n\n    return editor;\n  }\n\n  /** @inheritdoc */\n  serialize() {\n    if (this.isEmpty()) {\n      return null;\n    }\n\n    const rect = this.getRect(0, 0);\n    const color = AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);\n\n    return {\n      annotationType: AnnotationEditorType.INK,\n      color,\n      thickness: this.thickness,\n      opacity: this.opacity,\n      paths: this.#serializePaths(\n        this.scaleFactor / this.parentScale,\n        this.translationX,\n        this.translationY,\n        rect\n      ),\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.rotation,\n      structTreeParentId: this._structTreeParentId,\n    };\n  }\n}\n\nexport { InkEditor };\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AnnotationEditorType, shadow } from \"../../shared/util.js\";\nimport { AnnotationEditor } from \"./editor.js\";\nimport { PixelsPerInch } from \"../display_utils.js\";\nimport { StampAnnotationElement } from \"../annotation_layer.js\";\n\n/**\n * Basic text editor in order to create a FreeTex annotation.\n */\nclass StampEditor extends AnnotationEditor {\n  #bitmap = null;\n\n  #bitmapId = null;\n\n  #bitmapPromise = null;\n\n  #bitmapUrl = null;\n\n  #bitmapFile = null;\n\n  #canvas = null;\n\n  #observer = null;\n\n  #resizeTimeoutId = null;\n\n  #isSvg = false;\n\n  #hasBeenAddedInUndoStack = false;\n\n  static _type = \"stamp\";\n\n  constructor(params) {\n    super({ ...params, name: \"stampEditor\" });\n    this.#bitmapUrl = params.bitmapUrl;\n    this.#bitmapFile = params.bitmapFile;\n  }\n\n  /** @inheritdoc */\n  static initialize(l10n) {\n    AnnotationEditor.initialize(l10n);\n  }\n\n  static get supportedTypes() {\n    // See https://developer.mozilla.org/en-US/docs/Web/Media/Formats/Image_types\n    // to know which types are supported by the browser.\n    const types = [\n      \"apng\",\n      \"avif\",\n      \"bmp\",\n      \"gif\",\n      \"jpeg\",\n      \"png\",\n      \"svg+xml\",\n      \"webp\",\n      \"x-icon\",\n    ];\n    return shadow(\n      this,\n      \"supportedTypes\",\n      types.map(type => `image/${type}`)\n    );\n  }\n\n  static get supportedTypesStr() {\n    return shadow(this, \"supportedTypesStr\", this.supportedTypes.join(\",\"));\n  }\n\n  /** @inheritdoc */\n  static isHandlingMimeForPasting(mime) {\n    return this.supportedTypes.includes(mime);\n  }\n\n  /** @inheritdoc */\n  static paste(item, parent) {\n    parent.pasteEditor(AnnotationEditorType.STAMP, {\n      bitmapFile: item.getAsFile(),\n    });\n  }\n\n  #getBitmapFetched(data, fromId = false) {\n    if (!data) {\n      this.remove();\n      return;\n    }\n    this.#bitmap = data.bitmap;\n    if (!fromId) {\n      this.#bitmapId = data.id;\n      this.#isSvg = data.isSvg;\n    }\n    this.#createCanvas();\n  }\n\n  #getBitmapDone() {\n    this.#bitmapPromise = null;\n    this._uiManager.enableWaiting(false);\n    if (this.#canvas) {\n      this.div.focus();\n    }\n  }\n\n  #getBitmap() {\n    if (this.#bitmapId) {\n      this._uiManager.enableWaiting(true);\n      this._uiManager.imageManager\n        .getFromId(this.#bitmapId)\n        .then(data => this.#getBitmapFetched(data, /* fromId = */ true))\n        .finally(() => this.#getBitmapDone());\n      return;\n    }\n\n    if (this.#bitmapUrl) {\n      const url = this.#bitmapUrl;\n      this.#bitmapUrl = null;\n      this._uiManager.enableWaiting(true);\n      this.#bitmapPromise = this._uiManager.imageManager\n        .getFromUrl(url)\n        .then(data => this.#getBitmapFetched(data))\n        .finally(() => this.#getBitmapDone());\n      return;\n    }\n\n    if (this.#bitmapFile) {\n      const file = this.#bitmapFile;\n      this.#bitmapFile = null;\n      this._uiManager.enableWaiting(true);\n      this.#bitmapPromise = this._uiManager.imageManager\n        .getFromFile(file)\n        .then(data => this.#getBitmapFetched(data))\n        .finally(() => this.#getBitmapDone());\n      return;\n    }\n\n    const input = document.createElement(\"input\");\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n      input.hidden = true;\n      input.id = \"stampEditorFileInput\";\n      document.body.append(input);\n    }\n    input.type = \"file\";\n    input.accept = StampEditor.supportedTypesStr;\n    this.#bitmapPromise = new Promise(resolve => {\n      input.addEventListener(\"change\", async () => {\n        if (!input.files || input.files.length === 0) {\n          this.remove();\n        } else {\n          this._uiManager.enableWaiting(true);\n          const data = await this._uiManager.imageManager.getFromFile(\n            input.files[0]\n          );\n          this.#getBitmapFetched(data);\n        }\n        if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n          input.remove();\n        }\n        resolve();\n      });\n      input.addEventListener(\"cancel\", () => {\n        this.remove();\n        resolve();\n      });\n    }).finally(() => this.#getBitmapDone());\n    if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"TESTING\")) {\n      input.click();\n    }\n  }\n\n  /** @inheritdoc */\n  remove() {\n    if (this.#bitmapId) {\n      this.#bitmap = null;\n      this._uiManager.imageManager.deleteId(this.#bitmapId);\n      this.#canvas?.remove();\n      this.#canvas = null;\n      this.#observer?.disconnect();\n      this.#observer = null;\n    }\n    super.remove();\n  }\n\n  /** @inheritdoc */\n  rebuild() {\n    if (!this.parent) {\n      // It's possible to have to rebuild an editor which is not on a visible\n      // page.\n      if (this.#bitmapId) {\n        this.#getBitmap();\n      }\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n\n    if (this.#bitmapId) {\n      this.#getBitmap();\n    }\n\n    if (!this.isAttachedToDOM) {\n      // At some point this editor was removed and we're rebuilting it,\n      // hence we must add it to its parent.\n      this.parent.add(this);\n    }\n  }\n\n  /** @inheritdoc */\n  onceAdded() {\n    this._isDraggable = true;\n    this.div.focus();\n  }\n\n  /** @inheritdoc */\n  isEmpty() {\n    return !(\n      this.#bitmapPromise ||\n      this.#bitmap ||\n      this.#bitmapUrl ||\n      this.#bitmapFile\n    );\n  }\n\n  /** @inheritdoc */\n  get isResizable() {\n    return true;\n  }\n\n  /** @inheritdoc */\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n\n    let baseX, baseY;\n    if (this.width) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n\n    super.render();\n    this.div.hidden = true;\n\n    if (this.#bitmap) {\n      this.#createCanvas();\n    } else {\n      this.#getBitmap();\n    }\n\n    if (this.width) {\n      // This editor was created in using copy (ctrl+c).\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      this.setAt(\n        baseX * parentWidth,\n        baseY * parentHeight,\n        this.width * parentWidth,\n        this.height * parentHeight\n      );\n    }\n\n    return this.div;\n  }\n\n  #createCanvas() {\n    const { div } = this;\n    let { width, height } = this.#bitmap;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const MAX_RATIO = 0.75;\n    if (this.width) {\n      width = this.width * pageWidth;\n      height = this.height * pageHeight;\n    } else if (\n      width > MAX_RATIO * pageWidth ||\n      height > MAX_RATIO * pageHeight\n    ) {\n      // If the the image is too big compared to the page dimensions\n      // (more than MAX_RATIO) then we scale it down.\n      const factor = Math.min(\n        (MAX_RATIO * pageWidth) / width,\n        (MAX_RATIO * pageHeight) / height\n      );\n      width *= factor;\n      height *= factor;\n    }\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setDims(\n      (width * parentWidth) / pageWidth,\n      (height * parentHeight) / pageHeight\n    );\n\n    this._uiManager.enableWaiting(false);\n    const canvas = (this.#canvas = document.createElement(\"canvas\"));\n    div.append(canvas);\n    div.hidden = false;\n    this.#drawBitmap(width, height);\n    this.#createObserver();\n    if (!this.#hasBeenAddedInUndoStack) {\n      this.parent.addUndoableEditor(this);\n      this.#hasBeenAddedInUndoStack = true;\n    }\n\n    // There are multiple ways to add an image to the page, so here we just\n    // count the number of times an image is added to the page whatever the way\n    // is.\n    this._uiManager._eventBus.dispatch(\"reporttelemetry\", {\n      source: this,\n      details: {\n        type: \"editing\",\n        subtype: this.editorType,\n        data: {\n          action: \"inserted_image\",\n        },\n      },\n    });\n    this.addAltTextButton();\n  }\n\n  /**\n   * When the dimensions of the div change the inner canvas must\n   * renew its dimensions, hence it must redraw its own contents.\n   * @param {number} width - the new width of the div\n   * @param {number} height - the new height of the div\n   * @returns\n   */\n  #setDimensions(width, height) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.width = width / parentWidth;\n    this.height = height / parentHeight;\n    this.setDims(width, height);\n    if (this._initialOptions?.isCentered) {\n      this.center();\n    } else {\n      this.fixAndSetPosition();\n    }\n    this._initialOptions = null;\n    if (this.#resizeTimeoutId !== null) {\n      clearTimeout(this.#resizeTimeoutId);\n    }\n    // When the user is resizing the editor we just use CSS to scale the image\n    // to avoid redrawing it too often.\n    // And once the user stops resizing the editor we redraw the image in\n    // rescaling it correctly (see this.#scaleBitmap).\n    const TIME_TO_WAIT = 200;\n    this.#resizeTimeoutId = setTimeout(() => {\n      this.#resizeTimeoutId = null;\n      this.#drawBitmap(width, height);\n    }, TIME_TO_WAIT);\n  }\n\n  #scaleBitmap(width, height) {\n    const { width: bitmapWidth, height: bitmapHeight } = this.#bitmap;\n\n    let newWidth = bitmapWidth;\n    let newHeight = bitmapHeight;\n    let bitmap = this.#bitmap;\n    while (newWidth > 2 * width || newHeight > 2 * height) {\n      const prevWidth = newWidth;\n      const prevHeight = newHeight;\n\n      if (newWidth > 2 * width) {\n        // See bug 1820511 (Windows specific bug).\n        // TODO: once the above bug is fixed we could revert to:\n        // newWidth = Math.ceil(newWidth / 2);\n        newWidth =\n          newWidth >= 16384\n            ? Math.floor(newWidth / 2) - 1\n            : Math.ceil(newWidth / 2);\n      }\n      if (newHeight > 2 * height) {\n        newHeight =\n          newHeight >= 16384\n            ? Math.floor(newHeight / 2) - 1\n            : Math.ceil(newHeight / 2);\n      }\n\n      const offscreen = new OffscreenCanvas(newWidth, newHeight);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(\n        bitmap,\n        0,\n        0,\n        prevWidth,\n        prevHeight,\n        0,\n        0,\n        newWidth,\n        newHeight\n      );\n      bitmap = offscreen.transferToImageBitmap();\n    }\n\n    return bitmap;\n  }\n\n  #drawBitmap(width, height) {\n    width = Math.ceil(width);\n    height = Math.ceil(height);\n    const canvas = this.#canvas;\n    if (!canvas || (canvas.width === width && canvas.height === height)) {\n      return;\n    }\n    canvas.width = width;\n    canvas.height = height;\n    const bitmap = this.#isSvg\n      ? this.#bitmap\n      : this.#scaleBitmap(width, height);\n    const ctx = canvas.getContext(\"2d\");\n    ctx.filter = this._uiManager.hcmFilter;\n    ctx.drawImage(\n      bitmap,\n      0,\n      0,\n      bitmap.width,\n      bitmap.height,\n      0,\n      0,\n      width,\n      height\n    );\n  }\n\n  #serializeBitmap(toUrl) {\n    if (toUrl) {\n      if (this.#isSvg) {\n        const url = this._uiManager.imageManager.getSvgUrl(this.#bitmapId);\n        if (url) {\n          return url;\n        }\n      }\n      // We convert to a data url because it's sync and the url can live in the\n      // clipboard.\n      const canvas = document.createElement(\"canvas\");\n      ({ width: canvas.width, height: canvas.height } = this.#bitmap);\n      const ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(this.#bitmap, 0, 0);\n\n      return canvas.toDataURL();\n    }\n\n    if (this.#isSvg) {\n      const [pageWidth, pageHeight] = this.pageDimensions;\n      // Multiply by PixelsPerInch.PDF_TO_CSS_UNITS in order to increase the\n      // image resolution when rasterizing it.\n      const width = Math.round(\n        this.width * pageWidth * PixelsPerInch.PDF_TO_CSS_UNITS\n      );\n      const height = Math.round(\n        this.height * pageHeight * PixelsPerInch.PDF_TO_CSS_UNITS\n      );\n      const offscreen = new OffscreenCanvas(width, height);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(\n        this.#bitmap,\n        0,\n        0,\n        this.#bitmap.width,\n        this.#bitmap.height,\n        0,\n        0,\n        width,\n        height\n      );\n      return offscreen.transferToImageBitmap();\n    }\n\n    return structuredClone(this.#bitmap);\n  }\n\n  /**\n   * Create the resize observer.\n   */\n  #createObserver() {\n    this.#observer = new ResizeObserver(entries => {\n      const rect = entries[0].contentRect;\n      if (rect.width && rect.height) {\n        this.#setDimensions(rect.width, rect.height);\n      }\n    });\n    this.#observer.observe(this.div);\n  }\n\n  /** @inheritdoc */\n  static deserialize(data, parent, uiManager) {\n    if (data instanceof StampAnnotationElement) {\n      return null;\n    }\n    const editor = super.deserialize(data, parent, uiManager);\n    const { rect, bitmapUrl, bitmapId, isSvg, accessibilityData } = data;\n    if (bitmapId && uiManager.imageManager.isValidId(bitmapId)) {\n      editor.#bitmapId = bitmapId;\n    } else {\n      editor.#bitmapUrl = bitmapUrl;\n    }\n    editor.#isSvg = isSvg;\n\n    const [parentWidth, parentHeight] = editor.pageDimensions;\n    editor.width = (rect[2] - rect[0]) / parentWidth;\n    editor.height = (rect[3] - rect[1]) / parentHeight;\n\n    if (accessibilityData) {\n      editor.altTextData = accessibilityData;\n    }\n\n    return editor;\n  }\n\n  /** @inheritdoc */\n  serialize(isForCopying = false, context = null) {\n    if (this.isEmpty()) {\n      return null;\n    }\n\n    const serialized = {\n      annotationType: AnnotationEditorType.STAMP,\n      bitmapId: this.#bitmapId,\n      pageIndex: this.pageIndex,\n      rect: this.getRect(0, 0),\n      rotation: this.rotation,\n      isSvg: this.#isSvg,\n      structTreeParentId: this._structTreeParentId,\n    };\n\n    if (isForCopying) {\n      // We don't know what's the final destination (this pdf or another one)\n      // of this annotation and the clipboard doesn't support ImageBitmaps,\n      // hence we serialize the bitmap to a data url.\n      serialized.bitmapUrl = this.#serializeBitmap(/* toUrl = */ true);\n      serialized.accessibilityData = this.altTextData;\n      return serialized;\n    }\n\n    const { decorative, altText } = this.altTextData;\n    if (!decorative && altText) {\n      serialized.accessibilityData = { type: \"Figure\", alt: altText };\n    }\n\n    if (context === null) {\n      return serialized;\n    }\n\n    context.stamps ||= new Map();\n    const area = this.#isSvg\n      ? (serialized.rect[2] - serialized.rect[0]) *\n        (serialized.rect[3] - serialized.rect[1])\n      : null;\n    if (!context.stamps.has(this.#bitmapId)) {\n      // We don't want to have multiple copies of the same bitmap in the\n      // annotationMap, hence we only add the bitmap the first time we meet it.\n      context.stamps.set(this.#bitmapId, { area, serialized });\n      serialized.bitmap = this.#serializeBitmap(/* toUrl = */ false);\n    } else if (this.#isSvg) {\n      // If we have multiple copies of the same svg but with different sizes,\n      // then we want to keep the biggest one.\n      const prevData = context.stamps.get(this.#bitmapId);\n      if (area > prevData.area) {\n        prevData.area = area;\n        prevData.serialized.bitmap.close();\n        prevData.serialized.bitmap = this.#serializeBitmap(/* toUrl = */ false);\n      }\n    }\n    return serialized;\n  }\n}\n\nexport { StampEditor };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __w_pdfjs_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __w_pdfjs_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// eslint-disable-next-line max-len\n/** @typedef {import(\"./display/api\").OnProgressParameters} OnProgressParameters */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"./display/api\").PDFDocumentLoadingTask} PDFDocumentLoadingTask */\n/** @typedef {import(\"./display/api\").PDFDocumentProxy} PDFDocumentProxy */\n/** @typedef {import(\"./display/api\").PDFPageProxy} PDFPageProxy */\n/** @typedef {import(\"./display/api\").RenderTask} RenderTask */\n/** @typedef {import(\"./display/display_utils\").PageViewport} PageViewport */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"./display/text_layer\").TextLayerRenderTask} TextLayerRenderTask */\n\nimport {\n  AbortException,\n  AnnotationEditorParamsType,\n  AnnotationEditorType,\n  AnnotationMode,\n  CMapCompressionType,\n  createValidAbsoluteUrl,\n  FeatureTest,\n  ImageKind,\n  InvalidPDFException,\n  MissingPDFException,\n  normalizeUnicode,\n  OPS,\n  PasswordResponses,\n  PermissionFlag,\n  PromiseCapability,\n  shadow,\n  UnexpectedResponseException,\n  Util,\n  VerbosityLevel,\n} from \"./shared/util.js\";\nimport {\n  build,\n  getDocument,\n  PDFDataRangeTransport,\n  PDFWorker,\n  SVGGraphics,\n  version,\n} from \"./display/api.js\";\nimport {\n  DOMSVGFactory,\n  getFilenameFromUrl,\n  getPdfFilenameFromUrl,\n  getXfaPageViewport,\n  isDataScheme,\n  isPdfFile,\n  loadScript,\n  noContextMenu,\n  PDFDateString,\n  PixelsPerInch,\n  RenderingCancelledException,\n  setLayerDimensions,\n} from \"./display/display_utils.js\";\nimport { renderTextLayer, updateTextLayer } from \"./display/text_layer.js\";\nimport { AnnotationEditorLayer } from \"./display/editor/annotation_editor_layer.js\";\nimport { AnnotationEditorUIManager } from \"./display/editor/tools.js\";\nimport { AnnotationLayer } from \"./display/annotation_layer.js\";\nimport { GlobalWorkerOptions } from \"./display/worker_options.js\";\nimport { XfaLayer } from \"./display/xfa_layer.js\";\n\n/* eslint-disable-next-line no-unused-vars */\nconst pdfjsVersion =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_VERSION\") : void 0;\n/* eslint-disable-next-line no-unused-vars */\nconst pdfjsBuild =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_BUILD\") : void 0;\n\nexport {\n  AbortException,\n  AnnotationEditorLayer,\n  AnnotationEditorParamsType,\n  AnnotationEditorType,\n  AnnotationEditorUIManager,\n  AnnotationLayer,\n  AnnotationMode,\n  build,\n  CMapCompressionType,\n  createValidAbsoluteUrl,\n  DOMSVGFactory,\n  FeatureTest,\n  getDocument,\n  getFilenameFromUrl,\n  getPdfFilenameFromUrl,\n  getXfaPageViewport,\n  GlobalWorkerOptions,\n  ImageKind,\n  InvalidPDFException,\n  isDataScheme,\n  isPdfFile,\n  loadScript,\n  MissingPDFException,\n  noContextMenu,\n  normalizeUnicode,\n  OPS,\n  PasswordResponses,\n  PDFDataRangeTransport,\n  PDFDateString,\n  PDFWorker,\n  PermissionFlag,\n  PixelsPerInch,\n  PromiseCapability,\n  RenderingCancelledException,\n  renderTextLayer,\n  setLayerDimensions,\n  shadow,\n  SVGGraphics,\n  UnexpectedResponseException,\n  updateTextLayer,\n  Util,\n  VerbosityLevel,\n  version,\n  XfaLayer,\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}