{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/StevenJakeASOY/Documents/cursor-projects/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.date.to-iso-string.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/web.btoa.js\";\nimport \"core-js/modules/web.dom-exception.constructor.js\";\nimport \"core-js/modules/web.dom-exception.stack.js\";\nimport \"core-js/modules/web.dom-exception.to-string-tag.js\";\nimport { ref } from 'vue';\nimport { useLocalStorage } from '@vueuse/core';\nexport function useAuth() {\n  var user = ref(null);\n  var isLoading = ref(false);\n  var error = ref(null);\n\n  // Store user data in localStorage\n  var storedUser = useLocalStorage('user', null);\n  var temporaryHistory = useLocalStorage('temporaryQuizHistory', []);\n\n  // Initialize auth state\n  if (storedUser.value) {\n    user.value = storedUser.value;\n  }\n  var signUp = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref) {\n      var email, password, name, newUser;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            email = _ref.email, password = _ref.password, name = _ref.name;\n            error.value = null;\n            isLoading.value = true;\n            _context.prev = 3;\n            if (!(!email || !password || !name)) {\n              _context.next = 6;\n              break;\n            }\n            throw new Error('All fields are required');\n          case 6:\n            // Create user object\n            newUser = {\n              id: crypto.randomUUID(),\n              email: email,\n              name: name,\n              password: btoa(password),\n              // Simple password hashing (not secure, just for demo)\n              created_at: new Date().toISOString(),\n              updated_at: new Date().toISOString(),\n              last_login: new Date().toISOString()\n            }; // Store user\n            storedUser.value = newUser;\n            user.value = newUser;\n            return _context.abrupt(\"return\", {\n              data: newUser,\n              error: null\n            });\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](3);\n            error.value = _context.t0.message;\n            return _context.abrupt(\"return\", {\n              data: null,\n              error: _context.t0\n            });\n          case 16:\n            _context.prev = 16;\n            isLoading.value = false;\n            return _context.finish(16);\n          case 19:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[3, 12, 16, 19]]);\n    }));\n    return function signUp(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var signIn = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_ref3) {\n      var email, password, _storedUser$value, _storedUser$value2;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            email = _ref3.email, password = _ref3.password;\n            error.value = null;\n            isLoading.value = true;\n            _context2.prev = 3;\n            if (!(((_storedUser$value = storedUser.value) === null || _storedUser$value === void 0 ? void 0 : _storedUser$value.email) === email && ((_storedUser$value2 = storedUser.value) === null || _storedUser$value2 === void 0 ? void 0 : _storedUser$value2.password) === btoa(password))) {\n              _context2.next = 7;\n              break;\n            }\n            user.value = storedUser.value;\n            return _context2.abrupt(\"return\", {\n              data: storedUser.value,\n              error: null\n            });\n          case 7:\n            throw new Error('Invalid credentials');\n          case 10:\n            _context2.prev = 10;\n            _context2.t0 = _context2[\"catch\"](3);\n            error.value = _context2.t0.message;\n            return _context2.abrupt(\"return\", {\n              data: null,\n              error: _context2.t0\n            });\n          case 14:\n            _context2.prev = 14;\n            isLoading.value = false;\n            return _context2.finish(14);\n          case 17:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2, null, [[3, 10, 14, 17]]);\n    }));\n    return function signIn(_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var signOut = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            error.value = null;\n            try {\n              storedUser.value = null;\n              user.value = null;\n            } catch (err) {\n              error.value = err.message;\n              console.error('Signout error:', err);\n            }\n          case 2:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3);\n    }));\n    return function signOut() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  return {\n    user: user,\n    isLoading: isLoading,\n    error: error,\n    temporaryHistory: temporaryHistory,\n    signUp: signUp,\n    signIn: signIn,\n    signOut: signOut\n  };\n}","map":{"version":3,"names":["ref","useLocalStorage","useAuth","user","isLoading","error","storedUser","temporaryHistory","value","signUp","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","email","password","name","newUser","wrap","_callee$","_context","prev","next","Error","id","crypto","randomUUID","btoa","created_at","Date","toISOString","updated_at","last_login","abrupt","data","t0","message","finish","stop","_x","apply","arguments","signIn","_ref4","_callee2","_ref3","_storedUser$value","_storedUser$value2","_callee2$","_context2","_x2","signOut","_ref5","_callee3","_callee3$","_context3","err","console"],"sources":["C:/Users/StevenJakeASOY/Documents/cursor-projects/src/composables/useAuth.js"],"sourcesContent":["import { ref } from 'vue';\r\nimport { useLocalStorage } from '@vueuse/core';\r\n\r\nexport function useAuth() {\r\n  const user = ref(null);\r\n  const isLoading = ref(false);\r\n  const error = ref(null);\r\n\r\n  // Store user data in localStorage\r\n  const storedUser = useLocalStorage('user', null);\r\n  const temporaryHistory = useLocalStorage('temporaryQuizHistory', []);\r\n\r\n  // Initialize auth state\r\n  if (storedUser.value) {\r\n    user.value = storedUser.value;\r\n  }\r\n\r\n  const signUp = async ({ email, password, name }) => {\r\n    error.value = null;\r\n    isLoading.value = true;\r\n    try {\r\n      // Simple validation\r\n      if (!email || !password || !name) {\r\n        throw new Error('All fields are required');\r\n      }\r\n\r\n      // Create user object\r\n      const newUser = {\r\n        id: crypto.randomUUID(),\r\n        email,\r\n        name,\r\n        password: btoa(password), // Simple password hashing (not secure, just for demo)\r\n        created_at: new Date().toISOString(),\r\n        updated_at: new Date().toISOString(),\r\n        last_login: new Date().toISOString()\r\n      };\r\n\r\n      // Store user\r\n      storedUser.value = newUser;\r\n      user.value = newUser;\r\n\r\n      return { data: newUser, error: null };\r\n    } catch (err) {\r\n      error.value = err.message;\r\n      return { data: null, error: err };\r\n    } finally {\r\n      isLoading.value = false;\r\n    }\r\n  };\r\n\r\n  const signIn = async ({ email, password }) => {\r\n    error.value = null;\r\n    isLoading.value = true;\r\n    try {\r\n      // In a real app, you would validate credentials against a server\r\n      // For now, just check if the user exists in localStorage and password matches\r\n      if (storedUser.value?.email === email && storedUser.value?.password === btoa(password)) {\r\n        user.value = storedUser.value;\r\n        return { data: storedUser.value, error: null };\r\n      }\r\n      throw new Error('Invalid credentials');\r\n    } catch (err) {\r\n      error.value = err.message;\r\n      return { data: null, error: err };\r\n    } finally {\r\n      isLoading.value = false;\r\n    }\r\n  };\r\n\r\n  const signOut = async () => {\r\n    error.value = null;\r\n    try {\r\n      storedUser.value = null;\r\n      user.value = null;\r\n    } catch (err) {\r\n      error.value = err.message;\r\n      console.error('Signout error:', err);\r\n    }\r\n  };\r\n\r\n  return {\r\n    user,\r\n    isLoading,\r\n    error,\r\n    temporaryHistory,\r\n    signUp,\r\n    signIn,\r\n    signOut\r\n  };\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}