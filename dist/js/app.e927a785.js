(()=>{"use strict";var e={850:(e,t,n)=>{var o=n(751),l=n(641),a=n(33),s=n(953),i=n(335);const r={class:"flashcard-quiz"},u={key:0},c={key:1},p={class:"question-card"},v={class:"question-text"},d={class:"options"},f=["disabled","onClick"],m={key:0,class:"feedback"},k={key:0,class:"correct"},g={key:1,class:"wrong"},h={key:2},y={__name:"FlashcardQuiz",props:{questions:{type:Array,required:!0}},emits:["go-back"],setup(e,{emit:t}){const n=e,o=t,i=(0,s.KR)(0),y=(0,s.KR)(null),b=(0,s.KR)(!1),C=(0,s.KR)(0),x=(0,s.KR)(!1),w=(0,l.EW)((()=>n.questions[i.value]));function E(e){b.value||(y.value=e,b.value=!0,L(e)===L(w.value.answer)&&C.value++)}function L(e){return String(e).replace(/[)\s]/g,"").toUpperCase()}function _(){i.value++,y.value=null,b.value=!1}function q(){x.value=!0}function O(){i.value=0,y.value=null,b.value=!1,C.value=0,x.value=!1}function X(){o("go-back")}return(t,n)=>((0,l.uX)(),(0,l.CE)("div",r,[0===e.questions.length?((0,l.uX)(),(0,l.CE)("div",u,[n[0]||(n[0]=(0,l.Lk)("h2",null,"No questions generated.",-1)),n[1]||(n[1]=(0,l.Lk)("p",null,"Try uploading a different file or check your file content.",-1)),(0,l.Lk)("button",{onClick:X},"Go Back to Main Screen")])):x.value?((0,l.uX)(),(0,l.CE)("div",h,[n[2]||(n[2]=(0,l.Lk)("h2",null,"Quiz Complete!",-1)),(0,l.Lk)("p",null,"Your score: "+(0,a.v_)(C.value)+" / "+(0,a.v_)(e.questions.length),1),(0,l.Lk)("button",{onClick:O},"Redo Quiz"),(0,l.Lk)("button",{onClick:X},"Go Back to Main Screen")])):((0,l.uX)(),(0,l.CE)("div",c,[(0,l.Lk)("div",p,[(0,l.Lk)("h2",null,"Question "+(0,a.v_)(i.value+1)+" of "+(0,a.v_)(e.questions.length),1),(0,l.Lk)("p",v,(0,a.v_)(w.value.text),1),(0,l.Lk)("div",d,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(w.value.options,((e,t)=>((0,l.uX)(),(0,l.CE)("button",{key:t,disabled:b.value,class:(0,a.C4)({correct:b.value&&L(e.letter)===L(w.value.answer)&&L(y.value)===L(e.letter),wrong:b.value&&L(y.value)===L(e.letter)&&L(e.letter)!==L(w.value.answer)}),onClick:t=>E(e.letter)},(0,a.v_)(e.letter)+") "+(0,a.v_)(e.text),11,f)))),128))]),b.value?((0,l.uX)(),(0,l.CE)("div",m,[L(y.value)===L(w.value.answer)?((0,l.uX)(),(0,l.CE)("span",k,"Correct!")):((0,l.uX)(),(0,l.CE)("span",g,"Wrong! Correct answer: "+(0,a.v_)(w.value.answer),1))])):(0,l.Q3)("",!0),b.value&&i.value<e.questions.length-1?((0,l.uX)(),(0,l.CE)("button",{key:1,onClick:_,class:"next-btn"},"Next")):(0,l.Q3)("",!0),b.value&&i.value===e.questions.length-1?((0,l.uX)(),(0,l.CE)("button",{key:2,onClick:q,class:"finish-btn"},"Finish")):(0,l.Q3)("",!0)])]))]))}};var b=n(262);const C=(0,b.A)(y,[["__scopeId","data-v-42d54036"]]),x=C,w={class:"app-container"},E={class:"upload-container"},L={key:0,class:"file-upload-section"},_={key:0,class:"selected-files"},q=["onClick"],O={class:"questions-section"},X={class:"question-input"},K=["disabled"],T={key:2,class:"error-message"},A={__name:"App",setup(e){const t=(0,s.KR)([]),n=(0,s.KR)(""),r=(0,s.KR)(null),u=(0,s.KR)([]),c=(0,s.KR)(!1),p=(0,s.KR)(""),v=(0,s.KR)(!1),d=(0,s.KR)([]),f=(0,l.EW)((()=>t.value.length>0&&n.value>0)),m=e=>{const t=Array.from(e.target.files);g(t)},k=e=>{const t=Array.from(e.dataTransfer.files);g(t)},g=e=>{const n=e.filter((e=>{const t=["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain","application/pdf"];return t.includes(e.type)}));t.value=[...t.value,...n]},h=e=>{t.value.splice(e,1)},y=e=>new Promise(((t,n)=>{if("application/pdf"===e.type||"application/vnd.openxmlformats-officedocument.presentationml.presentation"===e.type||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===e.type){const n=new FormData;n.append("file",e),fetch("http://127.0.0.1:5001/extract-file",{method:"POST",body:n}).then((e=>e.json())).then((e=>{e.text?t(e.text):t("[Could not extract file text]")})).catch((()=>t("[Could not extract file text]")))}else if("text/plain"===e.type){const o=new FileReader;o.onload=e=>t(e.target.result),o.onerror=e=>n(e),o.readAsText(e)}else t(`[${e.name} is not a supported file type.]`)})),b=async()=>{if(f.value){c.value=!0,p.value="",u.value=[],d.value=[];try{const e=await Promise.all(t.value.map((e=>y(e)))),o=e.join("\n\n");console.log("Extracted file content sent to Gemini:",o);const l=`You are a quiz generator. ONLY use the following content to create exactly ${n.value} multiple-choice questions (with 4 options each and the correct answer indicated). \nDo NOT use any outside knowledge. \nFormat each question as:\nQuestion: <question text>\nA) <option 1>\nB) <option 2>\nC) <option 3>\nD) <option 4>\nAnswer: <correct option letter>\nCONTENT TO USE:\n${o}`;console.log("Sending request to Gemini API..."),console.log("API Key:","Present");const a=await i.A.post("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyCEmQU7GEjN0ijbSzecIk7ZDlErhVbjgKw",{contents:[{parts:[{text:l}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024}},{headers:{"Content-Type":"application/json"}});console.log("API Response:",a.data);const s=a.data.candidates[0].content.parts[0].text,r=C(s);d.value=r,v.value=!0}catch(e){console.error("Detailed Error:",e.response?e.response.data:e),p.value=`Error generating questions: ${e.response?e.response.data.error?.message||"Unknown error":e.message}`}finally{c.value=!1}}};function C(e){const t=e.split(/\n?Question:/).map((e=>e.trim())).filter(Boolean),n=t.map((e=>{const t=e.split("\n").map((e=>e.trim())),n=t[0],o=["A","B","C","D"].map((e=>{const n=t.find((t=>t.startsWith(e+")")));return{letter:e,text:n?n.slice(3).trim():""}})),l=t.find((e=>e.startsWith("Answer:"))),a=l?l.replace("Answer:","").trim():"";return{text:n,options:o,answer:a}})).filter((e=>e.text&&e.options.every((e=>e.text))&&e.answer));return n}function A(){v.value=!1,d.value=[],u.value=[],t.value=[],n.value=""}return(e,s)=>((0,l.uX)(),(0,l.CE)("div",w,[(0,l.Lk)("div",E,[s[6]||(s[6]=(0,l.Lk)("h1",null,"File Upload and Questions",-1)),v.value?((0,l.uX)(),(0,l.Wv)(x,{key:1,questions:d.value,onGoBack:A},null,8,["questions"])):((0,l.uX)(),(0,l.CE)("div",L,[s[5]||(s[5]=(0,l.Lk)("h2",null,"Upload Files",-1)),(0,l.Lk)("div",{class:"upload-area",onDragover:s[0]||(s[0]=(0,o.D$)((()=>{}),["prevent"])),onDrop:(0,o.D$)(k,["prevent"])},[(0,l.Lk)("input",{type:"file",multiple:"",accept:".doc,.docx,.ppt,.pptx,.txt,.pdf",onChange:m,ref_key:"fileInput",ref:r,class:"file-input"},null,544),s[2]||(s[2]=(0,l.Lk)("div",{class:"upload-prompt"},[(0,l.Lk)("p",null,"Drag and drop files here or click to select"),(0,l.Lk)("p",null,"Supported formats: DOC, DOCX, PPT, PPTX, TXT, PDF")],-1))],32),t.value.length>0?((0,l.uX)(),(0,l.CE)("div",_,[s[3]||(s[3]=(0,l.Lk)("h3",null,"Selected Files:",-1)),(0,l.Lk)("ul",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.value,((e,t)=>((0,l.uX)(),(0,l.CE)("li",{key:t},[(0,l.eW)((0,a.v_)(e.name)+" ",1),(0,l.Lk)("button",{onClick:e=>h(t),class:"remove-btn"},"Ã—",8,q)])))),128))])])):(0,l.Q3)("",!0),(0,l.Lk)("div",O,[s[4]||(s[4]=(0,l.Lk)("h2",null,"Number of Questions",-1)),(0,l.Lk)("div",X,[(0,l.bo)((0,l.Lk)("input",{type:"number","onUpdate:modelValue":s[1]||(s[1]=e=>n.value=e),min:"1",max:"20",placeholder:"Enter number of questions"},null,512),[[o.Jo,n.value]])])]),(0,l.Lk)("button",{class:"submit-btn",disabled:!f.value||c.value,onClick:b},(0,a.v_)(c.value?"Generating Questions...":"Submit"),9,K)])),p.value?((0,l.uX)(),(0,l.CE)("div",T,(0,a.v_)(p.value),1)):(0,l.Q3)("",!0)])]))}},P=(0,b.A)(A,[["__scopeId","data-v-6ba479c8"]]),R=P;(0,o.Ef)(R).mount("#app")}},t={};function n(o){var l=t[o];if(void 0!==l)return l.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.m=e,(()=>{var e=[];n.O=(t,o,l,a)=>{if(!o){var s=1/0;for(c=0;c<e.length;c++){for(var[o,l,a]=e[c],i=!0,r=0;r<o.length;r++)(!1&a||s>=a)&&Object.keys(n.O).every((e=>n.O[e](o[r])))?o.splice(r--,1):(i=!1,a<s&&(s=a));if(i){e.splice(c--,1);var u=l();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,l,a]}})(),(()=>{n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var l,a,[s,i,r]=o,u=0;if(s.some((t=>0!==e[t]))){for(l in i)n.o(i,l)&&(n.m[l]=i[l]);if(r)var c=r(n)}for(t&&t(o);u<s.length;u++)a=s[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},o=self["webpackChunkfile_upload_questions"]=self["webpackChunkfile_upload_questions"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=n.O(void 0,[504],(()=>n(850)));o=n.O(o)})();
//# sourceMappingURL=app.e927a785.js.map